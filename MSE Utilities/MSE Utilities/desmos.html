<html>

<head>
    <script type="text/javascript">

    if (!window.Desmos) window.Desmos = {};
    window.Desmos.enabledFeatures = {"FourFunctionCalculator": true, "ScientificCalculator": true, "GraphingCalculator": true};
    if (!window.Desmos) window.Desmos = {};
    if (!Desmos.config) Desmos.config = {};
    ;(function () {
      var elt = document.createElement('style');
      elt.innerHTML = "@font-face{font-family:Abraham;src:url(data:application/font-woff;base64,d09GRk9UVE8AABesAAoAAAABsHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAGCAAAESoAAZxTwK+1TU9TLzIAAAFMAAAASAAAAGBqcY7HY21hcAAAArwAAAM/AAAM5C7FvppoZWFkAAAA9AAAAC8AAAA2C10Dp2hoZWEAAAEkAAAAHwAAACQGhwJ4aG10eAAAFzQAAAAkAAACiN3nXcBtYXhwAAABRAAAAAYAAAAGAKJQAG1ldGEAABdYAAAAUQAAAFXVMTtBbmFtZQAAAZQAAAEmAAACx11IF6xwb3N0AAAF/AAAAAwAAAAgAAMAAHgBY2BkYADh+nP6yvH8Nl8ZmJlfMADBlQ8P9BH0f3OmFGYjIJeZgQkkCgBSDwurAHgBY2BkYGBW+2/HwMD0myHl/xymX0ARVLAIAIH7BgMAAABQAACiAAB4AWNgZvrC+IWBlYGBqYtpNwMDQw+EZrzPYMjIxIAKmMEkC4QTAQQMDgy8GvbMav/tgJJGDCeBwoxghXLMcgwKQMgAAHxDCyh4AUzOuwkCYRBF4TP7frO7ghgZiBhbwGbagJFlWIAlmduFPckPN7jZx8wwHOAcXwIACJCDHbmcUbPJOUcecmE3JSc+csWBp1zbz8bcmjtzbx7Mo3kyz9awWOea5mlTtEBGyMGFvZwxcZNzNl5yYTcld35yxZW3XNvPxtyaO3NvHsyjeTLP1rBY55rm/6rGGFVDGAjCc5RcQFGws7Kxs7Gwj7pqMCaw6v3/wTwehJCE3Rm+z8B0s9rDXkWIoXiDW+Iq6DBDYXHwXigQEBH4v3wdFk4rZJT99VYxQrAz8ixrXVZV0/4xiUzE/26NEhVPgzaXJEUuyMmT6O1iMMnQx/Dc4jcz2FOUS64xsa+44T6WyWz9t3uYCjw2pgMsTk6amqn9A7mESTQAAHgBDMVlMwQBAADQt9gxY8Y3P0Bb3b2a1d3d3Vzccfx23peHIsUCVPxfRhgrCSOCJKBUgnKVqlSrUatOvQaRRk2atWjVpl2HTl269ejVp9+AQUOGxUaMGjNuwqQp02YkZs2Zt2DRkmUrVq1Zt2HTlm07du3Zd+DQkWMnTp05d+HSlWs3bt259+DRk2cvXr159+FTSlpGVk7el28FP379sU/fOE4GUBDHne1dh83BOdt/55yD78LJEBXX4BbUnIH+Y4opOIAlhOQZ/YrXjvS+EiJMhCgx4iRIkuKOe9JkyJLjgUeeeOaFV95454NP8hQoUqJMhSo16jRo0qJNhy7Qo8+AISPGTJgyY86CJSvWbNiyY8+BIyfOXIJAK15lx9uOwe/g13/dHz+//Nvq26+RWzISSn739U3+TtbCUrOI1C0qDYtJ0+LSsoS0LSkdS0nX7gS7l56lpW8ZGVhWhpaTkT3I2B5lYk8ytWeZ2YvM7VUW9iZLe5eVfcjaPmVjedlaQXZWlL2V5GBlOVpFTlaVs9XkYnX5wwI93TAAAAAQXa22bdt2O3tzyX28BV5AXAfFdQheh8V1RFxHxXVMXMfFdUJcJ8V1SlynxXUGXmfFdU5c58V1QVwXxXVJXJfFdUVcV8V1TVzXxXVDXDfhdQtet+F1B1534XUPXvfh9QBeD+H1CF6P4fUEXk/h9Qxez+H1Al4v4fUKXq/h9QZeb+H1Dl7v4fUBXh/h9Qlen+H1BV5f4fUNXt/h9QNeP+H1C16/4fUHXn/h9U9/EujaCAEAAGAg7u4CfcZmVC6X4hd4r3/qmoG6ZqiuGcVrxvGaSbxmGq+ZxWvm8ZpFvGYZr1mpa9bqmo26Zquu2alr9uqag7rmqK45qWvO6pqLuuaqrrmpa+7qmoe65qmuealr3uqaj7rm+y8pro4aAAAoCF4luLu7lIZD3F1I0mnezH3srHjLK+I9r4qPvCY+87r4yhviO2+Kn7wlfvO2+Ms7opB3RTHviVLeF+V8ICr5UFTzkajlY1HPJ6KRT0Uzn4lWPhftfCE6+VJ085Xo5WvRzzdikG/FMN+JUb4X4/wgJvlRTPOT+M/PYpZfxDy/isUS0BD9swB4AWNgZsALAAB9AAR4AVTRe3RU1RUG8O/bNzElREIAiSEPE9NoxIbm/aCyXAHkUUgoxKYBFpI7M2cyQ2bundyZSYAlVqstVowghVItlAq0gFiEghYFhTZVIxUVSSuIysMSpUBBYyFpinbIYa2u/nN/e+117t777EPEESTTql2O6TODlm1FLb/b9qhZqikaMB2QzO9NR2+G9GYYvZlxy/rn9b3ctzw+E4iX5Nj3hntSlmWCa+uGYZOAyEU5xmESpmEmZsMNP0JYhEfQjjVYj43Ygu3YjZfwCg6gA514C+/iCI7iI5xCNy6iB734mgkcxEQOZhJv5BAmcyhTOIzDOYI3cSRTeTPTOIrpzGAms3gLs5nDW5nLMazgBNaygfN4H+ezkSZddNNDRS+b6KOfC9jMAIO0aDPEFjoMM8IoW9nGB/kw27mGm7mdL3AfO3iQh3mUJ9jNC/yS/SIySIZKqmRJnnxLSmSsVMsUmSH1Mk880iyOLJIHZak8IatlrWyUZ2Wn7JH98rocki45LqflrFySK/KVEW8kGcONUUaOkW982yg3xhkTjWnGLGO20Wg01Ssn7Let7KIxhYWl35lkW5GwCniza8xm5cSSsfT1JyuwbKvg/x/NHTvt2IEJs8Ih063UQnfADLZE7YjyuAJWNOi6VrrJ8tiB2NmQctzKipjBWBA2Lc/AubDfagqokOkoK6C8kYHA8Tf5ImY4ohx/uDkUiIbddjBo+haFfMoKxZK2Jxwww77FyrFtS0Xa7IjPUcprRx2vvzVWcWFYtSpLXati+S3ltgO2FVZB/0AQUOGwaomagSZHmbEWLVEVjsSub0aqx0+YeM+kyVOmfnfa9JraGd+bOavu3u/X/6Bh9pzY9d3NKnJtQFcsGuh+PXd9Vrff7/Y77mgwanmUExvYUU2O2apMl9ujvE0+/4LmQNCyQy1OOBJtbVu4aPG1/5Wu6AzE/6sU8Qc8KrZrl6PM5th+BnYb23txZWGhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURrvAEWFmiJNsaZEU6op05RrKjSVmiqNqXFp3BqPRml0v+JCTZGmWFOiKdWUaco1FZpKTZXG1Lg0bo1HozS6X0mhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURovAD7GZXyc7XyCy7mCT3Ilf8ZVXM2fcw1/waf4NH/JtVzHX3E9f81nuIEbuYm/4W+5mVu4lc9yG5/j77idz3MHd/L33MXdfIEv8g/cw5f4MvdyH1/hq9zPA/wj/8QO/pmv8XW+wU6+yYP8C9/iIb7Nd/guD/M9HmEX/8q/8X0e5TF+wOP8kB/xY57gSZ7iaX7Cv/MMu/kpP+NZ/oPneJ4X+E9e5CV+zi/Ywy/5L17mFfayj/9mP//Dq/yKXwuEImJInMTLDZIg35BBkiiDJUlulCGSLEMlRYbJcBkhN8lISZWbJU1GSbpkSKZkyS2SLTlyq+TKNyVPbpPbJV/ukNHYYAAE4oAEIBGyAvEjkbAWiaORtAPJ5UjZhxHjMbITabVI70LWHGSfRK4XeeeR34o741CwEoXZKN6OsrtQcRBjG3DXadwdQvVlTLwfkwVTH8X0IahdhZmjUHcI9XVoOIa58zHvDBqb4focqg2+AizYhWAV7P2IbETbHVj0PO4vwwN78VA1Hn4DP6nBo0ewbDbaT2CFwspzWN2CNVfw9BKsM7D+p9iQjE2rsXkKtr6N5+7F9g+wsxG7uvFiAHu+wN4teHUMDuxGx1h0ZuHgJhwajXd24L1ydO3D++NxrBMf1uLjLpyag09OotuLz87jnIMLvbj0AHri0JOAngZcHozep9Cfi6tbiRLKm4yfwYRjTJzPpLNMDjPlKkcsY2oa09YzI49Z25hTxdz9vK2G+Ud4p8mCT1kYZHEPy5aw0uDYdo5L593PcPztnLiTkys49TVOn8baw5w5l3VnWG+zoY9zl/K+FDaupzuPahd9P2bzYFo5DG1juIrRDi6s4eLjXOLnDy/yR1E+0s+lD/GxBD7ezuWpfHIdV+X2ZQ35b3vXH1tXXcXvq5TcdRtFs8rohkPHCjRzndK0lrAR1iZbg6nGpzJmSUqmf1DTwQDdEn4IMoP6VWZeTP8QdGo3S5bGOKKsiUVTQjqXVTeYzKX9Z2Rdt1nMuh9dJm3f8d7PTb/t3mt4vcJp77t8EnLv+L737rnnns/9nPM95/s9vVLr//ffF4xI1fbyEmMKpeCba18x/r/Me09iYPzF7gYTfLTy9Zdk7J2uz5QYcb5Q8z2RtyoWiPPZI5dEDvQ8a9zghGEcDAZc/9TxDXzRG67/HH5s3OCEYe/w6mH/osk9rqSPLxo0uiKcE09tlsStQ6W+mOuP1YlcqPmROAt7tomcu73LuMEJwzgYDLj+qbgVX/SGk7/Hj40bnDDsHTq+4l90uNkVWfb9X+pqAiVwULbJz9pXG9WHNWMUJk59dRAo1LUdUKgrIvHwxiOxsN0kCvPdJlHkQjJItN+n+KNQOlP1ma939YTW5ddB6/KFBsPTa31wQuu3L0Drty8aDGe93jjoinHWt+yHNvF4r9QZImpoxPunCxFrO33A62oCTiQKYzBLUYCI3iyFXGhnKfluO6AwQlxIVucsJQKakNWJQmoSgVidsxN6ZHJhFPwY58jkQnIhNSEXEoVEIblQ6JGZLyQKo4FCD2AbVkjBpqLHJiUlGyckFZ8JKtfNkNSXKen2Af+LZf5wk//jVkgavtH4Qtr8z36Niy71lCnd3y9jZysK8875cwGFUV/CAyQ6rz3UCySGlWSRuM0iMUvSJBJlXWslkBj/BWX6y7Ai4ERU0dh46LCmpAk0DrbsDY9G2jBfNCE3crEtNIkLGruW1wVoDPBlL9mULWkqvoL7srDbli1p6n1J4uUlWywaLfgsGi08JX3fQGoCjdAFYTF0yY6WJ3WZcj8HIT07Wr7qfpy22iFTEs4q4SwOmMCGqmIgQVkTZ0d7BeSo2gQzmIElN2eisc+isRmSik8bX/YD06KxY/eEpOHFARpbIansaus/szw1QzSeT2aisQ+aT3c/VvPQ99NWXR4TNHbsmm90H5bVRFMM40YusmDcyOxOCDGMG6uBr+liAouvEDFBuLhx/OiazUCjfrQVF0+dqjeqAZ1RjxkjwIv00ty8GvV6NOtnXKdIFBKFXJtDBuH+FU5mqQl3lHLvEdcpfhTjQmpCLuR6e3LhzlAofP6YbnIRttMVETIFRk1k6chPRUYT48pgT298U8auPLhhAor7MqH4JQzEv3ki17pGXxOiMB81YRBJ28W5hSdRSBRGP7YgCmk7prjJhSy0EIVEIefIJv3kHOKUPpurIn/3z0Fx/tGyNzL5RXIn/0QQAKZaQvg/aQInfBHD2c8KB4MB685Yb4mQTdKjtz0lY4O/uZyD49S4kBUKaqIwmzlxZ4+Hws4q/3au++TrIpd+vkKc+d/uEzl/9m7j+qe1xh8uw2cG467BuP/Ffnzm/7jbuLiGwe/xmcG4K3LLS13iOB97V9l+/ZvrPPudXqWrDYhTV0Ti8UeHPU3OXZv/c7PuE+0y/sYL3ynxFLznQW943q03iVw+ftJ/SH/Z5QYnjOCA/zVucMIIfmLwczc4YSQ44KL+RXrf6/FEXP/OFv+N+3MDDgYDbnASuVD3CoZFzn0qZdzghGEcDAbc4IQvYhg/9kUkNg0n9bU4oKoFTC7OHYU1+a6J5TjuqmMlj3lDopCVPM46+D6RC2k7opAoZCWPHpkemTWRGKCQHpl/sJ5+jKsv2NCBlTmikLnemHhkemR6ZNZO2GKJrE4UEoWcnbDpIVuWsdEX22Ox9SZRyNiC7ebYpI2akAupCf9QPVtvEoVsvUlN2HqTCwZYdNadyhCFLPcRhWx6SBQShSz3EYW0HVPc5EIWWohCopBzZLbepM9m601yJzHJ1pust7D1JisU1IStN9l6k6032XqTrTfZVoSVPDb6IgpZyeOsg+8TuZC2IwqJQlby6JFpO7ZYIhfSI7PRFxt9cY5MFDK2IAqZ66VHJhdy7RmbHpJBiEKikBU8xoVsvcnWm3OIQjY9ZOtNopCxBVtvskkb281dqZ1xxznHaauTsVu6G3L0A2MLu/zThC3sxHntoV4p2FT0mLLm61orZexsRSF3WLNO9H7p89qa7Tkh8vKSLZKe135XSTgB4W5enDU124GTvEeis75l/4z9NsuJIZB4av3RqWSF28cdQ6WwGkNBA2UzNN75B/VX/JEvw3a6mgDsqiKgRBw0sVvvxVnQ3aDmnbn9ntvvR3LwnI0T/a/MRpw4uLV1hnFiZ5W+Fewea3XXeXrVjLWhNtZLczH4XGrCWFGcrp4felKAXnvHTdmKTEVvoLYF9bZsRaaqjUelKwKuE3JmJoaaOHuOjAbZnHCQCQdHSSTaK2w2x9Ka5TlLfJHgQ7aC58IfYA9IzIFYSd93fs8EEvG48BTxuIKHi1GDkexMDkbwKDGag3J0RaSTTbshR5kLOnY1KmtiyVNXjNNWddxoPix1JBKJsdAEEpSRaDM5RZV3q8YkZjbCnqfP9kr646XLcr1T40fXbMY7pWs/Z8cfa/UJy8SGE5HJSXx+2f36mRzAhNNzlXJODGLF6NSfiUbuPmc+kRDR58Too5B/xIr5KKKQKNRndcaH0Qc8d6GTEwkRciL7nDEIiDYnEiKMExsPHdZUxq5PbNlLwDMIICcSIhG1SQRQyAwONVHYSRX5/UcPf+vkrNjuFzfFQBOuSeT6qdwipPHgbXFZf0OvzCY8+cGH+qv4uLKZfCiJgSVbc62MtcpM5qdDK/PM8ntEagrvjNay1RigEe9VDOIMZm7onfNpzmxRyFavjBHnes6czJwz91lf1hz4stPwZQ9M78t2W1+2OHgxWoHEsgxfVl2uHln97Rjsp6sJfJmqCEAkFppYPmQT77lqfsp25BMzlZux7mbKTKXPzlSy8G5nKqHwjplKCutuIka7MZhCdOyaHxXaJSfGgEnYUl4BhfxzACE8M2MM/Wy2bq6KM5Vk00gsnH/QC2x5XWaMCHA3ZWN++iYMByEpG/NTJaEHMmLEuAE+AjFiqn4qTKoBk2mNZ2ESzngGWqiKiBEnxmAaQU5cXYguxsrzZsxTw/XA/UBOV00TvCq6Iuyrkvc2SVzzr+fQxTgHz9kMDnrf6Gdw0PuGifMPVxN54ovFcak1x7++wkRf9G1id09hDU7YmTpY1IafTdlRafaOUqzBiUbCSDpT9XOdiWPdmTnFR36bgcJko13Of8a4AaGAYKZHYZldVtIKFA7fiOX8bdmZOE0R2DGQmp29D1tUNcnqk6jNiYgVPzjgmUSPbZ/ExMmnT0hiZWlVich4+10il4p3ilxu8ERerrxf5OLIYu+D7hpX5N/bfyAy+uZCkf+0/FicT3Q8Ls41i3aLU/L83z0RBRvfEGf+8AZx5u171jscOiLOgqIz3gdrf+X6X3rC+3rFUu+Hqe96l0j+RGR0qNG/bKU/s/nrW5K+Ydk6JpU+9PXAN+yTxKdPHZ40cKc18GoYGB9YAw/dYQ18rzVw76SBt1oDt1sDH7AGXnXRGvhP1sBFfrx5tFmcawvv1dSWlUPGmlHi1YKv9zw3t68deHXs3UdHcqcCvrZIxvpfPRZ/mkBWaWXr7JIitbVVTMS+6lXMGeZJB1JwA5pVM9/OtUO60YTJEUmwUBrxenrEkMhtWwid2yvUa+rM2HMiF6GaeuLUhhXgxbB5MLCovWRTdh7s6r+nW7q/H7z4kZmoASGxSGIaaME8KZEY/ypYdm9cfTSSF99HDFNx8c9xEiLcoxPFnWK24xQ1iYYmRCE1iQCrE4WMLebeJkQhUUguJIMwtuDe7QhVh9j7kXxITRgbEoWMDf8HznRiLwAAeAFj6mJgYFzPkALCTL8Ypg0o/j0y7QeH/W+Y/SMTAwDIkfvpeAFjYGBgZIAAGRA7rTgnDcq2rFZKrSgJSy0qzszPU7JSMtQz1DNQ0lEqTk7MycxLd0tMLskvUrIyNNAzMjAxsDA0MzYyMzU2MDOsBQCPLBJ2AAAA) format('woff')}@font-face{font-family:Symbola;src:url(data:application/font-woff;base64,d09GRgABAAAAACh0ABEAAAAAQygAAoUeAAAAAAAAAAAAAAAAAAAAAAAAAABHREVGAAABgAAAACcAAAAoAOQA5kdQT1MAAAGoAAAADAAAAAwAFQAKR1NVQgAAAbQAAADFAAABKKK+thVPUy8yAAACfAAAAFYAAABWStGgGmNtYXAAAALUAAABFwAAAdz2W763Y3Z0IAAAA+wAAABaAAAAWhEGDTtmcGdtAAAESAAAAbEAAAJl2bQvp2dhc3AAAAX8AAAADAAAAAwAAwAHZ2x5ZgAABggAAB5ZAAA15ITPRN9oZWFkAAAkZAAAADYAAAA2+zj5+2hoZWEAACScAAAAIAAAACQPEwHJaG10eAAAJLwAAAC7AAABLm4VHxRsb2NhAAAleAAAAJoAAACaHqoSHm1heHAAACYUAAAAIAAAACACRAsCbmFtZQAAJjQAAADmAAABoCEMPvNwb3N0AAAnHAAAARYAAAGdYezlm3ByZXAAACg0AAAAQAAAAEBey7t5eJxjYGRgYOBhgAAmBhYgqc7AyKDJ4AwkXRncgaQngzcDIwAUUgHLAAABAAAACgAKAAoAAHicLY4xbsJAEEXfxlYUEDG2WRAVRUAUSBBIIAEipaSkpLcsoAAhZKXhAhyFA+QUOUDuA7PLFKs3+vP/7McAZXpMCfJTscdui/UOu89+DlhC2XK94lxmU2Q5T27yL/RbI4rhn0dSjpy58MsfJcm26DLgg28WLFnxKv4KEc+iBTLVePNMGXrGroOwLinHBn1PS9uzyotnwoP8FvGu6ZGmA2kS02SmV8a672jKNZ6odr8wV+en9nGOL9WMd1TlYiJ+ewNt1xYaAAAAAAEDhQGQAAQAAAV4BRQAAADIBXgFFAAAAooAUgH0DAMFAgECAQcHBwcHgAAi/xoD+/8CAAAnBACgCEZyZWUAQAAg//8GRv5GAAAGRgG6AAAADZIDAAAAAHicjdBPSsNAFAbwz6RuilD6Z1FKlfRhk2qwBxAtiijVK5RuJN0InqDQrQfxEi66iOklujCh6KY9QTct45d5wbWBX7438CbzMgBKAFw6hdZfXB3YtYuyXZfwwTyHx6qMDgYYYYwZts7Cnbux1xBHKlKTlvgSylAmQRJsjOGeDnq2d8rexPbWbW+VvV3bG7F3bYz5Man5NLF5N/19tHvdvaya2WXWzy4yP2tnzXSffi/fls92sv8+R/nrb0PDzqPy/+zRgA5pVGjTuHBMU5rRCW0LXcBJaMHa59XNFc6YseJdwatTfmYIiKNwxawoXDOrVNM5pKVww+QZwm/jlhkq3DGHCvfMiCasH4AgUXhkrmnD+ukXy1dLiAD+YgAAA5sFPAW/AFIASgBQAC0AMAA5ALwAqgCdAJEAKACjADwAMgA/AKUANAA3AIgAewCLAJQAdACOAE4AawBYAEwAsACgAIMARgB4AJYAtwDBAEQAcQAqAKwAAHicXVG7blNBEN0lDwNJiB9BcrQpZhlC471xC1KiXF2EI9uN5SjSLnLBjeMCf4ALpNRE+zVjp6GkoKVBkQskPoFPQGJmHRCi2dmZnXPOnFlSjlSjT7sDT71ZIIWnTdps+ZOQatcB7kg3jpoZaQffabuV0QPXH/o3GGxGa+59EygfeEt5yGjdCdSi/eB/mK/BcJ//ZX4Gg5Y2Wp46s5AeQmC+DbczepvRpps/0zesDjejkSHFNBU3f55K+d/SQ1evwat2Ro8cXIvIF6YBWjvsItD6ix6pgY+TWIJcXhprg4kpG64yEXy8mq5qqpYZtxx8S3a2HbSp0hp5gDPslFPwcHW5opC+HVFmaYhwFjslRoiY5FDIKedO9icFyieSMOZJUjpZNq01sIy8BgZ1eZqL+9lsatt1CMt7cQTfPzeWdPCRDXUxIsRuxFIAK4iEjKryDXWeuyYG5FL/z0CUgOX03b9OBNpwbCJ+lLX1rjBWCAb+2Hzmlz13q3KdF4Xuf6qqsUqnNF94OYceL3l6LAwHjQVvPh/6hQL1elwsNGgOBGPanxz80XrqiKu8Fz6y37gisOAAAAAAAAACAAQAAv//AAN4nK1bCXxU1bk/526zJDO5d7ZMZrLMkpnJZLvhTiaTgUACgQABAoRFIGBAEBXBKCiiIrIpVKEK4kK1FXmWuvfeYdAWW02te9tX17hUbLXan+Lz1ad1gWQu7zv3TkJAltD3Arn33GXmnu9//t//fN93bhCD2tVvmPXsXYhGBlSIyhDCfsFPC34BO7hgIOIMCglXTIrXhhL5rnyXdjIcr62LSS5mfe/rTHV732rqk/vWVkmXj59X/Yi60ZbYd/mt6r5YaWmM/KrfcHuPyKx6lKIPXXtz7gc4XOfZdWBUl8k7aWHfS/o9MYQo9Ck8+Vn2IDIhLxJRisGoIm1ikZ2pwHKhKBt6ZIuUpjhyQs7vbylFuALVDCt1ad2CXsUDEbo2XpuA/uW7nA4nzeGNTU1VVfBbwEwtDlRWBoqnMu82zW2C//tE+gGWLfMUFnrKWLZvXhV0AXWoe6lR7GHkRKUIyy7y5LSNQx6mImUzmCv2IxsyVchWScnXHo0dAFKYEngbeabTYUACj13UKHtO8KPu7o+COXa3+iaudKtpW9FB/ACOwr8HDhbZjG713cyBzAH1XTd56nJ46tTBT83pSSP9qTmIPDXHAE/NG3gqTxnAYjCUPA7Gg5hro6bqD8SV6pturQNUi/q2Ol97HI5Qk6hJOOI2QkfU+fDMldQhup3zogjqQCk3jSrkQCztYNFwQDgsyXmiTMfSNv0YSVguE2Vzj2L3SlLawKEQoF8ckSQliisUg1mw7edyPb7S/CRSHDbBloKDZDIJXYWxCURCdkdgJLazHIxSogrDUEn5LF0rFWE6VCe5HAaWrvf4w7mqWnxFkXrMEgp4cYn6oTcQsmBcdEUxpnLDfo/6If19biJiekL93bBhLB7+hCmSyN282VJXZnoSN8Ip9YUnTWV1ls1g3cPH3mS3M79C+WgySnHAJtksylRMsbKfyU4pZTUDqk1Wmwno5RZlYw8Bl+E+kx1SijGSawyMc8rIkKYx11ShFPSPt1+AMY8LfoA/5hcAeqfgl9jtocyhaDTzQSRCBaJRKhiiWo4flYZCmffJOG9Vr8Jr0LtAokaUogjHuSzH7aIs9KSNHCqHMRdID5BgMZEtAw93wMMVjgJckVHQcA0RKAE6p0MnQl28Frf4lySHX96yO+Cw7vL7R583+srFd3/jMub99PfFBBGqiN1OdYGH5SOZFhUD+xn5xQCMkjNgnGYVMaf3kkiEuYuYEY3Cp2+H7q+AnptQ/ATvPNFTzZq/6M7Z76M5J/korsp6ZNYNCS5I3UMl2f9CFjQV+G/VmIa4z1JmjfxmIL+ShyvkOs/BkU//M4ycFWZGNldbZVO3QrFHZLob7adok7kafnAKWrCXmzxYs8mAdYQwOCiVpFS3wR+h8KewZX/PGY4wnihn4Po8oEEzjr1Bd7PLUS4qRrNQqpBYxrIoDFbmgn8QZwgTK0tE2dSTdnLIDa7h5BUL1oyFI8UH3mBxEv7nsDBOSLEVgmtgI2UC1yDewBPHjYT5RJ3PLtRGwj4D53TAKOa7fIk6esWMttX/+mj1gslX4Y+9oZHqL0eGsH8EnjsywGz+eeamPV+99gC1fc93fS9h5p0rnn5m5dvRvWX/vOb9N9cAhimE6EXQ+2J0AUoVk74jFjWSHkqpHOi+Ysrhfd1i2qid1axge9ICh7xgHysQorMmE/F1zQqBFWxyDlhgRNAQkrJJkLmknGOTeTAkkS8B5QQuGJcSmtYKYEH+cBxzhoFDhqcn73aZVvzH0Q3mIo425i01NI8cP1pd3jS+iaqwBZnGuqYbrZy/dzHMNYYmjoPeL4PePwS9D6E7wRLS+xJW0z+iTIRf0Oe01Y7cFthl2RYWZWcP9DfN6/MCzyscDIWHQy44KpVkD58OcmgcHARFJQJG8WRo6NwSGBqZE/Yzpnw3jIsctMkhsLSEWEonZbuQYoKl5B6rLcU5PZrDxTQKxWvDwQBn0LReo1WdjwHV5wzYL9UlYvQyN77tvR03LbrbbzBfM6q661N8HkZTKq9RZ+I9W8s8tUmb34t/+/V7t7y8+nxqRXXTlT99/4MnVl/WuFpd5H9IvZP4wlxg4UFAYgT6C0rVEutDGu/AZwkDyYhaRIKIDVoeMV2kX60W0xEWOQguDaLM9aRzOO2OHF6u8PUI6RqOXJRrxHSF3srhFReghXTsAuSehIZcKpAgZAgUgteNBNByaoDCxrxIFYGqQiAIBWxNJqrAU2QLxWqTmuibLHAT4vKc5CaPILuScpFNBgirBcWXgH3EpgRqYB8S5DriCQ7GFyGRhKQJQ6QYx4BRfCRcgQOgZolRWIPaIGlIk5gDPCbfxXOGYkwfVP+l7l+7remi5nGS2VydWnj9qJpY403L/TV+39qrL1z87EyKXjvi/BHXLccFl2988Podf8BLHv2kfcFd8bHNFzbhKe1XdmDP3CuqOEwZn71t6Y0bL6luGFGzefr48e1q30vRoj+TiKQBGPk2uxn5UBD9CKW8ZIbMFdOCPgScJOeLMoqlg/pxCcyQpaIc6AF3SxdzqBDOYSlVHCBQFpOYwSilAsUasPlw5JaUkK5o8e3vf6MrmhsUraCbVYKmI4wc6KZS7oIAUTSlIHhcz4JEK2JS1tHiLgLbSOyP4zrNDWFKwvTbr5rs+1hmxgj17/UzROEyhynzFrWej3HUq+q9Ko3nPldsC4HfNeGwUPJcE/16gcD5+ibTpr7vCAOXAQOJL8bRCygVJnZXxGROTLt0UwUxnaMxTS4S05Suj0UUsazID5bFxHQ5S8QQy3WiHNQCmbvhFhQkWo5EIjH8fgeyWsGvdSqaxLRVbyFe8QApGQ7lg5omgH1BE7hsjmAn7ogE2Z9UPFbBlqYw5yrSmCe4BJvCFMDlHEE2EdqlaER8VimPgT/HCdnqfDYeaZFrLDtlHidcMGDFZELXgigpG8aRO7BrBZ54SP3ut/d8cGHlyJGVNr7osYt3TB0WGnH13CtnGIscJmHfd7fnco7S2z6YPY+mlqmfq7eqX3x0T9fwysoR7IU3bZ2Fr5t5U8vCKLU1wDWMYvP5svu9wKx+Dy9Bw9BelMojPl6oezGgXK2jHOrHVnaIaTdLHBPLEpkZ01Fd4JAkR3mi1QQucoLhZYG4sUs/dIlE3aGlxABHV1SwHcBWrjBUTVzUJ6QoRx4BFeC1uz3aZBWqBiemGTOCOxS3Q9P9LHoUmbWEWghzNQB1KGPEQznw1IjWAGbqqGLnTHzR4a+e+qprxp49Xf/YHZ+ZuIjlkuumt76OD4cbN24clwx7rhi7bUwp9eh/qofVLeqn3z2J7X/Clywcs2p55fD66IJZ4o19X1y8p23DDRdt/8+FzfO2thJmtgJyL7MbUQFah1IFBDeLPktYCgi5LDB/pexwGoMwyjZtdiPqL/CKHWBy6EcOXjHDkUHHxqt7Ya3hvYPEC2ULOGEuhBVmLayAYCKXuCCEF7mW6pPCCgMnOAJxHtv9MCUE7TFIkGJ++mW7+sn5gfxnMPpUtVxVXlQ7rpbKLfkA97I1Pq961aYP71J7Vq7E6/FteKL3l/hxhyUA2Vc/J5zAinJMoZSFWFcwoPzR7Kxdoc3aYQ6VkTCdl71kwEHqxxJFF9NevRXWtT2PQ81w5CP3IO0jSqVu7qGNr+QTc62ygQepUQpzjsj27v1Cod1esd+mbYvJFi7vDxoCcFhKtik46bvZd3OQAx9MkqjAlkzBFXIQTKImk0EoLC612QPB6v4ffKqTBEXF5QVGElzLopojFwBD97MoJ08PlWCCKIW8MwzBUp0POAfCn++ia8MBjoQadfbaahwhsZOvDuaDXvUR9QiuSizu+DuO/iOzYHJo6e2P/WX/suK/v1o57Sfpf72Ajv0JL3j4by/s/fwO37TF2P3Cw9ue3VAfi15BTbh815XPTHHtXJO5efKSS1bc9O7Gx3aiQV4aRDH0Y5TykfEo08eDEUmiRLyUF9NmzTchSU0Py8aHtaJc3JOu0r3QSMC36O0qXikF/D0SGQ1Cvjg4ZpUR9MtsA70qhTk0zTh8ZTUaHmYeXNNosREpKxtGpteiYo+OTTaK1ORMFyttHoCQjPNRPCJKRmedsghnY8uD7295cE3b/M5ovd9byhmatk8Zv6bC267eeRjTB5bO+u9nAqNuvnl8RagJs+MS1C/VtW9tio1YuSQxq9CNJ4tTf7/m9ddwPt6Mc+K71D+80vGLzdN+Mfv+KZs3XHTsGHoInPNaeiofIRWETBDisTJQNgo9DPnOj+hVkDV40MUolUviOl6L3ginjdk4zivK1h6ZlUiibdeErb9l49NmLSWCzCJltpE5xgyzp1IIuJmtRKyMvFMDi8/NokiYo2cakovWkqSBWA2EaVMjST3mNkU8ncnhsZW3lDism2iuqpGkIn0f50PO9Mbu7105/F1IyyG/hRzyTmRHXXq2JjMxDHIMOY7i1P3IO/MFv+5HJl42dyuC4YjMdx/8+FH9NCszICdst2IzHFEE3igL3egAayIjm/WOJ5jBh/3yEiJlBZLYa1kLcN+EXez2qJHr7fJ6mR2cMerufZoZ4y6J0lSZxe22UGV01JOTUTNqDoLxeBjPYLfTSRgPM0LH6ngD2aNXTraJJTbRuk3oBzbJNPSd6lZMYJP5uE1WEjmazEY4Z4Us4YhsA5sokznnuE0kF8s52abjmZgpW7IgNnl7u4g1zJjep91gH7PDS7W4LZl3iDkU/OR4onTmHQv0/HJ1LzWCPQzZmajlr2bI5E2iwpAU1iLKdI9iJhkjrWWMJODiJMV6PGn3S/qWGjFWvQZvGTtW/QOOwyZqmDD9SAd8fxd8/3Dt+/1IxqLCwvcbITXOfj+nZaT935jN/v0B2FLD1WvGjsVx9Q+w3aLujUa5n08n/Fmi7qVJj2NoDZIpMS3p6gFBZJ7eAs0oOK4Z1p50RNeJCK8YYSxsUrqSQ0ESnUupSq0mUEkM80iacETAAZRcnkzcuRI0jRUwm+cJciQpF9oUe1D3BaIToBRCLWxriUIIJLwGVpGsBf5B5gY7V38KB//oEdHHuyY6LLet9pcKX1kcE1fIUdtPZpTnsk7xnntEJ5tbPuMnNvXX+W2x0eWX4uRV601UmMMlh3Dy0vLRsSlRxjSrYnygU/18bsXCqqqF5XPVzzsD4ytmmRiCygPqHvQt5PqkDqFVDBgdWfKr1wrsjmw85vw2Cj/qy4BoXyQCn70XEF0FiNYSRAFHXscRsI3prbA2U2qIxkXZ1QNxeZrTMRSllIsjGLqsgGFEkjmeTP79UlwHiCKYkRQ6RhClwCcVLh8QjQmyNymHbUqJmFWXftCyopIYQFUHmuANWBMR1lAlkK7Skex6/BRIRuUVOtpUi0BgVF8kMLbl27M4YufccoJjxVzszOIYnUKgV18k0BNMQ3gtnaH+iFxoGvEN2RwjecpIsJrVyNaglQEwSVlye7RYCGmxkOIGq+0gnTJFImkabDbkwnSTB8m/guxZewOlMJFoQTKIKhPTYmQ6c+ur6ruzt1Zwdlvxjj/jyOx7QiZXIXV714OfbSqakFzx0OFfDUMMulF9gtvOfo0sQN0JaBKuRqlJWMso0qX6FGqVUiE4k4qTCbZOO5eqixOpr6uHcA6R/KNgYMItktITqkrrLRVyUyw9IRsUTRZlqSfdwKFi+KzUQD4r1cEgV0lyA6+0YuJA6XIO+RhSRE2Vt5I7ygkNXFKqtZwctZbCUUhSpmSTsncOXTxY12nQOar7YGzrezn66RAvhyFVm+SCVK21mzpAJC/cmhVA/WjSoFingTiooR7o1CqkCsc0k8C73CYjUi4tAPjZpFwqyIakUjUBjsqSclyQG5Inl6/sx5M/SJMN8fyB3I9UIWP4hKKM5s8DiSIWMPsXrve1HHcZx4iwTd3LmtcauLbIW6VtwyfncupC/GFeQfDeo7h5hZWdtvZ3i3LDbM4DBmNzlfp6VTPzN3UPu8ViOnK9UGYxcZuEI1+ssZnsTSzbhB1mYU09td0pZnZRD1Juk5N6rmTU3Kq+/7aZnXBD5m78vloK43ij+iS3HLjgRVE0GYdQyni8tpMyaVVXUw4MeSEZ8nIx3cIiP1xp0QaopRUGaLiYjrOoAIbRK/aXt+ySHCMxVmOWDFO0CDlPJwObN6iuJefxSgOMb7lEKh2QYMoJXqkBZxitldrlSZI8mk+36llCq6i0ncwFbdCVEuBCcTfaX1wSCmvDPdDShjpPL5zJDYLidMEwJ2z7q+KjWkjSVSPsry6MNZLsanQr3DUZhr+lHBpVSXm4IFfDsNuUmtHggFrRLQ8IYD/TmJ5ADny8QGVwDVSnXIOrUz8+9dBmBvNCne/ElXsu7tw64oJ4+PwD2PjCSN989U1ctMjjGFFNbfrh+NJjB9PC6PI4cdnPts+94WpqerDmvBV3717XPqVsmpqxX6n2giI0D1KEBWgh3olSC3+gCAtLybgtLAM2EHE4QQCUhjKtkFmjE6ehhoh6QxyGuFnjTKM2eulZemWidRa53DqNVPoXifL0nnSbPvZtvFxPeBPjkJPRyhb1equNV5qAFFX6bRPIPXM4QrrUhDmkVxPGmbRQvvMHutI5WFc6Ndp2ZnXlgnPTlYVEVzr7daXzBF1ZOEhX6qdDjhAfPpnoSZsg1yTlCbYms9gwprnF0DpzVgehWmcVcKkQ9EY4hd40N+j0axHkDhAnmzznnFXHwfki/ZUVg5aHxGtJFY+U8HQuatOktiJHyndDlqK+9j8fQ52XLSqvX9C6Y05FUJ4ePDB723VNs/cvmvHOeUtXzFxyE3XrkGSJXrjmp/Wjl80bFm5nZ00YPvf9mHltx85m4/hp08+vHzYs2Tl1o9+7pW+cJlSgVA8jJ0TJV0OMYkdFKIFkt1Zn1fMWsmoiW8W0PZu+FIuyt0fmJVJ30SquklJy0noKGlj9sA20jq+xZH4ztlkUm8dWk99qaGuLLpSxecGYMQua+9bDBppkno+gp5gOZhdM3l1IRqLCQU8YEVgEMapB1IJGIFlB1/PjBgXwrMIYjpAs5OA/Lnh+np6WILiC4QrHHlFYxggXUQpTrBa9I0zRDMudlJHgOHaaMNPR+0emtu8C+mdP4Z5h+PXz1MvUZVoEAj2b298ziJ4pvWfsaXpGwfNpeD4ugp6hwT1jqhWKNmoXWRYuctAzRHOn75kJx+E/Zub2/pG+r28RU0ttV6tn4534zg61HHr2EHUIctPH9JUrIwUzDq1VLwe3tTiU1UqVcJTdDayKadUuSCfxtaNmjYL/9LjyUaPK4Re+vVbtZOz0PZAz3ItSBpLfOnTdoUkbODMH2gYHkQKDBdSMh4fKbki5AqKcpy0tk0qxSYJUV87NlgoK9RJ/rt6y8WTVl6THHv2Ehyf86o/gghDB5dvAiQ1a3Z1OyiV6NMcXgTSwPr++XKgZoa3oOwxBmFBigiMm6Xuyvh+JMfbOn8+68J0ZI0O7Qrfft2HPropQG5V4aubVG+Z8WDDm0KbHbmbYzCVfvLKZqsvQkXGPzCajLh37nGkA6wNoG0rxRKgNsZSf4Opi0SjoHcqVIOwMagURj57JQ/cLcyrShfoRpEB6SxHAJqums7KVJ9iTNbUxBBwCC6dpMymfKFYBrHVo5V5nUqFMcGQEe10kYi8s1mJWv5MnakNKJEKQ5oj+2Ox6iTJGpsWYn2lQv1nuvD/k/ngaf4d56ZhnkiMTmL/hQjpMJ/aqO58P5415/oYd+OpM07ZROcU4gR+PljKYj9wAVndSRfT92koqOu7i9P2hjDkSob7NLpnq9xl+cJ/h/tARuI8buI/ERbu5O7Nx0TiEzmHKdxhoko2QfIm31yUG1yGHMtfjHP7NiW5re/uzeI9630yPq6G+njI49uKbzjrP993ocahHO/ae/8Ts2ZjCFvyK9RosCQaHFvPv5q4He4rRcIj5z0MoNLheRSYJMNBOZJDXXtQIDdlgex1kV/1FrZjEXf/QRRvnj2yFOGOMuCW2mW1evf3AS7e0Nf/qqHBK81lhsPn2soLK30vFnqr5829Wj+yYGyxvn1Lua8j1FU/B9uXP4JwnQxf+4iw4HP3NmL82XNw+7LLhl9S0Q0R6o/qWsTc7lnE0HXWc03iS5WGfvjp8xmA+zgcDgpOPSUMZZXpY44gOdVsHbPGVvU+d+hOtT8PP2Ud9Rpc649J9e7rwY5fu67vth3fjjY/hqertj6lKltdXZ7GYdy442M81pBgKDP919mDirMHtsaGEEWD51KzlATQDLQLLzx6an3MURZ+A2NQzBe30a2c1/Z3BSFFjzxjDZ5YNBQV23SDg+lVuWZYNC86FDTRZIvYNrN1VYH2RSVeC4yt3o/DAyp2zbiiEmLHlkT+q3z42O1RbGzIXXN1yUX3QU/5ka9jkKzDnXn/b4gaqoLjr4YZR087Ki94LnlZ/c++lMysDgcrhk2bXfRefOTEcxo/7mTKvzWMtvizv8xFZVizTWDEbLRkaK/4N0+1DJwa1c6gQvHwO/FD/dHY0mNUnsaM5i00MkFkJ8+W/Yfi5JyInIMXWDxUM1X52KXn0hHlWODsiVPlQvAr/zwm4MaiK4MbRMNe2o4VoMSB3lmzt/8woSN+ob06TsVHNQ8XwjcH49CXUPXT0VIlb5qFz5FLm13oOxwyafRIQVc08i+JILl5/MatOX+HWzCWY0CeZb9dXu8liNwljTiM0+3584KkdT81uvPa6Walr29snlm+s28mN/etgo+sLKzs6OryVL4ueUwmM+s4zaqb74bW4+dvRVdPa2lqbDKHidvXLS5nlg8MP07ilsek7O7aMXDyrhlg9dcDqqaCyyzVPOq1l/w4ZQmdCg609pd19fxsqLZhFgyEacxwi7D0NHPSmszPks9Mjxg7iiYhGovEQs52ZKVnIEtp6ii41J87F9oE1auxwSQTNCHdqmrC7p72i9v7preDo8fIn6ZQkDjZ+9nX3rZsU2L1TnbD94M6Vsa2PnpIlBVPf+8mWlT9dYhfHPvejqxavn1PAHB48M/113IKJq2pc501RL5t+2YLbx5VMnA02N2dttkPe2o7mo6UQo5/VrnPX11MAwUXOYHKm6azCSrtOhmX+mRHIbBuKrma+PyVOUwdwGo9moU50yalx+n/woyFA1fv6v+dFC4eAGD43JzolrQCvOMGLw4DXgC+dEq8z5K3sOeOSKTxtFrt9MA7rzo4DW3qarLbtbMZTyHfsDSaXPYhKIYZBmDdQ/gBJ5IAS+bG67CtS5MihvQRPXmaktdDPip0OzZmY3PX3qR8/eXTj/Z8s/5mP4id3Pvlqo8EQrktMidun4S92bX7tlg0HLwhEbrohvbSdLldf/Fp9S8XX3vu7LZdunv3i1gf34rpJieFja9978zeqccuzTzR+tWDTg8/+DGF0ofoBl8c+jobBIOmViBFYigt+wQF756AzxJ+1MoXTAS2ndp3L86oBr3f6hIxrwnRvtk1a7JXZ1rFgMJjgLEe+TgRJi+3R90fLE/DsIDx7Azy7mPxtCSbjj/2+BIlu/dmXAeB59iDQgx6ZeYSq4YyZB6gHceE9n7dKu45OFFjqysw2zs4+cUds2vf3skv7vjVareaMU5ryutrq4DjaQF9sTKpL354skjcf9LfceU574wGj29UW7g2uBeWTGozGrIhOr0bywqSJcIx7g+qbYBItrHrxBq7I9LXRyeEueqnJE+WKzMz3E2259IYLikyGX3HWvncNuXZEYV5tob6EbyX1YVLbyS5XH29RX2or1yu17aWhkOGJUOj7Vn0PvRLVFvo1+DwpEznysP4XBdmdIds9/U8LsjttyfW1/Ffg256LRm/x2svcL0ejuAHaHkcZM8bm/Z/e8aEQM0fdkvGHQtS6fb6IUPQl8+tQqPchvIb6ayiU2bSvRH/XvoXuhWeH9ShbiwZIacxAU7S2ph2ulfr13ZYA76yjq6esv7tZnDi7rDjPVjApv3nOrW3rdrfUTLyguqy2sNbd0Ma1zNw1aZwpvHrufvUzdWvm/Z+vuG3GHXAmsnop9eVHeNujl/yIPHsVXsw+T0cR6QhJeESsP1rPfWJSCYbHkpd/IRx/vnvXyrWvXnfF3hlFJtZd+Mwdq67/89quWT/25+W6i6jDd/9zzgNzbq+dF2vUWkumla4lb76sQhezzzMBPoLGInSM5Q1kj44QZqjkL0Lu5MOoACH9jZi+J0847z1+nvQVfOVFdibiQcP6q3cDf+7xYujo95EINS8apeaHyCAzhwDpoN4D7XPAwAmo/y+KqtnDKE9nSsR0/JUeqro836FuxOsc+eVGdTteZVRfCov0VfRVYliw9+3r22fv/+ugRv0b7IPfnzFh7s5yI16lbjfC9+B16kaHuhc+SM+j59mFsNh3S98t4v8Cj3aG5QAAAAABAAAAAoUejuBQpV8PPPUCnwgAAAAAAMheFaoAAAAAyF4VqvwA/kYMygZGAAAACAAAAAAAAAAAeJxjYGRgYHP758bAwMv3h+GbJs8pBqAICvAGAHJOBOp4nGO5xBDEAARMMLyK4QUQRwNxDvMRhiI2c4ZVQPEOKD2ZyZKBgUWYIRiINwFxFhBHArENEtsLSkcyKTOsBKpfBdILw0BzC4A4n/k6QwrjLIYlQHoOixKDKtsuhlYodgapY2lmUAdiVZAZLAkMJix5DEYsDAzxHEAMU8sZBNfjj0Q7A7EumrgzlG3KYs+gwFbCkMq2hEEZ7KZVDJNZGBgFgGbrM/9mYACKFUMxzM1gPtMshmiGHAB9pT17AAAAAEQARABEAEQAiADDAP0BbAG3AfUCFAJDAoYC5QNEA8kEjQUKBboGVwbEB40IIwgvCI4I6wj4CVUJhQmuCjkKVwrjCzAMNg05DosO1w8kD3EPoBAfEJoQrhDCESoRqBIuEqsTNRO2FEQU4BVtFegWgRb7F48YJxilGPMZMRloGXAZmxm7GfkaNxpoGnUagRqNGqkasRrSGvIAAAABAAAATAjAANEAcQAMAAIAAQACABYAAAEAAckAAwAEeJxdj01OAkEQRh+CRjeuXZE5ATEkLIwrE6N7//aAwzjJCNpiCJ7AE3ASD+HCQ/m6p41oJlP9quqrP2CfGV06vQOg8W+5w6FeyzvyW+au/J65R59N5l2O+Mi8t1X7yZwvbrU1UxbcU1JwIc1Z8iLP5OB7ZmSqqkyZgmu9oP+UdKdGLs1FbZV6nMuveoucHXLsd2LdmkcmxhvGXKmt1EUOrPQmaWKc8VdZ/NPe6QV710kd+w8YaW94MPazebvryooYqdL2sW5svPTawv5r7dKq7cvjfc/OqtUGM02+77c6Xjr4Bpi7QCAAAHicbc9JTsNAEAXQ/5NAYmJnnhkCN0gaOcMGgRCsOANgkQa3FJzIdsJFQIxbxB423IoNsEQY0+woqfV+dalaaiQQ19c+KvivDqJDJJBEClmYsJBDHgUUUUI52qmihjoaaKKFZaxgFWtoYx0b2MI2DnGEYzj4wDs+8coEk0zhGvd4xgsXuMg0MzS4xCxNWswxzwKLLLGMG9zhFm94ZIVVPLCGJ1ziinU22GQrPfNUR+wK7abheJNQjqVyfm5E1+5ou1qRmXgydJU/MsKLSRwCPbK1PW1fO9AOtTtG9IRUZ27omqHrS52D7Kma/2UzkHPp6SbeE8LW9tKBOldjx7em0p9Kb6ROZlEXT/u/XxH9vYF2+A2pc1uJAAC4Af+FsAGNAEuwCFBYsQEBjlmxRgYrWCGwEFlLsBRSWCGwgFkdsAYrXFgAsAUgRbADK0QBsAYgRbADK0RZsBQr) format('woff')}.dcg-add-expression-dropdown.dcg-popover{width:auto}.dcg-add-expression-dropdown.dcg-popover.dcg-bottom{position:absolute;top:43px;left:3px}.dcg-add-expression-dropdown.dcg-popover.dcg-bottom .dcg-arrow{left:40px}.dcg-add-expression-dropdown.dcg-popover.dcg-right{position:absolute;top:-40px;left:60px}.dcg-add-expression-dropdown.dcg-popover.dcg-right .dcg-arrow{top:65px}.dcg-add-expression-dropdown.dcg-popover .dcg-popover-interior{padding:4px 0}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item{cursor:pointer;font-size:80%;text-align:left;white-space:nowrap;color:#777;padding:8px}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item i{margin:0 8px 0 4px;font-size:205%;vertical-align:middle;width:30px;display:inline-block;text-align:right}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-expression{font-size:210%}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-table{font-size:200%}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-folder{font-size:190%}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-action-newexpression{padding:10px 12px 4px 8px}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-hovered{color:#222}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-depressed{color:#000}.dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-disabled{color:#ddd}.dcg-add-expression-btn .dcg-icon-plus{margin-left:-5px}.dcg-add-expression-btn .dcg-icon-caret-down{font-size:70%;position:relative;color:#666;top:-2px;left:3px;text-shadow:0 1px #fff}.dcg-basic-list-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:auto;border-top:1px solid #ccc}.dcg-basic-list-container .dcg-basic-list{width:100%}.dcg-basic-list-container .dcg-basic-list-placeholder{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;border-right:1px solid #ccc;border-left:1px solid #ccc;position:relative;overflow:hidden}.dcg-basic-list-container .dcg-basic-list-placeholder .dcg-answer-hint{-webkit-transition:opacity 1s;-moz-transition:opacity 1s;-o-transition:opacity 1s;-ms-transition:opacity 1s;transition:opacity 1s;padding:10px;width:200px;color:#999;position:absolute;bottom:0;right:0;text-align:right;padding-right:30px;background:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAADXCAYAAAAQqd9FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3Mzg0ZDc1YS0yMGI5LTRlNTItOTFlMS05MDFhZGFjODVkZTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkNCMzBFQzQxQkM4MTFFNjg4MTRDRUVFNEIwRTRERTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0FCQzc1ODIxQkM4MTFFNjg4MTRDRUVFNEIwRTRERTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3Mzg0ZDc1YS0yMGI5LTRlNTItOTFlMS05MDFhZGFjODVkZTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzM4NGQ3NWEtMjBiOS00ZTUyLTkxZTEtOTAxYWRhYzg1ZGU1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+s6S9BgAADBdJREFUeNrsnXuwV1UVxxd4yUeTmYVWaoVmKo1GZUUTDjIJhOKDeKRAiEL04yE5+MhHjmSEMmCEE/RTKwgkBDKQh/HIivFKL02zh6b+QZoP1EITSNG4rTW/fZO5Xe/d3/075+y1f2d9Z9b8Zu5d+5zz25/ffq39OF1aWlrIlJa6GLQSQqtWq5aLdahSqcBpulq2pacmsFR9gj+6s+1ka+ZfyV7LQoXVI4MawB9fYfss2/5t/n0x2zzLxmKrxyYPYBs7cPk22xFsl1v2F6fO2rTTPK5xGdssy0o90E7xvI6UtBstOyND46pRqs7ewLWmsV1vWRoRGjeQr/PHY+D1rmC70rI1bvXYHHDNma7UmSJBWxV4XWnfzrfsjQCNq8i1/HFe4LUXsQ22LC6+pAm42+soNbPcOM5UJDQHbnEguJ5s37VsjgBtH3AXBNzjTAMXCZoDJ+3U5ID7VGwoEAmaA7cgEIAMBYZalkeA5sDdwB83BCSVAPPhlu0RoDlwUtrmg8mOtPYtIjQHbkrAAHwI2zWW9ZGgOU1k+wuY5jpr3+JC28721YB0Myz740ETrXMlDtHxbHMMQTxoIllLNxtMcwnbSMMQD5pIZrDvAdMsZetvKOJBE4WsF7HZgMjQ1rNNAtNMtd5kXGjkBtCLwTQWm4wMrXX8th3w/zjbpYYkLrTdhEc+pPc5wLDEgya6NaCatLYtMjTRMtB/AtswQxMX2gaqbeBAwZkiQhPdxPYLwF8G22MMT1xoreDQsZspMrTVbLeAQ4BJhiguNNFPQH+DpgCabFC8CvD/MIWt/jJoGUu2Qz0B+F9kmOJDE80FfI+j2rpJU2RospTuIcB/nKGKD60VnK9OJts6pQLaQrb7Af8Rhis+NNHNgO/pbGcYsvjQZBYA2ddt0zak42wsZBZAQlv9DVp8oZvx+xi0+NpM2KLVIQZNhzYDvidSyadttEDbRNgWqIEGTYd+BviOLHNPUhM0mbZBQlt9DJoOLQF8Bxs0HZJe5Cuevh9lO9ug6dBKqyLTg7YO8O1n0HRoBdsjnr6y+GeoQdOhtVZFpgcNiUf2NWg6tIbtQaAXOcigpdch6WPQ0qsiP2PQdEgWtv4WaNcGGDQduteqyPSgIVVkD4OmQxL5/5un76cNWnql7RiqnZds0BRoi7Vr6UFbBPj2NGg69Brbb2y8lhY00QOefu+gEkyMpgLtOWvX0oOGjNc+ZNB0SBaz/t7T9ziDll67JtD6GzQdetbatfSgIe3aewyaDsnBaL6Hfn7AoOmR7x7tXgZNj3wj/t2pgXfWpAYNadf6GDQduhvwPcyg6ZB0RF7w9H2fQdOjRz39jjVoeuR77ojMZO9n0HToGcC3v0GzHqRBC9RWwPedBk2HdpD/pOh7DZoe+UZGjjJoevR0mcdqqULznVuTNu0Qg6anXfPVpwyadfsNWqD+BPi+1aDp6T22ePoeatD0yHfpwbsNWno9SCtpCZa0wwyaHj1v0NLTTk+/AxutB1kGaA3XGUkZ2m7A9xiDpkOljYqkDO1xwLfJoOnQS4DvQQYtPWjWe1Si/7DtMmiN24O06lGRXrSSlp5etpLWuNXjWwyaHu2x6jE9vWLQ0uz2G7QGbdO6GLT0qsduBk2P9nr6HWDQ9Gg/oKR1NWg69Brg282gpTVOa6jOSNcSPb9BS/D5rU1TotdzGIgbNJNBa6v9rU1rbFn1mGCbtseg6dABJfqu/xO0iLNarcpZU7Jat7lSqWxW8Py+M9ISOdlbKmgMazB/TKJ9Xk3Mf5NpkW+yzYz4/L5beF9tpMa5yRNYe294P8hBO9IB1Vw97mkkaD71/KxO/j+RbaryLv+rpYHGpWwE+b1IbpzyNu1fZSppvluETmIbqXxwXRpoSBRheITn912EuqtM0JCNe+ewfb7g5/ddZfViaaDxWGw5f/wZuN5Qpb3HljKVNNEdwPWkXRugENrOskFrBq95SoHP73saz+5SQXPhqm8A17ygoGc/EOjy7y5bSUNL2xFsEwp49rcBvqWrHqW0bSLsze7TCnj2jwC+e8tY0kTrAV95mWol52dHzgbZVUpoXNp+zB9bgGt/IednRwb+zWUtaaLvAb6nsg3L8dmRucC/K83/4dVqdR4bFE3q0tKCjTv5BvcAVdMStjE5feEFVJth8JEcaLZdESyZypJprX2Pn/8329Vco83NuqSJlgO+X2Q7I6cvjmx+f14RsNls8+n/3xcgQ5hvcaG4NnNo/Ev4Dvm/gUI0OKcvf7Cn3w5FvUfJu0s78ZnO4EZlXdJEixHOlE9o6+DEStmtbJM9fc/OAxraG8vj6D7ft8bHngCVXu5CtvFZ5VcQNK4iZcw2F0hyXg6Z8S5Pv2cjApOozY/YxoLpns6jpIk2Ar4fzLgXKb9e3wOld0QCdjjbD9nOzbomC4bGpU2g3Q4kmZxxhvgqRvV4tGv3hwSm35RXSROtAnw/SdmtI+mlGNrH2JbV0fkazgXirtyg8cVX8MfvgCRZhbaQjk2RIay+bLe5H2iIRrtwIeVZ0kTfB3zPYvtcBvdEVmE9VhCwQS4vTghMfw4DW+rjmAW0m9n+CvifVmDPUbStAGASO5QqLeQoeflRDWRgd/omyGonCRJIHp/B/Xx7jv8g7NiKEMn3WRGY9iEZDrj5Sioa2hwgc97Odk2d9/N9o8UTOQOb5CIdIbrXtWFb0YRZ7tlCStuXCoKW58BaYojzA9OudwGHP4YkzhLaBsBX3j8duo5Eovu+Lx1/ISdg06kWrQ/RSrbz2Z4MvXmW0NawLQX8zw28D/KW+DyCxbKL6NrAtDK/OMq1taQBmghZ2NqPwlYkIwt6sl6FdSPb5YFpJWg8JouOUdbQVrkG1lejEhpYy1xY6CqzKtuFWT1IHpvHbwN8hxAen0PGaHdn2MkKjZ3KbMjELDM4D2jyq0Jmtk8Hr+87j/YU1T9j3c21Q6GbJmdTDmtA8zqmAR1sI6Gt9xc0RjvU1RqjA9PPqKP9iwJNelf/zKmdOtrT78k6nl+GJDK1MiIw/RUZBBAKh4aWNt/MGQg881OBz32CqxJDV5FVqPPDBdRCQ1YjH8t2WcYl8uWAZ+5NteUBfQO/85epFkCnVKFJ1BtZI+kTIUF2yqDd/YFuLNUr8PvKXOEtVIDyPi8KmdmWdSSd7W07yvNactgLcgzUmVQLwx0f+D2lKl1BBSlvaMtdiUN+rR2ph+d1HgHuKeG0NYHf72FXQu+iAlXEyWzIwlbJgI4WavpOMm4DquRlgd/rPqqFpTZRwSoCmpS2B8Cqqj3JQhnfVcU+PcepdXQafkm1fQr3UQQVdQbiIsB3HLW/kgnpOXY2RrySbV7gd5FlASPBKjhJaDcR9orjfu387ZCMeo4SqZhZR60hnaVnKKKKPG0UWbXVXkTcN3y1h958QlaWRVwd+PyyWlhCWjsosoqEhsxsy8KdtmdI9vRM+/Cb/F2i7ZfU8YMbS9iZyQ0BTcZNCwD/fcds3dw4LrS7Lx2OiwOfW9aBjCdFKvowZmTAezK9MSUyCEjXdlpoIYWvR5HSOYWUqWhoq0FwowN6jq2dEFmFvITwbUatkqDvNFKoGMeeI4t/TqXakYQ9wB9Gd3ef0Lmw6VSbXiGD9kYv7A/gYNt3Du1R5yuR+tBjDKXt+zopVqwXDCCrcqX7fxLQc5QqMXS/wJQ6Bt0ND016ZMiaRN+DXqSU9Q58prEUvmK4FNBEP8jhmicGphvmqm0yaB1ri4Lv/7gbTtxBCSkmtJ+6DkMsyTYjWVO/gRJT7DcdLY903187YFspQcWGJjPGKwu+p5Qs2Wb0ICUqDe8Uu7PAe0nbJbPN2yhhaYAmkYv7C7iPLCsYR7pOpEsWGrkBcZ6SoLHMNr9EDSAt0CQK8VxO15boy4XUQNL0nsw5OVxT9pRNoAaTJmizM66+5EdwETWgtL2RNqvQ1nXktzfAoGWgn2dwjasofCO7QQvQOsLW/7eVVIfXU4NL4wu7Q+ORE1zHgwxa8ZKj89AXn4+h8OOODFpGQk5sPauAwblB8+xFrvbwkw32a6lk6qr42SZ2AO5XVNuksZFKqCbFzyYnyMnBMF+j2h5oWfsop7bJusZpVGI1JfCMM5yZEqgeTQatcQS/P81k0EwGrRz6rwADADnzJzb8MrEkAAAAAElFTkSuQmCC\") no-repeat top 20px right 5px;-webkit-background-size:15px;-moz-background-size:15px;background-size:15px;-webkit-animation:dcg-fadePulse .3s;-moz-animation:dcg-fadePulse .3s;-o-animation:dcg-fadePulse .3s;-ms-animation:dcg-fadePulse .3s;animation:dcg-fadePulse .3s}.dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-type-hint,.dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-answer-hint{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);-webkit-transition:opacity .3s;-moz-transition:opacity .3s;-o-transition:opacity .3s;-ms-transition:opacity .3s;transition:opacity .3s}@-webkit-keyframes dcg-fadePulse{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);-webkit-transform:scale(0.7,0.7);-moz-transform:scale(0.7,0.7);-o-transform:scale(0.7,0.7);-ms-transform:scale(0.7,0.7);transform:scale(0.7,0.7)}50%{-webkit-transform:scale(1.1,1.1);-moz-transform:scale(1.1,1.1);-o-transform:scale(1.1,1.1);-ms-transform:scale(1.1,1.1);transform:scale(1.1,1.1)}100%{opacity:1;-ms-filter:none;filter:none;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}}@keyframes dcg-fadePulse{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);-webkit-transform:scale(0.7,0.7);-moz-transform:scale(0.7,0.7);-o-transform:scale(0.7,0.7);-ms-transform:scale(0.7,0.7);transform:scale(0.7,0.7)}50%{-webkit-transform:scale(1.1,1.1);-moz-transform:scale(1.1,1.1);-o-transform:scale(1.1,1.1);-ms-transform:scale(1.1,1.1);transform:scale(1.1,1.1)}100%{opacity:1;-ms-filter:none;filter:none;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}}.dcg-basic-expression{min-height:56px;border:1px solid #ccc;margin-top:-1px;position:relative;background:#fff;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;width:100%}.dcg-basic-expression.dcg-focused{border-color:#8dc6dd;-webkit-box-shadow:inset 0 0 0 1px #8dc6dd;box-shadow:inset 0 0 0 1px #8dc6dd;z-index:1}.dcg-basic-expression:first-of-type{margin-top:0}.dcg-basic-expression.dcg-braille-io{-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:2px}.dcg-basic-expression.dcg-braille-io .dcg-mq-math-mode{padding:0}.dcg-basic-expression.dcg-braille-io .dcg-braille-input input,.dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,.dcg-basic-expression.dcg-braille-io .dcg-braille-error input{border:none;outline:none;width:100%}.dcg-basic-expression.dcg-braille-io .dcg-braille-input input,.dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input{font-family:Abraham;font-size:26px;padding:8px 8px 0}.dcg-basic-expression.dcg-braille-io .dcg-basic-expression-error{font-size:140%}.dcg-basic-expression.dcg-braille-io .dcg-braille-error{position:absolute;top:0;right:0;width:100%}.dcg-basic-expression.dcg-braille-io .dcg-braille-error input{text-align:right;color:#666;padding-right:5px;font-size:80%;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;-webkit-animation:dcg-delayed-fadeIn 1s;-moz-animation:dcg-delayed-fadeIn 1s;-o-animation:dcg-delayed-fadeIn 1s;-ms-animation:dcg-delayed-fadeIn 1s;animation:dcg-delayed-fadeIn 1s}.dcg-basic-expression.dcg-braille-io .dcg-braille-input,.dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container,.dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,.dcg-basic-expression.dcg-braille-io .dcg-exp-output-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1 1 40%;-ms-flex:1 1 40%;flex:1 1 40%}.dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container{position:relative}.dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,.dcg-basic-expression.dcg-braille-io .dcg-exp-output-container,.dcg-basic-expression.dcg-braille-io .dcg-braille-error{text-align:right}.dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container{padding:8px}.dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,.dcg-basic-expression.dcg-braille-io .dcg-exp-output-container{font-size:90%;color:#666}.dcg-basic-expression.dcg-braille-io .dcg-exp-output-container{padding:8px}.dcg-basic-expression.dcg-braille-io .dcg-exp-output-container .dcg-basic-expression-value{padding-right:8px}.dcg-basic-expression .dcg-exp-mathquill-container{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden}.dcg-basic-expression .dcg-exp-mathquill-container.dcg-readonly-exp{pointer-events:none;opacity:.5;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";filter:alpha(opacity=50)}.dcg-basic-expression .dcg-exp-output-container{max-width:60%}.dcg-basic-expression .dcg-mq-math-mode{padding:12px 5px 12px 15px;outline:none!important;-webkit-box-shadow:none!important;box-shadow:none!important;display:block;border:0;width:100%}.dcg-basic-expression .dcg-mq-math-mode .dcg-mq-root-block{overflow:visible hidden}.dcg-basic-expression .dcg-basic-expression-error{color:#f0c852;font-size:130%;cursor:pointer;-webkit-animation:dcg-delayed-fadeIn 1s;-moz-animation:dcg-delayed-fadeIn 1s;-o-animation:dcg-delayed-fadeIn 1s;-ms-animation:dcg-delayed-fadeIn 1s;animation:dcg-delayed-fadeIn 1s;margin-right:15px}.dcg-basic-expression .dcg-basic-expression-value{-webkit-animation:dcg-fadeIn .5s;-moz-animation:dcg-fadeIn .5s;-o-animation:dcg-fadeIn .5s;-ms-animation:dcg-fadeIn .5s;animation:dcg-fadeIn .5s;padding-right:15px}.dcg-basic-expression .dcg-slider-container{height:40px;width:250px;max-width:100%;padding-right:3px}.dcg-basic-expression .dcg-mq-ans{border:2px solid #4781b9;color:#4781b9;background-color:rgba(71,129,185,0.15);padding:.15em .4em;display:inline-block;border-radius:4px;margin-right:1px;margin-bottom:2px;min-width:30px;text-align:center;-o-text-overflow:ellipsis;text-overflow:ellipsis;vertical-align:middle;position:relative}.dcg-basic-expression .dcg-mq-ans sup{font-size:80%}.dcg-basic-expression .dcg-mq-ans:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;content:'ans';position:absolute;bottom:-6px;left:50%;font-size:60%;width:22px;overflow:hidden;text-align:center;margin-left:-11px;color:#4781b9;border:1px solid #4781b9;background:#fff;padding:0;border-radius:3px;height:10px;line-height:8px}.dcg-basic-expression .dcg-mq-ans.dcg-invalid{border-color:#f0c852;background:rgba(240,200,82,0.1);color:#f0c852}.dcg-basic-expression .dcg-mq-ans.dcg-invalid i{font-style:normal;font-size:80%}.dcg-basic-expression .dcg-mq-ans.dcg-invalid:after{color:#f0c852;border-color:#f0c852}.dcg-basic-expression .dcg-mq-selection .dcg-mq-ans{background:#4781b9;color:#fff}.dcg-basic-expression .dcg-mq-selection .dcg-mq-ans.dcg-invalid{background:#f0c852}.dcg-braille-toggle{display:inline-block;float:right}.dcg-braille-toggle .dcg-buttons{float:right}.dcg-toggle-button{padding:8px;border:1px solid #ccc;color:#444;position:relative;top:-3px;cursor:pointer;width:90px;text-align:center;float:left}.dcg-toggle-button:last-of-type{border-radius:0 6px 6px 0}.dcg-toggle-button:first-of-type{border-radius:6px 0 0 6px}.dcg-toggle-button.dcg-hovered{background:#f4f4f4}.dcg-toggle-button.dcg-depressed{-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,0.5);box-shadow:inset 0 0 5px rgba(0,0,0,0.5)}.dcg-toggle-button.dcg-selected{background:#4781b9;color:#fff;border-color:transparent}@-webkit-keyframes dcg-delayed-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}80%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-delayed-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}80%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}@-webkit-keyframes dcg-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}.dcg-focus-by-tap:focus{outline:none}.dcg-aria-alert{position:absolute;left:-1000px;top:-1000px;width:1px;height:1px;text-align:left;overflow:hidden}.dcg-calc-basic-main-wrapper{height:100%;width:100%;position:relative}.dcg-calc-basic-main-wrapper .dcg-beta-warning{background:#fef2ad;border:1px solid #fed973;padding:8px;font-size:90%;border-radius:5px;color:#444;text-align:left;display:inline-block;position:relative;top:-3px}.dcg-calc-basic-main-wrapper .dcg-beta-warning a{color:#4781b9;margin-left:5px;font-family:\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-weight:500}.dcg-calc-basic-main-wrapper .dcg-beta-warning a.dcg-hovered,.dcg-calc-basic-main-wrapper .dcg-beta-warning a.dcg-depressed{color:#004f9b}.dcg-calc-basic-main-wrapper .dcg-beta-warning i.dcg-icon-remove{color:rgba(34,34,34,0.3);float:right;padding:1px;margin-left:5px}.dcg-calc-basic-main-wrapper .dcg-beta-warning i.dcg-icon-remove.dcg-hovered{color:rgba(34,34,34,0.6)}.dcg-calc-basic-main-wrapper .dcg-beta-warning i.dcg-icon-remove.dcg-depressed{color:rgba(34,34,34,0.9)}.dcg-calc-basic-main{height:100%;width:100%;background:#fff;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-lines:single;-moz-box-lines:single;-o-box-lines:single;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:2px;font-family:Arial,sans-serif}.dcg-calc-basic-main *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.dcg-braille-io-keypad{padding:40px 20px;text-align:center;background:#eee;border:1px solid #bbb;color:#666}.dcg-braille-io-keypad .dcg-braille-title{font-size:130%;margin-bottom:20px}.dcg-calc-branding{position:absolute;bottom:-50px;left:0;right:0;text-align:center;font-size:80%;text-decoration:none;line-height:20px}.dcg-calc-branding .dcg-powered-by,.dcg-calc-branding .dcg-logo-icon{display:inline-block}.dcg-calc-branding .dcg-powered-by{color:#ccc;text-decoration:none;-webkit-transition:color .3s;-moz-transition:color .3s;-o-transition:color .3s;-ms-transition:color .3s;transition:color .3s;position:relative;top:-13px;margin-right:.5em}.dcg-calc-branding .dcg-logo-icon{color:#ccc;font-size:650%;-webkit-transition:color .3s;-moz-transition:color .3s;-o-transition:color .3s;-ms-transition:color .3s;transition:color .3s;overflow:hidden}.dcg-calc-branding .dcg-logo-icon i{line-height:.4em}@media screen and (max-width:600px){.dcg-calc-basic-main-wrapper .dcg-beta-warning{display:block;margin-bottom:5px;border-radius:0;text-align:center}}.dcg-aria-alert,.dcg-offscreen-element{position:absolute;left:-1000px;top:-1000px;width:1px;height:1px;text-align:left;overflow:hidden}.dcg-focus-by-tap:focus{outline:none}.dcg-container.dcg-default-border{border:1px solid #ccc}.dcg-container a,.dcg-container a:hover{text-decoration:none}.dcg-container.dcg-no-graphpaper .dcg-grapher,.dcg-container.dcg-no-graphpaper .dcg-resize-list-btn,.dcg-container.dcg-no-graphpaper .dcg-graph-icon{display:none}.dcg-container.dcg-no-graphpaper .dcg-exppanel-outer{position:absolute;right:0;left:0}.dcg-container.dcg-no-graphpaper .dcg-exppanel-outer .dcg-exppanel-container{position:absolute;right:0;left:0}.dcg-container.dcg-hide-poi-labels .dcg-poi-labels-layer{display:none}.dcg-container.dcg-no-zoom .dcg-zoom-container{display:none}.dcg-container.dcg-no-settings-menu .dcg-settings-pillbox{display:none}.dcg-container.dcg-no-expression-topbar .dcg-expression-top-bar{display:none}.dcg-container.dcg-no-expression-topbar .dcg-exppanel-container{padding-top:0}.dcg-container.dcg-no-hyperlinks a[target=\"_blank\"]{display:none!important}.dcg-container.dcg-inverted-colors{filter:invert(100%)}.dcg-container{width:100%;height:100%;position:relative;background:#fff;z-index:0;touch-action:none;-ms-touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;overflow:hidden;font-family:arial,sans-serif;font-size:16px;color:#000}.dcg-container .dcg-grapher{position:absolute;right:0;top:0;height:100%}.dcg-container *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-moz-user-select:-moz-none}.dcg-container .dcg-text-selectable{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.dcg-container input,.dcg-container textarea{-moz-user-select:text}.dcg-expressions-branding{position:absolute;bottom:0;left:50%}.dcg-graphpaper-branding{position:absolute;bottom:0;right:-8px;display:none}.dcg-fullscreen .dcg-graphpaper-branding{display:block;opacity:1;-ms-filter:none;filter:none}.dcg-fullscreen .dcg-graphpaper-branding .dcg-powered-by,.dcg-fullscreen .dcg-graphpaper-branding i{position:relative;text-shadow:-1px -1px 0 #fff,-1px 1px 0 #fff,1px -1px 0 #fff,1px 1px 0 #fff,0 -1px 0 #fff,0 1px 0 #fff,1px 0 0 #fff,-1px 0 0 #fff}.dcg-expressions-branding,.dcg-graphpaper-branding{text-align:center;font-size:75%;width:110px;margin-left:-55px;text-decoration:none;line-height:1em;height:45px;overflow:hidden}.dcg-expressions-branding.dcg-unclickable,.dcg-graphpaper-branding.dcg-unclickable{pointer-events:none;z-index:-1}.dcg-expressions-branding .dcg-powered-by,.dcg-graphpaper-branding .dcg-powered-by{color:#ccc;text-decoration:none;-webkit-transition:color .3s;-moz-transition:color .3s;-o-transition:color .3s;-ms-transition:color .3s;transition:color .3s}.dcg-expressions-branding i,.dcg-graphpaper-branding i{color:#ccc;font-size:650%;margin-right:2px;line-height:18px;-webkit-transition:color .3s;-moz-transition:color .3s;-o-transition:color .3s;-ms-transition:color .3s;transition:color .3s;height:18px}.dcg-expressions-branding a,.dcg-graphpaper-branding a,.dcg-expressions-branding .dcg-edit-branding,.dcg-graphpaper-branding .dcg-edit-branding{cursor:pointer;display:block;height:50px}.dcg-expressions-branding a.dcg-hovered .dcg-powered-by,.dcg-graphpaper-branding a.dcg-hovered .dcg-powered-by,.dcg-expressions-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by,.dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by{color:#aaa}.dcg-expressions-branding a.dcg-hovered i,.dcg-graphpaper-branding a.dcg-hovered i,.dcg-expressions-branding .dcg-edit-branding.dcg-hovered i,.dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered i{color:#127a3d}.dcg-keypad-open .dcg-expressions-branding{-webkit-transition-delay:0;-moz-transition-delay:0;-o-transition-delay:0;-ms-transition-delay:0;transition-delay:0;-webkit-transition:0;-moz-transition:0;-o-transition:0;-ms-transition:0;transition:0;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.dcg-narrow .dcg-graphpaper-branding{display:none}.dcg-no-branding .dcg-expressions-branding,.dcg-no-branding .dcg-graphpaper-branding{display:none}.dcg-color-menu{padding:5px}.dcg-color-menu .dcg-color-option{display:inline-block;width:29px;height:29px;cursor:pointer;margin:2px 1px;border-radius:50%;position:relative;-webkit-box-shadow:0 0 2px rgba(0,0,0,0.25) inset;box-shadow:0 0 2px rgba(0,0,0,0.25) inset}.dcg-color-menu .dcg-color-option i{color:#fff;font-size:100%;line-height:29px;width:100%;margin:1px 0 0 7px;display:none;position:absolute}.dcg-color-menu .dcg-color-option.dcg-hovered{-webkit-box-shadow:0 0 0 2px rgba(187,187,187,0.3);box-shadow:0 0 0 2px rgba(187,187,187,0.3)}.dcg-color-menu .dcg-color-option.dcg-depressed{-webkit-box-shadow:0 0 0 2px rgba(119,119,119,0.3);box-shadow:0 0 0 2px rgba(119,119,119,0.3)}.dcg-color-menu .dcg-color-option.dcg-selected i{display:block}.dcg-container{text-align:left}.dcg-container pre{white-space:pre-wrap}.dcg-container img{border:0;outline:none}.dcg-container input::-ms-clear{display:none}.dcg-container button,.dcg-container input,.dcg-container select,.dcg-container textarea{font-family:inherit}.dcg-container button,.dcg-container select{text-transform:none}.dcg-container button,.dcg-container input[type=\"button\"],.dcg-container input[type=\"reset\"],.dcg-container input[type=\"submit\"]{-webkit-appearance:button;cursor:pointer}.dcg-container button[disabled],.dcg-container input[disabled]{cursor:default}.dcg-container input[type=\"search\"]{-webkit-appearance:textfield;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}.dcg-container input[type=\"search\"]::-webkit-search-cancel-button,.dcg-container input[type=\"search\"]::-webkit-search-decoration{-webkit-appearance:none}.dcg-container button::-moz-focus-inner,.dcg-container input::-moz-focus-inner{border:0;padding:0}.dcg-container table{border-collapse:collapse;border-spacing:0}.dcg-container input::-webkit-outer-spin-button,.dcg-container input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.dcg-mq-container{position:relative}.dcg-mq-container .dcg-mq-placeholder{position:absolute;top:50%;left:0;right:0;line-height:1em;height:1em;margin-top:-0.5em;pointer-events:none;text-align:center;font-family:Symbola,\"Times New Roman\",serif;opacity:.35;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=35)\";filter:alpha(opacity=35)}.dcg-tap-container [ontap]{cursor:pointer}@font-face{font-family:'desmos';src:url('fonts/desmos.eot')}@font-face{font-family:'desmos';src:url(\"data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBn0AAAC8AAAAYGNtYXDpkOnOAAABHAAAAFxnYXNwAAAAEAAAAXgAAAAIZ2x5ZjsCPa8AAAGAAABQzGhlYWQPhi5XAABSTAAAADZoaGVhB8UE8wAAUoQAAAAkaG10eFe+D74AAFKoAAABYGxvY2G9p6kwAABUCAAAALJtYXhwAGUCLwAAVLwAAAAgbmFtZbTzGXgAAFTcAAABenBvc3QAAwAAAABWWAAAACAAAwP/AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpVAPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAQAAAAAwACAACAAQAAQAg6Q7pVP/9//8AAAAAACDpAOkQ//3//wAB/+MXBBcDAAMAAQAAAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAkAAAFWBAACKgAYADEAowDGAUUBWgHCAfcCLAAAAS4BIyIGBw4BFRQWFx4BMzI2Nz4BNTQmJwcyFhceARUUBgcOASMiJicuATU0Njc+ATMlIgYHFS4BJyM0IiMqASMqASsBKgEjIgYrASoBIyIGIw4BBzEOAQ8BMAYHDgEHFAYxBw4BFRwBFRwBFxUwFh0BHgEXHgEfATAUMTMeARcyFhceATsBOgExMjYxMDIxMzAyMT4BNx0BHgEXMz4BPQE0JiMHFAYHDgEjIiYnMCI5AS4BJy4BJzQmNTQ2Nz4BMzIWFx4BFTc8ATUuAScuAScuAScjMCYjKgEjKgEjKgEjIgYHDgEHDgEHIgYHDgEVFBYXHgEXHgEXHgEXHgEXHgEXMhYzOgEzFjI7AToBOwE6ATMwMjE3PgE3PgE3PgE3NTY0NTQmIyIGBw4BBw4BIyImJy4BJzUuAScuATU7AT4BNzE8ATEnPgE3NT4BNz4BMzIWFx4BFx4BFSMlFRQGIyImJzU0JicuAScwIiMiBgcOAR0CMRUUBiMiJj0CMDQxLgExMCYnLgEjIgYHDgEdAQ4BIyImPQE0NjMyFhc2Mjc+ATMyFhceARcyFjMwNjE+ATc+ATM6ATMeARcUFhceARUHFAYrASImNTQ2OwEyNjU0JisBMCIxIiY1NDY7ATIWFRQGKwEiBhUUFjMxMDIxMzIWFx4BFSEUBisBIiY1NDY7ATI2NTQmKwEqATEiJjU0NjsBMhYVFAYrASIGFRQWOwE4ATsBMhYXHgEVA1wMHBERHQwLDAwLDB0RER0LDAwMDDkKEwcICAgHCBIMCxIHCAcIBwgSC/1vBQgBCRUMAQIBAQEBAgMCAQEBAQECAQEBAQEBAgEJEQgBAQEBAQEBAgIBAQYHAQEDCggDBwMDAQEDAQECAQcQCAEBAgEBAQIBDBUJAQcEBAUHCAYPBwgHEgsFCQQBBQkDBgYCAQcICBIKCxEICAfSAQYFAgYDCRULAgIBAQMBAQEBAgQCCxMJAQMBAgMBAQEBDAwDAwMJBgEDAgIFAgIDAgUJBQECAQECAQECAQEBAQEBAQIBAgEPGQoCBAIBAQEBCAYEBgICAwIIEgsLEggBAgIBAgEBA3cBBAYBgwEEAgIDAggSCgsSCAMGAgEBZAHtCQYFCAEEBAUJBQEBBgoEBQQIBgYIAQMEAQUKBgYKBAUEAQgFBggIBgQHAgEBAQYOBwsTCAEBAQEBAQIBAgEHEwsBAwEJEQcCAQgJ3hsUOQYICAY4CQwMCRkCFBwcFDgGCAgGOAkLCwkBGgUKBQ0PAh8cEzoFCAgFOQgMDAgZAQEUHR0UOAYICAY4CQwMCAEBGgUKBA0QAeIMDAwMDB0RER0MDAwMDAwdEREdDAQICAgTCwwTBwgICAcIEwsMEwgICEwHBTcICQEBAQEDCQcBAQEBAQEBAwIBAQEKFw0BAgECBAEEAgECChMIAwUDAQEBAQEBAQMDAQEKBwYBBAcBAQgFtwYIggsTCAgHAQICBgQFDQcDBgQLEwgICAgICBMLAwIDAgkQCAQIAwkMAgEGBgECAQEDAQIBDB0RCA8HCA0HAQMBAgQBAQIBAgMBAQEBAQwKAwUCAQIBAQEDAQYIAwMCBAIICAgHAgMBAQEDAgMHBAEHBQEBCwQIAwECBAIICAgIBAgFAQQCC1wFCQcGXQYLBQQEAQUEBQoGAQFbBQkIBQFcAQQKBQIEBQUEBQsGXQYHCQWJBQkFBAEBAwQHBwECAQICAQIBBwcBBwYBAgEIFQw7FBwIBgYIDAgJCx0TFB0IBgYIDAkIDAICBhgOFBwIBgYIDAgJCx0TFB0JBQYIDAgJDAICBhgOAAIARwAPA7kDcQAwAE8AAAEuASMiBg8BETQmIyIGFREnJiIHBhQfAR4BMx4BFzgBMRYyNzgBMT4BNzI2PwE2NCcTISImPQE0NjMyFh0BFBYzITI2PQE0NjMyFh0BFAYjAvoHEQkKEQeHHBQUHIcOJw4ODtgBAgECAwILGAsCAwIBAgHYDg4l/cJAWhwTFBwjGAI+GCMcFBMcWkACCQcHBweIAcAUHBwU/kGHDg4OJw7ZAQICAgEFBQECAgIB2Q4nDv4GW0DUFBwcFNQZIyMZ1BQcHBTUQFsAAAMAFABtA+wDEgAZADMARQAAJSImLwEuATU0Nj8BNhYXFgYPARceAQcOASMhIiYnJjY/AScuATc+AR8BHgEVFAYPAQ4BIwUiJiMuATcTPgEXHgEHAw4BIwEWBw8G1wcICAfXDiMLDAMNsrINAwwGEQkB1AkRBgwDDbKyDQMMCyMO1wcICAfXBg8H/scDBgMREQSfBR4RERIFngQXDt4FBbgGEQkKEQa3DAMNDiMLmJcMIw0IBwcIDSMMl5cMIw0OAgu4BhEJChEGtwUFcQEFHxECUBESBAUfEf2wDxEAAAAAAwBGAA4DuwNyADAAOgBZAAABDgEjIiYvAREUBiMiJjURBwYiJyY0PwE+ATc+ATc4ATE2Mhc4ATEeARceAR8BFhQHAzIWFyYiBz4BMwEhIiY9ATQ2MzIWHQEUFjMhMjY9ATQ2MzIWHQEOASMC+wcSCQkRB4gcFBQchw4oDg4O2QECAQIDAgsZCgIDAgECAdkODvsGDAULGQoFDAYBH/3CQFscFBMcIxkCPxgjHBQUHAFbQAJIBwcHB4f+PxMcHBMBwYcODg4nDtkBAgEBAgEGBgECAQECAdkOJw4BKgMDBgYDA/ycW0DVExwcE9UZIyMZ1RMcHBPVQFsAAAAABgAIAEgD+AM3AAwAMQBAAE8AfgCLAAAlDgEjMjY3NDAxDgEHASM1NCYnLgEjIgYHLgEjIgYHDgEdASMiBhURFBYzITI2NRE0JiU+ATMyFhcRLgEjIgYHEQU+ATMyFhcRLgEjIgYHEQEhETMRFBYXHgEzMjY3PgEzMhYXHgEXHgEzMjY3PgE3PgEzMhYXFjY3PgE1ETMRJTAiIyImJx4BFx4BFwIMAwYDBgsFAgYCAcFGDAoqYjQwWicnWjA0YioKDEYSGRkSA5oSGRn+RiBHJSdIICFIJiVGIf6bIEgnJ0ggIUgmJkghAvH8nioIBwUKBQQGBCNULipPIgIGAgMGAwMGAwIGAiJPKi5UIwkRCAcIKv5PAQEFCwQCBgIDBgO0AQIDAwEBAgECFCwLEgQREQ4ODg4REQQSCywaEv3YEhoaEgIoEhoUCgoLCv4rCQkICQHVAQoLCwr+KwkJCQkB1f21AfH+VAkQBQMDAgEODw0MAQIBAQICAQECAQwNDw4EAgUFEAkBrP4PIQQDAQIBAQEBAAAEABEADwPvA3EAJAApAC4ASQAAASM1NCYjISIGHQEjIgYVERQWOwEVFBYzITI2PQEzMjY1ETQmIyUhFSE1ASE1IRU3FAYrATU0JiMhIgYdASMiJjURNDYzITIWFREDgmsgFv4/Fx9sLUBALXIeFQHGFR5mLUBALf21AZL+bgGZ/m0BktMTDWUfFf46FR5yDRMTDQMEDRMCfb4XHx8XvUAt/tMtQDUVHh4VNUAtASwuP6enp/04g4OIDRM1FR8fFTUTDQEsDhISDv7UAAAIAEj/8wPCA40AAQAEABUAJgAvADgAQQBKAAABMSUxFQcnJiIHAQYUHwEWMjcBNjQnDwEGIi8BJjQ/ATYyHwEWFAc3FRcnNwcnFwcTFRcnNwcnFwclFTcvAQ8BHwE3MzcHJxcHNxcCHQFCJRkOKQ/9bQ4OGQ8pDgKTDg4PngQKBCYEBJ0ECwQmBAQpMhoaMjIaG2FALQ4wQC0N/tIuLhANLS4QeAEySTcRM0k3ApieAWkZDg79bQ4qDhkODgKTDykOLp4EBCYECwOeBAQmBAsDfQEaMjIaGzMy/u8BDS9ALA0vQMgBEA0tLhANLdo3ETJIOBEyAAAAAAEA4P/VAxoDqwAfAAABByIGFxMWBg8BBiYnAy4BDwEGJjUDNDY3NhYXARYGBwMT5gUDAbYDBghTCA8DtQIHAqIJDA0EBQMHBwIgCAQLAbcTBwP+fQgOAykDBQcBggMCA6IIBg0C0QYHAgEBBf4nCAwCAAAAAQF6AToChgJGAAsAAAEUBiMiJjU0NjMyFgKGTjg4Tk44OE4BwDhOTjg4Tk4AAAAABAAzAKYDwgLGABsANABTAHUAAAEiJicuATc+ATc+ATc+ARceAQcOAQcOAQcOASMDIiYnJjY3NhYXHgEXPgE3PgEXHgEHDgEjAyImJy4BJw4BBw4BJy4BNz4BMzoBMx4BFxYGBw4BIwEiJicmNjc+ATc+ATc+ATc+ARceAQcOAQcUBhUOAQcOASMDYgULBRUPCAsRBgUGAgooFBUPCAEGBAYSCggbELc6Th0LDhMTKgsdIwUDDQkNLBIRBg8bNBvrDhgHFhwFAxQQCywREwkNE0ArAQQBMkUWCwsTBw8G/p4LGAgOBRIDDQsCAQIBCAQIKRUVEAkFBwMCDBsTCBIIAbcDAggpFRgrEAwNBRUPCAooFAQOCBAsGRAT/u9bNBQqCwsNEzUhAgILDREGDw0sESAjAVoNDSYaAgITGBMJDQssEh4/A0wmEyoLBQT+xgoKESsOAxUZBAMCBRAHFBEKCCkVDRAFAgEEGC8OBQYAAAABAFoAqwOvAsQAQAAAAQ4BBw4BBw4BIyoBIyYnLgEnJicuAQcOAQcOAQcOAQcuASc+ATc2Nz4BNzYzMTIXHgEXFhceATMyNjc+ATceARcDrw0VDRMnFQtEPAEGASUcHC8WFRgQPCMjMxAUJxQFEw0QFgYMGA0XFhYxHR0lKB4fMhYXGBA7ISA5EBs0IBAbBgIRGjgdKVMgEUoCFBRDLCwyI5QCAYsgKlIgCBYNHUMlGDMbMy0tQhMTFBVFLi40IZCQIT1tIx1AJQAAAAAFAE8ADwOxA3MAVABeAGgAcgB8AAABBwYiJzgBIy4BPQEjFTMyFg8BBiIvASY2OwE1IxUUBi8CJjQ/AzYWHQEzNSMiJic4ATEmND8BNjIfARYUBzgBMQ4BKwEVMzU0Njc2Mh8BFhQHJTEHIiYnHgE7ATcOASsBNTM+ATcTLgE9ATMVHgEXNQ4BHQEjNTQ2NwOxxAIFAgIDBbokCwwEUQQOA1EDCwsktQsGjTULCzMEiwYLtSYGDAECAlMFDgVTAQECCwYnugMDAgYDxAsL/iklCAkCAgsGJYICCQglJwQKA4YFBgMBBAMDAwIDBQGzUwICAgsGJ7gLBsILC8IGC7glCwsDPBcFDQQVAjoDCwslugQEAgUCxAsLxAMEAgMFuicGCgMBAVMFDgXpAgUFAwUGBQYDAQQD/r4CCQgkJgUJA7wDCgYnJAgMAgAAAAEAbwAvA7MDbwAuAAABBwYmPQEjERQGIyImNREhIiY1NDYzITUjIiY/ATYyHwEWBisBFTM1NDYfARYGBwOxxAgJuhYODxX+uQ4WFg4BRycLCwNTBQ4FUwMLCye6CwbECgELAbNTAwsLJ/65DhYWDgFHFQ8OFrgKB8QLC8QHCrgnCwsDUwQNBQABAAQAFQPvAZUAUQAAJQcOAQcwIhUqATEwIjEwIjEiJic4ATEuAT0BISIGBw4BDwEGJj0BNDYzITU0Njc0NjUwNjEwNjUwMjE6ATMwMjEwMjEwFjEwMhUeAR8BFhQPAQPkkQMGBAIBAQICAwUDAwP9jQUKBRErFTMNEWpMAnECAgICAgICAQICAgQCAgUCoAgIC7ORAwYCAgMCAwwIZAICAxUVMw0GECZLamIICwMBAQICAQECAgIDA6AIGQgNAAABAAv/zQP3A7oAbgAAJQcOAScmNjc+ATcOAQcGJi8BFwcOAQcGJi8BDwEGJicuAT8BByoBLwE3PgE/AScuATc+ATczFycuATc+ATcOAQcOAScuATc+ATc+ATc+ATc+ATc+ARc2Nz4BNzY7ATYWBxUUBw4BBwYHFgYHDgEHAkVfESEMDRIcHRsFFCkVESgNHAQBBAwFChMECVYDEBUCBgIDO44FEAcIAgEOBHo6DwoEBBQEBYUhDQgGCRQKFkctKicMBwEDAwoFCBoNCRADCBkMRWwZUl1cqkVFJAIUIAEGBkBERH0GCi4IHAslSgsQDQwnKitEFwkSCAcJDRuaBAwLAQMMDkVGAg8JAgUQCWg0BwcMCQsCQxsFEgoLBQEbIg0oEhcuFgQbHxwRDAYPBwgRCAshDwwUBQscCDAHBXtEQ0AGBwEgFAIlR0atXV5TG2lCDBkIAAAAAAMAY//AA54DwAEmAdwCCwAAASIGIw4BBw4BBzAGMSIGIzgBMQ4BMQYiBzAGMQ4BBw4BBzAiMQ4BBw4BJyImJy4BJy4BJy4BJy4BJy4BJy4BJy4BJx4BFy4BBzYyFyYGBzAiMSIGIwYiBzgBIw4BIw4BBw4BBz4BNw4BBzI2MQ4BBw4BBzgBMQ4BIxQwIzgBFSMwBgcwBjEOASMGMAciBiMOAQcwIjEGMAc4ATEOAQcqASMxIjAjLgEnHgEXLgEnIjAxNCIxIiY1LgEnJicuAScmNz4BNx4BFzEWFx4BFxYXHgEXFT4BMz4BNz4BNzA2My4BJyYnLgEnJic2Nz4BNzYxMBceARcWFw4BBw4BBw4BBzIWFR4BFx4BMzAyMzoBNzE+ATc2Nz4BNzY3MDY3HgEXFhUOAQcGBwcwBiMwBjEOASM4ASMOAQcOAQcOAQ8BDgEHBiIVIjAxDgEHMCIxDgExDgEHOAExDgEHIhQjIgYHIgYjMAYxMCIxDgEjMCIxFCIxMCIjDgEnLgEnMCYjOAExIiYxIjQjIiYnOAEjLgEnNS4BJy4BJy4BJy4BJy4BJy4BJy4BIw4BBzAGMQ4BBw4BBw4BBw4BBw4BBw4BBz4BNw4BIzI2Nw4BIwYmJxYXHgEXFhc2Nz4BNzY3DgEHBQ4BKwEiJicuAScyNjc+AT8BPgE3PgEzMR4BFx4BMzI2NzIWFx4BFx4BFzIWMwcDgAMGAwgQBwQHBAEBAgEBAgEBAQEUIREIEAkBAQIBChcNChEIBAcEBQsFAQEBAQIBBAcEBgsFCxYNAgMCECQTBAgFBw8HAQEDAgEDAQEBBAIHDgYKEAgBAgEDBgMBAgkSCgQIBQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEJEgoBAQEBAQULBQIFAwkQBwEBAQEIDgYQDAsPAgIEDhwOAQEBCwwMGg0ODgsYDwEBAQMIAwYOBwEBDBYIEA0OGQoLCkQ3N0wUFRUUTjc3RRgwGhAnGQEDAgEBBw8IBAkEAQEBAgEcKg8PDg4ZCwwKAQINGg4DAQcHBgkYAQEBAgQCAQMGAwQHAwIDAgESJBQBAQEBAQEBAQICBAICAgEBAQEBAQEBAQIBAQIBAQEBAQsYDQoSCQEBAQEBAQEBAQEPGg0GCwUDBQMBAwIBAgEECQUECgUHDwgJEAcBBAcDBQgEBw8HCxkNBg0HAgQCAgQCDBkMCRMKCA8ICxcLKzM0XCIjCQssLHE7OiYCAwL+/hcyGgEbMxoMGAsBAQEGDgcEAgQBAQEBChQKDSEUDRgNAQEBCREJAgYDAQEBAQHQAQEEAwEEAgECAQEBAQENIhAIEAcBAgEICwEIBAMFAwUKBQEBAQECAQQIBAYLBQoSBwECAQoLAQEBAQEBAQEBAQEDBwQGDwcBAgEDBgICCBIJBAgEAQIBAQIBAQEBAQECAQEBAQEGCAEBAgIBAQECCQYBAQEGDQctMzNyQD9GAQECAwUDKCgnTSYmJRo6HQEBAQQHAwYNBgIaMhYmJydNJSUiDRMUJg4ODg4mFBQMV5NCKVQnAgUDAQEGCgQCAgEtWiUmJydOJyYlBgUCAQE1MjFcKiomQQEBAQMDBAMDBgQBBAEBEiUPAQEBAQEBAQICAQEBAQEBAQEBAQEBBAQCAQYEAQEBAQEJFgwBBQwFAwYCAgMBAQIBBQgDBAcDBAMBBgQBAgYCBAkEBw4HDBcKBAkDAQIBAQIBBgYDBAMEAgQEWT4+ThQTBAUaGW1XV38BAQGMFRUXFwwbDwEBBg0HBQIDAgEBDxcJDRYKCQEBCA0FAgMCAQEAAAACABP/0wPtA60ALQBbAAABNTQ2NzYWHwEeARUWBg8BDgEnLgE3NSEVFAYHBiYvAS4BNzQ2PwE+ARceAQcVNyMiJicmNj8BPgEzNhYfAR4BBw4BJyMRMzIWFxYGDwEOASciJi8BLgE3PgEXMwMcBgUGDgmfBQUBBQadCQ0HBQYB/cQFBQYPCJ4GBgEFBp4JDgYFBgHfawsPAgIFCZ8FDggHDgadCQYDAw0Ma2sLDgMCBgieBg0HCA4GngkFAgIODGsB/msLDwICBQmfBQ4IBw4GnQkGAwMNDGtrCw4DAgYIngYNBwgOBp4JBQICDgxr3gYFBg4JnwUFAQUGnQkNBwUGAf3EBQUGDwieBgYBBQaeCQ4GBQYBAAAAAQATAPsD7QKFAC0AAAE1NDY3NhYfAR4BFRYGDwEOAScuATc1IRUUBgcGJi8BLgE3NDY/AT4BFx4BBxUDHAYFBg4JnwUFAQUGnQkNBwUGAf3EBQUGDwieBgYBBQaeCQ4GBQYBAf5rCw8CAgUJnwUOCAcOBp0JBgMDDQxrawsOAwIGCJ4GDQcIDgaeCQUCAg4MawAAAAEBO//TAsUDrQAtAAAlMzIWFxYGDwEOASMGJi8BLgE3PgEXMxEjIiYnJjY/AT4BFzIWHwEeAQcOAScjAj5rCw8CAgUJnwUOCAcOBp0JBgMDDQxrawsOAwIGCJ4GDQcIDgaeCQUCAg4Ma6QGBQYOCZ8FBQEFBp0JDQcFBgECPAUFBg8IngYGAQUGngkOBgUGAQAAAAABABUBBAPrAnoAHgAAASE1NCYnJgYPAQ4BFRQWHwEeATc+AT0BITI2PQE0JgPc/P4GBQUNCJUFBgYFlQgNBQUGAwIGCQkB/GQLDQIBBgiWAwwICAsHlQgGAQIOCmYJBlYGCwAAAQAVAQYD6wJ+AB8AABMVFBYzIRUUFhcWNj8BPgE1NCYvAS4BBw4BHQEhDgEVFQcIAwIGBQUNCJUFBgYFlQgNBQUG/P4GCQHrVgQLZgsNAgEGCJYEDQgIDQWVCAYBAw0KZAUMBAAAAAACAA8AywPvArcAPgBEAAABOAExDgEjIRUUBgcGJi8BLgE1NDY/AT4BFx4BHQEhOgEzMTI2NzgBMT4BNTwBNTQmJzQ2OwEyFhUcARUWBgcnDgEjMjYDZhQvGP2sAwUFDAeABAQEBIAHDAUFAwJUAQECCA0HKTkBAQYETQUIAkw/OwcPBggNAU0ICVoJCwMCBAiABQoHBgwDgAYGAQIMClcCAgpHLQMnGBUpDQQIBgYabQZHcRlTAgICAAAAAAEAa//RA5UDrwAfAAAFESMiJicmNjcBPgEXMhYXAR4BBw4BKwERFAYrASImNQFvyxgdBAUNEQFFCxoQERsLAUcRDQUEHRjNEQ3kDRERAhEMCw0eEQFHCwwCCgv+uREeDQsM/e8NERENAAAAAAkAAP/ABAADwAADAAcACwAPABMAFwAbAB8AIwAANyERIREhESERIREhASERIRUhESEVIREhASERIRUhESERIREhAAEA/wABAP8AAQD/AAGAAQD/AAEA/wABAP8AAYABAP8AAQD/AAEA/wDA/wACgP8AAoD/AAEA/wCA/wCA/wACgP8AgP8ABAD/AAAABQAm/8AD2gPAAAgADAAWABkAIQAAATUhAREzFSERJRUjNwMjETc1IRUjARETFSMBIREzNSERIwL3/jb++eMC0f07aGgMku8BQ5j++O5oAfr9zvIBQgIDBLz+8/3JvANEMWho/ZgBrwLxbf71/tYBrWn+AAGv8/1eAAAAAAMADQAAA/MDYgALABsALAAAJQEmIgcBBhYzIRY2JSMiJj0BNDY7ATIWHQEUBicjIiY9ATQ2OwEyFh0BFAYjA/P+OhM1Ev46ExslA48kGf4nWggJCwZaCAkJCFoICQsGWggJCQhNAxUgIPzrIC0CL08KB1UICQoHVQcKxgsG/ggJCwb8CAsAAAABARH/wALvA8AAFAAABSMRIzUzNTQ2OwEVIyIGHQEzByMTAlHAgIBRgI1aMROeE40CQAIAsWlre7ElIVix/gAACAAJAEYD9wM6ABAAIQAyAEMAUwBjAHQAhAAAExEUFjMhMjY1ETQmIyEiBhUTIyImPQE0NjsBMhYdAQ4BIzUjIiY9ATQ2OwEyFh0BDgEjNSMiJj0BNDY7ATIWHQEOASMBISImNRE0NjMhMhYVERQGMyMiJj0BNDY7ATIWHQEWBicjIiY9ATQ2OwEyFh0BFgYjNSMiJj0BNDY7ATIWHQEWBgkLCAPICAsLCPw4CAuoVQgLCwhXCAsBDAhVCAsLCFcICwEMCFUICwsIVwgLAQwIAjj+LggLCwgB0ggLC7NXCAsLCFcICwINCFcICwsIVwgLAg0IVwgLCwhXCAsCDQMm/TQIDAwIAswIDAwI/V4LCFgICwsIWAYN/AsIWAgLCwhWCA3+CwhYCAsLCFgIC/4GCwgCTwgMDAj9sQYNCwhYCAsLCFgGDfwLCFgICwsIVggN/gsIWAgLCwhYCAsAAgAKABoD9wNiABwARQAAASEGBw4BBwYHDgEHBiYjITY3PgE3Njc+ATc2FjMlISImBw4BBw4BByY1JjQ1NjU0Njc2FjsBMhYfARY2MzI2Fx4BFxYGFwEvAsgPEBAgERERBgwSEjkZ/TcODw8fDw8PCA0aFDYaAkD9+ixkJEEsFQkVCAIBARApK2w2Zi9JDwsQbDcdVhoLFgMJDAUB1y8vL18wLzAVIQgHAysuL18wLy0YLAQHBVYFCRBwQCA+Hj1AQIRCQkEwOgUFBQQgMygBBgoFFQgbWR0AAf/+ACIEAANeACAAAAERDgEHIS4BJzY1NjQ1NDU+ATczHgEXFjM6ATcyMx4BFwQABSYi/JggJwYBAQUmIuhUPk4yMzRoNTQ0IiUGAov95iImBwcmIlRUU6hTVFQiJgcFcgsDAQUpIQAEAAIAEQP+A28AOQBLAFcAYwAAASEiBw4BBwYVFBY7AQ4BFRQWFyMiBw4BBwYVFBceARcWMzI3PgE3NjU0JicuATU0Njc+ATU0JiczNwMeARUUBiMiJjU0NjMyFhceAQMuAScmNhceARcWBiU1IxUjFTMVMzUzNQIv/vUtKSpBFBNvWxoGBxYOLjgwL0cVFBYWSzEyNz8xMUMREik1EjUUICEpLClVPF4CAlVtTWR1TRIiDio5mjNWCAo9MzNWCAg7AdxAwMBAwANvEBA2JCMnUHIMGQ0WJBAQETUjIiUkHR0oCwsREDYjIiQ6TiUNMxMVHhoZSCoxWBAt/XMGDgg5UVM8OVEGBB0qAQACYURDXAECYENDXqzAwEDAwEAAAAADAAkAEwP1A2sAEAAhADIAABMhMhYdARQGIyEiJj0BNDYzESEyFh0BFAYjISImPQE0NjMRITIWHQEUBiMhIiY9ATQ2My0DpA4WFg78XA8VFQ8DpA4WFg78XA8VFQ8DpA4WFg78XA8VFQ8DaxYPSg8WFg9KEBX+nhYPSg8WFg9KEBX+nRUPSw4WFg5LEBQAAAACAAIAwAP+AsYArwDsAAABDgEHDgEHDgEHBiYjLgEnJgYnLgEnLgEvAS4BJy4BJzQ2JzU+ATc2FhceARceARc3PgE3LgEnLgEnLgEnLgEvASYGBw4BByMiJicmNjc+AScwJiMOAQcOAScuATc+ATc2FhcWBgc6ATc+ARc3PgEfAx4BFx4BJzQmLwEuATc+AR8BHgE3NiYnLgEnJjQ3PgEfAR4BFx4BFxY2Jy4BJy4BNzYWHwEeARceARceAQclDgEHHgEXHgEHDgEjKgEnLgEnBw4BBw4BIyImJy4BPwIuAScmNjc2FhceARc+ATc+ATc2MhcWFAcOAQcD/gIGBQYYDwgPCwUUBR4/Hh9BHggOCAUKBBgIEggGEgICAgIGBQoRCQgTCAQMBRMHBwMzZDEHCgcFCwUDAgQCFScTDRkNAgUHAwMBAjsuBQMDEjEIAw4GBwEDCj4dDRAFESM1AgECFS0ZAwEPAw8PLBoxGgMeAwgDGA4fCQgnDSYEDAECFAMIFQMFAwMVCA0DBgEHDQYGBQUDCQUICQUMNA5jGCwVEiAOBQcB/JcIEAoTKxEHAwMCCQQCAwIVKRUaCRMKAwcFAgUBBwMDJyIVIAUCBgcGCwIFGBAGCwYPHxYFDgUFBRAbDwFtDRcLFSgQChYGBAIDBgECAQoBBAMCCAMRBwwFAw4IAgECCAUIAgIDAwMHBQMGAgICAgMeQiADCQUDBwUDBgEDAwgGAwgCBAUECgVQXQgCASULBgEDAw4GDy4DAgoEFF1LAgYKAwICCAICBhwOHhABEg0DBAIPCBwTEgEIGAEDBgUJAwUJCggVCQgLAgIBBAEDCwECBgQEBQIFFAkaFwtCECgVEiYVDQ0ILxMmECM6CQMOBQQEAgo3ISoQIg4EBQEBAw4EQDwqThUGDAECBgYUPiIMGQ8hQhYFBQUOBBQ9HgAFAAYAHgP8A2YAKAA5AEoAVgBiAAAlNCYnMCcuAScmJy4BIyEiBgcGBw4BBwYHBhYXFRQWMyEyNjc+ATU+AQE+ATMhMhYXEyE2Nz4BNzY3ARQGIyEiJj0BNDYzITIWHQEnFAYjIiY1NDYzMhYXFAYjIiY1NDYzMhYD/AEEFBQzFxcFDDQn/e0aMwgEFxY0FhUEAwIBNyMDNRghDA4SAQH86AUSBQH6BBYDafz+BA8PIw8PAwLCDgv86AsODgsDGAsO8x4VFR4eFRUepx4WFR4eFRYelUqCCkFBn0ZGDBgqJBkLRESeQ0QICn8zMxpCFAoOJQ8BDQJuDgcHDv7KCy8uaS4tCv2MCQ4OCc0KDg4KzWkVHh4VFR4eFRUeHhUVHh4AAAAAAgAG/8YD+gO6ABsANwAAATIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NjciBw4BBwYVFBceARcWMzI3PgE3NjU0Jy4BJyYCAEU9PVsaGxobWj09RkU8PVobGhobWj08RWlcXIkoKCgoiVxcaWlcXIkoKCgoiVxcAw8aG1o9PUZFPT1bGhsaG1o9PUZFPT1bGhurKCiJXFxpaVxciSgoKCiJXFxpaVxciSgoAAIAM//RA7EDsQAYADEAABMmNDcBNiYvASYGBwEGFBcBHgE/AT4BJwEhJjQ3ATYmLwEmBgcBBhQXAR4BPwE+AScB1wQEAVIMAg8kDiUN/nMNDQGNDSUOJA8CDP6uAYkFBQFRDQMOJA8lDP51DQ0BiwwlDyQOAw3+rwG1BQ4FAYQOJQ0gDQMO/jUOKA7+Nw4DDSANJQ4BhAUOBQGEDiUNIA0DDv41DigO/jcOAw0gDSUOAYQAAAIADwA1A/EDSwBeAKAAABMiJicuATU0Njc+ATEwNz4BNzY/Az4BNz4BMzYWFzAXHgEXFhcwFjM2Jjc0Njc2FjMyNhcWBhUUBhceARceARceARUUBgcOAQcqAScuASMmJy4BJyYjIgcOAQcGJwEmNj0BJiIHBhUcARcUFRQWBwYmKwEqAScuAScmNj0BNCY3PgE3AT4BMzA2MxYXHgEXFhcWBh0BFBYHDgEHBiIrAUkKEAQFFxAKAxAyM4A6Og8NCwYIDggFEQESHQsVFTMWFgIJAQQFAQMCCDYMEDMIBQEDAwIJBhRPAgQTDAUFGAkEBgMFFQIWQUGKNzYCAkNDokVEBAIGAgICmgIBAQICAjkFghIgCgMMAgUBAgIBDAgBRAIBAgICBjc4gjU1AQICAQUCDAMLIRLAAXwRCAgVCggOCAMMKitqMTAMCwsCBg4DAgMBBwkSEisSEgEIA2gOAgoBCAEDCgaZJRIkCgUHBRBEAQUNCAgPBwYfAQIBFhM2NnItLTg4hjc4Af65AjIIsQICARgZQyIjFQMZAgEBBQELBQsrFsULFgUHBgYBCwICAgMtLWotLAIFGAvHFCsLBAwBBQAAAgAAAEAEAANAAAsAEAAAARQWMzI2NTQmIyIGASEJATcDAEs1NUtLNTVLAQD8AAEAAVWrAsA1S0s1NUtL/UsCq/5VgAAMAA0AkQPxAw0ADwAgADEAQgBTAGQAdQCFAJcApwC4AMgAACUhIiY1ETQ2MyEyFhURFAYBIgYVERQWMyEyNjURNCYjIRcUBisBIiY9ATQ2OwEyFh0BMxQGKwEiJj0BNDY7ATIWHQEzFAYrASImPQE0NjsBMhYdATMUBisBIiY9ATQ2OwEyFh0BBRQGKwEiJj0BNDY7ATIWHQEzFAYrASImPQE0NjsBMhYVFxQGKwEiJj0BNDY7ATIWHQEjMxQGKwEiJj0BNDY7ATIWFTcUBisBIiY9ATQ2OwEyFh0BAxQGIyEiJj0BNDYzITIWFQOT/NgnNzcnAygnNzf8sQwQEAwDKAsREQv82JcJCDUHCgkINQYLlQkINQYLCQg1BwqUCQg2BgsJCDYGC5MJCDYGCwkINgYL/qAJCDYGCwkINgYLkwkINQcKCQg1BguTCQgzBgsJCDUHCgKTCQg1BgsJCDUHCj4JCDUGCwkINQcKewkI/ogGCwkIAXoGC5E4JgHAJjg4Jv5AKDYCOBEL/kALERELAcALEY0HCgkINQYLCQg1BwoJCDUGCwkINQcKCQg1BgsJCDUHCgkINQYLCQg1mAYLCQg2BgsJCDYGCwkINgYLCQg2BgsJCDYGCwkINgYLCQg2BgsJCGIHCgkINQYLCQg1/uIHCgkINQcKCQgAAgBi/8kDoAO3ACEAKgAAATQnLgEnJiMiBw4BBwYdASMiBhURFBYzITI2NRE0JisBNSE0NjMyFh0BIQMVEhFGNDRERDQ0RhESRRwoMCECnCIvJx1H/ktOUlNN/sACpjQxMU0XFxcYTTExM7MvIv54Ii8vIgGIIi+zOGZkOrMAAAABAAsBUwP1Ai8AFAAAAQYmIyEiBicuATc2FjMhMhYXFhQHA/URhjj9tjqCEwoCChGGOgKkKz4MCgoBdSQCBSUScRclAwUdFW8UAAAABAAGAKQD/ALcAGMAfgDuAQwAAAEHDgEHDgEHDgEjIiYnLgE1NDY3PgEzMhYXHgEVFAYHDgEdARcyNjc+ATc+AT8BIzcyNjc+ATc+ATc+ATMyFhceARUUBgcOASMiJicuATU0Njc+ATU8AScmIiMiBgcOAQczDwElBw4BBw4BBw4BFRQWFwcuATU0Njc+ATc+ATcHNx4BFz4BNz4BNz4BMzIWFx4BFRQGBw4BIyImJy4BIyIGBw4BBx4BFx4BMzI2Nz4BNxcOAQcOASMiJicuAScuAScOAQcOAQcOASMiJicuATU0Njc+ATMyFhceATMyNjc+ATc+ATcuAScuASMqAQc3Ezc+ATc+ATc+ATc+ATU0Jic3HgEVFAYHDgEHDgEHAREkDRkLDRsQECYUDRMHBgcGBQUNCgYMAwMEAwIBAwQFBwMIDAQDCghAKwsLEgUFDAQSJBMTKhYPFQcGBwQFBQoGBwoFBAQDAQMBAgEDAgoTCRAaCi0LJgFABhcjDxYkDg8NDAsEKikNDxAwIhg7IiJtDhUFDxgGChIGBw8GCA0FBAQEBAULCAUMBgcJAQcNBggUDQ0WCAUJBQUHAwUNCgsPGg0JFAkKEAYHDAUEDQYSHAwJEgcGEAgIDAUFBAYFBQwIBQoFCAoDBQcFBQwHBBAMDxgIBQ0IBQoGBNcHER8MDBoNDRUIDAoNCwUpKg4OEDEhGjokAiCPM0oWFyILDAoGBQUMBgcKBQUDAwMDCQUFBwMDAgICAgMECBELBiYf9yQDBAMNCyAtDQ4OBgUGDgoIDQQFBAQFBAgHAwkFBQYCAQMCAgwLEjkoJQS8ERAkFSBPLy5XKBk5HBI4cDYgQB4lQRwVIw+iExczHRcfCA0OBQMEBAUFDAgICwUFAwICAQMEBAcaFS45CgYHAwIDEA0HFh4KBgkEBQUNCgkgFxciDAsNAwQDBAUFDAYIDQUFBgMCAwMDAQILBgUUEDZDCwcIAgv+exENHA8OKxobOh4oSiQZOR0ROHA2IEAeJUAdFSMPAAEAAAAkBAADXgAaAAABIiMGIiMiJy4BJyMOAQcRHgEXIT4BNxEuAScDsTM0NGg0MzJMP1XoIiYFBSYiA2YgJwYGJiMC2gEDC3IFByYi/WQhJwcHJyECGCEpBQAABAAAACIEAANgAAMABwATABgAABMRIREDIREhBRQWMzI2NTQmIyIGEyETATcABABA/IADgP8AOCgoODgoKDjA/QDAAQCAA2D8wgM+/QACwKAoODgoKDg4/fgCAP7AYAAABwAJ/80D+gOzAAQACQAOABMAFwAbAB8AABMRIREhASE1IRU3ITUhFTchNSEVASE1ITUhNSE1ITUhCQPx/A8B6v5LAbMC/ksBswL+SwGzAdH+UQGv/lEBr/5RAa8Ds/waA+b8ScbG5tPT9cfH/iXGINMixwAEAAQA9QP8AosAEQAjADUARwAAExUjNTQ2Nz4BNxcOAQcOAQczBRUjNTQ2Nz4BNxcOAQcOAQczNzUzFRQGBw4BByc+ATc+ATUjJTUzFRQGBw4BByc+ATc+ATUjpKANDRE3JSQWIwkLCwJPAQCgDQ0RNyUkFiMJCwsCT7igDQ0RNyckFiELCw1NAQCgDQ0RNyckFiELCw1NAautiDhQGCIxEjoKHBEUNiMCrYg4UBgiMRI6ChwRFDYjKK2IOE8ZIjMQOgocFBM2IQKtiDhPGSIzEDoKHBQTNiEAAAAAAgAN/8sD8wO3ABAAIQAABSEiJjURNDYzITIWFREOASMpASImNRE0NjMhMhYVERQGIwGL/qoQGBcRAVYQGAEXEAJA/qoQGBcRAVYQGBcRNRcRA5wQGBYS/GIQFhcRA5wQGBYS/GIQFgAEAAL/wgP+A74ABwAbACAAMQAAPwEnBxUzFTcBNCYjIgYHAQ4BFRQWMzI2NwE+AScJASERARQGDwEBNz4BMzIWHwEeARX3PqA+VkoBXgcIAwYB/pMCAgcIAwYBAW0DASQBGP3R/ugD/A0Nb/7pbw0dEhEgDJ4NDRo9nD5IVgMCbwgGAgL+kwEGAwgHAgIBbQEGhP7o/dEBGAHvEh8LbwEXbw0NDQ2eDCARAAAAAQB6/8IDjwO+AGIAABMeARcWBgcuAScmNjc2Nz4BNzY3NhceARcWFx4BFRQGBwYHDgEHIicuAScGBw4BBwYHJjc+ATc2Nz4BNTQmJyY2NzYWFxYGBw4BBwYWNzI2Nz4BNzYmJy4BBw4BBw4BBw4BF+sIIQECDAc7QwwNDxkWISJXNTU8LysrTCEhHDg9OTATIB9OKysqFCAWCwwNJBkZJAoEBBYPDw4DChABDCwvKUcFAxILCRQDAzo8Bw0INz8OEBMjIGpLQmojEx0IDAoMAgsaJiAVGBENRzY9fTEsJic6ExIEAwUFFhIRFS2GWF2VNxYWFhsBFAsVDzQ0M1slJRhEPj90Nzc1ECMNDhoNOH8UECklHUMgID8bMTcIBQQTbUBIky0oMAUEPiYVNBskSCMAAAADAAn/yQP3A7cAGwA4AE4AAAUiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYDIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmIwcwNjc2FjEFMBYVFAYxBTAGJy4BMRECAGhcW4koJycoiVtcaGhcW4koJycoiVtcaFJHSGwfHx8fbEhHUlJHSGwfHx8fbEhHUqYCDw4yAX4mHP5rKQ8MAzcnKIlbXGhoXFuJKCcnKIlbXGhoXFuJKCcDgh8fbEhHUlJHSGwfHx8fbEhHUlJHSGwfH6kwDg4Z7BgPDhj8DAgIHAHiAAAAAQA3/80DyQOxACEAAAEWBgcGBw4BBwYHDgEnLgE1ETQmNzYWFxYXHgEXFhceARUDyQElC2VkY8ZjY2QLIg0JBAEIDisNY2JixGNiYw0lAcINFwQ4NzduNjc3BhYHBRkVAzccVAoOGwg3NzZsNzc4BhMLAAABABH/zQPzA7UAMAAAARYUBwYmKwEGFhUUBgcGIicmNj0BIyIGJy4BNzYWOwE2JjU0Njc2FhcWBhURITYWFwPzCgoRhDi1AwEFHRNvFCQCtTiCEwkDChKFOLMDAQstMWANBgIBESg9DgILFG4UJAI7kUMrPg4KChGIOLMFJRJxFSQCO5BEM0QEBwsiEDMV/vIDBRwAAwAP/80D8wOzADcAZwB9AAABFgcOAQcGBwYHDgEHBgcGJy4BJyYnJicuAScmJyY3PgE3Njc+ATc+ATc2Fx4BFxYXFhceARcWFyU2Jy4BJyYnJgYHDgEVFBYXHgEzMjY3PgEXFgYHDgEHDgEXFjIzOgE/AT4BNz4BNwM8AScuAQcGFhUUBhcWNjMyFjc2JjUD8wQICSQZGR0dIyRUMDA3OTY1XikoICEcHCoODQQGCAgjGhkeHkErKGc4PTY1XicnHx4cHCsPDgT+0w8KCzMlJScrQCAQLBkJChQLCAsEHFkJCjoYFSEGAwQJBykQEyYJCQg5GA8aBooFGEYbEAEDCQooEA8rBggDAeI9NTZdJycgIBwcKw0OBAQICSQZGR0eJCNTMDA3PjY2XCYnICA2FxUdBQQJCSQZGRwcIyRVMTE3JzApKDsREQQDDw4IHRAPFgwMHQoDEgUoJS8VEy0ZD0YJBwdCGigaDigX/qYQIQ0DBwYDKBUOKgoKBAIKCicNAAAAAAEADQCrA/cC1QA6AAABJicuAQcGBw4BJyY2NzY3PgE3NhcWFx4BFxYXNjc+ATc2FxYGFRQWFRQWBwYmIyImIyIGJyY2Nz4BNwKzTVBQolBQTwsVCBJOEygoKFEpKCg4NTZqNTY3DRcWLxQVDBEHAgYjFUAYN2k4EU4LCjARFSYWAWJLNTYxCQkzCAgIEUcOIRcXHAUGAwMODjQnKDUHGRgwDw4OFEIUNGg6GFEXDAICBBURMBIWJhUAAAAAAQAL/8kD9wO3AGIAACUUBgcOAScuAScmJy4BJyYnBgcOAQcGBw4BJy4BJy4BNz4BNzY3PgE3NjcmJy4BJyYnLgEnJjY3PgEXHgEXFhceARcWFzY3PgE3Njc+ARceARceAQcOAQcGBw4BBwYHAR4BFQP3Ig8QJiMbNhEgIiJEISEfIiIiQyMiIxU3JRYhCxArCAY6Ex8jI0YhIh0eISFFIyIhEzoGCCcSECslGDIRISIhQiAgHyIiIUIiISMUPCUVIA0SKAcFORUgIiJEIiEgAREVPEsdIA4QLAUDOhQgIiJFIiIfICEhQyIiIxVBBQMhDRAqIRozEyAiI0YiIh4bISFGIyIfETIYJSgREC8MBjoTISEhQyAhHyAgIUMiIiIVQQUDIQ0RKSEdMBMgIyJGIiIg/vMSNB4AAwAC/8QD/AO8ACsAMwA6AAABFgYVERQWBw4BBwYmIyEiBicuAScmNjURNCY3PgE3NhYzITI2Fx4BFx4BFwMRISIUFREhAxUjNiY3MwP3CgUFDAYjFSSFMP5CM34mGCIGDQYBCAkrHyloLwF5LGwiHikVEzUExv08AgLGgH4CAwN8Aw0rZTD+dyl2HxMiBg0GBg0IIBMlgDUCLRk7FB0jBQQCBwwIMBQSMRv+6AFiBAL+pAEv/kCBPQAAAAACAAv/zQPzA7cAOQBUAAATJicmNjc2NzY3PgE3Njc2Fx4BFxYXHgEHDgEHHgEXHgEXHgEXFgYnLgEvAQYHDgEnJicmJy4BJyYnBRY3PgE3NicuAScuAQcOAQcOARcWFx4BFxYXIhMEBRASExoaIiJSMDA1RT08YyYmGRsmAwMoIAscDxw6Hw4hBg9DMBIfDa8hLy9qNzcxKyYmPxkZEAFRS0ZGYRIRHxNCKxtOL1FuGBAPAQMREjclJSoBejQ2NmcvLyUlHyAvDw4DBRAPOycnKS95RUNuLRAdDx04IA4gEi1HEgYiDa0cEhINBQYTEBkZQCYmLHQQFxhmSUhRMUwWDhEDCFgxIEwoLigoPhYVCgAAAAAC//7/vAQEA8IAlACgAAABLgEnLgEnJjY3PgE3NiYvAS4BDwEOAScuAScuAScuASsBIgYHDgEHDgEHBiYvASYGBw4BBw4BFx4BFx4BBw4BBw4BBw4BHQEUFh8BHgEXFgYHDgEHBhYfAR4BNz4BNz4BFx4BFx4BFx4BOwEyNjc+ATc+ATc2FhceARcWNj8BPgEnLgEnLgE3PgE3PgE3PgE9AS4BJwEiJjU0NjMyFhUUBgPiFSkVDRkFBQQIDBoLCAMKWwocC0ULHwsLEgMCBQQBFg2ADRgBBQcDAhMLCx8MRAscChYvFwkDCA0ZCwgCAwUZDRMpFQ0TEw1TDRkFBQUHDBoLCAMKWwocCxIjEgsdCwsRAgMHBQEXDn4NFgEDBwUCEwsLHQsSIxILHApcCQMIDRkLCAMEBRgOFSkVDRMBFA3+Hktsak1LbGwCJgQHBAITCwweDBEjEAscClwJAwgxCAMFBBkNEigVDRMTDRUpFQ0ZBQUGCDEIAwkYLhYKHAsSIREMHwsLEQIEBwQBFw6ADRYDDQITCwsfDBEjEAscClwJAwgNGQsIAgMFGQ0VKRUNExMNFSoWDRcFBAMIDRkLCAMJXAocCxIhEQwfCwsRAgMHBQEXDoAOFQP+42xLS2xsS0tsAAAAAAIACQAXA/wDaQAwAHQAAAEeAQcOAQcOAQcOAScuAT0BBgcOAQcGBw4BIyI2Nz4BNzY3PgE3Njc2JhceARceARcDBhYHDgEHBiYjISIGJy4BJyY2NTQmNz4BNzYWOwEOARUOAQcOAQcGJisBIgYHBhYVERwBFxY2MyEyNjc2Jjc+ATc+AQPADjYIBSkOIj8jCy0TEAFbUVB+KysQAggJFwYCCEIyJCgpYDg3QggPHhckDh5AIhUECQoMUDsmVCj+vihRJTNOAwUFBQUEWz48djvtAgIaLBYTJxUjVSRPLD0KCAQoGmYeAZQsPAsFBwYCEwcVJQKtDy0iFSQQIT8iCzEFBTkVZAEPD0Q2Nk8LElkTWIIvIBgYIAkIARqSAwQqDh8+I/6vOmAoNEoFAwMDCAtVOT2JRUWIPENYBQQEEB8RBQYHBBQBBQUMHRhSIP7oNmoPCQUKHxAqFAcNBhMrAAACADP/zwOxA7EAGAAxAAAlBhYfARY2NwE2NCcBLgEPAQ4BFwEWFAcBIQYWHwEWNjcBNjQnAS4BDwEOARcBFhQHAQG+DQMOJA8lDAGLDQ3+dQwlDyQOAw0BUQUF/q/+dQ0DDiUOJQ0Big0N/nYNJQ4lDgMNAVEFBf6vLw4lDSANAw4ByQ4oDgHNDgMNIA0lDv56BQ4F/nwOJQ0gDQMOAckOKA4BzQ4DDSANJQ7+egUOBf58AAAFAAD/wAQAA8AAAwAHAAsADwAUAAATESERBSERIQMhESE1IREhASERIREABAD+UQET/u2g/u0BE/7tARMBsf7vARMDwPwABACe/u3+TwETngET/TwBE/7tAAAAAAcACf/NA/oDswAEAAoAEAAWABoAHgAiAAATESERIQEhNSEVMzUhNSEVMzUhNSEVMwEhNSE1ITUhNSE1IQkD8fwPAer+SwGzAv5LAbMC/ksBswIBz/5RAa/+UQGv/lEBrwOz/BoD5vxJxsbm09P1x8f+JcYg0yLHAAIAAv/pA/oDlwAZADIAAAERIRE0Nz4BNzY3Njc+ATc2NxcOAQcOAQczBREhETQ3PgE3Njc2Nz4BNzY3Fw4BBw4BBwF+/oQEBBALDA8WGxpCJicsVjdPGBodA7oCYP6EBAQQCwwPFRobQSYmLVY3TxgaHQMBgv5nAURBOTlfJicdJyIjOxkaFIgWRCwtgVcC/mcBREE5OV8mJx0nIiM7GRgUiBdDLSyBVwAAAAADAAD/xAP6A8AAJABJAG4AAAERFAYHDgErASImJy4BPQE0Njc+ATsBNTQ2Nz4BOwEyFhceARUFNCYnLgEnLgEjIgYHDgEHDgEVFBYXHgEXHgEzMjY3PgE3PgE1MxQGBw4BBw4BIyImJy4BJy4BNTQ2Nz4BNz4BMzIWFx4BFx4BFQJRAwMEBgXTBQcDBAMDBAMHBZUDAwMHBSsFBwMBAwETGRgYQigqWjEyWiopQRgYGRkYGEIoKloyMVoqKkAYGheWIyIhXTs7f0ZFgDs7XCMgIiMhIl07O35HRYA7O1sjICMCrf7XBQYEAwMDAwQGBSsFBwMDA+kFBwMDAwMDAwkD6zJaKSpBGBkYGRgYQygpWjIxWykqQBgYGRkYGEIoKVwwRYA7O1sjIiMjIiFdOzuARUWAOztcIyEjIyEiXTs7gEUAAAABAAAAIgQAA14ASwAAAQ4BBz4BNw4BBy4BIyIHDgEHBhUUFhcmJy4BJyYnDgEVFBYXLgEnFRQWFw4BIyImJx4BMw4BIyoBJxYXHgEXFjMyNz4BNzY9AT4BNwQAHT0gIDELHkMlHVAtKyYmORARAwNAPT1vMDAoDA8yLBowFmBIDRwOChUKFWtENoRKDRkLIyYmUSsqLZFvcJcnJx81FQL+DRAFEzslEhkIHiQREDkmJisNFwsDERE4JygwGDQdNlwdAg0LAk1yEAQDAwI/UykwAhYSERgHBjY3rGpqaBwVNiAAAAABAAsAqQP1AtMAOgAAAR4BBwYmIyIGIyIGJyY2NTQ2NTQmNzYXHgEXFhc2Nz4BNzY3NhceARcWFx4BBwYmJyYnJgYHBgceARcBoBIvCgtOEThpNxhAFCIEAgYQDBUVLhcWDTg1NWo2NTgoKShRKCgoEk8SCBULT1BQolBPThUmFgEPEjAREwICBA4XURg6aDQWPxUODg8wGBkHNSgnNQ4OAgMGBRwXFyEORxEICAg0CQoxNzZLEyYYAAAAAAYABP/GA/oDvAAEAAgADwAWAB0AJAAAExEhESEBIREhARcHNxc3FwEHJwcnNycRNyc3FzcXAQcnBycXBwQD9vwKA4L89gMK/e883CI6YEYBTyI5Z0RmOzlkRmU5Iv6xRGI6Itw8A7z8CgP2/IADCP2pPCDaOmJGAZnbOWREZzn97zpkRGQ83AGYR2I52yI5AAIAAP/EBAADvgBaAN4AAAEuASMuAQcOAQciBgcGBw4BBwYdAR4BHwEeAR8HHgEVHwMeARceARceARczHwIeARceATMeAR8DHgEzHgE3MjY/ATY3PgE3NjU0Jy4BJyYnBRYGFx4BFx4BNzYmJzYWFx4BFx4BFw4BBx4BFx4BFz4BNz4BNz4BNyY2Jy4BLwI2Jic+ARc2MjMXMyc+ATcuASc+ATM2JjU0NjU2JjcOAQciJicmNjcnBiYHDgEHLgEnPgE3MzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NjceARcCsQMHBShXMDFZJwEGAUY6OVMXFwIDBAIDCQUECwQTDQINAQMNBhENBw0ICAsEBAUCAg0CDQMHBQEGAQIEAxEXKwUHBSNLKh43GghTRkZmHRwZGFk+PUr+aw0OAwEQBgUNDgQSBQcOBxU6KAUQBQ4jERAnEwQrIAUKBQQFDhVVGAUQBwQpCrEcBRUMDRgTBikVCRcKESQTAgYFBREGAw4YARwIECcMCAwFAygKDxUjDxERDwwbEAYQCBNXTUxyISEhIXJMTVdXTUxyISEKCygcHCINFQcDogICDQwBAhIOAwIcMC96SUlQKw4bDg0OHQwNGgonFQQUAQMCDwkTDwYNBgUJAwIFAggDCAIFAgEDAQIBCQoRAgMJCQEIBQIVLi+CUFBZU0xLfi8wG8QbPB4MGAsKHQsLGAoBEAcTHQMLEgkVJxMVIBJYiDsECwYmQBolOiUbLhMTChATFx0dDQkhDgwqKggUBwgMBQMBBwMDCAsFDBQTBxkRAgIiExQqAwwEBCMGAwYBECAOISFzTE1WV01MciEhISFyTE1XMS0uUyQkHQYSDgAAAAACABH/zQP8A74APgBEAAABJQYHDgEHBicGBw4BBwYHDgEnLgEnLgE3PgE3Njc+ATc2Nz4BNzYmJyY2Nz4BNzYWFw4BDwEOARUeARceARcBNiYHBhYC4gEaCx4fYUJBUCwtLlstLiwYRzITJRAaLhsOPhghIB8/ICAhCiQDAgsBBTIiJGg+VG4rSYxEFgEFAS8JEBwQ/eQqGS40HQIGZUM3OEoODhEpLS1bLi4sGDAXCCYQGFYwGTcYIR8fPiAfIgohCAopDUJvJCg6BQY2KBk1GG0IFgYLIgYQGgz+Og5eCglrAAABAAL/xAP8A7wALQAAJRceAQcOASMhIiYnLgE1ETQ2NzYWHwEBJy4BNz4BMyEyFhceARURFAYHBiYvAQEiawsJAwMUEv7CCRMICAkICQgTDGoCOmsLCQMDFhABOwwSBwgJCQgIFAtqZmoLFAgICQkIBxIMATkSFAMDCAxrAjpqCxQICAkHCAgTDP7FEhQDAwcNawAAAQAe/8YD4gO6ADQAAAEiBgclPgE1NCYnJR4BMzI2NTQmIyIGFRQWFwUuASMiBhUUFjMyNjcFDgEVFBYzMjY1NCYjA0QjPhb+hgMEBAMBehY+I0JcXEJBXQQD/oYWPiNCXFxCIz4WAXoDBF1BQlxcQgECHhnKChYLCxYKyhkeXEJBXV1BCxYKyxoeXEJCXB4aywoWC0FdXUFAXgAAAQANALoD6wLeAAwAAAkBBiYnASY2MyE2FgcD6/5IGTsW/kQXGCUDkRswJAJz/kcaAhgBwBRQAUQoAAAAAQD6/9UDHgOzAAwAAAUBJjY3ATYWFREWBicCs/5HGgIYAcAUUAFEKCsBuBk7FgG8Fxgl/G8bMCQAAAAAAQDi/80DBgOrAAwAAAkBFgYHAQYmNREmNhcBTQG5GgIY/kAUUAFEKAOr/kgZOxb+RBcYJQOWGC4kAAAAAQAPAKAD6wLEAAwAACUhIiY3AT4BFwEWBiMDyfxsJBgWAbwUOxsBtiQuGKBPFQHAGAIa/kkoRQABAAYAUQP6Ay8APAAAATYWFx4BFxYGBwYHDgEHBgcOASMiJicmJy4BJyYnLgE1NDY3PgEXHgEXHgEXHgEzMjY3Njc+ATc2Nz4BNwNxICUVDh8CAS4ROzo6dDo6OhIuGB4/Eh4fHz4fHx8NGiMODyEdFyMPK0otAxoDBS8ILiwsVywrLg0kEwMvBiQTDx4THS0SOzo6dDo6OhIuRhIeHh49IB8hDRoVGx0ODyUDASkNK0gtAx8xCC4sLVgtLCwPJAUAAAAAAQALAIQD9wL8ADQAACUeATc+ATcBPgEnLgEnLgEjIgYHBgcOAQcGByYnLgEnJicuASMiBgcOARceARcWFx4BFxYXAbwRJBoTJQ4BcRMmBAMgEBEjFiI3ECQiIkMiIiQfISJGIyMhEjQeFyQQEC8KBCcQLy4tXS8vMbESHgMCJQ8BcRMnHRghEBEgPxAkIiJDISIjHyIiRyMjIRE+HxAPMiESIg4wLi9dLy8wAAEBUv/6A4wDhAA6AAABDgEXHgEXFhceARcWFx4BNz4BNz4BNzQmJyYnLgEnJic2Nz4BNzY3PgE3NCYnLgEHDgEHBgcOAQcGBwF7EBsCAiENKiopUioqKhEkGRUfDhAcATkOIR4ePB8eIBwfHz8gHx4QNgEdDg0uHhAfDSspKlMqKiwB/g8hFxIhDSopKVMpKisQIgIDHQ8PIBQeMg8gHh88Hx8gGx8eQB8gHRAuHBQhDw4qCAQkDSspKlMqKiwAAAEBUv/6A4sDhAA6AAABHgEHDgEHBgcOAQcGBw4BJy4BJy4BNTQ2NzY3PgE3NjcmJy4BJyYnLgE1NDY3PgEXHgEXFhceARcWFwNiEBwDAiAOKikpUykqKhEkGhUeDw8dOQ4gHx48Hh8gHB8fQB8gHRA3HQ4NLR8PIA0qKilUKiorAf4PIRcSIQ0qKSlTKSorECICAx0PDyAUHjIPIB4fPB8fIBsfHkAfIB0QLhwUIQ8OKggEJA0rKSpTKiosAAAAAAEACQCEA/cC/AA0AAATDgEHBhYXHgEzMjY3Njc+ATc2NxYXHgEXFhceATMyNjc+ATc2JicBLgEnJgYHBgcOAQcGB0QOKQQILxAQJhUeNBIgIyNGIiIfJCIiQyIiJBA3IhYjERAiAQQmE/6PDiUTGiQRMS8vXS4vLwFaDyQQIzIPEB8+ESAjI0cjIh8jISJDIiIkED8gERAiFx0nEwFxDyUCAx4SMS8vXC4uLgABAAIADQP8A28ATQAAARQGBw4BBw4BIyImJw4BBw4BByImJy4BJyY0PwEwND8BPgE3PgE3PgE3PgE3PgE3PgE3LgEnLgE1NDY3PgE3PgE3PgEzMhYXHgEXHgEVA/wjIiFdOzt/RhMqFjiDSg4gEgQJBAMGAQICAgINAQkHBgoDAwkFBgoDAwkDBQcDLUYaGRoUFRQ1IyJSLy5jM0WAOzldIyIjAgkyWiopQxgYGQMBMUQTBAYDAQMDCQUCAwIGAwMNAgkICAoEAwwGCA4IBhELChUMGT4kJVArJUchIjkYGCcODw0ZGBhDKSdZMQAAAAACAAQANwP+A08ALwBbAAABFgYHHgEXHgEHBiYnLgEnLgEnJgYjBicuAScmJxY3PgE3Njc2Nz4BNzYnOgEVHgEnFgYHBgcOAQcGJy4BIw4BBw4BBw4BJyY2Nz4BNy4BNz4BNz4BNzYWFx4BFwP+BmQ6BxMNBiUFBSsMIzUdCx4KChoNLy0uUyIjGDIvMFgoKCMnJSUxCAcTAQE6X9UDHxUdKSpoPD1CCxgICSIKGzImECkFCCYIDRAKNWgFA0gvMX5IWI85NFUGAaldbicTHRAIIRASCAMIFw4HFgECCAQEBBQPDxIEBAQVEREWGiUlXTc4PwIlYT4yTxsmHR4nCAgHAQUBGAUOFggEBQ0RIQoQHRAqamBDYyAiKgMFJiEgaEsAAAAAAgAGAHED+gMNAB0AKgAAJRE2JgchMAYHBgcOAQcGMTAXHgEXFhceATElFjYnJwcnByc3JzcXNxcHFwP6Ax8e/aQWCg00M3AtLS8uczQzDAkSAmkRHwO8S4aLS4mJS4mGTYmJqQIsGiEDAwgNNDRyLS4wMHY0NAgHAgIBHxiOSoqKTYiJSoaGSomLAAABAA7/xAP3A7wAbAAAEx4BFx4BFzY3PgE3Njc2Fx4BFxYXFhceARcWFxYXFgYHBgcOAQcGBw4BBwYnJicuAScmJy4BJyY2NzYWFx4BFx4BFx4BMz4BNz4BNTQmJy4BJyIGBx4BFx4BBw4BIyoBIyIGJyY2NTwBNTQ2MzMWJA8SHg8hIiJMKyozMi4tUSMkHx0aGy0SEgsNBAUHCwoTImdGIScoWTExNEg/P2UlJRQCBAICJh0dLwQEBQIOMiIqelVSeistOz0rK3pQSmUwERoTCTEDAjkVHC4cL4UPCAICEwO8ASgPEiANGRYVHwoJAQEIBxwUFBcXHBxAJSQoKjAwXy0tJ0luKRQPEBEBAQoPHx9dOzxGBxkNEyAEBA4OChMFMlAfKDoBPywtfk5PfyssPwEqIRQbEgkoFBMDAx4PMxUyUTUWPgAAAQAAAAEAABLRJ+NfDzz1AAsEAAAAAADWMnTuAAAAANYydO7//v+8BAQDwgAAAAgAAgAAAAAAAAABAAADwP/AAAAE3v/+//wEBAABAAAAAAAAAAAAAAAAAAAAWAQAAAAAAAAAAAAAAAIAAAAEAAAABAAARwQAABQEAABGBAAACAQAABEEAABIBAAA4AQAAXoEAAAzBAAAWgQAAE8EAABvBAAABAQAAAsEAABjBAAAEwQAABMEAAE7BAAAFQQAABUEAAAPBAAAawQAAAAEAAAmBAAADQQAAREEAAAJBAAACgQA//4EAAACBAAACQQAAAIEAAAGBAAABgQAADMEAAAPBAAAAAQAAA0EAABiBAAACwQAAAYEAAAABAAAAAQAAAkEAAAEBAAADQQAAAIEAAB6BAAACQQAADcEAAARBAAADwQAAA0EAAALBAAAAgQAAAsEAP/+BAAACQQAADMEAAAABAAACQQAAAIEAAAABAAAAAQAAAsEAAAEBAAAAAQAABEEAAACBAAAHgQAAA0EAAD6BAAA4gQAAA8EAAAGBAAACwTeAVIE3gFSBAAACQQAAAIEAAAEBAAABgQAAA4AAAAAAAoAFAAeAtYDQgOyBDAE+gVgBdwGFgYuBuYHTAfyCDYIlglCC+oMdgzADQoNPA1wDc4OBA5KDogOzA7sD5oQBhA6EMoREhJ0EwYTXBO2FJgUuhW4FfgWHhegF84X/hg4GKYY2hkwGcoaPhp4GsIbhBviHH4c3B1mHlofCh9kH5IfziAkIMYhOCGWId4jJCOWI+AkLiRMJGokiCSkJQYlXCW8JhwmcibqJ3wnwihmAAAAAQAAAFgCLQAMAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAYAAAABAAAAAAACAAcAVwABAAAAAAADAAYAMwABAAAAAAAEAAYAbAABAAAAAAAFAAsAEgABAAAAAAAGAAYARQABAAAAAAAKABoAfgADAAEECQABAAwABgADAAEECQACAA4AXgADAAEECQADAAwAOQADAAEECQAEAAwAcgADAAEECQAFABYAHQADAAEECQAGAAwASwADAAEECQAKADQAmGRlc21vcwBkAGUAcwBtAG8Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGRlc21vcwBkAGUAcwBtAG8Ac2Rlc21vcwBkAGUAcwBtAG8Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmRlc21vcwBkAGUAcwBtAG8Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=\") format('truetype');font-weight:normal;font-style:normal}[class^=\"dcg-icon-\"],[class*=\" dcg-icon-\"]{font-family:'desmos'!important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.dcg-icon-bottom-arrow:before{content:\"\\e90d\"}.dcg-icon-rocket:before{content:\"\\e90e\"}.dcg-icon-reset:before{content:\"\\e954\"}.dcg-icon-desmos:before{content:\"\\e900\"}.dcg-icon-download:before{content:\"\\e901\"}.dcg-icon-embed:before{content:\"\\e902\"}.dcg-icon-export:before{content:\"\\e903\"}.dcg-icon-book:before{content:\"\\e904\"}.dcg-icon-print:before{content:\"\\e905\"}.dcg-icon-magic:before{content:\"\\e906\"}.dcg-icon-cursor:before{content:\"\\e907\"}.dcg-icon-point:before{content:\"\\e908\"}.dcg-icon-dashed-function:before{content:\"\\e909\"}.dcg-icon-function:before{content:\"\\e90a\"}.dcg-icon-arrows-two:before{content:\"\\e90b\"}.dcg-icon-arrows-one:before{content:\"\\e90c\"}.dcg-icon-desmos-badge:before{content:\"\\e910\"}.dcg-icon-move:before{content:\"\\e911\"}.dcg-icon-move-horizontal:before{content:\"\\e912\"}.dcg-icon-move-vertical:before{content:\"\\e913\"}.dcg-icon-arrow-left:before{content:\"\\e914\"}.dcg-icon-arrow-right:before{content:\"\\e915\"}.dcg-icon-arrow-enter:before{content:\"\\e916\"}.dcg-icon-shift:before{content:\"\\e917\"}.dcg-icon-dragdots:before{content:\"\\e918\"}.dcg-icon-duplicate:before{content:\"\\e919\"}.dcg-icon-error:before{content:\"\\e91a\"}.dcg-icon-facebook:before{content:\"\\e91b\"}.dcg-icon-film:before{content:\"\\e91c\"}.dcg-icon-folder-open:before{content:\"\\e91d\"}.dcg-icon-folder:before{content:\"\\e91e\"}.dcg-icon-google-plus:before{content:\"\\e91f\"}.dcg-icon-hamburger:before{content:\"\\e920\"}.dcg-icon-handwriting:before{content:\"\\e921\"}.dcg-icon-hdd:before{content:\"\\e922\"}.dcg-icon-hidden:before{content:\"\\e923\"}.dcg-icon-hide:before{content:\"\\e924\"}.dcg-icon-home:before{content:\"\\e925\"}.dcg-icon-image:before{content:\"\\e926\"}.dcg-icon-keyboard:before{content:\"\\e927\"}.dcg-icon-lock:before{content:\"\\e928\"}.dcg-icon-minus:before{content:\"\\e929\"}.dcg-icon-new-expression:before{content:\"\\e92a\"}.dcg-icon-new-folder:before{content:\"\\e92b\"}.dcg-icon-new-image:before{content:\"\\e92c\"}.dcg-icon-new-table:before{content:\"\\e92d\"}.dcg-icon-new-text:before{content:\"\\e92e\"}.dcg-icon-pause:before{content:\"\\e92f\"}.dcg-icon-pencil:before{content:\"\\e930\"}.dcg-icon-pinterest:before{content:\"\\e931\"}.dcg-icon-play-circle:before{content:\"\\e932\"}.dcg-icon-play:before{content:\"\\e933\"}.dcg-icon-plus:before{content:\"\\e934\"}.dcg-icon-question-sign:before{content:\"\\e935\"}.dcg-icon-redo:before{content:\"\\e936\"}.dcg-icon-remove:before{content:\"\\e937\"}.dcg-icon-save:before{content:\"\\e938\"}.dcg-icon-search:before{content:\"\\e939\"}.dcg-icon-settings:before{content:\"\\e93a\"}.dcg-icon-share:before{content:\"\\e93b\"}.dcg-icon-show:before{content:\"\\e93c\"}.dcg-icon-square:before{content:\"\\e93d\"}.dcg-icon-table:before{content:\"\\e93e\"}.dcg-icon-text:before{content:\"\\e93f\"}.dcg-icon-time:before{content:\"\\e940\"}.dcg-icon-twitter:before{content:\"\\e941\"}.dcg-icon-undo:before{content:\"\\e942\"}.dcg-icon-window:before{content:\"\\e943\"}.dcg-icon-world:before{content:\"\\e944\"}.dcg-icon-wrench:before{content:\"\\e945\"}.dcg-icon-zoom:before{content:\"\\e946\"}.dcg-icon-android-share:before{content:\"\\e947\"}.dcg-icon-caret-down:before{content:\"\\e948\"}.dcg-icon-caret-left:before{content:\"\\e949\"}.dcg-icon-caret-right:before{content:\"\\e94a\"}.dcg-icon-caret-up:before{content:\"\\e94b\"}.dcg-icon-check:before{content:\"\\e94c\"}.dcg-icon-chevron-down:before{content:\"\\e94d\"}.dcg-icon-chevron-left:before{content:\"\\e94e\"}.dcg-icon-chevron-right:before{content:\"\\e94f\"}.dcg-icon-chevron-up:before{content:\"\\e950\"}.dcg-icon-comment:before{content:\"\\e951\"}.dcg-icon-comments:before{content:\"\\e952\"}.dcg-icon-delete:before{content:\"\\e953\"}.dcg-display-domain{padding:5px 0 13px 50px;font-size:95%;color:#555;white-space:nowrap;margin-bottom:-5px;margin-top:-5px}.dcg-editing-domain .dcg-display-domain{display:none}.dcg-editing-domain .dcg-edit-domain{display:block}.dcg-action-opendrawer{display:none}.dcg-container .dcg-show-expressions-tab{background:#eee;background:-webkit-linear-gradient(#fff,#ddd);background:-moz-linear-gradient(#fff,#ddd);background:-o-linear-gradient(#fff,#ddd);background:-ms-linear-gradient(#fff,#ddd);background:linear-gradient(#fff,#ddd);border-right:1px solid #ccc;height:50px;border-bottom:1px solid #ccc;line-height:37px;font-size:100%;cursor:pointer;position:absolute;top:0;left:0;width:50px;border-radius:0 4px 4px 0;text-align:center}.dcg-container .dcg-show-expressions-tab .dcg-resize-list-btn{width:50px;line-height:50px}.dcg-container .dcg-show-expressions-tab .dcg-resize-list-btn .dcg-icon-show{padding-right:12px}.dcg-container.dcg-narrow .dcg-expression-top-bar{border-right:0}.dcg-container .dcg-expression-top-bar{background:-webkit-linear-gradient(#fff,#ddd);background:-moz-linear-gradient(#fff,#ddd);background:-o-linear-gradient(#fff,#ddd);background:-ms-linear-gradient(#fff,#ddd);background:linear-gradient(#fff,#ddd);border-right:1px solid #ccc;height:50px;border-bottom:1px solid #ccc;line-height:37px;font-size:100%;position:absolute;top:0;left:0;width:100%;text-align:center;z-index:4;-webkit-transition:box-shadow .2s ease;-moz-transition:box-shadow .2s ease;-o-transition:box-shadow .2s ease;-ms-transition:box-shadow .2s ease;transition:box-shadow .2s ease;padding:6px 8px}.dcg-container .dcg-expression-top-bar.dcg-expressions-scrolled{-webkit-box-shadow:-2px 2px 4px rgba(0,0,0,0.15);box-shadow:-2px 2px 4px rgba(0,0,0,0.15)}.dcg-container .dcg-expression-top-bar .dcg-show-in-edit,.dcg-container .dcg-expression-top-bar .dcg-hide-in-edit{-webkit-animation:dcg-fadeIn .3s;-moz-animation:dcg-fadeIn .3s;-o-animation:dcg-fadeIn .3s;-ms-animation:dcg-fadeIn .3s;animation:dcg-fadeIn .3s}.dcg-container .dcg-expression-top-bar .dcg-show-in-edit{display:none}.dcg-container .dcg-expression-top-bar .dcg-hide-in-edit.dcg-btn-light-gray,.dcg-container .dcg-expression-top-bar .dcg-show-in-edit.dcg-btn-red,.dcg-container .dcg-expression-top-bar .dcg-show-in-edit.dcg-btn-blue{padding:0 15px;height:37px;line-height:35px}.dcg-container .dcg-expression-top-bar .dcg-center-aligned,.dcg-container .dcg-expression-top-bar .dcg-offcenter-aligned{position:absolute;top:0;left:50%;height:50px;width:140px;z-index:-1}.dcg-container .dcg-expression-top-bar .dcg-center-aligned .dcg-action-undo,.dcg-container .dcg-expression-top-bar .dcg-offcenter-aligned .dcg-action-undo{padding-right:3px;padding-left:7px}.dcg-container .dcg-expression-top-bar .dcg-center-aligned .dcg-action-redo,.dcg-container .dcg-expression-top-bar .dcg-offcenter-aligned .dcg-action-redo{padding-left:3px;padding-right:7px}.dcg-container .dcg-expression-top-bar .dcg-center-aligned .dcg-action-undo,.dcg-container .dcg-expression-top-bar .dcg-offcenter-aligned .dcg-action-undo,.dcg-container .dcg-expression-top-bar .dcg-center-aligned .dcg-action-redo,.dcg-container .dcg-expression-top-bar .dcg-offcenter-aligned .dcg-action-redo{font-size:140%;line-height:55px;cursor:default;-webkit-transition:opacity .2s;-moz-transition:opacity .2s;-o-transition:opacity .2s;-ms-transition:opacity .2s;transition:opacity .2s}.dcg-container .dcg-expression-top-bar .dcg-center-aligned .dcg-action-undo:not(.dcg-enabled),.dcg-container .dcg-expression-top-bar .dcg-offcenter-aligned .dcg-action-undo:not(.dcg-enabled),.dcg-container .dcg-expression-top-bar .dcg-center-aligned .dcg-action-redo:not(.dcg-enabled),.dcg-container .dcg-expression-top-bar .dcg-offcenter-aligned .dcg-action-redo:not(.dcg-enabled){opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}.dcg-container .dcg-expression-top-bar .dcg-center-aligned .dcg-action-undo.dcg-enabled,.dcg-container .dcg-expression-top-bar .dcg-offcenter-aligned .dcg-action-undo.dcg-enabled,.dcg-container .dcg-expression-top-bar .dcg-center-aligned .dcg-action-redo.dcg-enabled,.dcg-container .dcg-expression-top-bar .dcg-offcenter-aligned .dcg-action-redo.dcg-enabled{cursor:pointer}.dcg-container .dcg-expression-top-bar .dcg-center-aligned .dcg-action-undo .dcg-text,.dcg-container .dcg-expression-top-bar .dcg-offcenter-aligned .dcg-action-undo .dcg-text,.dcg-container .dcg-expression-top-bar .dcg-center-aligned .dcg-action-redo .dcg-text,.dcg-container .dcg-expression-top-bar .dcg-offcenter-aligned .dcg-action-redo .dcg-text{display:none}.dcg-container .dcg-expression-top-bar .dcg-center-aligned{margin-left:-55px}.dcg-container .dcg-expression-top-bar .dcg-offcenter-aligned{margin-left:-90px}.dcg-container .dcg-expression-top-bar .dcg-hide-in-edit.dcg-btn-light-gray{color:#666;min-width:55px}.dcg-container .dcg-expression-top-bar .dcg-hide-in-edit.dcg-btn-light-gray i.dcg-icon-settings,.dcg-container .dcg-expression-top-bar .dcg-hide-in-edit.dcg-btn-light-gray i.dcg-icon-plus{font-size:120%;line-height:37px}.dcg-container .dcg-expression-top-bar .dcg-hide-in-edit.dcg-btn-light-gray.dcg-hovered i{color:#333}.dcg-container .dcg-expression-top-bar .dcg-hide-in-edit.dcg-btn-light-gray.dcg-depressed i{color:#000}.dcg-container .dcg-action-undo,.dcg-container .dcg-action-redo,.dcg-container .dcg-resize-list-btn,.dcg-container .dcg-action-opendrawer{color:#666;text-shadow:0 1px 1px rgba(255,255,255,0.75)}.dcg-container .dcg-resize-list-btn.dcg-hovered,.dcg-container .dcg-action-opendrawer.dcg-hovered{color:#333}.dcg-container .dcg-resize-list-btn.dcg-depressed,.dcg-container .dcg-action-opendrawer.dcg-depressed{color:#000}.dcg-container .dcg-action-undo.dcg-enabled.dcg-hovered,.dcg-container .dcg-action-redo.dcg-enabled.dcg-hovered{color:#333}.dcg-container .dcg-action-undo.dcg-enabled.dcg-depressed,.dcg-container .dcg-action-redo.dcg-enabled.dcg-depressed{color:#000}.dcg-container .dcg-resize-list-btn,.dcg-container .dcg-action-opendrawer{width:48px;text-align:center;margin-top:2px;cursor:pointer}.dcg-container .dcg-resize-list-btn{float:right;margin-right:-8px}.dcg-container .dcg-action-opendrawer{float:left;margin-left:-8px}.dcg-container .dcg-action-opendrawer.dcg-action-hideexpressions{height:42px}.dcg-container.dcg-inverted-colors .dcg-show-expressions-tab{background:#eee}.dcg-container.dcg-inverted-colors .dcg-expression-top-bar{background:#eee}.dcg-container .dcg-exppanel-container .dcg-expression-top-bar:not(.dcg-has-reset-state) .dcg-action-reset{display:none}.dcg-container .dcg-exppanel-container .dcg-expression-top-bar.dcg-has-reset-state .dcg-action-clearall{display:none}.dcg-graphpaper-opendrawer{position:fixed;top:0;left:0;z-index:21;width:50px;height:50px;font-size:110%;line-height:50px;text-align:center;padding-left:10px;display:none}.dcg-container.dcg-EDIT-LIST-MODE .dcg-expression-top-bar .dcg-show-in-edit{display:block}.dcg-container.dcg-EDIT-LIST-MODE .dcg-expression-top-bar .dcg-hide-in-edit{display:none}.dcg-filedraggedover .dcg-drop-image{display:block}.dcg-drop-image{position:absolute;top:0;right:0;left:0;bottom:0;z-index:42;text-align:center;vertical-align:middle;background:rgba(255,255,255,0.5);border:8px dashed #bbb;font-family:sans-serif;color:#bbb;font-size:370%;display:none}.dcg-drop-image span{position:absolute;bottom:0;left:0;right:0;top:0;height:3.6em;line-height:1.2em;margin:auto;padding:0 20px}.dcg-exppanel-outer{position:absolute;top:0;bottom:0;left:0;display:inline-block;overflow-x:visible;margin-left:0}.dcg-exppanel-outer .dcg-exppanel-container{padding-top:50px;-webkit-transform:translateZ(0);z-index:40;position:absolute;top:0;bottom:0;-webkit-box-shadow:0 -4px 6px rgba(0,0,0,0.2);box-shadow:0 -4px 6px rgba(0,0,0,0.2)}.dcg-exppanel-outer .dcg-exppanel-container.dcg-do-animate{-webkit-transition:.2s linear;-moz-transition:.2s linear;-o-transition:.2s linear;-ms-transition:.2s linear;transition:.2s linear}.dcg-fullscreen .dcg-exppanel-outer .dcg-exppanel-container{-webkit-transform:translate(-356px,0px);-moz-transform:translate(-356px,0px);-o-transform:translate(-356px,0px);-ms-transform:translate(-356px,0px);transform:translate(-356px,0px)}.dcg-fullscreen .dcg-show-expressions-tab{opacity:1;-ms-filter:none;filter:none;z-index:5;-webkit-transition:opacity .2s ease-out;-moz-transition:opacity .2s ease-out;-o-transition:opacity .2s ease-out;-ms-transition:opacity .2s ease-out;transition:opacity .2s ease-out;-webkit-transition-delay:.3s;-moz-transition-delay:.3s;-o-transition-delay:.3s;-ms-transition-delay:.3s;transition-delay:.3s}.dcg-show-expressions-tab{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.dcg-exppanel{position:relative;height:100%;overflow-x:hidden;overflow-y:auto;background-color:#fff;border-right:1px solid rgba(206,206,206,0.8);z-index:0;-webkit-overflow-scrolling:touch}.dcg-exppanel .dcg-expressionlist{position:relative;padding-bottom:50px;min-height:100%}.dcg-narrow .dcg-exppanel{border-right:0}.dcg-expressionitem{display:block;position:relative;margin-top:-1px;border-top:1px solid rgba(206,206,206,0.8);border-bottom:1px solid transparent;font-size:100%;-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-o-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0)}.dcg-expressionitem:not(.dcg-expressionimage){cursor:text}.dcg-expressionitem:not(.dcg-selected) .dcg-fade-container{overflow:hidden}.dcg-expressionitem .dcg-fade-container{width:100%}.dcg-expressionitem.dcg-selected,.dcg-expressionitem.dcg-dragging{border-color:#8dc6dd;border-width:2px 0;border-right:1px solid #8dc6dd}.dcg-expressionitem.dcg-selected .dcg-fade-container,.dcg-expressionitem.dcg-dragging .dcg-fade-container{margin-top:-1px;margin-bottom:-1px}.dcg-expressionitem.dcg-selected .dcg-tab,.dcg-expressionitem.dcg-dragging .dcg-tab{color:#fff;border-right:1px solid transparent;background:#8dc6dd}.dcg-expressionitem .dcg-template-bottom{position:relative;-webkit-transition:opacity .2s;-moz-transition:opacity .2s;-o-transition:opacity .2s;-ms-transition:opacity .2s;transition:opacity .2s;-webkit-transition-delay:.1s;-moz-transition-delay:.1s;-o-transition-delay:.1s;-ms-transition-delay:.1s;transition-delay:.1s;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.dcg-expressionitem .dcg-template-bottom.dcg-faded-in{opacity:1;-ms-filter:none;filter:none}.dcg-expressionitem.dcg-inFolder:not(.dcg-dragging) .dcg-fade-container:after,.dcg-expressionitem.dcg-overFolder .dcg-fade-container:after{left:55px}.dcg-expressionitem.dcg-inFolder:not(.dcg-dragging) .dcg-main,.dcg-expressionitem.dcg-overFolder .dcg-main,.dcg-expressionitem.dcg-inFolder:not(.dcg-dragging) .dcg-template-bottom,.dcg-expressionitem.dcg-overFolder .dcg-template-bottom{margin-left:20px}.dcg-expressionitem .dcg-template-bottom-container.dcg-do-animate{-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s}.dcg-expressionitem.dcg-collapsedOrSecret{display:none}.dcg-expressionitem.dcg-dragging .dcg-main,.dcg-expressionitem.dcg-dragging .dcg-fade-container:after{-webkit-transition:.3s;-moz-transition:.3s;-o-transition:.3s;-ms-transition:.3s;transition:.3s}.dcg-expressionitem .dcg-shell{min-height:58px}.dcg-expressionitem .dcg-shell .dcg-expression-item-loading{position:absolute;top:15px;bottom:15px;left:53px;width:40%;background:#e2e2e2;-webkit-animation:dcg-exp-loading-pulse 2s infinite;-moz-animation:dcg-exp-loading-pulse 2s infinite;-o-animation:dcg-exp-loading-pulse 2s infinite;-ms-animation:dcg-exp-loading-pulse 2s infinite;animation:dcg-exp-loading-pulse 2s infinite}.dcg-expressionitem .dcg-fade-container{position:relative;padding-bottom:6px}.dcg-expressionitem .dcg-fade-container .dcg-main-container{white-space:nowrap}.dcg-expressionitem .dcg-fade-container .dcg-valign-bar{display:inline-block;height:52px;width:0;vertical-align:middle}.dcg-expressionitem .dcg-fade-container .dcg-main{position:relative;display:inline-block;padding-top:15px;padding-left:53px;padding-right:35px;padding-bottom:9px;white-space:nowrap;font-size:110%;vertical-align:middle}.dcg-expressionitem .dcg-fade-container:after{content:'';position:absolute;top:5px;bottom:5px;left:35px;width:1px;border-left:1px solid #ccc}.dcg-expressionitem .dcg-fade-container .dcg-fadeout{display:inline-block;position:absolute;top:1px;right:0;bottom:5px;width:60px;background:-webkit-linear-gradient(left,rgba(255,255,255,0),#fff 50%);background:-moz-linear-gradient(left,rgba(255,255,255,0),#fff 50%);background:-o-linear-gradient(left,rgba(255,255,255,0),#fff 50%);background:-ms-linear-gradient(left,rgba(255,255,255,0),#fff 50%);background:linear-gradient(to right,rgba(255,255,255,0),#fff 50%);pointer-events:none}.dcg-expressionitem .dcg-fade-container .dcg-top-level-delete{position:absolute;top:0;right:0;padding:8px 7px 20px 20px;z-index:2;color:rgba(0,0,0,0.2);font-size:115%;cursor:pointer}.dcg-expressionitem .dcg-fade-container .dcg-top-level-delete.dcg-hovered{color:rgba(0,0,0,0.6)}.dcg-expressionitem .dcg-fade-container .dcg-top-level-delete.dcg-depressed{color:rgba(0,0,0,0.8)}.dcg-expressionitem .dcg-fade-container .dcg-unresolved{margin-left:50px;font-size:80%;color:#666}.dcg-expressionitem .dcg-fade-container .dcg-unresolved i{font-size:85%}.dcg-expressionitem .dcg-fade-container .dcg-unresolved a{color:#666}.dcg-expressionitem .dcg-fade-container .dcg-unresolved a.dcg-hovered{color:#000;text-decoration:underline}.dcg-expressionitem .dcg-fade-container .dcg-regression{margin-left:50px}.dcg-expressionitem .dcg-fade-container div.dcg-evaluation{float:right;margin-right:5px;margin-top:-3px;margin-bottom:-2px;font-size:100%;line-height:1.4em;border-radius:6px;font-family:times;border:2px solid #aaa;color:#888;background:#aaa}.dcg-expressionitem .dcg-fade-container div.dcg-evaluation .dcg-cross{font-size:90%;margin:0 2px;position:relative;top:-0.1em}.dcg-expressionitem .dcg-fade-container div.dcg-evaluation th{color:#fff;font-weight:normal;padding-left:5px;cursor:pointer;white-space:nowrap}.dcg-expressionitem .dcg-fade-container div.dcg-evaluation th .dcg-mq-math-mode{cursor:pointer}.dcg-expressionitem .dcg-fade-container div.dcg-evaluation th .dcg-equals{padding:0 7px 0 2px}.dcg-expressionitem .dcg-fade-container div.dcg-evaluation td{background:#fff;white-space:nowrap;padding:0 10px;border-top-right-radius:5px;border-bottom-right-radius:5px}.dcg-expressionitem .dcg-fade-container div.dcg-evaluation td .dcg-or{padding:0 8px}.dcg-expressionitem .dcg-tab{display:block;position:absolute;top:0;left:0;bottom:0;z-index:2;padding:1px 2px;font-size:65%;text-align:left;color:#888;background:#f9f9f9;border-right:1px solid #e9e9e9;cursor:move;width:38px}.dcg-expressionitem .dcg-exp-actions{position:absolute;top:1px;right:1px;display:none}.dcg-expressionitem.dcg-expressiontext .dcg-icon-text{position:absolute;top:50%;left:50%;margin:-7px 0 0 -7px;font-size:140%;opacity:.25;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)\";filter:alpha(opacity=25)}.dcg-expressiontable{cursor:default}.dcg-expressiontable .dcg-fade-container.dcg-hovered{-webkit-box-shadow:none;box-shadow:none}.dcg-ITEM-FOCUSED .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-fadeout{display:none}.dcg-ITEM-FOCUSED .dcg-expressionitem.dcg-selected.dcg-mathitem .dcg-top-level-delete,.dcg-expressionitem:not(.dcg-mathitem).dcg-selected .dcg-top-level-delete{padding-bottom:0;padding-left:0}.dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-top-level-delete{right:-1px}.dcg-EDIT-LIST-MODE input.dcg-image-name{display:block!important}.dcg-EDIT-LIST-MODE div.dcg-image-name{display:none}.dcg-EDIT-LIST-MODE .dcg-top-level-delete{display:none}.dcg-EDIT-LIST-MODE .dcg-expressionitem.dcg-expressiontable .dcg-exp-actions{left:auto}.dcg-EDIT-LIST-MODE .dcg-exp-actions{padding-left:5px;padding-right:7px;background:#fff;bottom:2px;display:block;z-index:1}.dcg-EDIT-LIST-MODE .dcg-exp-actions .dcg-graphic{background:-webkit-linear-gradient(left,rgba(255,255,255,0.5),#fff);background:-moz-linear-gradient(left,rgba(255,255,255,0.5),#fff);background:-o-linear-gradient(left,rgba(255,255,255,0.5),#fff);background:-ms-linear-gradient(left,rgba(255,255,255,0.5),#fff);background:linear-gradient(to right,rgba(255,255,255,0.5),#fff);position:absolute;top:0;right:100%;bottom:1px;width:40px;cursor:default;pointer-events:none}.dcg-EDIT-LIST-MODE .dcg-exp-actions span{margin-left:2px;width:45px;height:45px;padding:12px 10px;display:inline-block;position:relative;top:2px;float:right;cursor:pointer;font-size:125%;line-height:20px;color:#666}.dcg-EDIT-LIST-MODE .dcg-exp-actions span.dcg-depressed{color:#222}.dcg-EDIT-LIST-MODE .dcg-exp-actions span.dcg-disabled{display:none}.dcg-EDIT-LIST-MODE .dcg-expressionitem.dcg-hasSlider span.dcg-duplicate-btn{display:none}.dcg-EDIT-LIST-MODE .dcg-display-domain{display:none}.dcg-EDIT-LIST-MODE .dcg-evaluation{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.dcg-EDIT-LIST-MODE .dcg-edit-domain{display:block!important}.dcg-EDIT-LIST-MODE .dcg-expressionitem.dcg-expressiontext .dcg-displayTextarea,.dcg-EDIT-LIST-MODE .dcg-expressionitem.dcg-expressionfolder .dcg-displayTextarea{display:none}.dcg-EDIT-LIST-MODE .dcg-expressionitem.dcg-expressiontext textarea,.dcg-EDIT-LIST-MODE .dcg-expressionitem.dcg-expressionfolder textarea{opacity:1!important;-ms-filter:none!important;filter:none!important}.dcg-exppanel.dcg-isDragging .dcg-expressionitem:not(.dcg-dragging){-webkit-transition:.1s;-moz-transition:.1s;-o-transition:.1s;-ms-transition:.1s;transition:.1s}.dcg-exppanel.dcg-isDragging .dcg-expressionitem.dcg-dragging{-webkit-transition:0s!important;-moz-transition:0s!important;-o-transition:0s!important;-ms-transition:0s!important;transition:0s!important;background:#fff;overflow:hidden;-webkit-box-shadow:0 0 10px #888;box-shadow:0 0 10px #888;z-index:1000;border-color:#8dc6dd;border-right:1px solid #8dc6dd}.dcg-exppanel.dcg-isDragging .dcg-expressionitem.dcg-dragging .dcg-tab{background:#8dc6dd}.dcg-exppanel.dcg-isDragging .dcg-expressionitem.dcg-dragging .dcg-num{display:none}.dcg-exppanel.dcg-isDragging .dcg-expressionitem.dcg-new-expression{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.dcg-container .dcg-math-field,.dcg-container .dcg-mq-math-mode .dcg-math-field{border:none;-webkit-box-shadow:none!important;box-shadow:none!important}.dcg-container .dcg-mq-editable-field textarea{resize:none}.dcg-container .dcg-mq-editable-field.dcg-hasCursor{-webkit-box-shadow:none!important;box-shadow:none!important}.dcg-tap-container .dcg-mq-math-mode .dcg-mq-supsub{margin-bottom:-0.2em}.dcg-tap-container .dcg-mq-math-mode .dcg-mq-sub{font-size:80%}.dcg-tap-container .dcg-mq-math-mode .dcg-mq-int .dcg-mq-sub{font-size:100%}.dcg-clear{clear:both}@-webkit-keyframes dcg-exp-loading-pulse{0%{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}50%{opacity:1;-ms-filter:none;filter:none}100%{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}}@keyframes dcg-exp-loading-pulse{0%{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}50%{opacity:1;-ms-filter:none;filter:none}100%{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}}.dcg-graph-icon{cursor:pointer;border-radius:50%;-webkit-box-shadow:inset 0 0 2px rgba(0,0,0,0.25);box-shadow:inset 0 0 2px rgba(0,0,0,0.25);display:block;height:29px;width:29px;line-height:29px;text-align:center;background-position:center!important;background-repeat:no-repeat!important;-webkit-background-size:33px 33px!important;-moz-background-size:33px 33px!important;background-size:33px 33px!important;z-index:1}.dcg-graph-icon.dcg-disabled{cursor:default}.dcg-graph-icon.dcg-loading{display:none}.dcg-graph-icon.dcg-ungraphable:not(.dcg-error):not(.dcg-animate-play):not(.dcg-animate-pause){display:none}.dcg-graph-icon.dcg-animate-play,.dcg-graph-icon.dcg-animate-pause,.dcg-graph-icon.dcg-folder{-webkit-box-shadow:none;box-shadow:none;border:2px solid #666!important;opacity:.7;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)\";filter:alpha(opacity=70);margin-right:5px;color:#666}.dcg-graph-icon.dcg-animate-play.dcg-hovered,.dcg-graph-icon.dcg-animate-pause.dcg-hovered,.dcg-graph-icon.dcg-folder.dcg-hovered{opacity:1;-ms-filter:none;filter:none}.dcg-graph-icon .dcg-icon-pause{position:relative;top:-1px;left:.25px}.dcg-graph-icon .dcg-icon-play{position:relative;top:-1px;left:1.5px}.dcg-graph-icon .dcg-icon-folder{font-size:120%;position:relative;top:-0.5px;left:.5px}.dcg-graph-icon .dcg-icon-hidden,.dcg-graph-icon .dcg-icon-play,.dcg-graph-icon .dcg-icon-pause{display:none}.dcg-graph-icon.dcg-animate-play{background-color:transparent!important}.dcg-graph-icon.dcg-animate-play .dcg-icon-play{display:inline-block}.dcg-graph-icon.dcg-animate-pause{background-color:transparent!important}.dcg-graph-icon.dcg-animate-pause .dcg-icon-pause{display:inline-block}.dcg-graph-icon.dcg-error{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAqCAYAAAD1T9h6AAAEPElEQVR4Ad2ZU5QsVxSGK3iL8xj7ObZt27Zt27Ztu21djN3W1XjueM7O/uPsDGp1NU5y1vqnq5ob/3ewxqjEiLfXr5wO30MF75lUdB9L6cBNlGj8aTPjvzC6WoJrp346/LNu15405N+blrN6+Trz3W6heMOP+ieRcF746DLnHjQS3Icmo/tCNBrah3o4ifQP+9s6W8Kr61v98FPHF37a3Tfk24vGw/vQVGxfCEkgIVrq2IPi7mvu0jL4zraGFTO2Iz/pde9JY2FUH8H/JSQ0yInlf9w91FX3+bbaJRD33ngjKoxKi+Chf1gp4TjzBb2qX/f5VrkfdvcNCutI4TXYa9HPu4fiwQfP1yaBpPP8x1FZVFhWX3YB9urz8Kz04/62rtbI6rqCK6Un0AA3/bMEdw4JoDvrPtu25uAOB/YWwe9HKv0MqdxrpPJv8/XTpFJPTAs02+/J2lin/vstZgIXwdPUGPEfFuGaNYIkpgWabXhi9Vdc18UPdc8Arsq/RSSHmiSVfXV6oG1Hft7ZVr+iNuDCNv8eU7CUCaA1AFdlnidS4/TnwPXUKFgoP9DWwbWWgAS6BuBaSKDaQAPcZc5pwRUJPPfPBDALIYHUU7Ou0LAlgIZNy1/92MuHANy5qg+p9HMIepoEnjS3QntvvLnsCaRsJ75tZr8DqezLRGqC/hy4VuPojKkVmm0agl3LCu5i2x6+5f69aCIybfVNTKPEz7858+ck0O6LHy0ruAPevUzvd1Tudfjmdyk8ogvozMyfE0AXrQItwBUHldmlkg8TTQ5j+wDr4Jq1nFT8/uk/YxVo6+AKNZ2LgFlDBOEaSUw1nmHq82UCGuCe9KYA17RovJtooh+zD65Zy8x/vhxAx323XgVw4UcBrimppT+RWmYj1e3ENetHU5+TQHeXAnRXo33D7Pe7+bBTlOBWQxJotnGI7XxYRcEtp2QXADTb+e3KgiukFn/F+prUkm/58UuopO+BfbH+sJ1Dce8t182ZQLJUcIVoOE40kiYaLZAaame1ldwF2HjAK4EuK7hC8w/BCez3XegI/T4sWQl2BtBs7+mB7mpyrVsWcMVCho0c1gFIxe+rHNAJ92X3WQTXxF7o7coA3Rl77YD8jxJcPRKQQOMkCKDZ7tf8VX3bya91y4OKFS08FsFK4fmSvk8C3e8F0LuFOhqd6xqtoZcPyLH3QflYSJ5zdRO6wEBznEvse1Cn5zYyWm3XUvGn3Qn2QQfGuU0TGgvxgVM4JvHziWQ0/3wNcQcAB/6nxS/ujUS0FeIb9P3WgY4fTiCjzvPcwe1f7BxFFzDP9nv2Qje0VZ97L8I2O/3tbtRku4kMjLpvzn28/fOdKfXtrsSzERVYi37WTrA64KXkN7tS8+f7D9bN965qYCycH1hx4beX3lP3wY7R5k92jrZ9tjNB7ZoJMXF8VPfVme6FkZ/WNf4P4xe4y5sJVCj/EwAAAABJRU5ErkJggg==\")!important;background-color:transparent!important;-webkit-background-size:24px 24px!important;-moz-background-size:24px 24px!important;background-size:24px 24px!important;border-radius:0;-webkit-box-shadow:0;box-shadow:0 0 0}.dcg-graph-icon.dcg-graph-SOLID{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAQAAABtw3D4AAABoklEQVR4Ae2YB5XDMBAFD4IhCEIgBIIgGIIhiIEhGIIhCIIhGIIhzPW6KX8vPdm518/le/RVXp4uRRAEQRAENGTK219LulSEnoWfjKzOHWLFzCba84ZY2MZwmOPDQxxshIGid2JiH+t/hegAxKrTs5+Zxh0ifTjutQHR6N0xKu8sNPrF34ysaW1bfJOX7OgWrQ2xtbbVFWO2z1QuNgLp1KIKn9foFxt9ZgZNfhcfZM/F85//r7UVRPi8ctDFVKUfQu2z7gIaG1Xrxx6Hs+fiQQgr+GDUh1IWR/H5IIGdfQeLowGPDwZr2XNx77g27dgm9dWXhCW5WqTPvupxMfrX2k0wyfUkCecJabUVduvZ46K6F+dZePLhLsRlzNRTn6pFEmfYv+3TeXaSLIrTlzGhyAaS5kJQXp0bpUkt9ELykeVeWOjNF6k+rPa0dTsr6lncf8y14idWNAygu7DD4j/0T2i0+ldNQmJrUqHKrf8YVzcU9qE/mVZohXZgsuRz/RwzSa04Q5DNRhanicOhMwvWcKlfyzKFSmWgsxGCIAiCIHg4ngGDOs5yVTOoNwAAAABJRU5ErkJggg==\")!important}.dcg-graph-icon.dcg-graph-DASHED{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAQAAABtw3D4AAACbElEQVR4Ae3XU3j0CBQA0Fu3a9u2bdu2bb+ubdu2bdu2bXvOMt8kVTLVr5znOJcxqJRKpVKpVDKSDRzuJDuaLQYNzbbys8SfHrRoDDSjOEt7PzkgBpLRPaEzfzolBorhXagrv9o3eszcNo5iNNlDdz6xXvSIufyISSKfOrPJ87QZo2YavASOjnzaPCHf+VEzm/gRfG2U/CfeWtbvzjO9l2R9Zv2okRckNskPzi9l3Rp/M513ZN1i5KiB5X0pcXVeXCwq6y0TxL+sJesXu0QN3ChtlO4fY3Fp39o+/mc0p8g6OwozpfelLRndMarvVN0bKWbwrrRzojCH+lnavHkhuqEK4E1TRYb1Vf1spyhIveel/aY1/5T5nOVmOxsv2jGKYyTO0RgF2dSX0o6M3tFqaSc53QoaojDXyhozBgVPSLtbXQwKrpC2UAwalvKRxBsaY1CxqnfAYyaK7hjPtNGvTGmSbgPbOG5RwZe1NSx15rKNudVHX/C0CuBXy0VBJnA54EaTRm/ZxC8SFXdFIVocpep0LdE7HldR9W7hge5lVb9ZMXrDaL5XVXFvFGJaH0m7tlffw1j+VPWbtQtPlrfIWjm7bDnYe3jULFGEt1V9UjzqzSfrmfQw4zKJj80c+Rwt8YfNozANLpd1fPISNlNRdYJRIo9ZJH7QFDUwlfY2iL9ZwOfS7jVu8d9SsXLUyBHa28uKXpZ1g7bIZxNwv7qokVH8JN8SRS/2dXaJKc6S8pyhoXglnSZ6yGG684ERYyBodKWu/GaCGCgaXaQzXxs/BpYNfS3rJMPHoGBF+7jb3c62i7FjWFcqlUqlUukv/EncLXySGG0AAAAASUVORK5CYII=\")!important}.dcg-graph-icon.dcg-graph-DOTTED{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAQAAABLsoKjAAACKElEQVRYCe3BPUiUcQDH8Z9FQVlDnt4QQUMJEgWFQREEETRUW0O1FI5FSFtQQyCKIrgp0RBnQwQhRVBcg5O9LEki0eBUEUb0As/LvfZ493zj7nj463NXPII+Lc/nIyUSiUQi0cBV+tmj+DCCT5ESOSYVD7ZSJWAxpDgwiIfxTnFgBB9jQXFgPw6BEuOKBxksagrMsVHrhQ4e8oHH7FQdp8gyzbDqaOcu75nmmNYOaapUqSkwpBA6+IlHjcUdRcZmxplnhgG1wkcMRyE8o0qgRJcioZ1PlKmxyCiMXeQxbHq1AgWMHH2KhEk8Ag77tBLb8TBcurUCPzBszikSFjE8biiMLB4NPrMKYYI8AUsRsYBR4IrC2MZbLMrYLJBSE55iU8LBIq2IGMUhsKTWOMl1zuovOEQ/F7UqPMCliEuZAS3HXg5r3dDDNS5pOVLM4WJTYESrQDe9+gd2cJR2tcYXfBpsDioSOpnHxabAsFqgjSnKWHjcVzMu4GDMKhIW8WlwOKAmTFGkIU9GYdykgvFNEXCZHMYrhZCmiFFVGCewCPg8VwTcxsdYVAhHsDHy7FYYLygR6FQEnMYi4PNETVjOUjM2cI8cFd6QVkS8pkzDEik1YQKbBoshrQ02MUmOCi/pUh09PGKGMbaojlG+UuUzg1ovjOJS85vvpBQPfAI+WcWB8zgYZcWBM9gYruKBRaBIRvEgzS9yVLDI0qb40MctjiuRSCQSif/oD5Yl6cBcCEVsAAAAAElFTkSuQmCC\")!important}.dcg-graph-icon.dcg-graph-OPEN{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAQAAABtw3D4AAABFUlEQVR4Ae3UJXBcYRDA8S3IcuuLstz6omvDz4XBhcGFwYVBhlt58nzRm/NT8tMkz88/+B3z3fdeYH9+ZnlFKaWUUkoplTeu8ZoGunjNHfEHfYSI9o8lHoiXqMEluSnxCsukE+Cyv0kYAS/GEesr68zxFZdoy2IXLhHL3JIw2ojm2L2OiAGJw0dcjKDYw0+M5YwjuyV2cDFzEEIY5WIHrzF+SAqMYIzYT+OrpsFTjJCkwFJ0Gva/xktJin8Y78UWgumXlAEMV+zBIWI5TRLwWWziJxH/aOGiHOAln4l2S2ziEfG2+E28AbGNATJZFi/Q5nMSBpf5TDL/cMRbPGCCnxi/+YwjfuEc17jDOTkFlFJKKaWUUrtD5FsKKm/qiQAAAABJRU5ErkJggg==\")!important}.dcg-graph-icon.dcg-graph-POINT{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAQAAABtw3D4AAAAmElEQVR4Ae3VWxGDMBCF4UhAChKQgIRIQEIcIAEJkRAJSIiESPj72vs+9bTTOZ+CvW+y/2FmZmZmZszsNDqDxsGa9Jio3Oss6joMnsvKSgxeW5MGlXcGk6YhkU0RRiFyKsJohNRhOIz6G2FsRKrmeEVyUqBI1jXGySuDWflVmiSIGJnOrYMpfQMLhZ2DQv5ACGZmZmZmZnYBieoI5R8yEbIAAAAASUVORK5CYII=\")!important}.dcg-graph-icon.dcg-graph-CROSS{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAQAAABLsoKjAAAAzklEQVRYw+2WMQ6CQBBFl0YbT6Ym2nkNPIP3MWIDehIbGzs7SIghNs9GCbBgtbsk+l87yb7szuzMGCOEEEII8SswZctiILYiZuJeOaOgIufQE8vIqbg717LjCUDZ1ZLxAKAidi3dUICtrZWQs3T/wKf6+FrbUJYkPgopammTjvLoq37b2msApaUliNLKbSilMcZwa0gvYZRZ8JsGz+kI1UvEOfg/bSn7OpJ77Si998uUSf1Nmc883ffEUk/z9L05zAdiay+bgxBCCCHEH/ECvQeNODTlFmAAAAAASUVORK5CYII=\")!important}.dcg-graph-icon.dcg-graph-shaded-inequality{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAQAAABtw3D4AAABnElEQVR4Ae3YKXTDMBAEUEFDwUDDQHFkGGgYKFhoaGgYGBhWzsL5e4WChYaFgYHTa3qf1q6yPTzDX76v3Re5OZ9mzpw5c1A7+yACiPaI+5zbIwgxRzDRAuFxwOu0FpDwCnKFzjkbyPEZYoMBKwtGix2OzxC3XZweMWC4hRBx32iAIIQIti7/0+EV4r3G8nPigPAZgl2UH1YHdBi+aFsUwRyx+4LRF0VMgCwLI5jxC8aqPILD6tNGawSry0h5COWPFh4pA6E/S+ExTkOwQXuAb5CmINimxAJLRBgwiGCJOBEDEfEJIWgjnxORCAMGEcwWg7C1EMEkEwYRahDF3SFgdPoLLKetMYINIoYcwXr5Q5EjossLtjoINuTvjr0aopctsL0UwTYShFZ7VN9/JRO8NoIN076LBF8AEScgmBEb9QfiDSZE/gNJQDHISvt/R/llBo9LWwSDGqMtgsECFwoI+SECKqWZ0YsPVFCjEyLW8E4eVGjQZxI68X0QU84QSh3Cr7/5LrTFT8WxRIOI/t1HsEZz+mP5+lm9m/O3cg1S0cqGgIcMcQAAAABJRU5ErkJggg==\")!important}.dcg-graph-icon.dcg-graph-movable-point{-webkit-background-size:19px 19px!important;-moz-background-size:19px 19px!important;background-size:19px 19px!important}.dcg-graph-icon.dcg-graph-movable-point[mode=X]{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAACGCAQAAACycDoaAAABi0lEQVR4Ae3bZ3XDQBBFYUEwBEERhEAYCIYgBoEgCIZgCIYQCIbw0vPSVycqZzdzP/13ubbcZtwBAAAAAAAAAAAAAAAAAAAgC4VGDV2ldNBRR/X7XNVFzyrNobMeXRX7pZBOlT4vLLZOYecqYwx6L3ZIUX0Mix1SVB/DYpMUjcWwWD1FgzEsVk3RaAyL1VI0HMNilRSNx7BYnqL9GBbLU7Qfw2J5ivZjWCxP0X4Mi+Up2o9hsTxF+zEslqdoP4bF8hR20VDhcdR8UUqRS5RTkOMtBTk0Ka8gxXuDU4Syu+rg5wXCYxeMrzFOekOMUbh5jdHzAtqZgufFjzn4DBoihelWpDBNpPhrjrHCY1qSYkGOf/2zn3MkiOEU6+RIMCqYnyPFEGlujiTjxXk50gye5+RItJJQzpFoWaWcI9caUyFHrgW3Qo5cq4+FHLmWYgs5cq1LF3KkXaR3jqZijJ1tmuOuyhi9bOq2psnVK+T5YOz1VBwVVf9hb1TfAQAAAAAAAAAAAAAAAAAAII17IKZODMuq438AAAAASUVORK5CYII=\")!important}.dcg-graph-icon.dcg-graph-movable-point[mode=Y]{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAACGCAQAAACycDoaAAABaElEQVR4Ae3cd4HiUBSH0UhYKUhBwpOwEuIACZGAhEgYCSMBCXcL5beFOnQ43/uXemhJgNs9YlJN67OWzWvy3hSt/q6hwLGmwBEKHNXXMhw11OEaiq0cKMKBIhwoUkOxlQNFOFCEA0VqKLZyoAgHinCgSAOKrRwowoEiHCjS7Dkovtdtmj4DxqJu08czYNysZ8AYK3nXqGn1B9ahPveee6zZK+3HHmrs3iIYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAqEm1M8fZLWrcu/pqz0ExM+jQCMxDGIajzo3NDca3+rgBReuW4VhS4AgFjlDgCAWOJQWOUOAIBY5Q4FhS4AgFjlDgCAWOUOAIxYtzoAgHinAMhSLVgGIbB4pwoAgHilR9LWrZvCbdQyb9AGT19lKFAr/+AAAAAElFTkSuQmCC\")!important}.dcg-graph-icon.dcg-graph-movable-point[mode=XY]{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAACGCAMAAAAvpwKjAAAAM1BMVEX////////////////////////////////////////////////////////////////////lEOhHAAAAEHRSTlMAgGC/QJ/PEI9Q769w3yAw4fThNQAAAhdJREFUeAHt3GWSYzEQBGGrH+PU/S+7jLkoh6RaUP4d+sx2q2MevYJtl6TjxawIvS/cCji8Cin8CqsjSfI7JrHwK+gwKqRwKuDwK6RwKuDwK6RwKuDwK6RwKuDwK6RwKuDwK6TJrIDDoIDDqYDDr5DWCopT+W3lGbvym8sz9EzlGYOY586xJSR0pa8a1ni0SGh4sP+Y0Rmd0RmdEWksyVjO885HLLOksSBjkPZ4SqGjHGPR2+IZhYZyjFG/54CiEkORpajGUGQoKjIUGYqKDEWGoiJDkaGoyFBkKCoyFBmKigxFhqIigw4qWjHooKIVgw4q6jPooKItgw4q6jPogALN48/K+u5TP3BA4Sn8CtFhUsAxyVlA4WrE2bKpfXFeGbhZBrlLbxnHn8FI8oSZ9i1zO9cwjFeG3RFcS7Eq3rZaFZ+bvAo4WEIZJwho+qkCDtb6TSAd9RlU0FGfQQUdTRlU0NGGQQUdbRhU0FGNkaGgwzRmocM1dILDNYKDwzWQhMM1noXDNayGwzO6h6MCIz2zQnOVY9w56z5wpLKHXIpHfmOKskd+6e7nsJ3RGZ3RGW7GS6SvE9qHr0tRQbH6VxP9i5pkuNdWD/8SL49+nKv3dHgUdLgUdLgUdLgUdLgUdLgUdLgUdLgUdLgUdLgUdLgUdFDhd1BhcBgUcBgUcBgUcEwmBZv8CjosCjgMCjigcJX24v8GpPca3GlfpivecX0AAAAASUVORK5CYII=\")!important}.dcg-graph-icon.dcg-table-points{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAQAAABtw3D4AAAA6UlEQVR4Ae3WJ1QDURSE4UiawtCbpKm1eJpF4T3eYPF+vcSQ4k9sfJpMb3bthCQmZUJnnpnPn7P1/u+mzMzMzH4IJ4gQYTXkLdyjgIkEMfbC3MQzZrVwGeJNLKrKPw5KYJ60N3EGLq+9jQdwXfWfwdWlJcAhuLS4BHgFcyMuAbYxwLw4QAlwNXcjOWwEKQE28YIqgAQ5PEpL4BIIfF4CyYbxeQnEGwYvgX7D4CXQbxi0BPoNw10hA6jvChlA/YbBB1C5YfxgAHlX9Ac774p+AHlXxAPog13g5wMoPthF+AAKCFZ8MzMzs0CGfdr6lgSaj/UAAAAASUVORK5CYII=\")!important}.dcg-graph-icon.dcg-table-lines{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAQAAABtw3D4AAABqUlEQVR4Ae3WA+xWURjH8SfbNeTmNGTbbs62bTfn5jVkN2S7Obsh3CHb9T352d15//ncnXA+v+n69+o5rwRBEARBEAT/EqZyke0UF58YhvmYiGziCxmIMJ9TRnyhsZZ4SU7xhWVaY5P4Qk6eaY324gvdtcRdMosv7NIai8Ut8rAFwzm6yHdQhDdao7q4xRL0S0d++QbG6JlXxC2K8wajiWj2jXPP6XlTxS0WYKzMTXs6UhGjKSUuUYjHmJRcpPw3Cx8Wt5iBSTMvGZ8yxG/p0b6uh5HempXstaocoJQomun+Z+RPZq00vKG4CCN5honlAR313DW6d724RGau6a2XyUeU5zQmHtaQR4Q8sYJtxCW6YDRlYuXmWkUiGtAriSFuT4Et1pG6RFaVWwkNcdpgNLVSB7x+F+xUEZc49r0pQEcepE4UcYlaGE3Lbwz6A1aNSeISW/TGp+WbGM/LhIY45TGaLt8/m3OJ/O1jpZa4Rgb5LrIxgC2MJ1tSS/tg8YXFsWmQTXywxvIk8YUyWuIxecQXsumCNlt8ohQHOMEMMksQBEEQBEHwz3gHTx/MI41/tlkAAAAASUVORK5CYII=\")!important}.dcg-graph-icon.dcg-table-points-and-lines{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAQAAABtw3D4AAABdklEQVR4Ae3WJZhVURQF4FNwp+AWsYIkLOJOwSoRd4u49e913GXiaBt3K+PD+JRRYC3sfk8uGz/3nLL/3Z5ce2+vbxmllFJKqX/EBVzO5Rxj/OFm5vG7fsY4y/jAy0zVyqU+nsSPap3/OKyi5IhxiYsoyzYucQ9l7V7/GXFNTpOAcyl74zgJ+IySDY6TgNPZxbCYhyTgTqZK43gPSYBTYABM4z5PSYByMJjL0SdBP8SfBcvB+CyIPgmIKgh/VNwDg7GZnJxLGUEM4WwoV1aiAwzmkLGJrygAg8nAgu+5EnqvH1ONTbhEARifXj4R3n1sbMJI1IMhOSgD40MJ9hibcDDlVP3fkwAjcVu+iLjjxgYhBd6E3lmHJhB00DCwDYzPahOCSXgARtcw4guI4t+lAG9G2DCEBdzsvGHwMkNQ47xhiPH9nmMsNwz7FZ+r2SU0DPcVn1N5lbXxXNGKb4eDBZS5r/gyuwton7yA7llbQP+UUkoppT4DcMWlX7A/CqQAAAAASUVORK5CYII=\")!important}.dcg-graph-icon.dcg-dragmode-option{-webkit-background-size:18px 18px!important;-moz-background-size:18px 18px!important;background-size:18px 18px!important}.dcg-graph-icon.dcg-dragmode-option[mode=X]{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAACGCAQAAACycDoaAAABi0lEQVR4Ae3bZ3XDQBBFYUEwBEERhEAYCIYgBoEgCIZgCIYQCIbw0vPSVycqZzdzP/13ubbcZtwBAAAAAAAAAAAAAAAAAAAgC4VGDV2ldNBRR/X7XNVFzyrNobMeXRX7pZBOlT4vLLZOYecqYwx6L3ZIUX0Mix1SVB/DYpMUjcWwWD1FgzEsVk3RaAyL1VI0HMNilRSNx7BYnqL9GBbLU7Qfw2J5ivZjWCxP0X4Mi+Up2o9hsTxF+zEslqdoP4bF8hR20VDhcdR8UUqRS5RTkOMtBTk0Ka8gxXuDU4Syu+rg5wXCYxeMrzFOekOMUbh5jdHzAtqZgufFjzn4DBoihelWpDBNpPhrjrHCY1qSYkGOf/2zn3MkiOEU6+RIMCqYnyPFEGlujiTjxXk50gye5+RItJJQzpFoWaWcI9caUyFHrgW3Qo5cq4+FHLmWYgs5cq1LF3KkXaR3jqZijJ1tmuOuyhi9bOq2psnVK+T5YOz1VBwVVf9hb1TfAQAAAAAAAAAAAAAAAAAAII17IKZODMuq438AAAAASUVORK5CYII=\")!important}.dcg-graph-icon.dcg-dragmode-option[mode=Y]{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAACGCAQAAACycDoaAAABaElEQVR4Ae3cd4HiUBSH0UhYKUhBwpOwEuIACZGAhEgYCSMBCXcL5beFOnQ43/uXemhJgNs9YlJN67OWzWvy3hSt/q6hwLGmwBEKHNXXMhw11OEaiq0cKMKBIhwoUkOxlQNFOFCEA0VqKLZyoAgHinCgSAOKrRwowoEiHCjS7Dkovtdtmj4DxqJu08czYNysZ8AYK3nXqGn1B9ahPveee6zZK+3HHmrs3iIYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAqEm1M8fZLWrcu/pqz0ExM+jQCMxDGIajzo3NDca3+rgBReuW4VhS4AgFjlDgCAWOJQWOUOAIBY5Q4FhS4AgFjlDgCAWOUOAIxYtzoAgHinAMhSLVgGIbB4pwoAgHilR9LWrZvCbdQyb9AGT19lKFAr/+AAAAAElFTkSuQmCC\")!important}.dcg-graph-icon.dcg-dragmode-option[mode=XY]{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAACGCAMAAAAvpwKjAAAAM1BMVEX////////////////////////////////////////////////////////////////////lEOhHAAAAEHRSTlMAgGC/QJ/PEI9Q769w3yAw4fThNQAAAhdJREFUeAHt3GWSYzEQBGGrH+PU/S+7jLkoh6RaUP4d+sx2q2MevYJtl6TjxawIvS/cCji8Cin8CqsjSfI7JrHwK+gwKqRwKuDwK6RwKuDwK6RwKuDwK6RwKuDwK6RwKuDwK6TJrIDDoIDDqYDDr5DWCopT+W3lGbvym8sz9EzlGYOY586xJSR0pa8a1ni0SGh4sP+Y0Rmd0RmdEWksyVjO885HLLOksSBjkPZ4SqGjHGPR2+IZhYZyjFG/54CiEkORpajGUGQoKjIUGYqKDEWGoiJDkaGoyFBkKCoyFBmKigxFhqIigw4qWjHooKIVgw4q6jPooKItgw4q6jPogALN48/K+u5TP3BA4Sn8CtFhUsAxyVlA4WrE2bKpfXFeGbhZBrlLbxnHn8FI8oSZ9i1zO9cwjFeG3RFcS7Eq3rZaFZ+bvAo4WEIZJwho+qkCDtb6TSAd9RlU0FGfQQUdTRlU0NGGQQUdbRhU0FGNkaGgwzRmocM1dILDNYKDwzWQhMM1noXDNayGwzO6h6MCIz2zQnOVY9w56z5wpLKHXIpHfmOKskd+6e7nsJ3RGZ3RGW7GS6SvE9qHr0tRQbH6VxP9i5pkuNdWD/8SL49+nKv3dHgUdLgUdLgUdLgUdLgUdLgUdLgUdLgUdLgUdLgUdLgUdFDhd1BhcBgUcBgUcBgUcEwmBZv8CjosCjgMCjigcJX24v8GpPca3GlfpivecX0AAAAASUVORK5CYII=\")!important}.dcg-expressionimage:not(.dcg-loading-image) .dcg-graph-icon{background:#fff}.dcg-expressionimage .dcg-graph-icon .dcg-image-thumb{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:15px;background-position:center;background-repeat:no-repeat;-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;-webkit-box-shadow:0 0 4px rgba(0,0,0,0.7) inset;box-shadow:0 0 4px rgba(0,0,0,0.7) inset}.dcg-expressionimage .dcg-graph-icon.dcg-loading-image .dcg-image-thumb,.dcg-expressionimage .dcg-graph-icon.dcg-hidden .dcg-image-thumb,.dcg-expressionimage .dcg-graph-icon.dcg-error .dcg-image-thumb{display:none}.dcg-expressionimage .dcg-graph-icon.dcg-loading-image{background:rgba(0,0,0,0.5);-webkit-background-size:26px 26px!important;-moz-background-size:26px 26px!important;background-size:26px 26px!important;-webkit-box-shadow:none;box-shadow:none;-webkit-animation:dcg-fade-pulse 2s infinite;-moz-animation:dcg-fade-pulse 2s infinite;-o-animation:dcg-fade-pulse 2s infinite;-ms-animation:dcg-fade-pulse 2s infinite;animation:dcg-fade-pulse 2s infinite}.dcg-container.dcg-EDIT-LIST-MODE .dcg-expressionitem .dcg-icon:not(.dcg-error):not(.dcg-graph-hidden){background-image:none!important}.dcg-container.dcg-EDIT-LIST-MODE .dcg-expressionitem .dcg-icon:not(.dcg-error):not(.dcg-graph-hidden).dcg-animate-play{-webkit-box-shadow:none;box-shadow:none}.dcg-expressionitem .dcg-tab .dcg-icon{position:absolute;top:50%;margin-top:-15px;margin-left:2px}.dcg-expressionitem .dcg-tab .dcg-icon-hidden{font-size:272%}.dcg-expressionitem.dcg-selected .dcg-animate-play,.dcg-expressionitem.dcg-dragging .dcg-animate-play,.dcg-expressionitem.dcg-selected .dcg-animate-pause,.dcg-expressionitem.dcg-dragging .dcg-animate-pause,.dcg-expressionitem.dcg-selected .dcg-folder,.dcg-expressionitem.dcg-dragging .dcg-folder{border:2px solid #fff!important;color:#fff;opacity:1;-ms-filter:none;filter:none}.dcg-expressionitem.dcg-selected:not(.dcg-expressiontable) .dcg-icon-hidden,.dcg-expressionitem.dcg-dragging:not(.dcg-expressiontable) .dcg-icon-hidden{color:#fff;opacity:.5;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";filter:alpha(opacity=50)}.dcg-options-menu{position:absolute;z-index:42}.dcg-exp-options-menu{padding:4px 8px 8px;border:1px solid #d3d3d3;border-radius:7px;-webkit-box-shadow:0 0 6px rgba(0,0,0,0.15);box-shadow:0 0 6px rgba(0,0,0,0.15);background:#fff;display:inline-block;position:absolute;margin-left:36px;margin-top:-45px;top:50%;z-index:61}.dcg-exp-options-menu .dcg-title{font-size:75%;color:#777;padding-top:1px;padding-bottom:0}.dcg-exp-options-menu .dcg-colors-div{float:left}.dcg-exp-options-menu .dcg-colors-div.dcg-with-drag{clear:both;float:left}.dcg-exp-options-menu .dcg-color-menu{padding:2px 1px}.dcg-exp-options-menu .dcg-color-menu .dcg-color-option{float:left;margin-right:3px}.dcg-exp-options-menu .dcg-color-menu .dcg-color-option:nth-of-type(3n){margin-right:0}.dcg-exp-options-menu .dcg-color-menu .dcg-color-option:nth-of-type(3n+1){clear:both}.dcg-exp-options-menu .dcg-color-menu .dcg-color-option.dcg-hovered{-webkit-box-shadow:0 0 0 2px rgba(187,187,187,0.3);box-shadow:0 0 0 2px rgba(187,187,187,0.3)}.dcg-exp-options-menu .dcg-color-menu .dcg-color-option.dcg-depressed{-webkit-box-shadow:0 0 0 2px rgba(119,119,119,0.3);box-shadow:0 0 0 2px rgba(119,119,119,0.3)}.dcg-exp-options-menu .dcg-styles-menu,.dcg-exp-options-menu .dcg-drag-menu{padding:1px}.dcg-exp-options-menu .dcg-styles-menu .dcg-graph-icon,.dcg-exp-options-menu .dcg-drag-menu .dcg-graph-icon{width:29px;height:29px}.dcg-exp-options-menu .dcg-styles-menu .dcg-style-option,.dcg-exp-options-menu .dcg-drag-menu .dcg-style-option,.dcg-exp-options-menu .dcg-styles-menu .dcg-dragmode-option,.dcg-exp-options-menu .dcg-drag-menu .dcg-dragmode-option{float:left;margin-right:4px;display:inline-block;opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30)}.dcg-exp-options-menu .dcg-styles-menu .dcg-style-option.dcg-selected,.dcg-exp-options-menu .dcg-drag-menu .dcg-style-option.dcg-selected,.dcg-exp-options-menu .dcg-styles-menu .dcg-dragmode-option.dcg-selected,.dcg-exp-options-menu .dcg-drag-menu .dcg-dragmode-option.dcg-selected{opacity:1;-ms-filter:none;filter:none}.dcg-exp-options-menu .dcg-styles-menu .dcg-style-option.dcg-selected.dcg-hovered:not(.dcg-disabled),.dcg-exp-options-menu .dcg-drag-menu .dcg-style-option.dcg-selected.dcg-hovered:not(.dcg-disabled),.dcg-exp-options-menu .dcg-styles-menu .dcg-dragmode-option.dcg-selected.dcg-hovered:not(.dcg-disabled),.dcg-exp-options-menu .dcg-drag-menu .dcg-dragmode-option.dcg-selected.dcg-hovered:not(.dcg-disabled){-webkit-box-shadow:0 0 0 2px rgba(187,187,187,0.3);box-shadow:0 0 0 2px rgba(187,187,187,0.3)}.dcg-exp-options-menu .dcg-styles-menu .dcg-style-option.dcg-selected.dcg-depressed:not(.dcg-disabled),.dcg-exp-options-menu .dcg-drag-menu .dcg-style-option.dcg-selected.dcg-depressed:not(.dcg-disabled),.dcg-exp-options-menu .dcg-styles-menu .dcg-dragmode-option.dcg-selected.dcg-depressed:not(.dcg-disabled),.dcg-exp-options-menu .dcg-drag-menu .dcg-dragmode-option.dcg-selected.dcg-depressed:not(.dcg-disabled){-webkit-box-shadow:0 0 0 2px rgba(119,119,119,0.3);box-shadow:0 0 0 2px rgba(119,119,119,0.3)}.dcg-exp-options-menu .dcg-styles-menu .dcg-style-option:not(.dcg-selected).dcg-hovered:not(.dcg-disabled),.dcg-exp-options-menu .dcg-drag-menu .dcg-style-option:not(.dcg-selected).dcg-hovered:not(.dcg-disabled),.dcg-exp-options-menu .dcg-styles-menu .dcg-dragmode-option:not(.dcg-selected).dcg-hovered:not(.dcg-disabled),.dcg-exp-options-menu .dcg-drag-menu .dcg-dragmode-option:not(.dcg-selected).dcg-hovered:not(.dcg-disabled){-webkit-box-shadow:0 0 0 2px #bbb;box-shadow:0 0 0 2px #bbb}.dcg-exp-options-menu .dcg-styles-menu .dcg-style-option:not(.dcg-selected).dcg-depressed:not(.dcg-disabled),.dcg-exp-options-menu .dcg-drag-menu .dcg-style-option:not(.dcg-selected).dcg-depressed:not(.dcg-disabled),.dcg-exp-options-menu .dcg-styles-menu .dcg-dragmode-option:not(.dcg-selected).dcg-depressed:not(.dcg-disabled),.dcg-exp-options-menu .dcg-drag-menu .dcg-dragmode-option:not(.dcg-selected).dcg-depressed:not(.dcg-disabled){-webkit-box-shadow:0 0 0 2px #777;box-shadow:0 0 0 2px #777}.dcg-exp-options-menu .dcg-styles-menu .dcg-style-option:last-of-type,.dcg-exp-options-menu .dcg-drag-menu .dcg-style-option:last-of-type,.dcg-exp-options-menu .dcg-styles-menu .dcg-dragmode-option:last-of-type,.dcg-exp-options-menu .dcg-drag-menu .dcg-dragmode-option:last-of-type{margin-right:0}.dcg-exp-options-menu .dcg-styles-menu .dcg-style-option.dcg-disabled,.dcg-exp-options-menu .dcg-drag-menu .dcg-style-option.dcg-disabled,.dcg-exp-options-menu .dcg-styles-menu .dcg-dragmode-option.dcg-disabled,.dcg-exp-options-menu .dcg-drag-menu .dcg-dragmode-option.dcg-disabled{-webkit-box-shadow:none;box-shadow:none}.dcg-exp-options-menu .dcg-drag-menu{display:inline-block}.dcg-exp-options-menu .dcg-triangle{position:absolute;width:0;height:0;border-style:solid;border-width:12px 12px 12px 0;border-color:transparent #d3d3d3 transparent transparent;left:-12px;top:45px}.dcg-exp-options-menu .dcg-triangle:before{position:absolute;content:\"\";width:0;height:0;border-style:solid;border-width:11px 11px 11px 0;border-color:transparent #fff transparent transparent;top:-11px;left:1px}.dcg-table-column-menu{padding:4px 8px 8px;border:1px solid #d3d3d3;border-radius:7px;width:114px;-webkit-box-shadow:0 0 6px rgba(0,0,0,0.15);box-shadow:0 0 6px rgba(0,0,0,0.15);background:#fff;display:none;position:absolute;margin-left:-6px;margin-top:35px}.dcg-table-column-menu .dcg-title{font-size:75%;color:#666;padding-top:4px;padding-bottom:2px}.dcg-table-column-menu .dcg-color-menu{padding:0}.dcg-table-column-menu .dcg-color-menu .dcg-color-option{margin:0 4px 4px 0;float:left}.dcg-table-column-menu .dcg-color-menu .dcg-color-option:nth-of-type(3n){margin-right:0}.dcg-table-column-menu .dcg-color-menu .dcg-color-option:nth-of-type(n+4){margin-bottom:0}.dcg-table-column-menu .dcg-columnmode-option,.dcg-table-column-menu .dcg-dragmode-option{display:inline-block;opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30)}.dcg-table-column-menu .dcg-columnmode-option.dcg-hovered,.dcg-table-column-menu .dcg-dragmode-option.dcg-hovered{-webkit-box-shadow:0 0 0 2px #bbb;box-shadow:0 0 0 2px #bbb}.dcg-table-column-menu .dcg-columnmode-option.dcg-depressed,.dcg-table-column-menu .dcg-dragmode-option.dcg-depressed{-webkit-box-shadow:0 0 0 2px #777;box-shadow:0 0 0 2px #777}.dcg-table-column-menu .dcg-columnmode-option.dcg-selected,.dcg-table-column-menu .dcg-dragmode-option.dcg-selected{opacity:1;-ms-filter:none;filter:none}.dcg-table-column-menu .dcg-columnmode-option.dcg-selected.dcg-hovered,.dcg-table-column-menu .dcg-dragmode-option.dcg-selected.dcg-hovered{-webkit-box-shadow:0 0 0 2px rgba(187,187,187,0.3);box-shadow:0 0 0 2px rgba(187,187,187,0.3)}.dcg-table-column-menu .dcg-columnmode-option.dcg-selected.dcg-depressed,.dcg-table-column-menu .dcg-dragmode-option.dcg-selected.dcg-depressed{-webkit-box-shadow:0 0 0 2px rgba(119,119,119,0.3);box-shadow:0 0 0 2px rgba(119,119,119,0.3)}.dcg-table-column-menu .dcg-triangle{position:absolute;top:-9px;left:14px;width:0;height:0;border-style:solid;border-width:0 9px 9px 9px;border-color:transparent transparent #d3d3d3 transparent}.dcg-table-column-menu .dcg-triangle:before{position:absolute;content:\"\";width:0;height:0;border-style:solid;border-width:0 8px 8px 8px;border-color:transparent transparent #fff transparent;top:1px;left:-8px}.dcg-graph-icon.dcg-graph-hidden,.dcg-expressionfolder.dcg-hidden .dcg-graph-icon,.dcg-expressionimage .dcg-graph-icon.dcg-hidden{background-color:transparent!important;-webkit-box-shadow:0 0 3px rgba(0,0,0,0.25) inset;box-shadow:0 0 3px rgba(0,0,0,0.25) inset;border:0!important}.dcg-graph-icon.dcg-graph-hidden .dcg-icon-folder,.dcg-expressionfolder.dcg-hidden .dcg-graph-icon .dcg-icon-folder,.dcg-expressionimage .dcg-graph-icon.dcg-hidden .dcg-icon-folder,.dcg-graph-icon.dcg-graph-hidden .dcg-icon-image,.dcg-expressionfolder.dcg-hidden .dcg-graph-icon .dcg-icon-image,.dcg-expressionimage .dcg-graph-icon.dcg-hidden .dcg-icon-image{display:none}.dcg-graph-icon.dcg-graph-hidden .dcg-icon-hidden,.dcg-expressionfolder.dcg-hidden .dcg-graph-icon .dcg-icon-hidden,.dcg-expressionimage .dcg-graph-icon.dcg-hidden .dcg-icon-hidden{display:block}.dcg-expressiontable .dcg-icon-hidden,.dcg-graph-icon .dcg-icon-hidden{font-size:187%;opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30);color:#999}@-webkit-keyframes dcg-fade-pulse{0%{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}50%{opacity:1;-ms-filter:none;filter:none}100%{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}}@keyframes dcg-fade-pulse{0%{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}50%{opacity:1;-ms-filter:none;filter:none}100%{opacity:.2;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)\";filter:alpha(opacity=20)}}.dcg-expressionitem.dcg-expressionimage{color:#aaa}.dcg-expressionitem.dcg-expressionimage .dcg-main{padding-bottom:0}.dcg-expressionitem.dcg-expressionimage.dcg-loading .dcg-image-loading{display:block;height:52px;line-height:37px}.dcg-expressionitem.dcg-expressionimage.dcg-loading .dcg-template-bottom,.dcg-expressionitem.dcg-expressionimage.dcg-loading .dcg-image-loaded,.dcg-expressionitem.dcg-expressionimage.dcg-loading .dcg-edit-image{display:none}.dcg-expressionitem.dcg-expressionimage .dcg-image-loading{display:none;font-size:100%;line-height:26px;padding:1px;color:#888;font-style:italic}.dcg-expressionitem.dcg-expressionimage .dcg-mq-editable-field.dcg-math-input.dcg-hovered:not(.dcg-focus){cursor:pointer;color:#444}.dcg-expressionitem.dcg-expressionimage .dcg-edit-image{cursor:default;font-size:80%;margin:-15px 0 8px;-webkit-transition:.3s;-moz-transition:.3s;-o-transition:.3s;-ms-transition:.3s;transition:.3s}.dcg-expressionitem.dcg-expressionimage .dcg-smart-textarea-container{margin:-5px 0 20px;font-size:85%}.dcg-expressionitem.dcg-expressionimage .dcg-smart-textarea-container textarea,.dcg-expressionitem.dcg-expressionimage .dcg-smart-textarea-container .dcg-displayTextarea{padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0}.dcg-expressionimage .dcg-mq-math-mode .dcg-mq-editable-field.dcg-math-input{margin:-1px -5px;position:relative}.dcg-expressionimage .dcg-mq-math-mode .dcg-mq-editable-field.dcg-math-input .dcg-mq-root-block{font-size:85%;padding:5px 7px;border:1px solid transparent}.dcg-expressionimage .dcg-center-inputs{margin-bottom:2px}.dcg-expressionimage.dcg-input-focused,.dcg-EDIT-LIST-MODE .dcg-expressionimage{color:#222}.dcg-expressionimage.dcg-input-focused .dcg-mq-editable-field.dcg-math-input,.dcg-EDIT-LIST-MODE .dcg-expressionimage .dcg-mq-editable-field.dcg-math-input{margin:-1px 2px}.dcg-expressionimage.dcg-input-focused .dcg-mq-editable-field.dcg-math-input .dcg-mq-root-block,.dcg-EDIT-LIST-MODE .dcg-expressionimage .dcg-mq-editable-field.dcg-math-input .dcg-mq-root-block{border:1px solid #ccc;border-top-color:transparent}.dcg-expressionimage.dcg-input-focused .dcg-mq-editable-field.dcg-math-input.dcg-focus .dcg-mq-root-block,.dcg-EDIT-LIST-MODE .dcg-expressionimage .dcg-mq-editable-field.dcg-math-input.dcg-focus .dcg-mq-root-block,.dcg-expressionimage.dcg-input-focused .dcg-mq-editable-field.dcg-math-input.dcg-invalid .dcg-mq-root-block,.dcg-EDIT-LIST-MODE .dcg-expressionimage .dcg-mq-editable-field.dcg-math-input.dcg-invalid .dcg-mq-root-block{border:1px solid #8dc6dd;border-top-color:transparent;-webkit-box-shadow:-1px 1px 0 #8dc6dd,1px 1px 0 #8dc6dd;box-shadow:-1px 1px 0 #8dc6dd,1px 1px 0 #8dc6dd}.dcg-expressionimage.dcg-input-focused .dcg-mq-editable-field.dcg-math-input.dcg-invalid .dcg-mq-root-block,.dcg-EDIT-LIST-MODE .dcg-expressionimage .dcg-mq-editable-field.dcg-math-input.dcg-invalid .dcg-mq-root-block{border-color:#e15855;border-top-color:transparent;-webkit-box-shadow:-1px 1px 0 #e15855,1px 1px 0 #e15855;box-shadow:-1px 1px 0 #e15855,1px 1px 0 #e15855}.dcg-expressionimage.dcg-input-focused .dcg-mq-editable-field.dcg-math-input:before,.dcg-EDIT-LIST-MODE .dcg-expressionimage .dcg-mq-editable-field.dcg-math-input:before{content:'';position:absolute;left:-1px;top:0;bottom:6px;width:4px;z-index:1;background:#fff}.dcg-expressionimage.dcg-input-focused .dcg-mq-editable-field.dcg-math-input:after,.dcg-EDIT-LIST-MODE .dcg-expressionimage .dcg-mq-editable-field.dcg-math-input:after{content:'';position:absolute;top:0;right:-3px;bottom:6px;width:4px;background:#fff}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container{display:block}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-cell-math-content{outline:none}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-main{padding-top:25px;padding-right:55px;padding-bottom:10px;position:relative;padding-left:60px}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata{position:relative;display:table}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row{display:table-row}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell{display:table-cell}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell{border-top:1px solid #e5e5e5;padding:7px 20px}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell.dcg-non-editable{padding:7px}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row:nth-of-type(2) .dcg-cell{border-top:1px solid #444}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row:first-of-type .dcg-cell{vertical-align:bottom;padding:7px 5px 3px}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type){padding:7px 24px 3px}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field{margin-left:10px}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row:first-of-type .dcg-cell .dcg-math-field{min-height:26px}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row:first-of-type .dcg-cell:first-of-type.dcg-error{padding-left:33px}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell{position:relative;text-align:center;vertical-align:middle;font-size:72%;min-height:34px;min-width:40px;cursor:text}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell:not(:first-of-type){border-left:1px solid #e5e5e5}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell:nth-of-type(2){border-left:1px solid #444}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable{cursor:default}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable .dcg-mq-math-mode{pointer-events:none}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell:not(.dcg-non-editable):not(.dcg-selected).dcg-empty .dcg-empty-line{position:absolute;width:26px;left:50%;margin-left:-13px;border-top:1px dashed #bbb;bottom:10px}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border{position:absolute;left:-1px;top:-1px;bottom:-1px;right:-1px;z-index:1;pointer-events:none}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable{background:#f5f5f5}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border{border:2px solid #8dc6dd}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell .dcg-mq-math-mode{position:relative}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell .dcg-error-indicator{position:absolute;top:50%;margin-top:-14px;left:0;height:26px;width:26px;background:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAABAlBMVEUAAAD/+en/+u39y0T//////vr//fn///3//PX+2HT+5aL//ff91GX90Vr//vv+4pX+34r+2nn+56f+4ZL+3YT//Pb/89P//fj+4I/+6rL+4JH+45z//PT+6bD+5J3//vz9z1T+4ZP+45r+67n/9t7+6rT/+u3+8Mj+3or+67b+4pb9zk/+4ZX9y0X91GP+3oj+4JD///7+3Yb+8Mr+2Xf91GT+5aH90lz+5J7/+uz90Vj/+OX+7b7+67j/9dr+6bH+6bL91Wn+5aD+343/9t39127/+Ob+9Nn+9Nj9zUv901/+3YX+233/+/H91Wf/9+H+7Lv9z1P/89X/9+P+8cz+7sEVCP+qAAAAA3RSTlMA7maeWt7RAAABV0lEQVR42tXS1XLDMBRFUaVHxrDD1HDKzMzM9P+/0thtfCeR6968tev9jLRHEv9G8mRr6VWw7e3CxV+swzMXETwOvmUFTxwDU4IjBd+FYFgDSIUxsECom1FM3axi6mYVLzQn7UwRLkuEysPT1A2pR78WjgiThmdT9tUrcMU5xbY7MCap+7fiWU1KrZCh7rBidWCFF6sDOGHFnmR/oBfKAMK6S/DN6+5gGQMpEWQRvlZCyoSWhC8fWExs6TqFLx1YTLYNY8VItECcoGKSykW1nLkKEg8qJhtmtWrmbkGU7hiG9B4KvR0QpbuIYe3n/fYBfEr3IRhKanG4mFpMjo67tRpGnCnF5Pzp8uoao/JUPOKmrkWlhEft7oDQw+mmefdD9z0UtnTZwd0z4A9Q7A8eoWrYrgZUHTqApyymMZbY2IOxr0T/iOVlQgiRBZv1JjzvXZaPiPiTPgGG2Sh2xUHSJwAAAABJRU5ErkJggg==\") no-repeat;background-position:center;-webkit-background-size:16px 16px;-moz-background-size:16px 16px;background-size:16px 16px;display:none;cursor:pointer;-webkit-animation:dcg-delayed-fadeIn 1s;-moz-animation:dcg-delayed-fadeIn 1s;-o-animation:dcg-delayed-fadeIn 1s;-ms-animation:dcg-delayed-fadeIn 1s;animation:dcg-delayed-fadeIn 1s}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-error .dcg-error-indicator{display:inline-block}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header{font-size:85%;min-height:37px}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header .dcg-icon-hidden{position:relative;top:1px}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header .dcg-fadeout{width:40px!important;top:0;bottom:1px;right:0}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header .dcg-icon-box{display:none}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field,.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-mq-editable-field{text-align:center}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-icon-box,.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-icon-box{display:inline-block;padding:4px;position:absolute;bottom:0;left:0}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-selected .dcg-icon-box{padding-left:4px!important;padding-bottom:4px!important}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header .dcg-error-indicator{height:16px;width:16px;background:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAABAlBMVEUAAAD/+en/+u39y0T//////vr//fn///3//PX+2HT+5aL//ff91GX90Vr//vv+4pX+34r+2nn+56f+4ZL+3YT//Pb/89P//fj+4I/+6rL+4JH+45z//PT+6bD+5J3//vz9z1T+4ZP+45r+67n/9t7+6rT/+u3+8Mj+3or+67b+4pb9zk/+4ZX9y0X91GP+3oj+4JD///7+3Yb+8Mr+2Xf91GT+5aH90lz+5J7/+uz90Vj/+OX+7b7+67j/9dr+6bH+6bL91Wn+5aD+343/9t39127/+Ob+9Nn+9Nj9zUv901/+3YX+233/+/H91Wf/9+H+7Lv9z1P/89X/9+P+8cz+7sEVCP+qAAAAA3RSTlMA7maeWt7RAAABV0lEQVR42tXS1XLDMBRFUaVHxrDD1HDKzMzM9P+/0thtfCeR6968tev9jLRHEv9G8mRr6VWw7e3CxV+swzMXETwOvmUFTxwDU4IjBd+FYFgDSIUxsECom1FM3axi6mYVLzQn7UwRLkuEysPT1A2pR78WjgiThmdT9tUrcMU5xbY7MCap+7fiWU1KrZCh7rBidWCFF6sDOGHFnmR/oBfKAMK6S/DN6+5gGQMpEWQRvlZCyoSWhC8fWExs6TqFLx1YTLYNY8VItECcoGKSykW1nLkKEg8qJhtmtWrmbkGU7hiG9B4KvR0QpbuIYe3n/fYBfEr3IRhKanG4mFpMjo67tRpGnCnF5Pzp8uoao/JUPOKmrkWlhEft7oDQw+mmefdD9z0UtnTZwd0z4A9Q7A8eoWrYrgZUHTqApyymMZbY2IOxr0T/iOVlQgiRBZv1JjzvXZaPiPiTPgGG2Sh2xUHSJwAAAABJRU5ErkJggg==\");-webkit-background-size:20px 20px;-moz-background-size:20px 20px;background-size:20px 20px;display:inline-block;margin-right:0;margin-left:0;top:0;position:absolute;bottom:0;margin:auto;left:5px;cursor:pointer}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata:not(.dcg-focus-in-right-column):after{content:'';position:absolute;top:0;bottom:0;right:0;background:-webkit-linear-gradient(right,#fff,rgba(255,255,255,0));background:-moz-linear-gradient(right,#fff,rgba(255,255,255,0));background:-o-linear-gradient(right,#fff,rgba(255,255,255,0));background:-ms-linear-gradient(right,#fff,rgba(255,255,255,0));background:linear-gradient(to left,#fff,rgba(255,255,255,0));width:60px;pointer-events:none}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata:not(.dcg-focus-in-bottom-row):before{content:'';position:absolute;bottom:0;left:0;right:0;height:30px;pointer-events:none;background:-webkit-linear-gradient(bottom,#fff,rgba(255,255,255,0));background:-moz-linear-gradient(bottom,#fff,rgba(255,255,255,0));background:-o-linear-gradient(bottom,#fff,rgba(255,255,255,0));background:-ms-linear-gradient(bottom,#fff,rgba(255,255,255,0));background:linear-gradient(to top,#fff,rgba(255,255,255,0));z-index:1}.dcg-expressionitem.dcg-expressiontable .dcg-fade-container .dcg-tabledata:not(.dcg-focus-in-bottom-row) .dcg-row:last-of-type .dcg-cell .dcg-empty-line{display:none}.dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row:last-of-type{visibility:hidden}.dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row:last-of-type .dcg-cell{border-color:transparent}.dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row .dcg-cell:last-of-type{border-color:transparent;visibility:hidden}.dcg-drag-icon{opacity:.4;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)\";filter:alpha(opacity=40);vertical-align:middle;cursor:text;font-size:95%}.dcg-drag-icon i{display:none}.dcg-drag-icon[dcg-drag-mode=\"XY\"] .dcg-icon-move{display:inline-block}.dcg-drag-icon[dcg-drag-mode=\"X\"] .dcg-icon-move-horizontal{display:inline-block}.dcg-drag-icon[dcg-drag-mode=\"Y\"] .dcg-icon-move-vertical{display:inline-block}@-webkit-keyframes dcg-delayed-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}80%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-delayed-fadeIn{0%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}80%{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{opacity:1;-ms-filter:none;filter:none}}.dcg-expressionitem .dcg-caret-container{font-size:95%;position:absolute;top:-1px;left:38px;width:45px;height:48px;color:#999;padding-left:23px;margin-left:-0.75em;padding-top:18px;text-align:left;z-index:2}.dcg-expressionitem .dcg-caret-container i{-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s;width:16px;height:16px}.dcg-expressionitem .dcg-caret-container.dcg-hovered{color:#666;cursor:pointer}.dcg-expressionitem.dcg-collapsed .dcg-caret-container i{display:inline-block;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.dcg-expressionitem.dcg-secretFolder{display:none}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder{cursor:pointer;color:#aaa;font-size:75%;padding:5px;margin-top:5px;margin-left:15px;margin-bottom:-5px;margin-right:-5px;position:relative;z-index:1}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder .dcg-checkbox-box{display:inline-block;vertical-align:top;height:15px;width:15px;border-radius:3px;color:#127a3d;border:1px solid #aaa}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder .dcg-checkbox-box .dcg-icon-check{position:relative;top:-2px;left:1px;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff;display:none;font-size:110%}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-checked .dcg-checkbox-box .dcg-icon-check{display:block}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-hovered{color:#888}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-hovered .dcg-checkbox-box{border-color:#888}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-depressed{color:#444}.dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-depressed .dcg-checkbox-box{border-color:#444}.dcg-expressionitem.dcg-expressionfolder .dcg-fade-container:after{-webkit-transition:0;-moz-transition:0;-o-transition:0;-ms-transition:0;transition:0}.dcg-expressionitem.dcg-expressionfolder:not(.dcg-collapsed).dcg-has-items .dcg-fade-container:after{top:35px;left:55px}.dcg-expressionitem.dcg-expressionfolder .dcg-main textarea.dcg-smart-textarea,.dcg-expressionitem.dcg-expressionfolder .dcg-main .dcg-displayTextarea{padding-left:73px}.dcg-exp-options-menu.dcg-image-options-menu{width:auto;padding-bottom:4px;margin-top:-13px}.dcg-exp-options-menu.dcg-image-options-menu .dcg-triangle{top:14px}.dcg-exp-options-menu.dcg-image-options-menu .dcg-opacities-div{float:left}.dcg-exp-options-menu.dcg-image-options-menu .dcg-opacities-menu .dcg-opacity-option{display:inline-block;width:29px;height:29px;cursor:pointer;margin-top:5px;border-radius:50%;position:relative}.dcg-exp-options-menu.dcg-image-options-menu .dcg-opacities-menu .dcg-opacity-option .dcg-image-thumb{position:absolute;top:0;left:0;border-radius:15px;width:29px;height:29px;background-position:center;background-repeat:no-repeat;-webkit-background-size:cover;-moz-background-size:cover;background-size:cover}.dcg-exp-options-menu.dcg-image-options-menu .dcg-opacities-menu .dcg-opacity-option i{color:#fff;font-size:100%;line-height:29px;margin-top:1px;width:100%;display:none;position:absolute;text-shadow:0 0 6px rgba(0,0,0,0.2),0 0 1px rgba(0,0,0,0.5)}.dcg-exp-options-menu.dcg-image-options-menu .dcg-opacities-menu .dcg-opacity-option.dcg-hovered{-webkit-box-shadow:0 0 0 2px rgba(187,187,187,0.3);box-shadow:0 0 0 2px rgba(187,187,187,0.3)}.dcg-exp-options-menu.dcg-image-options-menu .dcg-opacities-menu .dcg-opacity-option.dcg-depressed{-webkit-box-shadow:0 0 0 2px rgba(119,119,119,0.3);box-shadow:0 0 0 2px rgba(119,119,119,0.3)}.dcg-exp-options-menu.dcg-image-options-menu .dcg-opacities-menu .dcg-opacity-option.dcg-selected i{display:block}.dcg-desmos-input-container .dcg-before-input,.dcg-desmos-input-container .dcg-after-input{width:6px;position:relative;display:inline-block;height:15px;top:0;bottom:8px;left:0;background:#fff}.dcg-desmos-input-container .dcg-before-input{left:2px;margin-right:-6px}.dcg-desmos-input-container .dcg-after-input{left:auto;right:2px;margin-left:-6px}.dcg-desmos-input-container input{font-size:14px;outline:none;border-radius:0;border:1px solid #ccc;border-top:0;padding:0 5px 2px;margin-bottom:1px;background:transparent}.dcg-desmos-input-container input:focus,.dcg-desmos-input-container input.dcg-focus{margin-bottom:0;padding-left:4px;border:2px solid #8dc6dd;border-top:0}.dcg-desmos-input-container input:focus.dcg-invalid,.dcg-desmos-input-container input.dcg-focus.dcg-invalid{border-color:#e15855}.dcg-desmos-input-container.dcg-invalid input:focus,.dcg-desmos-input-container.dcg-invalid .dcg-math-input.dcg-focus{border-color:#e15855}.dcg-btn-blue,.dcg-btn-red,.dcg-btn-light-gray,.dcg-btn-medium-gray,.dcg-btn-green{border:none;-webkit-appearance:none;cursor:pointer;white-space:nowrap;text-decoration:none;display:inline-block;border-radius:4px;padding:0 20px;font-size:95%;border-width:1px;border-style:solid;border-color:rgba(0,0,0,0.05) rgba(0,0,0,0.15) rgba(0,0,0,0.25)}.dcg-btn-red,.dcg-btn-blue,.dcg-btn-medium-gray,.dcg-btn-green{color:#fff;-webkit-box-shadow:inset 0 1px rgba(255,255,255,0.15),inset 0 -1px rgba(0,0,0,0.1);box-shadow:inset 0 1px rgba(255,255,255,0.15),inset 0 -1px rgba(0,0,0,0.1)}.dcg-btn-red{background:-webkit-linear-gradient(#cc5a56,#cc4843);background:-moz-linear-gradient(#cc5a56,#cc4843);background:-o-linear-gradient(#cc5a56,#cc4843);background:-ms-linear-gradient(#cc5a56,#cc4843);background:linear-gradient(#cc5a56,#cc4843)}.dcg-btn-red.dcg-hovered{background:-webkit-linear-gradient(#d95f5b,#cc4843);background:-moz-linear-gradient(#d95f5b,#cc4843);background:-o-linear-gradient(#d95f5b,#cc4843);background:-ms-linear-gradient(#d95f5b,#cc4843);background:linear-gradient(#d95f5b,#cc4843)}.dcg-btn-red.dcg-depressed{background:#bf4743}.dcg-btn-blue{background:-webkit-linear-gradient(#4986bf,#3479bf);background:-moz-linear-gradient(#4986bf,#3479bf);background:-o-linear-gradient(#4986bf,#3479bf);background:-ms-linear-gradient(#4986bf,#3479bf);background:linear-gradient(#4986bf,#3479bf)}.dcg-btn-blue.dcg-hovered{background:-webkit-linear-gradient(#4e8fcc,#3479bf);background:-moz-linear-gradient(#4e8fcc,#3479bf);background:-o-linear-gradient(#4e8fcc,#3479bf);background:-ms-linear-gradient(#4e8fcc,#3479bf);background:linear-gradient(#4e8fcc,#3479bf)}.dcg-btn-blue.dcg-depressed,.dcg-btn-blue.dcg-active{background:#2675bf}.dcg-btn-medium-gray{background:-webkit-linear-gradient(#ccc,#9a9a9a);background:-moz-linear-gradient(#ccc,#9a9a9a);background:-o-linear-gradient(#ccc,#9a9a9a);background:-ms-linear-gradient(#ccc,#9a9a9a);background:linear-gradient(#ccc,#9a9a9a)}.dcg-btn-medium-gray.dcg-hovered{background:-webkit-linear-gradient(#ddd,#9a9a9a);background:-moz-linear-gradient(#ddd,#9a9a9a);background:-o-linear-gradient(#ddd,#9a9a9a);background:-ms-linear-gradient(#ddd,#9a9a9a);background:linear-gradient(#ddd,#9a9a9a)}.dcg-btn-medium-gray.dcg-active{background:#bbb}.dcg-btn-medium-gray.dcg-depressed{background:#aaa}.dcg-btn-light-gray{color:#222;text-shadow:0 1px 1px rgba(255,255,255,0.75);background:-webkit-linear-gradient(#fff,#ddd);background:-moz-linear-gradient(#fff,#ddd);background:-o-linear-gradient(#fff,#ddd);background:-ms-linear-gradient(#fff,#ddd);background:linear-gradient(#fff,#ddd)}.dcg-btn-light-gray.dcg-hovered{background:-webkit-linear-gradient(#fff,#e3e3e3);background:-moz-linear-gradient(#fff,#e3e3e3);background:-o-linear-gradient(#fff,#e3e3e3);background:-ms-linear-gradient(#fff,#e3e3e3);background:linear-gradient(#fff,#e3e3e3)}.dcg-btn-light-gray.dcg-active,.dcg-btn-light-gray.dcg-depressed{border:1px solid #c5c5c5;background:-webkit-linear-gradient(#ebebeb,#e3e3e3);background:-moz-linear-gradient(#ebebeb,#e3e3e3);background:-o-linear-gradient(#ebebeb,#e3e3e3);background:-ms-linear-gradient(#ebebeb,#e3e3e3);background:linear-gradient(#ebebeb,#e3e3e3)}.dcg-btn-green{background:-webkit-linear-gradient(#1aad57,#148744);background:-moz-linear-gradient(#1aad57,#148744);background:-o-linear-gradient(#1aad57,#148744);background:-ms-linear-gradient(#1aad57,#148744);background:linear-gradient(#1aad57,#148744)}.dcg-btn-green.dcg-hovered{background:-webkit-linear-gradient(#1dbf60,#148744);background:-moz-linear-gradient(#1dbf60,#148744);background:-o-linear-gradient(#1dbf60,#148744);background:-ms-linear-gradient(#1dbf60,#148744);background:linear-gradient(#1dbf60,#148744)}.dcg-btn-green.dcg-depressed{background:#127a3d}.dcg-btn-green.dcg-active{background:-webkit-linear-gradient(#148744,#16944b);background:-moz-linear-gradient(#148744,#16944b);background:-o-linear-gradient(#148744,#16944b);background:-ms-linear-gradient(#148744,#16944b);background:linear-gradient(#148744,#16944b);-webkit-box-shadow:inset 0 1px 7px rgba(0,0,0,0.35);box-shadow:inset 0 1px 7px rgba(0,0,0,0.35)}.dcg-btn-gray-outline{border:1px solid #666;border-radius:5px;color:#666;cursor:pointer}.dcg-btn-gray-outline.dcg-hovered{color:#000;-webkit-box-shadow:0 0 0 1px #000;box-shadow:0 0 0 1px #000}.dcg-btn-gray-outline.dcg-depressed{background:#bbb;color:#fff}.dcg-pull-right{float:right}.dcg-pull-left{float:left}.dcg-inverted-colors .dcg-btn-red,.dcg-inverted-colors .dcg-btn-blue,.dcg-inverted-colors .dcg-btn-medium-gray,.dcg-inverted-colors .dcg-btn-green{-webkit-box-shadow:none;box-shadow:none}.dcg-inverted-colors .dcg-btn-red{background:#cc5a56}.dcg-inverted-colors .dcg-btn-red.dcg-hovered{background:#d95f5b}.dcg-inverted-colors .dcg-btn-blue{background:#4986bf}.dcg-inverted-colors .dcg-btn-blue.dcg-hovered{background:#4e8fcc}.dcg-inverted-colors .dcg-btn-medium-gray{background:#9a9a9a}.dcg-inverted-colors .dcg-btn-medium-gray.dcg-hovered{color:#222;background:#ddd}.dcg-inverted-colors .dcg-btn-light-gray{background:#fff;border:1px solid rgba(0,0,0,0.25)}.dcg-inverted-colors .dcg-btn-light-gray.dcg-hovered{background:#ddd}.dcg-inverted-colors .dcg-btn-light-gray.dcg-active,.dcg-inverted-colors .dcg-btn-light-gray.dcg-depressed{background:#ebebeb}.dcg-inverted-colors .dcg-btn-green{background:#1aad57}.dcg-inverted-colors .dcg-btn-green.dcg-hovered{background:#1dbf60}.dcg-inverted-colors .dcg-btn-green.dcg-active{background:#148744}.dcg-btn-flat-gray{-webkit-box-shadow:0 0 5px rgba(0,0,0,0.15);box-shadow:0 0 5px rgba(0,0,0,0.15);border:1px solid #ddd;background:#f0f0f0;border-radius:5px;cursor:pointer;color:#666;text-shadow:0 1px #fff}.dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-hovered,.dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-hovered{color:#222}.dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed,.dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed,.dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active,.dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active{color:#000;background:#e8e8e8}.dcg-container.dcg-EDIT-LIST-MODE .dcg-show-keypad{display:none!important}.dcg-container:not(.dcg-narrow) .dcg-keys-container.dcg-retracted{-webkit-transition:-webkit-transform .3s,opacity .3s;-moz-transition:-moz-transform .3s,opacity .3s;-o-transition:-o-transform .3s,opacity .3s;-ms-transition:-ms-transform .3s,opacity .3s;transition:transform .3s,opacity .3s}.dcg-keypad .dcg-keys-container{position:absolute;bottom:0;z-index:60;width:100%;margin:0 auto;padding:0;-webkit-transition:opacity .3s;-moz-transition:opacity .3s;-o-transition:opacity .3s;-ms-transition:opacity .3s;transition:opacity .3s}.dcg-keypad .dcg-keys-container.dcg-retracted{-webkit-transform:translate3d(0,255px,0);-moz-transform:translate3d(0,255px,0);-o-transform:translate3d(0,255px,0);-ms-transform:translate3d(0,255px,0);transform:translate3d(0,255px,0);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.dcg-keypad .dcg-keys-container *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dcg-keypad .dcg-keys-background{background:rgba(0,0,0,0.7);padding-top:2px;padding-bottom:2px}.dcg-keypad .dcg-functions-popover{padding:0;top:-326px}.dcg-keypad .dcg-functions-popover .dcg-popover-interior{padding:0;width:228px;height:326px!important}.dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-popover-header table{border-collapse:collapse;position:relative;top:1px}.dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-key{font-size:90%!important}.dcg-keypad .dcg-functions-popover .dcg-heading{padding:7px 0;width:70px;border-bottom-right-radius:0;border-bottom-left-radius:0;text-shadow:none;-webkit-box-shadow:none;box-shadow:none;font-size:80%;line-height:20px}.dcg-keypad .dcg-functions-popover .dcg-heading:not(.dcg-selected){border-color:#444}.dcg-keypad .dcg-functions-popover .dcg-heading.dcg-selected{background:#fff;color:#000;cursor:default;border-bottom:1px solid #fff;-webkit-box-shadow:none;box-shadow:none}.dcg-keypad .dcg-functions-popover .dcg-section-headings td{color:#888;text-transform:uppercase;text-align:center;padding-top:9px;font-size:75%}.dcg-keypad .dcg-functions-popover .dcg-interior-buttons{margin-left:1px}.dcg-keypad .dcg-functions-popover .dcg-interior-buttons tr:not(.dcg-section-headings) td{padding:0}.dcg-keypad .dcg-functions-popover .dcg-popover-header{background:rgba(0,0,0,0.7);border-top-left-radius:5px;border-top-right-radius:5px;padding:5px 5px 0;margin-bottom:1px}.dcg-keypad .dcg-functions-popover .dcg-option{border-bottom:1px solid #ccc;cursor:pointer;margin:4px 1px 0 3px!important;width:70px;height:38px;line-height:28px;padding:4px 14px}.dcg-keypad .dcg-functions-popover .dcg-option.dcg-inverse-trig .dcg-mq-supsub{line-height:0;font-size:80%;position:relative;top:-0.5em;margin-right:-5px}.dcg-keypad .dcg-functions-popover.dcg-left{top:auto;bottom:2px;right:18%;left:auto}.dcg-keypad .dcg-functions-popover.dcg-left .dcg-arrow{top:auto}.dcg-keypad .dcg-mq-large-operator .dcg-mq-to,.dcg-keypad .dcg-mq-large-operator .dcg-mq-from{display:none!important}.dcg-keypad .dcg-mq-int .dcg-mq-supsub{display:none}.dcg-keypad .dcg-mq-large-operator,.dcg-keypad .dcg-mq-int{font-size:70%;position:relative;top:-1px}.dcg-keypad .dcg-functions-popover{position:absolute;right:8px}.dcg-keypad .dcg-pipes-key span{font-size:120%;padding:1px}.dcg-keypad .dcg-pipes-key var{position:relative;top:-3px}.dcg-keypad .dcg-toggleHandwriting-key img{width:46px;height:23px;margin-top:12%}.dcg-keypad .dcg-minimize-keypad .dcg-icon-keyboard,.dcg-keypad .dcg-show-keypad .dcg-icon-keyboard{font-size:175%;float:left;margin-right:8px}.dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-down,.dcg-keypad .dcg-show-keypad .dcg-icon-caret-down,.dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-up,.dcg-keypad .dcg-show-keypad .dcg-icon-caret-up{font-size:75%;line-height:2rem}.dcg-keypad .dcg-minimize-keypad{position:absolute;top:-2.5rem;left:-1px;color:rgba(255,255,255,0.7);padding:.25rem 1.25rem;border-top-left-radius:5px;border-top-right-radius:5px;background:rgba(0,0,0,0.7);cursor:pointer}.dcg-keypad .dcg-minimize-keypad.dcg-hovered{color:rgba(255,255,255,0.9)}.dcg-keypad .dcg-minimize-keypad.dcg-depressed{color:#fff}.dcg-keypad .dcg-show-keypad{display:none;z-index:60;position:absolute;bottom:5px;left:5px;padding:4px 14px;-webkit-animation:dcg-fadeIn-show-keypad .6s;-moz-animation:dcg-fadeIn-show-keypad .6s;-o-animation:dcg-fadeIn-show-keypad .6s;-ms-animation:dcg-fadeIn-show-keypad .6s;animation:dcg-fadeIn-show-keypad .6s}.dcg-keypad .dcg-mainNumbersLeft,.dcg-keypad .dcg-numbersMiddle,.dcg-keypad .dcg-numbersRight{float:left}.dcg-keypad .dcg-letters,.dcg-keypad .dcg-capitalLetters{text-align:center}.dcg-keypad .dcg-letters,.dcg-keypad .dcg-capitalLetters,.dcg-keypad .dcg-mainNumbersLeft,.dcg-keypad .dcg-numbersRight,.dcg-keypad .dcg-numbersMiddle,.dcg-keypad .dcg-handwriting,.dcg-keypad .dcg-handwriting-area,.dcg-keypad .dcg-noQwertyLetters{display:none}.dcg-keypad.dcg-layout-mainNumbers .dcg-mainNumbersLeft,.dcg-keypad.dcg-layout-mainNumbers .dcg-numbersMiddle,.dcg-keypad.dcg-layout-mainNumbers .dcg-numbersRight{display:block}.dcg-keypad.dcg-layout-letters .dcg-letters{display:block}.dcg-keypad.dcg-layout-noQwertyLetters .dcg-noQwertyLetters{display:block}.dcg-keypad.dcg-layout-capitalLetters .dcg-capitalLetters{display:block}.dcg-keypad .dcg-keys{position:relative;padding-top:2px;width:100%;max-width:835px;margin:auto;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center}.dcg-keypad .dcg-keys .dcg-row{width:125%;white-space:nowrap}.dcg-keypad .dcg-keys .dcg-cell{display:inline-block;width:40%;float:left;padding-bottom:2px}.dcg-keypad .dcg-keys .dcg-cell.dcg-twowide{width:80%}.dcg-keypad .dcg-keys .dcg-cell.dcg-onepointfivewide{width:60%}.dcg-keypad .dcg-keys .dcg-cell.dcg-halfwide{width:20%}.dcg-keypad .dcg-keys .dcg-cell .dcg-icon-arrow-enter{font-size:130%}.dcg-keypad .dcg-keys .dcg-cell .dcg-icon-arrow-left,.dcg-keypad .dcg-keys .dcg-cell .dcg-icon-arrow-right{font-size:100%;position:relative;top:-1px}.dcg-keypad .dcg-keys .dcg-cell .dcg-icon-arrow-enter,.dcg-keypad .dcg-keys .dcg-cell .dcg-icon-arrow-left,.dcg-keypad .dcg-keys .dcg-cell .dcg-icon-arrow-right{line-height:inherit}.dcg-keypad .dcg-keys .dcg-cell .dcg-icon-shift{font-size:90%}.dcg-keypad .dcg-keys .dcg-cell .dcg-key{display:block;height:40px;padding:0;text-align:center;font-size:115%;line-height:40px;border:1px solid #4c4c4c;border-radius:5px;margin:0 1px;cursor:pointer}.dcg-keypad .dcg-keys .dcg-cell .dcg-key.dcg-exponent{line-height:45px}.dcg-keypad .dcg-keys .dcg-cell .dcg-key.dcg-exponent .dcg-mq-supsub{line-height:16px}.dcg-keypad .dcg-keys .dcg-cell .dcg-key.dcg-sum-key{font-size:95%}.dcg-keypad .dcg-keys .dcg-cell .dcg-key.dcg-decimal-key,.dcg-keypad .dcg-keys .dcg-cell .dcg-key.dcg-comma-key{font-size:120%}.dcg-keypad .dcg-keys .dcg-cell .dcg-key.dcg-toggleLetters-key,.dcg-keypad .dcg-keys .dcg-cell .dcg-key.dcg-popupFunctions-key{font-family:Times;letter-spacing:.5px}.dcg-keypad .dcg-keys .dcg-cell .dcg-key.dcg-toggleNumbers-key{font-family:\"Symbola\",\"Times New Roman\",serif}.dcg-keypad .dcg-keys .dcg-cell .dcg-key .dcg-ghost-bracket{opacity:.25;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)\";filter:alpha(opacity=25)}.dcg-keypad .dcg-keys .dcg-numbersMiddle .dcg-cell,.dcg-keypad .dcg-keys .dcg-mainNumbersLeft .dcg-cell{width:20%}.dcg-keypad .dcg-keys .dcg-numbersMiddle .dcg-cell.dcg-twowide,.dcg-keypad .dcg-keys .dcg-mainNumbersLeft .dcg-cell.dcg-twowide{width:40%}.dcg-keypad .dcg-keys .dcg-numbersMiddle .dcg-cell.dcg-onepointfivewide,.dcg-keypad .dcg-keys .dcg-mainNumbersLeft .dcg-cell.dcg-onepointfivewide{width:30%}.dcg-keypad .dcg-keys .dcg-numbersMiddle .dcg-cell.dcg-halfwide,.dcg-keypad .dcg-keys .dcg-mainNumbersLeft .dcg-cell.dcg-halfwide{width:10%}.dcg-keypad .dcg-keys .dcg-letters,.dcg-keypad .dcg-keys .dcg-capitalLetters{margin-left:2px;margin-right:2px}.dcg-keypad .dcg-keys .dcg-letters .dcg-row,.dcg-keypad .dcg-keys .dcg-capitalLetters .dcg-row{width:100%;text-align:center}.dcg-keypad .dcg-keys .dcg-letters .dcg-cell,.dcg-keypad .dcg-keys .dcg-capitalLetters .dcg-cell{width:10%;vertical-align:middle;float:none}.dcg-keypad .dcg-keys .dcg-letters .dcg-cell.dcg-halfwide,.dcg-keypad .dcg-keys .dcg-capitalLetters .dcg-cell.dcg-halfwide{width:5%}.dcg-keypad .dcg-keys .dcg-letters .dcg-cell.dcg-onepointfivewide,.dcg-keypad .dcg-keys .dcg-capitalLetters .dcg-cell.dcg-onepointfivewide{width:15%}.dcg-keypad .dcg-keys .dcg-letters .dcg-cell.dcg-twowide,.dcg-keypad .dcg-keys .dcg-capitalLetters .dcg-cell.dcg-twowide{width:20%}.dcg-keypad .dcg-keys .dcg-letters .dcg-onepointfivewide .dcg-key,.dcg-keypad .dcg-keys .dcg-capitalLetters .dcg-onepointfivewide .dcg-key{width:90%}.dcg-keypad .dcg-keys .dcg-letters .dcg-onepointfivewide .dcg-key.dcg-backspace-key,.dcg-keypad .dcg-keys .dcg-capitalLetters .dcg-onepointfivewide .dcg-key.dcg-backspace-key{float:right}.dcg-keypad .dcg-keys .dcg-letters .dcg-twowide .dcg-key,.dcg-keypad .dcg-keys .dcg-capitalLetters .dcg-twowide .dcg-key{width:90%}.dcg-keypad .dcg-keys .dcg-letters .dcg-twowide .dcg-key.dcg-enter-key,.dcg-keypad .dcg-keys .dcg-capitalLetters .dcg-twowide .dcg-key.dcg-enter-key{float:right}.dcg-keypad .dcg-keys .dcg-noQwertyLetters{margin-left:2px;margin-right:2px}.dcg-keypad .dcg-keys .dcg-noQwertyLetters .dcg-row{width:100%;text-align:center}.dcg-keypad .dcg-keys .dcg-noQwertyLetters .dcg-cell{width:11%;vertical-align:middle;float:none}.dcg-keypad .dcg-keys .dcg-noQwertyLetters .dcg-cell.dcg-onepointfivewide{width:11%}.dcg-keypad .dcg-keys .dcg-noQwertyLetters .dcg-cell.dcg-twowide{width:16.5%}.dcg-keypad .dcg-keys .dcg-noQwertyLetters .dcg-onepointfivewide .dcg-key{width:90%}.dcg-keypad .dcg-keys .dcg-noQwertyLetters .dcg-onepointfivewide .dcg-key.dcg-backspace-key{float:right}.dcg-keypad .dcg-keys .dcg-noQwertyLetters .dcg-twowide .dcg-key{width:90%}.dcg-keypad .dcg-keys .dcg-noQwertyLetters .dcg-twowide .dcg-key.dcg-enter-key{float:right}.dcg-keypad .dcg-numbersRight,.dcg-keypad .dcg-numbersMiddle{position:absolute}.dcg-keypad .dcg-numbersRight{right:3px;width:18%}.dcg-keypad .dcg-mainNumbersLeft{margin-left:3px;width:36%}.dcg-keypad .dcg-numbersMiddle{left:41%;right:23%}.dcg-fullscreen .dcg-show-keypad{display:none!important}.dcg-narrow .dcg-hide-on-narrow{display:none}.dcg-narrow .dcg-keypad .dcg-functions-popover:not(.dcg-left){position:absolute;margin-left:-70px}.dcg-narrow .dcg-keypad .dcg-functions-popover.dcg-left{right:18%}.dcg-short .dcg-keys-background{padding-top:0;padding-bottom:0}.dcg-short .dcg-keys-background .dcg-cell a.dcg-btn-key{height:32px;line-height:32px}.dcg-short .dcg-keys-background .dcg-cell a.dcg-btn-key.dcg-exponent{line-height:38px}.dcg-short .dcg-functions-popover{padding:0;top:-267px}.dcg-short .dcg-functions-popover .dcg-popover-interior{height:267px!important}.dcg-short .dcg-functions-popover .dcg-section-headings td{padding-top:5px;padding-bottom:0}.dcg-short .dcg-functions-popover .dcg-popover-header{padding:5px 5px 0}.dcg-short .dcg-functions-popover .dcg-option{height:30px;line-height:20px}.dcg-short .dcg-functions-popover .dcg-heading{line-height:30px;padding:0;height:30px}.dcg-highlighted.dcg-mq-math-mode var{font-weight:bold;font-size:110%}.dcg-nthroot-key var:first-of-type{margin-right:-7px;font-size:75%;position:relative;top:-6px}@-webkit-keyframes dcg-fadeIn-show-keypad{0%{-webkit-transform:translate(0,10px);-moz-transform:translate(0,10px);-o-transform:translate(0,10px);-ms-transform:translate(0,10px);transform:translate(0,10px);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}50%{-webkit-transform:translate(0,10px);-moz-transform:translate(0,10px);-o-transform:translate(0,10px);-ms-transform:translate(0,10px);transform:translate(0,10px);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-o-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-fadeIn-show-keypad{0%{-webkit-transform:translate(0,10px);-moz-transform:translate(0,10px);-o-transform:translate(0,10px);-ms-transform:translate(0,10px);transform:translate(0,10px);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}50%{-webkit-transform:translate(0,10px);-moz-transform:translate(0,10px);-o-transform:translate(0,10px);-ms-transform:translate(0,10px);transform:translate(0,10px);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-o-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-ms-filter:none;filter:none}}.dcg-keypad-btn-container{height:40px;display:inline-block;position:relative;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1}.dcg-keypad-btn-container .dcg-keypad-btn{text-decoration:none;text-shadow:0 1px 1px rgba(255,255,255,0.75);background-color:#eee;background:-webkit-linear-gradient(#fff,#ddd);background:-moz-linear-gradient(#fff,#ddd);background:-o-linear-gradient(#fff,#ddd);background:-ms-linear-gradient(#fff,#ddd);background:linear-gradient(#fff,#ddd);border-radius:5px;color:#222;position:absolute;top:2px;left:2px;right:2px;bottom:2px;cursor:pointer;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-flex-flow:row;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-keypad-btn-container .dcg-keypad-btn .dcg-keypad-btn-content{text-align:center;display:block;width:100%;pointer-events:none}.dcg-keypad-btn-container .dcg-keypad-btn.dcg-hovered{background:-webkit-linear-gradient(#fff,#e3e3e3);background:-moz-linear-gradient(#fff,#e3e3e3);background:-o-linear-gradient(#fff,#e3e3e3);background:-ms-linear-gradient(#fff,#e3e3e3);background:linear-gradient(#fff,#e3e3e3)}.dcg-keypad-btn-container .dcg-keypad-btn.dcg-active,.dcg-keypad-btn-container .dcg-keypad-btn.dcg-depressed{outline:0;background:#fff;-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,0.4);box-shadow:inset 0 0 5px rgba(0,0,0,0.4)}.dcg-keypad-btn-container .dcg-keypad-btn.dcg-keypad-btn-dark{background-color:#bbb;background:-webkit-linear-gradient(#ccc,#9a9a9a);background:-moz-linear-gradient(#ccc,#9a9a9a);background:-o-linear-gradient(#ccc,#9a9a9a);background:-ms-linear-gradient(#ccc,#9a9a9a);background:linear-gradient(#ccc,#9a9a9a);color:#fff;text-shadow:0 1px 1px rgba(187,187,187,0.75)}.dcg-keypad-btn-container .dcg-keypad-btn.dcg-keypad-btn-dark.dcg-hovered{background:-webkit-linear-gradient(#ddd,#9a9a9a);background:-moz-linear-gradient(#ddd,#9a9a9a);background:-o-linear-gradient(#ddd,#9a9a9a);background:-ms-linear-gradient(#ddd,#9a9a9a);background:linear-gradient(#ddd,#9a9a9a)}.dcg-keypad-btn-container .dcg-keypad-btn.dcg-keypad-btn-dark.dcg-active{background:#bbb;-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,0.5)!important;box-shadow:inset 0 0 5px rgba(0,0,0,0.5)!important}.dcg-keypad-btn-container .dcg-keypad-btn.dcg-keypad-btn-dark.dcg-depressed{background:#aaa;-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,0.5)!important;box-shadow:inset 0 0 5px rgba(0,0,0,0.5)!important}.dcg-keypad-btn-container .dcg-keypad-btn .dcg-mq-large-operator,.dcg-keypad-btn-container .dcg-keypad-btn .dcg-mq-int{font-size:80%}.dcg-keypad-btn-container .dcg-keypad-btn .dcg-mq-large-operator .dcg-mq-sup,.dcg-keypad-btn-container .dcg-keypad-btn .dcg-mq-int .dcg-mq-sup,.dcg-keypad-btn-container .dcg-keypad-btn .dcg-mq-large-operator .dcg-mq-sub,.dcg-keypad-btn-container .dcg-keypad-btn .dcg-mq-int .dcg-mq-sub,.dcg-keypad-btn-container .dcg-keypad-btn .dcg-mq-large-operator .dcg-mq-to,.dcg-keypad-btn-container .dcg-keypad-btn .dcg-mq-int .dcg-mq-to,.dcg-keypad-btn-container .dcg-keypad-btn .dcg-mq-large-operator .dcg-mq-from,.dcg-keypad-btn-container .dcg-keypad-btn .dcg-mq-int .dcg-mq-from{display:none}.dcg-keypad-btn-container .dcg-keypad-btn i.dcg-icon-delete,.dcg-keypad-btn-container .dcg-keypad-btn i.dcg-icon-shift{color:#444;position:relative;top:2px}.dcg-keypad-btn-container .dcg-keypad-btn[dcg-command=arcsin] .dcg-mq-supsub,.dcg-keypad-btn-container .dcg-keypad-btn[dcg-command=arccos] .dcg-mq-supsub,.dcg-keypad-btn-container .dcg-keypad-btn[dcg-command=arctan] .dcg-mq-supsub{font-size:80%}.dcg-keypad-btn-container .dcg-keypad-btn[dcg-command=enter]{font-size:140%;padding-top:7px}.dcg-keypad-btn-container .dcg-keypad-btn[dcg-command=nthroot] .dcg-mq-sqrt-stem{display:none}.dcg-keypad-btn-container .dcg-keypad-btn[dcg-command=nthroot] .dcg-mq-nthroot{font-size:60%;margin-right:-9px;position:relative;top:-1px}.dcg-keypad-btn-container .dcg-keypad-btn[dcg-command=nthroot] .dcg-mq-scaled{position:relative;top:-0.5px}@media screen and (max-width:500px){.dcg-keypad-btn-container .dcg-keypad-btn{position:absolute;top:2px;left:2px;bottom:2px;right:2px;border-radius:3px}}.dcg-keypad-control-bar{height:40px;background-color:#eee;border-left:1px solid #ccc;border-right:1px solid #ccc;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:single;-moz-box-lines:single;-o-box-lines:single;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-moz-box-align:stretch;-o-box-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-flex-shrink:0;flex-shrink:0}.dcg-keypad-control-bar .dcg-spacer{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1}.dcg-keypad-control-btn{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1;min-width:40px;text-align:center;color:#666;font-size:87.5%}.dcg-keypad-control-btn.dcg-selectable-btn{padding:0 5px;height:40px;line-height:40px}.dcg-keypad-control-btn:not(.dcg-selectable-btn){height:30px;line-height:30px;margin:5px;border-radius:5px}.dcg-keypad-control-btn.dcg-disabled{color:rgba(0,0,0,0.15);cursor:default}.dcg-keypad-control-btn:not(.dcg-disabled).dcg-hovered{color:#333;background:#e5e5e5}.dcg-keypad-control-btn:not(.dcg-disabled).dcg-depressed{color:#000;background:#ddd}.dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-keypad-control-btn:not(.dcg-disabled).dcg-hovered{-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}.dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-keypad-control-btn:not(.dcg-disabled).dcg-depressed{-webkit-box-shadow:0 0 0 1px #ccc;box-shadow:0 0 0 1px #ccc}.dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered,.dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-depressed{padding:0 4px}.dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered.dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:not(.dcg-selected){border-left:1px solid #ddd;border-right:1px solid #ddd}.dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-depressed.dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:not(.dcg-selected){border-left:1px solid #ccc;border-right:1px solid #ccc}.dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected{background:#fff;-webkit-box-shadow:inset 0 0 3px rgba(0,0,0,0.3);box-shadow:inset 0 0 3px rgba(0,0,0,0.3)}.dcg-keypad-control-btn[dcg-command=backspace] i,.dcg-keypad-control-btn[dcg-command=undo] i,.dcg-keypad-control-btn[dcg-command=redo] i{font-size:150%;position:relative;top:3px}.dcg-keypad-control-btn[dcg-command=clearall],.dcg-keypad-control-btn[dcg-command=clear]{width:80px;white-space:nowrap}.dcg-keypad-control-toggle{display:block;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;-ms-box-flex:1;box-flex:1;-webkit-flex-grow:1;flex-grow:1;line-height:24px;height:25px;margin-top:7px;cursor:pointer;color:#666;font-size:80%;text-transform:uppercase;background:#fff;border:1px solid #ccc;border-radius:5px;width:70px;min-width:50px;margin-left:20px;margin-right:20px;position:relative;-webkit-box-shadow:inset 1px 1px 2px rgba(0,0,0,0.15);box-shadow:inset 1px 1px 2px rgba(0,0,0,0.15)}.dcg-keypad-control-toggle .dcg-ctrl-toggle-option{text-align:center;display:inline-block;width:50%;font-size:80%}.dcg-keypad-control-toggle .dcg-ctrl-toggle-cover{position:absolute;top:-1px;right:-1px;bottom:-1px;left:50%;border-radius:5px;background:#eee;border:1px solid #ccc;-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s}.dcg-keypad-control-toggle.dcg-hovered{border-color:#bbb}.dcg-keypad-control-toggle.dcg-hovered .dcg-ctrl-toggle-cover{background:#e5e5e5;border-color:#bbb}.dcg-keypad-control-toggle.dcg-depressed .dcg-ctrl-toggle-cover{background:#ddd}.dcg-keypad-control-toggle.dcg-toggled .dcg-ctrl-toggle-cover{-webkit-transform:translate(-100%,0);-moz-transform:translate(-100%,0);-o-transform:translate(-100%,0);-ms-transform:translate(-100%,0);transform:translate(-100%,0)}.dcg-basic-keypad{background:#4c4c4c;margin:0;padding:4px 3px}.dcg-basic-keypad .dcg-half-width-placeholder{-webkit-box-flex:.5;-moz-box-flex:.5;-o-box-flex:.5;-ms-box-flex:.5;box-flex:.5;-webkit-flex-grow:.5;flex-grow:.5}.dcg-basic-keypad .dcg-partition-placeholder{width:4%}@media screen and (max-width:500px){.dcg-basic-keypad{padding:2px}}.dcg-keypad-row{padding:0;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:single;-moz-box-lines:single;-o-box-lines:single;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-moz-box-align:stretch;-o-box-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;margin:0}.dcg-container .dcg-label-container{padding-left:55px;cursor:default;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-container .dcg-label-container .dcg-checkbox{cursor:pointer;color:#999;margin-top:4px;font-size:80%;white-space:nowrap}.dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box{display:inline-block;vertical-align:middle;height:1em;width:1em;position:relative;top:-0.1em;border-radius:3px;color:#4781b9;border:1px solid #bbb;font-size:125%;margin-right:2px}.dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box .dcg-icon-check{position:absolute;top:50%;left:50%;margin-top:-0.6em;margin-left:-0.35em;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff}.dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check{visibility:hidden}.dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered{color:#666}.dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box{border-color:#999}.dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check{color:#ccc;visibility:visible}.dcg-container .dcg-label-container .dcg-checkbox.dcg-depressed .dcg-checkbox-box .dcg-icon-check{color:#004f9b}.dcg-container .dcg-label-container input{outline:none;border:1px solid #bbb;border-top:0;border-right:0;border-left:0;color:#000;padding:4px;font-size:80%;margin-left:4px;-webkit-appearance:none;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-right:30px;border-radius:0}.dcg-container .dcg-label-container input::-moz-placeholder{color:#bbb}.dcg-container .dcg-label-container input::-webkit-input-placeholder{color:#bbb}.dcg-container .dcg-label-container input.dcg-hovered{border-color:#ccc;border-bottom-width:2px;padding-bottom:3px}.dcg-container .dcg-label-container input:focus:not([disabled]){border-color:#8dc6dd;border-bottom-width:2px;padding-bottom:3px}.dcg-container .dcg-label-container input:focus:not([disabled])::-webkit-input-placeholder{color:transparent}.dcg-container .dcg-label-container input:focus:not([disabled])::-moz-placeholder{color:transparent}.dcg-container .dcg-label-container:not(.dcg-label-visible) input.dcg-disabled-input:not(:focus){border-bottom-color:transparent;pointer-events:none}.dcg-container .dcg-label-container.dcg-label-visible .dcg-checkbox{color:#666}.dcg-PROJECTOR-MODE .dcg-label-container{font-size:120%}.dcg-expressionitem.dcg-new-expression{height:58px;position:relative;border-bottom:1px solid transparent;overflow:visible!important}.dcg-expressionitem.dcg-new-expression .dcg-new-math-div{position:absolute;top:0;left:0;bottom:0;right:0;cursor:pointer}.dcg-expressionitem.dcg-new-expression .dcg-new-math-div .dcg-new-expression-fade{background:-webkit-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);background:-moz-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);background:-o-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);background:-ms-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);background:linear-gradient(to top,#fff,rgba(255,255,255,0) 50%);width:44px;position:absolute;top:0;bottom:0;z-index:3}.dcg-settings-pillbox,.dcg-action-zoomin,.dcg-action-zoomout,.dcg-action-zoomrestore{height:37px}.dcg-settings-pillbox,.dcg-zoominout-pillbox,.dcg-action-zoomrestore{width:37px;line-height:37px;text-align:center}.dcg-settings-pillbox,.dcg-zoominout-pillbox{margin-bottom:6px}.dcg-pillbox-container{position:absolute;right:8px;top:8px;bottom:0;width:0}.dcg-pillbox-container .dcg-overgraph-pillbox-elements{position:absolute;top:0;right:0}.dcg-pillbox-container .dcg-settings-pillbox{float:right}.dcg-zoom-container{float:right;clear:right}.dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomin,.dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomout{line-height:40px;font-size:75%}.dcg-zoom-container .dcg-action-zoomin{border-bottom:1px solid #ddd}.dcg-zoom-container .dcg-action-zoomrestore.dcg-disabled{display:none}.dcg-zoom-container .dcg-action-zoomrestore{-webkit-animation:dcg-fadeIn-pillboxes .25s;-moz-animation:dcg-fadeIn-pillboxes .25s;-o-animation:dcg-fadeIn-pillboxes .25s;-ms-animation:dcg-fadeIn-pillboxes .25s;animation:dcg-fadeIn-pillboxes .25s}@media only screen and (max-width:450px){.dcg-zoominout-pillbox{display:none}}@media only screen and (max-height:450px){.dcg-zoominout-pillbox{display:none}}@-webkit-keyframes dcg-fadeIn-pillboxes{0%{-webkit-transform:scale(0.75,0.75);-moz-transform:scale(0.75,0.75);-o-transform:scale(0.75,0.75);-ms-transform:scale(0.75,0.75);transform:scale(0.75,0.75);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1);opacity:1;-ms-filter:none;filter:none}}@keyframes dcg-fadeIn-pillboxes{0%{-webkit-transform:scale(0.75,0.75);-moz-transform:scale(0.75,0.75);-o-transform:scale(0.75,0.75);-ms-transform:scale(0.75,0.75);transform:scale(0.75,0.75);opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}100%{-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1);opacity:1;-ms-filter:none;filter:none}}.dcg-transparent-bg{background:rgba(0,0,0,0)}.dcg-mouse-over-closed-poi,.dcg-mouse-over-opened-poi{cursor:pointer}.dcg-mouse-over-movable-point,.dcg-dragging-movable-point{cursor:move}.dcg-mouse-over-movable-point-ew,.dcg-dragging-movable-point-ew{cursor:ew-resize}.dcg-mouse-over-movable-point-ns,.dcg-dragging-movable-point-ns{cursor:ns-resize}.dcg-mouse-over-closed-poi .dcg-tracept.dcg-temp{display:none}.dcg-tracept:not(.dcg-persistent) .dcg-label{border:1px solid #ddd;background:#fff;border-radius:5px;-webkit-box-shadow:0 0 5px rgba(0,0,0,0.2);box-shadow:0 0 5px rgba(0,0,0,0.2);padding:8px 6px}.dcg-movable-point{position:absolute;top:0;left:0}.dcg-movable-point .dcg-background,.dcg-movable-point .dcg-dot{position:absolute;top:-11px;left:-11px;border-radius:11px;width:21px;height:21px;background-color:inherit;-webkit-transition:-webkit-transform .15s ease;-moz-transition:-moz-transform .15s ease;-o-transition:-o-transform .15s ease;-ms-transition:-ms-transform .15s ease;transition:transform .15s ease}.dcg-movable-point .dcg-background{opacity:.35;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=35)\";filter:alpha(opacity=35)}.dcg-movable-point .dcg-dot{-webkit-transform:scale(0.3,0.3);-moz-transform:scale(0.3,0.3);-o-transform:scale(0.3,0.3);-ms-transform:scale(0.3,0.3);transform:scale(0.3,0.3)}.dcg-table-movable-point .dcg-background{-webkit-transform:scale(0.6,0.6);-moz-transform:scale(0.6,0.6);-o-transform:scale(0.6,0.6);-ms-transform:scale(0.6,0.6);transform:scale(0.6,0.6)}body:not(.dcg-dragging-movable-point) .dcg-movable-point.dcg-simulate-hovered .dcg-background,body:not(.dcg-dragging-movable-point) .dcg-movable-point.dcg-simulate-active .dcg-dot,body:not(.dcg-dragging-movable-point) .dcg-movable-point:not(.dcg-table-movable-point).dcg-simulate-hovered .dcg-dot{-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}.dcg-container.dcg-PROJECTOR-MODE .dcg-movable-point .dcg-background,.dcg-container.dcg-PROJECTOR-MODE .dcg-movable-point .dcg-dot{position:absolute;top:-14px;left:-14px;border-radius:14px;width:27px;height:27px}.dcg-poi-label{display:inline-block;position:absolute;top:0;left:0;font-size:100%;color:#888}.dcg-poi-label .dcg-pt{display:inline-block;position:absolute;top:-4px;left:-4px;border:4px solid #000;border-radius:4px;width:0;height:0;z-index:0}.dcg-poi-label .dcg-label{position:absolute;text-shadow:-1px -1px 0 #fff,-1px 1px 0 #fff,1px -1px 0 #fff,1px 1px 0 #fff,0 -1px 0 #fff,0 1px 0 #fff,1px 0 0 #fff,-1px 0 0 #fff;z-index:3;white-space:nowrap;-webkit-transition-property:top,left;-moz-transition-property:top,left;-o-transition-property:top,left;-ms-transition-property:top,left;transition-property:top,left;-webkit-transition-duration:.3s,0.3s;-moz-transition-duration:.3s,0.3s;-o-transition-duration:.3s,0.3s;-ms-transition-duration:.3s,0.3s;transition-duration:.3s,0.3s}.dcg-poi-label .dcg-label .dcg-pi{font-family:Times;font-size:125%;margin-right:1px;line-height:0}.dcg-poi-label .dcg-label .dcg-label-paren{font-size:125%;line-height:0}.dcg-poi-label.dcg-poi .dcg-pt{border-width:5px;border-color:transparent!important;border-radius:5px;opacity:1;-ms-filter:none;filter:none;top:-5px!important;left:-5px!important;cursor:pointer}.dcg-poi-label.dcg-poi.dcg-opened{color:#222}.dcg-poi-label.dcg-poi.dcg-opened .dcg-pt{border-color:#000!important}.dcg-poi-label.dcg-poi.dcg-opened .dcg-label{opacity:1;-ms-filter:none;filter:none}.dcg-poi-label.dcg-hole .dcg-pt{top:-5px;left:-5px;border-width:2px;padding:3px;background:#fff!important;border-radius:6px}.dcg-poi-label.dcg-attached-to-real-point .dcg-pt{display:none}.dcg-constrained-height-popover{position:absolute;top:40px;bottom:2px;right:4px;pointer-events:none}.dcg-constrained-height-popover .dcg-popover-interior{max-height:100%;pointer-events:auto}.dcg-popover{display:none;z-index:80}.dcg-popover .dcg-popover-interior{padding:20px;background-color:#fff;border:1px solid rgba(0,0,0,0.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2);margin:-1px;overflow:auto}.dcg-popover.dcg-top{margin-bottom:10px}.dcg-popover.dcg-right{margin-left:10px}.dcg-popover.dcg-bottom{margin-top:10px}.dcg-popover.dcg-left{margin-right:10px}.dcg-popover .dcg-popover-interior{overflow:auto}.dcg-popover .dcg-popover-content{font-size:85%;color:#444;line-height:1.5em;position:relative}.dcg-popover .dcg-popover-title{margin-bottom:10px;font-size:115%;border-bottom:2px solid #127a3d;color:#127a3d;font-weight:normal;background-color:#fff}.dcg-popover .dcg-popover-title:not(:first-of-type){padding-top:20px}.dcg-popover .dcg-arrow,.dcg-popover .dcg-arrow:after{position:absolute;display:inline-block;width:0;height:0;border-color:transparent;border-style:solid}.dcg-popover .dcg-arrow:after{content:\"\";z-index:-1}.dcg-popover.dcg-top .dcg-arrow{bottom:-10px;left:50%;margin-left:-10px;border-width:10px 10px 0;border-top-color:#fff}.dcg-popover.dcg-top .dcg-arrow:after{border-width:11px 11px 0;border-top-color:rgba(0,0,0,0.25);bottom:-1px;left:-11px}.dcg-popover.dcg-right .dcg-arrow{top:50%;left:-10px;margin-top:-10px;border-width:10px 10px 10px 0;border-right-color:#fff}.dcg-popover.dcg-right .dcg-arrow:after{border-width:11px 11px 11px 0;border-right-color:rgba(0,0,0,0.25);bottom:-11px;left:-1px}.dcg-popover.dcg-bottom .dcg-arrow{top:-14px;margin-left:-14px;border-width:0 14px 14px;border-bottom-color:#fff}.dcg-popover.dcg-bottom .dcg-arrow:after{border-width:0 14px 14px;border-bottom-color:rgba(0,0,0,0.25);top:-1px;left:-14px}.dcg-popover.dcg-left .dcg-arrow{top:50%;right:-10px;margin-top:-10px;border-width:10px 0 10px 10px;border-left-color:#fff}.dcg-popover.dcg-left .dcg-arrow:after{border-width:11px 0 11px 11px;border-left-color:rgba(0,0,0,0.25);bottom:-11px;right:-1px}.dcg-PROJECTOR-MODE .dcg-expressionitem textarea.dcg-smart-textarea,.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-displayTextarea{font-size:113%}.dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-image-name{font-size:113%}.dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-edit-image{font-size:90%}.dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-math-mode{font-size:130%}.dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-editable-field.dcg-math-input{font-size:100%}.dcg-PROJECTOR-MODE .dcg-tracept{font-size:150%}.dcg-PROJECTOR-MODE .dcg-tracept .dcg-pt{border-width:8px;border-radius:8px;margin-left:-4px;margin-top:-4px}.dcg-PROJECTOR-MODE .dcg-tracept.dcg-hole .dcg-pt{border-width:4px;padding:5px;border-radius:9px}.dcg-PROJECTOR-MODE .dcg-tracept.dcg-poi.dcg-opened .dcg-pt,.dcg-PROJECTOR-MODE .dcg-tracept.dcg-poi.dcg-mouseover .dcg-pt{border-width:8px;border-radius:8px;margin-left:-4px;margin-top:-4px}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-editable-field,.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-math-mode{font-size:150%}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation{font-size:135%}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-editable-field,.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-math-mode{font-size:100%}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-main:after{width:2px}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders{height:30px;line-height:30px}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-msg{font-size:100%;padding:2px 0}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-btn-slider{font-size:120%;height:30px;line-height:30px}.dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider{bottom:30px}.dcg-PROJECTOR-MODE .dcg-display-domain{bottom:12px;font-size:110%}.dcg-PROJECTOR-MODE .dcg-slider_menu,.dcg-PROJECTOR-MODE .dcg-edit-domain{bottom:6px}.dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-editable-field,.dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-editable-field,.dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-math-mode,.dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-math-mode{font-size:120%}.dcg-PROJECTOR-MODE .dcg-slider_menu table,.dcg-PROJECTOR-MODE .dcg-edit-domain table{border-collapse:collapse;font-size:20px;margin:0 auto}.dcg-PROJECTOR-MODE .dcg-slider_menu table input,.dcg-PROJECTOR-MODE .dcg-edit-domain table input{font-size:81%}.dcg-create-sliders{white-space:nowrap;height:26px;line-height:26px}.dcg-create-sliders .dcg-msg{display:inline-block;margin-left:53px;margin-right:5px;font-size:80%;color:#666}.dcg-create-sliders .dcg-all .dcg-btn-slider{font-style:normal}.dcg-create-sliders .dcg-btn-slider{padding:0 10px!important;font-family:times;font-size:90%;font-style:italic}.dcg-create-sliders .dcg-slider-btn-container{display:inline-block;position:relative;margin-right:3px;height:16px;margin-bottom:5px}.dcg-create-sliders .dcg-slider-btn-container .dcg-btn-slider{height:25px;line-height:25px}.dcg-create-sliders .dcg-slider-btn-container.dcg-all{width:46px}.dcg-create-sliders .dcg-slider-btn-container.dcg-all .dcg-slider_decoration{width:46px}.dcg-create-sliders .dcg-slider-btn-container.dcg-all .dcg-slider_btn{width:28px}.dcg-regression-container{margin-left:53px;font-size:80%;color:#222;cursor:default}.dcg-regression-container .dcg-statistics{display:inline-block;width:130px;float:left;margin-bottom:10px}.dcg-regression-container .dcg-residuals{float:left;width:130px;margin-bottom:10px}.dcg-regression-container .dcg-r-value .dcg-mq-root-block .dcg-mq-sup-only:first-child,.dcg-regression-container .dcg-r-value .dcg-mq-root-block .dcg-mq-textarea+.dcg-mq-sup-only{visibility:hidden}.dcg-regression-container .dcg-residual-suggestion{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);cursor:default;padding:2px 7px;margin-left:7px}.dcg-regression-container .dcg-residual-suggestion:not(.dcg-visible){pointer-events:none}.dcg-regression-container .dcg-residual-suggestion.dcg-visible{-webkit-transition:opacity .25s;-moz-transition:opacity .25s;-o-transition:opacity .25s;-ms-transition:opacity .25s;transition:opacity .25s;display:inline-block;opacity:1;-ms-filter:none;filter:none;cursor:pointer}.dcg-regression-container .dcg-log-mode-toggle{clear:both;display:none}.dcg-regression-container .dcg-log-mode-toggle.dcg-visible{display:block}.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle{cursor:pointer;padding:5px 0;color:#444;border-radius:4px;display:inline-block;margin-bottom:12px}.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox{display:inline-block;width:15px;height:15px;border:1px solid #ccc;float:left;margin-right:6px;border-radius:3px;position:relative}.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox i{color:transparent}.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-hovered .dcg-log-mode-checkbox,.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox{border-color:#aaa}.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-depressed .dcg-log-mode-checkbox{border-color:#666}.dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox i{color:#127a3d;position:absolute;top:-1px;right:-2px;font-size:110%;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff}.dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help{text-decoration:none;color:#ccc;padding:10px 6px}.dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-hovered{color:#aaa}.dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-depressed{color:#666}.dcg-regression-container .dcg-regression-title{text-transform:uppercase;font-size:80%;color:#aaa;padding-bottom:2px}.dcg-regression-container .dcg-regression-about-link{display:none;padding:10px;color:#ccc;margin:-10px;cursor:pointer;text-decoration:none}.dcg-regression-container .dcg-regression-about-link.dcg-hovered{color:#888}.dcg-regression-container .dcg-regression-about-link.dcg-depressed{color:#000}.dcg-regression-container .dcg-parameters-container{clear:both;padding-bottom:4px}.dcg-regression-container .dcg-parameters-container .dcg-parameter{float:left;width:130px}.dcg-regression-container .dcg-parameters-container .dcg-parameter:nth-of-type(2n+1){clear:both}.dcg-settings-container{position:absolute;top:0;right:40px;z-index:61;width:290px}.dcg-settings-container .dcg-arrow{top:18px!important}.dcg-settings-container .dcg-popover-interior{padding:10px}.dcg-settings-container .dcg-modern-btn{border-radius:6px;display:inline-block;padding:3px;text-align:center;cursor:pointer}.dcg-settings-container .dcg-modern-btn.dcg-active{border:1px solid #127a3d;background-color:#127a3d;color:rgba(255,255,255,0.9)}.dcg-settings-container .dcg-modern-btn.dcg-active.dcg-hovered{border-color:rgba(13,84,42,0.6);-webkit-box-shadow:inset 0 0 0 1px rgba(13,84,42,0.6);box-shadow:inset 0 0 0 1px rgba(13,84,42,0.6)}.dcg-settings-container .dcg-modern-btn.dcg-active.dcg-depressed{border-color:#0d542a;-webkit-box-shadow:inset 0 0 0 1px #0d542a;box-shadow:inset 0 0 0 1px #0d542a}.dcg-settings-container .dcg-modern-btn:not(.dcg-active){border:1px solid #ccc}.dcg-settings-container .dcg-modern-btn:not(.dcg-active).dcg-hovered{border-color:#ccc;-webkit-box-shadow:inset 0 0 0 1px #ccc;box-shadow:inset 0 0 0 1px #ccc}.dcg-settings-container .dcg-modern-btn:not(.dcg-active).dcg-depressed{border-color:#aaa;-webkit-box-shadow:inset 0 0 0 1px #aaa;box-shadow:inset 0 0 0 1px #aaa}.dcg-settings-container .dcg-minor-checkbox,.dcg-settings-container .dcg-step-label{font-size:85%;color:#777}.dcg-settings-container .dcg-top-checkboxes-container{float:right;padding-top:5px}.dcg-settings-container .dcg-top-checkboxes-container .dcg-checkbox{float:left;clear:left;margin:4px}.dcg-settings-container .dcg-top-checkboxes-container .dcg-action-zoom-square{float:left;clear:left;font-size:80%;margin:2px 0 8px 4px;padding:3px 10px;line-height:1.5em}.dcg-settings-container .dcg-checkbox{cursor:pointer;color:#444;margin:2px}.dcg-settings-container .dcg-checkbox.dcg-hidden{display:none}.dcg-settings-container .dcg-checkbox .dcg-checkbox-box{display:inline-block;vertical-align:middle;height:1em;width:1em;position:relative;top:-0.1em;border-radius:3px;color:#127a3d;border:1px solid #bbb}.dcg-settings-container .dcg-checkbox .dcg-checkbox-box .dcg-icon-check{position:absolute;top:50%;left:50%;margin-top:-0.55em;margin-left:-0.35em;text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff}.dcg-settings-container .dcg-checkbox .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check{visibility:hidden}.dcg-settings-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box{border-color:#999}.dcg-settings-container .dcg-checkbox.dcg-depressed .dcg-checkbox-box .dcg-icon-check{color:#0d542a}.dcg-settings-container .dcg-action-projectormode{width:100%;font-size:105%;padding:8px;margin-bottom:5px}.dcg-settings-container .dcg-action-toggle-y-axis-steps,.dcg-settings-container .dcg-action-toggle-x-axis-steps{margin-right:-2px}.dcg-settings-container .dcg-checkbox-title{clear:left;font-size:95%;height:1.5em;margin-bottom:2px}.dcg-settings-container .dcg-checkbox-title.dcg-x-axis-title{margin-top:10px;clear:both}.dcg-settings-container .dcg-checkbox-title.dcg-y-axis-title{margin-top:20px;clear:both}.dcg-settings-container .dcg-checkbox-title .dcg-checkbox{line-height:2em;color:#444;-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;cursor:pointer;white-space:nowrap}.dcg-settings-container .dcg-checkbox-title .dcg-checkbox .dcg-checkbox-box{font-size:105%}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label{width:55%;outline:none;float:right;border:1px solid #ccc;border-radius:5px;color:#444;padding:8px;font-size:90%;-webkit-appearance:none}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label::-moz-placeholder{color:#888}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label::-webkit-input-placeholder{color:#888}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label.dcg-hovered:not([disabled]){border-color:#ccc;-webkit-box-shadow:0 0 0 1px #ccc;box-shadow:0 0 0 1px #ccc}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label:focus:not([disabled]){border-color:#8dc6dd;-webkit-box-shadow:0 0 0 1px #8dc6dd;box-shadow:0 0 0 1px #8dc6dd}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label:focus:not([disabled])::-webkit-input-placeholder{color:transparent}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label:focus:not([disabled])::-moz-placeholder{color:transparent}.dcg-settings-container .dcg-checkbox-title .dcg-axis-label[disabled]{opacity:.4;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)\";filter:alpha(opacity=40)}.dcg-settings-container .dcg-section-divider{clear:both;border-bottom:1px solid #ddd;margin-top:10px}.dcg-settings-container .dcg-radiangroup{padding-top:10px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex}.dcg-settings-container .dcg-radiangroup .dcg-modern-btn{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding:5px}.dcg-settings-container .dcg-radiangroup .dcg-modern-btn:nth-of-type(2){margin-left:10px}.dcg-settings-container .dcg-arrows{text-align:center}.dcg-settings-container .dcg-arrows i{font-size:26px;line-height:28px}.dcg-settings-container .dcg-icon-group{margin-left:24px;margin-bottom:4px;display:inline-block}.dcg-settings-container .dcg-icon-group.dcg-arrow-group{margin-bottom:10px}.dcg-settings-container .dcg-icon{display:inline-block;cursor:pointer;width:28px;height:28px;border-radius:14px;-webkit-box-shadow:0 0 2px rgba(0,0,0,0.25) inset;box-shadow:0 0 2px rgba(0,0,0,0.25) inset;background-color:#f9f9f9;-webkit-background-size:contain;-moz-background-size:contain;background-size:contain;background-position:center center;background-repeat:no-repeat;margin-right:-5px;color:#777}.dcg-settings-container .dcg-icon.dcg-active{background-color:#127a3d;color:rgba(255,255,255,0.9)}.dcg-settings-container .dcg-icon.dcg-active.dcg-hovered{-webkit-box-shadow:inset 0 0 0 2px rgba(13,84,42,0.6);box-shadow:inset 0 0 0 2px rgba(13,84,42,0.6)}.dcg-settings-container .dcg-icon.dcg-active.dcg-depressed{-webkit-box-shadow:inset 0 0 0 2px #0d542a;box-shadow:inset 0 0 0 2px #0d542a}.dcg-settings-container .dcg-icon:not(.dcg-active).dcg-hovered{-webkit-box-shadow:inset 0 0 0 2px rgba(0,0,0,0.15);box-shadow:inset 0 0 0 2px rgba(0,0,0,0.15)}.dcg-settings-container .dcg-icon:not(.dcg-active).dcg-depressed{-webkit-box-shadow:inset 0 0 0 2px rgba(0,0,0,0.25);box-shadow:inset 0 0 0 2px rgba(0,0,0,0.25)}.dcg-settings-container .dcg-icon.dcg-action-cartesian,.dcg-settings-container .dcg-icon.dcg-action-polar{background-position:center center;background-repeat:no-repeat}.dcg-settings-container .dcg-icon.dcg-action-cartesian{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABRUlEQVR4Ae2ZJZQcURQF27vx58Sb8SJ2vD+jgzYswzqcCslW4yKDy2CXwSwz84Zuvu//XDj313mqTJnGV1QPJaIssofziOnA1VHiRGC3EM3AdSKe5J0DHehAB/73gTyrMInSPMvSidgNXAslysAeI94HbhExnHcF+rMpeFthEaV5m2UUcRi4XpToDOxnxGDgNhGzefevXyQOdKADHehAB9Ko8B6laWS5j1gO3GmUaAZ2D3E3cIOI13lXoD+bvyCwVqGF0tSyXETMBu4kStQDu404HbhexKu8+9evYgc60IEOdKAD2ahwjNJsZNlHfA3cNkpsBfYbYi9wnxFHefcXvM2cqdCP0pzJUiLWA3cDJa4F9gDxMnCTiLa880XiQAc60IEO9CrMqzCvwnwVO9CBDnSgA70K8yrsJ+FVmK9iBzrQgQ504HdiRjEpheKY1QAAAABJRU5ErkJggg==\");border:1px solid #bbb}.dcg-settings-container .dcg-icon.dcg-action-cartesian.dcg-active{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABO0lEQVR4Ae2ZJ1AzARBGz7v4GbyJF9h4P9FUS5d0zU+v8lQckt6LpRdD773DDzzO366j8+2bVc88c7kkG8SHEAgDcygENh2XBCDLsRdA2nHjQKvtFKhABSrwzwfSEWMdou0wGQeuHZcBIHTsIzDouH1g0XYB33wC+mPsQ7T9JsvAveOmARh37H9g3nHnwLbtfvtDokAFKlCBClQgqRiDEG3K5B9w6LhcANKOvQHqHTcP9Nou4JvPDwhMxMhAtAmTYmDbcdkAJB17CeQ6bhrosZ2eYgUqUIEKVOBvD+QsxiNEe2ZyC7w47hKAC8e+AjeO+w882O4HfJvJizEL0eaZhMCp46oAqHDsHdDtuHVgxHZ6SBSoQAUqUIE6hekUplOYnmIFKlCBClSgTmE6hX3Q6BSmp1iBClSgAhX4BgYE6hY3llM6AAAAAElFTkSuQmCC\");border:none}.dcg-settings-container .dcg-icon.dcg-action-polar{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHs0lEQVR4Ad2bA5AsSxOFZ3Vt7rNt27Zt27Ztfw/Xtm3btm1zb/7xTlRsdMx27/T09ouY+Csvtounu1KVWZtIXdiHrESowiCMu0P2rU1uIo7CW2zl3vgBMoApnBkHwG8xFlMhXoDchrGLY+MAWJmVGB/HCZAyzMf4NRFP4TGMbRwQI8D3MFZTPS6AOYzDaBkXQPZhE8bzifgKF2AY58cEsBHGFMlwfIWWGOPILjlAzmQPxuWJeAsHsQ3j0ZICJIvhGB0T8Rc+wVhJpRICfABjB4f9FwArsBjj2+gA/eeIsXC/e/voAD/FWEGl/wpgFsMwOhWpr84FPMbn/MkyjD78xFvczNHkRODjyMVHAsniHL5niur8aCNdeIpqhaNb+WuCWAsNkQ6jKm8zG3O0juE05BsWYXTkV7owi92ubTvtuSiR4EI9nRc3In8r0JUNWm4nnXiao/x4kApcxTfMdzCHMEXWKEph/7R6t8BEC3iZWqmEhCzOpzkFmOjstDh+P/3Azezgi5DuVFXaYaK+lAovxZzu+HQ9t4WEdxL9WUA5x7oYS3k4pSE7jQUYu+nkfLnwAL/FWMI0rfQzOSnWqUEdCrTGtf8+ZvMwSzV0eHEeLtexGWOZGL4/Rq+wADmCnRj3Uo56WqcDZQNXKcUrrFOv7hzt1fBfswNjD03Zy3fg9WofTr6eTpSM3hgSYGeMYWTp58c0ciDlfFe5kpkCN4ubijYeSls1buKd5DfkYrZgdKNwWv7WNKVTA+QKvfjpnlfdKnWexMMcRTe3/mtqC3iDKeo0n5u8W8R6TemBQ03VvZ4KIHnivPpJkHdg1PHUVOFb1RVQRzsYXMjlGccD/TjRnR/GYUykclLPVzA2kJ8C4PP6Jvskjb1XKzykn7N5nFV6HsZp4US8Br+xS1L0GzX4RUbr8CK98sQvdYoDSHW97Ns+a/yOsZlDuJCxAreIu8hKhC8cSz+nuQqCPBSu0aacWvhcWs7Eo0kw5lLGZ2xpxsuzMYytfEqFKBbmJma7Ca4M6NFDElmKq6njsb4b6Mdb7M+xqrnVd2Q5GmKiNrJk0Qp3YI46cqhP+1FihZWYDxVIu/b1NWJ3sQATzSSrJP7fGIz6NJSh2sG3ya4mezHfqYZG3MNR2uLXuJC3megAfJcMgJPUy1jFG2zHuCk6wAsFax/5gcOKGkROYZGD8UmykFCaJa6tIXmeF3JGjO+okkjwB8aA6ADrYjQv/JoPOoM4lrNUc7I04QzZ2S3snwTwTXmJ3+jbNybLGTE5aXTDGTGOkRI/KBq8smzEuMp75OFTtjuDeLK+3hiqk8skjCZegOQLysuJBA8J4ttczyxnxK7xriImei8awEslj3n+BlG0hJqqu0Sgz/YArIcxHY3lXbXK7+YVSvmo+yHRAH4WdMDmIqZrwcXc4WraYYwiGwHkVPHZNc6I/YQJYh3yfeY6WhxZMQrAwRgvBbS1xxz14yR91+0YDwrgPRrZTWbzaRkxEacGaIqVGJdFACgOvMi3paa033XOIBbwFzX4EmOZrENnnVWO5ELGuaPBXXTH+MV/HVms59KHl6/J9/Ftuw9jvtugXo67PmINVkjtHadu5WPKuiP/HP+VpGp+Sx/gKRjbAtp+xqjrMYizsCTa42TdGTH2VW0Nv9mkkDoXexDypZswVvu3yQK/73muzVfs8MBzPrF3jA6rl/rNJjke5tsiSmCZTRkPMGiLr8JYG9DWBeOjtLa4msJGF0Xa4kCH1dhBdmDmpGlaQnKIniv7zSZL0yF9Ka6OYf6pB27FWE52GmrmKYzJASv9g/FjIv2iBa/wbanEVlmM8Ip6CMaXxVisJ6MA7IPxVnAQLk1TV8ARATmY9RgXRAH4HkYvf2fBRVmWhXIWfnMA/Z0FGQTKRAF4jnioXDHu1noODeFugbE70N16H6NPIkohj5UYtwU4rEcyGWM+h6ZwWD8WtAcDHdZp6hetyOZ2CXT5D5RPvZK/i3H5m2vEF6rxc/nPkDeYHxXgKeKdwwMPTfs7OTV+KHJoqshapxE/UpP/oamZ11GIKsltijl2lmeygzGEd7lagL/mYf4p1IqvqqP/sfN9gb2wJACvCnVwn4L50Hpmhji4j/U0RA597OTqYkMfWRzJu/RggeBuYhx1uJOyKUIfrXxCHxGCR+skty+HCB4V8mCo4FEV5mIsTA4eRQm/vSP+OyPO8BtZ0qYrqeUffksvgJlDb02wb4wBzDclWFcHBzDTCwHnS+NNpFpMIeCHpRU+ChECDh1EP05WZQw1YwiiPyfl0pCs8EH0MGmIM/TFZnNsSdIQZPOpQDQjJ3QaInQi51SWy6g9GDmRky/Fb/xCdthETnqpsAMZpb4jIqXClksUdiqcEjoVlm4ysTTfuUjVaCqnAfB6TDSXM9NLJkZJx/5WGCr/kVNSAaQCDzIUc3R0hHRspIR248Js+yS+5SqqJgMkl6N4mjZswbRZjZgQJaEd/UpALnfSiwLM0UoG04aVErUuTPOck5fyPYfEeiUg/LUm9uNFOrM+IA0xiV+4gpwIlyrivZYioJfyGG8wTzruRe7gJMoFX6/6P7jYk/lXozL/clnmX8/L/AuOmX9FNPMv2Wb+NeXMv+id+VflM/+XDTL+1zX+Bzz06y/bFKL/AAAAAElFTkSuQmCC\");border:1px solid #bbb}.dcg-settings-container .dcg-icon.dcg-action-polar.dcg-active{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHMElEQVR4AeXbA4wk+xbH8f9gbc+1bdu2bdu2bXNxbdu+s+9ac7W2dwerQffnJZPOS6fTtdPVW0k6ed/FoJBf8ZzzO6dD21hMWSgIX+HQUBAGqAxJ4BJzHZ68QF+osXESAm/HeF2TFegANFs9CYE9TMW1SQrU0WjcH5LBCZhnqQQFXoHp+oRkUOFnvJiUQItpwJkhOWwFtkxI4FOoURmSxIv4WfnCC7SxNHYMyWIZ83D8wgpUZijeDMnjOkzVfSEFHoVGK4Tk0dV43B5fYMQ+kseRuUcfW+D1mJK5CsmjTDXeCjnoYysnuNEjJuET97jEvlZVEXEfJ07EE6jMZu5UIy0/9d5xit4hg5ci3gRJ4knUqNTLpYYDmGWoJ91mHN50v3cM0wKY73XbhGBrsEVIlogo8K460OQtp1ol3z2oq13cZjTgGzV4MRSDJUMMvAAY41z923pIlNnS81KATWPd8Uu0fmNfjW4qMJ3q5TXAp9oX/hTbUBrUOiAUhHV8bozOmVsXEx3bZiDbwBi0eCsil4sWeDsm+AvcqyIsEH0NlEKz3UMIyh1rIhi6oAzXHmZjkm1C8Dk+KlSglTThcJ0NBm/oFCLQ3nlmgfetmv2Gv1Uj0p61SMiDPTViqKrWn9bWgr0LFPg2qpVlcssWfKlzyIOd/QuG2SfkYnmvggaX5R6hbc3Be/63W49hmA5tC7QT0jbMOtS5+CT3HraK90CDCzLL8h5BDRhtn+xLpBafZMvRTy0ubEugdv7CkBzJjRiY9ZuebteIlIEWCQtCpdPMAp9ZO1M//Izf9MhZ8zzUqWpD4JlosFjOtoeDY1q/L3eiaaDaBqEQ9PWAZjR7QF/3od6KIQft/IuBCxKoj1m4NIRcPIjZlrO1n8A4hygLhWN1n4FaqagMxW5IWT9k0EE1js+RMVLHPNt28AumgLmu1zXExz6Gg7l2DnnxAb7U3q4GZkXfOp+5xJJW14L9Qx509iTgFUuGYnEQgDctn2f5KpoxVT5SJuLTvEHsEGMA/ypbmPzvRwzxpDQa3Z6balrEaNDgKYdZRTUusLVL/Qa4I1eAdVSDaS4yH/uEYrE1Gi0Wgo1VkxsQrWcc4Lrch0QHEwBPapd1QJkg5g49Q/AQvgjFYhCez3xf5mgTwU82af3Numrxj9sxx5I5Ai/GLLdJ42llmSBWB96TCWJWQ9oyoRh0Uo9dskse15ufCYjrGocf9VHpdzyTLVCVOpwbgmOkcak9DQPD7Bay8COuCMVge9RpFxEQYYJ+rb/bDmmbZgkcjL+1butypMEs5+UGMefhm1AMbogqsG3jbzDeQZnfvIbvlWsVaH0p7JYJYveAtIGq8uxrVTTrFuLja5wTsex1AJ9ZJwTLm4+jfYXDfI33QlDpVNMArB/xppiKHUJ81GObkAf9NGOPTEBMeVRfN2OSX/A2mqxsaz+DMQ7xPu4LefEZzghxUQUWC3lwBEZnLtBHYJZrzADA614Fc12rU6bkHxHy4iE8EOJiPcyLWHYvBmUFxGFySSPtWZkgZnHQN+TBxXh7wYVQvj/7YHrEsg9wZdbPA9yiEQCZnFj2Ng3YPu/ezkO1XlF/ghInKHGiLvEumBmx7B1cE+sS9zYP2xR1iSMTVhqVR3ZOno31kCyHtB4hDy7HGyEu+kD+1oP9MVl5jNfMKfgj5MXjuDvExwzsFPKgu7k4LMaL+hvcHB2xnBzi4xNcEmXCxQ51KStF9GBqsVWIjyvwUUSy8BeYVFCy8ABIGagqKiDoGOJjM8zVOTrdUmv5AtKth9ESmW5diU9CMWhnKg6ISFhX9gdGW76NhPVacHRkwvoXzg3F4V68E5nyL20cpnpMdMr/PLgphIiUfyM0qwrFYT2krBhZNC3pZ8BduUWTbmaCtGtCiCyansPboXh8gldEl51d/AHSvnG5Xf2MWx3rcTMA54cQWXZeKYWtQ/HYpaDCvUY+av1bQOH+U4ggjvXRZNcFWh9lVna5D4zRjAY/G+hgndqwPl6KaX1EmEezzMe5bZlHEe5WtHnU00iMjWUeRdhvl6HRRknab8q8iqn6x7LfIgzMCh9jnMUTNDAvRtqusQ3MCAu4yjj8pndCFvCx0rgmlgXchom+hqn4Ub8ETPQzpPCksrZN9DhtiI3UYrjVF6YNodz14DkVhbUh4jRy1jcZcxxddCOnyifgPuUxGjkxWmFL+x78p6hW2GTT0BRhp0S0wuI2Ezu4Qxr8oEcMgXsCRto4bjMxfjv2AUCdu63XlkBdHe1bAKvGa8cW39B+2nDA7263i165AlVaxaleMQc0e8qvMRraCYwEVDrYR1IApvraK6ZiqHf8pRHARHdaLrGRgHhjTZZwtrfVykfK7+6zk4r4QxWJjqVkhG7vBBcZheec7SDr6Bw9XvX/OdhT8qNRJT5cVvLjeSU+4FjiI6IlP2Rb4mPKJT/oXfqj8iX9YYMS+LjGfwFgmWfRuP1uXwAAAABJRU5ErkJggg==\");border:none}.dcg-settings-container .dcg-interval-interior{margin:0 -6px}.dcg-settings-container .dcg-editable-mathquill-container{clear:both;margin-top:15px;position:relative;white-space:nowrap}.dcg-settings-container .dcg-editable-mathquill-container .dcg-step-container{float:right;margin-bottom:10px}.dcg-settings-container .dcg-editable-mathquill-container .dcg-step-container.dcg-disabled-input .dcg-math-field{opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30);pointer-events:none}.dcg-settings-container .dcg-mq-editable-field.dcg-math-input{position:relative;outline:none;border-bottom:1px solid #ccc;padding:2px;margin:1px;margin-bottom:1px;min-width:35px;font-size:95%;max-width:60px}.dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-focus,.dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-invalid,.dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-outofbounds{border-bottom:2px solid #8dc6dd;margin-bottom:0}.dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-outofbounds,.dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-invalid{border-color:#e15855}.dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-hovered:not(.dcg-focus){border-bottom:2px solid #ccc;margin-bottom:0}.dcg-narrow .dcg-settings-container{right:35px;width:260px}.dcg-narrow .dcg-settings-container .dcg-mq-editable-field.dcg-math-input{padding-left:0;padding-right:0;font-size:90%;max-width:60px}.dcg-expressionitem.dcg-isPlaying .dcg-top-level-delete{display:none}.dcg-expressionitem.dcg-isPlaying .dcg-slider-speed-container{opacity:1;-ms-filter:none;filter:none;pointer-events:auto}.dcg-action-toggle-slider-loop-mode,.dcg-action-faster,.dcg-action-slower{color:#ccc}.dcg-action-toggle-slider-loop-mode.dcg-hovered,.dcg-action-faster.dcg-hovered,.dcg-action-slower.dcg-hovered{color:#666}.dcg-action-toggle-slider-loop-mode.dcg-depressed,.dcg-action-faster.dcg-depressed,.dcg-action-slower.dcg-depressed{color:#333}.dcg-action-toggle-slider-loop-mode.dcg-disabled,.dcg-action-faster.dcg-disabled,.dcg-action-slower.dcg-disabled{cursor:default;color:#ddd}.dcg-action-toggle-slider-loop-mode{cursor:pointer;height:36px;width:36px;padding:0 10px;position:relative;top:-6px;left:10px;display:inline-block}.dcg-action-toggle-slider-loop-mode .dcg-toggle-loop-mode-bottom{-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s;position:absolute;top:8px;left:10px;padding-bottom:5px}.dcg-action-toggle-slider-loop-mode[loopMode=\"LOOP_FORWARD_REVERSE\"] .dcg-toggle-loop-mode-bottom{display:inline-block;-webkit-transform:scale(-1,-1);-moz-transform:scale(-1,-1);-o-transform:scale(-1,-1);-ms-transform:scale(-1,-1);transform:scale(-1,-1)}.dcg-slider-speed-container{position:absolute;top:0;right:0;color:#ccc;display:block;pointer-events:none;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;-ms-transition:.2s;transition:.2s}.dcg-slider-speed-container .dcg-action-faster,.dcg-slider-speed-container .dcg-action-slower{cursor:pointer;font-size:170%;padding-bottom:5px;display:inline-block;width:30px;position:relative;top:2px}.dcg-slider-speed-container .dcg-action-slower{text-align:right}.dcg-slider-speed-container .dcg-variable-speed{width:35px;font-size:90%;display:inline-block;text-align:center}.dcg-slider-container{min-height:26px;display:block;position:relative}.dcg-slider{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;margin-left:38px;-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.dcg-slider-interior{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;position:relative;top:-4px}.dcg-slider-interior .dcg-thumb{cursor:pointer;z-index:3;border-radius:8px;position:absolute;top:-8px;margin-left:-19px;width:38px;height:38px}.dcg-slider-interior .dcg-thumb .dcg-graphic{position:absolute;top:0;left:8px;border-radius:12px;width:22px;height:22px;background:rgba(79,129,189,0.35)}.dcg-slider-interior .dcg-thumb .dcg-center{position:absolute;top:0;left:8px;border-radius:12px;width:22px;height:22px;background:#4f81bd;-webkit-transform:scale(0.25,0.25);-moz-transform:scale(0.25,0.25);-o-transform:scale(0.25,0.25);-ms-transform:scale(0.25,0.25);transform:scale(0.25,0.25);-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s}.dcg-slider-interior .dcg-thumb.dcg-hovered .dcg-center,.dcg-slider-interior .dcg-thumb.dcg-down .dcg-center{-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}.dcg-slider-interior .dcg-zeroMarker{position:absolute;top:2px;z-index:2;width:2px;height:2px;background:#aaa;border-radius:2px}.dcg-slider-interior .dcg-track{cursor:pointer;height:22px;position:absolute;left:0;right:0}.dcg-slider-interior .dcg-track .dcg-ticks{position:absolute;top:2px;bottom:0;width:100%}.dcg-slider-interior .dcg-track .dcg-ticks .dcg-tick{position:absolute;top:0;width:2px;height:2px;background-color:#fff;margin-left:0;z-index:1;border-radius:2px}.dcg-slider-interior .dcg-track .dcg-graphic{height:6px;background-color:#ddd;border-radius:3px;margin-bottom:6px;width:100%}.dcg-slider-container .dcg-minLabel{padding:10px 11px 10px 8px}.dcg-slider-container .dcg-maxLabel{padding:10px 8px 10px 11px}.dcg-slider-container .dcg-minLabel,.dcg-slider-container .dcg-maxLabel{font-family:arial,sans-serif;font-size:80%;cursor:pointer;color:#aaa;margin:-10px 0}.dcg-slider-container .dcg-minLabel.dcg-hovered,.dcg-slider-container .dcg-maxLabel.dcg-hovered{color:#555}.dcg-slider-container .dcg-minLabel.dcg-depressed,.dcg-slider-container .dcg-maxLabel.dcg-depressed{color:#000}.dcg-EDIT-LIST-MODE .dcg-slider-container .dcg-slider,.dcg-slider-container.dcg-editing-limits .dcg-slider{display:none}.dcg-EDIT-LIST-MODE .dcg-slider-container .dcg-slider_menu,.dcg-slider-container.dcg-editing-limits .dcg-slider_menu{display:block}.dcg-EDIT-LIST-MODE .dcg-animate-play{display:none}.dcg-EDIT-LIST-MODE .dcg-animate-pause{display:none}.dcg-EDIT-LIST-MODE .dcg-slider-speed-container{display:none}.dcg-slider_menu{padding:0;display:none;z-index:2;margin-left:45px}.dcg-slider_menu .dcg-slider-step-container,.dcg-display-domain .dcg-slider-step-container{margin-left:10px}.dcg-slider_menu .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,.dcg-display-domain .dcg-slider-step-container.dcg-disabled-input .dcg-math-field{opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30);pointer-events:none}.dcg-slider_menu .dcg-slider-step-container .dcg-slider-step-label,.dcg-display-domain .dcg-slider-step-container .dcg-slider-step-label{font-size:85%}.dcg-slider_menu .dcg-mq-editable-field.dcg-math-input,.dcg-display-domain .dcg-mq-editable-field.dcg-math-input{position:relative;outline:none;border-bottom:1px solid #ccc;padding:2px;margin:1px;margin-bottom:1px;min-width:40px;font-size:95%;max-width:120px}.dcg-slider_menu .dcg-mq-editable-field.dcg-math-input.dcg-focus,.dcg-display-domain .dcg-mq-editable-field.dcg-math-input.dcg-focus,.dcg-slider_menu .dcg-mq-editable-field.dcg-math-input.dcg-invalid,.dcg-display-domain .dcg-mq-editable-field.dcg-math-input.dcg-invalid{border-bottom:2px solid #8dc6dd;margin-bottom:0}.dcg-slider_menu .dcg-mq-editable-field.dcg-math-input.dcg-invalid,.dcg-display-domain .dcg-mq-editable-field.dcg-math-input.dcg-invalid{border-bottom:2px solid #e15855}.dcg-slider_menu .dcg-mq-editable-field.dcg-math-input.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),.dcg-display-domain .dcg-mq-editable-field.dcg-math-input.dcg-hovered:not(.dcg-focus):not(.dcg-invalid){border-bottom:2px solid #ccc;margin-bottom:0}.dcg-slider_menu .dcg-mq-editable-field.dcg-math-input{max-width:60px}.dcg-narrow:not(.dcg-no-graphpaper) .dcg-exppanel-outer{-webkit-transition:-webkit-transform .3s ease!important;-moz-transition:-moz-transform .3s ease!important;-o-transition:-o-transform .3s ease!important;-ms-transition:-ms-transform .3s ease!important;transition:transform .3s ease!important}.dcg-narrow:not(.dcg-no-graphpaper) .dcg-show-expressions-tab{top:auto;bottom:0;border-right:0;border-left:1px solid #ccc;border-top:1px solid #ccc;border-top-left-radius:5px}.dcg-narrow:not(.dcg-no-graphpaper) .dcg-show-expressions-tab .dcg-resize-list-btn{top:-8px;left:-4px}.dcg-narrow:not(.dcg-no-graphpaper) .dcg-grapher{left:0;top:0;bottom:58%;width:100%;height:auto!important}.dcg-narrow:not(.dcg-no-graphpaper) .dcg-exppanel-outer{top:42%}.dcg-narrow:not(.dcg-no-graphpaper).dcg-fullscreen .dcg-exppanel-outer{-webkit-transform:translate(0,100%)!important;-moz-transform:translate(0,100%)!important;-o-transform:translate(0,100%)!important;-ms-transform:translate(0,100%)!important;transform:translate(0,100%)!important;width:100%}.dcg-narrow:not(.dcg-no-graphpaper).dcg-fullscreen .dcg-exppanel-outer .dcg-exppanel-container{-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-o-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0)}.dcg-narrow:not(.dcg-no-graphpaper).dcg-fullscreen .dcg-grapher{bottom:0}.dcg-narrow:not(.dcg-no-graphpaper) .dcg-exppanel-container{-webkit-transition:0!important;-moz-transition:0!important;-o-transition:0!important;-ms-transition:0!important;transition:0!important}.dcg-narrow:not(.dcg-no-graphpaper) .dcg-resize-list-btn{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);position:relative;top:-2px}.dcg-narrow:not(.dcg-no-graphpaper) .dcg-expressionlist{padding-bottom:0!important}.dcg-narrow:not(.dcg-no-graphpaper) .dcg-show-keypad,.dcg-narrow:not(.dcg-no-graphpaper) .dcg-minimize-keypad{display:none!important}.dcg-narrow:not(.dcg-no-graphpaper) .dcg-show-expressions-tab{border-bottom-right-radius:0;left:auto;right:0}.dcg-narrow .dcg-main,.dcg-no-graphpaper .dcg-main{max-width:100%}.dcg-narrow .dcg-main .dcg-template-mathquill,.dcg-no-graphpaper .dcg-main .dcg-template-mathquill{max-width:100%}.dcg-narrow .dcg-expressiontable .dcg-main,.dcg-no-graphpaper .dcg-expressiontable .dcg-main{-webkit-transition:-webkit-transform .2s;-moz-transition:-moz-transform .2s;-o-transition:-o-transform .2s;-ms-transition:-ms-transform .2s;transition:transform .2s}.dcg-narrow.dcg-short:not(.dcg-no-graphpaper) .dcg-exppanel-outer .dcg-exppanel-container{padding-top:36px}.dcg-narrow.dcg-short:not(.dcg-no-graphpaper) .dcg-exppanel-outer .dcg-expression-top-bar{height:36px;padding:3px;line-height:30px}.dcg-narrow.dcg-short:not(.dcg-no-graphpaper) .dcg-exppanel-outer .dcg-expression-top-bar .dcg-hide-in-edit.dcg-btn-light-gray,.dcg-narrow.dcg-short:not(.dcg-no-graphpaper) .dcg-exppanel-outer .dcg-expression-top-bar .dcg-show-in-edit.dcg-btn-red,.dcg-narrow.dcg-short:not(.dcg-no-graphpaper) .dcg-exppanel-outer .dcg-expression-top-bar .dcg-show-in-edit.dcg-btn-blue{height:30px;line-height:30px}.dcg-narrow.dcg-short:not(.dcg-no-graphpaper) .dcg-exppanel-outer .dcg-expression-top-bar .dcg-hide-in-edit.dcg-btn-light-gray i.dcg-icon-settings,.dcg-narrow.dcg-short:not(.dcg-no-graphpaper) .dcg-exppanel-outer .dcg-expression-top-bar .dcg-hide-in-edit.dcg-btn-light-gray i.dcg-icon-plus{line-height:30px}.dcg-narrow.dcg-short:not(.dcg-no-graphpaper) .dcg-exppanel-outer .dcg-expression-top-bar .dcg-resize-list-btn{height:45px;line-height:52px;top:-9px;right:2px}.dcg-narrow.dcg-short:not(.dcg-no-graphpaper) .dcg-exppanel-outer .dcg-expression-top-bar .dcg-center-aligned .dcg-action-undo,.dcg-narrow.dcg-short:not(.dcg-no-graphpaper) .dcg-exppanel-outer .dcg-expression-top-bar .dcg-offcenter-aligned .dcg-action-undo,.dcg-narrow.dcg-short:not(.dcg-no-graphpaper) .dcg-exppanel-outer .dcg-expression-top-bar .dcg-center-aligned .dcg-action-redo,.dcg-narrow.dcg-short:not(.dcg-no-graphpaper) .dcg-exppanel-outer .dcg-expression-top-bar .dcg-offcenter-aligned .dcg-action-redo{line-height:42px}.dcg-narrow.dcg-short:not(.dcg-no-graphpaper).dcg-no-expression-topbar .dcg-exppanel-outer .dcg-exppanel-container{padding-top:0}.dcg-smart-textarea-container{position:relative;font-size:90%}.dcg-smart-textarea-container textarea.dcg-smart-textarea,.dcg-smart-textarea-container .dcg-displayTextarea{border:0;font:inherit;resize:none;background:transparent;overflow:hidden;outline:none;color:#000;padding:13px;margin:-13px;white-space:pre-wrap;word-wrap:break-word;margin-left:-53px;padding-left:53px;padding-right:45px;margin-right:-60px}.dcg-smart-textarea-container textarea.dcg-smart-textarea{position:relative;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.dcg-smart-textarea-container textarea.dcg-smart-textarea.dcg-empty{opacity:1;-ms-filter:none;filter:none}.dcg-smart-textarea-container .dcg-displayTextarea{position:absolute;top:0}.dcg-smart-textarea-container .dcg-displayTextarea:after{content:'|';opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);width:0;overflow:hidden;display:inline-block;height:1px}.dcg-smart-textarea-container .dcg-displayTextarea a{z-index:1;position:relative;color:#4781b9}.dcg-smart-textarea-container .dcg-displayTextarea a.dcg-hovered,.dcg-smart-textarea-container .dcg-displayTextarea a .dcg-depressed{color:#004f9b}.dcg-selected .dcg-smart-textarea-container .dcg-displayTextarea{display:none}.dcg-selected .dcg-smart-textarea-container textarea{opacity:1;-ms-filter:none;filter:none}.tipsy{font-size:14px;position:fixed;padding:5px;z-index:100000;cursor:pointer;font-family:sans-serif}.tipsy-inner{background-color:#000;color:#FFF;max-width:170px;padding:5px 8px 4px 8px;text-align:center;cursor:pointer}.tipsy-inner{border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px}.tipsy-arrow{position:absolute;width:0;height:0;line-height:0;border:5px dashed #000;cursor:pointer}.tipsy-arrow-n{border-bottom-color:#000}.tipsy-arrow-s{border-top-color:#000}.tipsy-arrow-e{border-left-color:#000}.tipsy-arrow-w{border-right-color:#000}.tipsy-n .tipsy-arrow{top:0;left:50%;margin-left:-5px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.tipsy-nw .tipsy-arrow{top:0;left:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.tipsy-ne .tipsy-arrow{top:0;right:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.tipsy-s .tipsy-arrow{bottom:0;left:50%;margin-left:-5px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.tipsy-sw .tipsy-arrow{bottom:0;left:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.tipsy-se .tipsy-arrow{bottom:0;right:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.tipsy-e .tipsy-arrow{right:0;top:50%;margin-top:-5px;border-left-style:solid;border-right:none;border-top-color:transparent;border-bottom-color:transparent}.tipsy-w .tipsy-arrow{left:0;top:50%;margin-top:-5px;border-right-style:solid;border-left:none;border-top-color:transparent;border-bottom-color:transparent}.tipsy.tipsy-sticky .tipsy-inner{background-color:#777}.tipsy.tipsy-sticky .tipsy-arrow{border-bottom-color:#777}.dcg-toast-container{position:absolute;top:5px;left:50px;right:50px;height:0;text-align:center;z-index:45;overflow:visible;text-shadow:none;color:#222;line-height:1em}.dcg-toast-container .dcg-toast{display:inline-block;padding:6px 10px;background:#fef2ad;border:1px solid #fed973;border-radius:4px;font-size:85%;-webkit-box-shadow:0 2px 6px rgba(0,0,0,0.15);box-shadow:0 2px 6px rgba(0,0,0,0.15);position:relative}.dcg-toast-container .dcg-toast i.dcg-icon-error{display:none}.dcg-toast-container .dcg-toast a.dcg-undo{display:none;padding:8px;margin:-8px}.dcg-toast-container .dcg-toast i.dcg-icon-remove{font-size:87%;padding:8px;margin:-6px -8px -8px 4px;color:rgba(0,0,0,0.3);cursor:pointer;float:right}.dcg-toast-container .dcg-toast i.dcg-icon-remove.dcg-hovered{color:rgba(0,0,0,0.6)}.dcg-toast-container .dcg-toast i.dcg-icon-remove.dcg-depressed{color:rgba(0,0,0,0.8)}.dcg-toast-container .dcg-toast.dcg-show-undo a.dcg-undo{display:inline-block}.dcg-toast-container .dcg-toast.dcg-show-undo i.dcg-icon-remove{display:none}.dcg-toast-container .dcg-toast.dcg-maintenance-toast{position:relative;top:-3px;padding:4px 10px}.dcg-toast-container .dcg-toast.dcg-maintenance-toast a{display:block;padding:0}.dcg-toast-container .dcg-toast a{font-weight:bold;margin-left:5px;text-decoration:underline;cursor:pointer;display:inline-block;padding:0;color:#222}.dcg-toast-container .dcg-toast-cover{display:none}.dcg-toast-container[style='error'] .dcg-toast{padding-left:28px}.dcg-toast-container[style='error'] .dcg-toast i.dcg-icon-error{position:absolute;top:7px;left:10px;color:#fc944c;display:block}.dcg-toast-container[style='cover']{position:absolute;top:0;left:0;right:0;padding-top:5px;height:100%;z-index:999}.dcg-toast-container[style='cover'] .dcg-toast-cover{position:absolute;top:0;left:0;bottom:0;right:0;opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30);display:block;background-color:#000}.trip-block{position:absolute;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);-webkit-transition:.3s ease;-moz-transition:.3s ease;-o-transition:.3s ease;-ms-transition:.3s ease;transition:.3s ease;display:none;-webkit-transform:scale(0,0);-moz-transform:scale(0,0);-o-transform:scale(0,0);-ms-transform:scale(0,0);transform:scale(0,0)}.trip-block.trip-is-loaded:not(.trip-hidden){opacity:1;-ms-filter:none;filter:none;-webkit-transform:scale(1,1);-moz-transform:scale(1,1);-o-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1)}.trip-block .trip-interior{padding:10px;text-align:left;min-width:100px;border-radius:6px;padding-right:40px;width:275px;background:#fff;border:3px solid #127a3d;color:#444;font-size:100%;-webkit-box-shadow:0 2px 7px 0 rgba(0,0,0,0.3);box-shadow:0 2px 7px 0 rgba(0,0,0,0.3)}.trip-block .trip-interior .trip-link{color:#4781b9}.trip-block .trip-interior .trip-title{font-weight:bold;margin-bottom:5px}.trip-block .trip-interior .trip-hint{font-size:80%;line-height:12px;margin-top:4px;color:#666}.trip-block .trip-interior i{font-size:80%}.trip-block .trip-interior code{border:solid 1px #d3d3d3;border-radius:3px;padding:2px 3px;display:inline-block}.trip-block .trip-interior code i{font-size:70%;font-family:Arial,sans-serif}.trip-block .trip-interior .trip-close{color:rgba(0,0,0,0.3);position:absolute;right:0;top:0;font-size:150%;line-height:16px;float:right;padding:6px;text-decoration:none;cursor:pointer}.trip-block .trip-interior .trip-close.dcg-hovered{color:rgba(0,0,0,0.6)}.trip-block .trip-interior .trip-close.dcg-depressed{color:rgba(0,0,0,0.8)}.trip-block .trip-arrow{border:10px solid transparent;height:0;width:0;position:absolute}.trip-block.trip-n .trip-arrow{border-bottom-width:0;border-top-color:#127a3d}.trip-block.trip-s .trip-arrow{border-bottom-color:#127a3d;border-top-width:0}.trip-block.trip-e .trip-arrow{border-left-width:0;border-right-color:#127a3d}.trip-block.trip-w .trip-arrow{border-right-width:0;border-left-color:#127a3d}.trip-block.trip-n .trip-arrow,.trip-block.trip-s .trip-arrow{left:50%;margin-left:-10px}.trip-block.trip-e .trip-arrow,.trip-block.trip-w .trip-arrow{top:50%;margin-top:-10px}.trip-block.trip-n .trip-arrow{top:100%}.trip-block.trip-s .trip-arrow{bottom:100%}.trip-block.trip-e .trip-arrow{right:100%}.trip-block.trip-w .trip-arrow{left:100%}.trip-progress-bar{height:1px;background-color:#444;width:0}.dcg-mq-aria-alert{position:absolute;left:-1000px;top:-1000px;width:1px;height:1px;text-align:left;overflow:hidden}.dcg-mq-editable-field{display:-moz-inline-box;display:inline-block}.dcg-mq-editable-field .dcg-mq-cursor{border-left:1px solid black;margin-left:-1px;position:relative;z-index:1;padding:0;display:-moz-inline-box;display:inline-block}.dcg-mq-editable-field .dcg-mq-cursor.dcg-mq-blink{visibility:hidden}.dcg-mq-editable-field,.dcg-mq-math-mode .dcg-mq-editable-field{border:1px solid gray}.dcg-mq-editable-field.dcg-mq-focused,.dcg-mq-math-mode .dcg-mq-editable-field.dcg-mq-focused{-webkit-box-shadow:#8bd 0 0 1px 2px,inset #6ae 0 0 2px 0;-moz-box-shadow:#8bd 0 0 1px 2px,inset #6ae 0 0 2px 0;box-shadow:#8bd 0 0 1px 2px,inset #6ae 0 0 2px 0;border-color:#709AC0;border-radius:1px;aria-hidden:true}.dcg-mq-math-mode .dcg-mq-editable-field{margin:1px}.dcg-mq-editable-field .dcg-mq-latex-command-input{color:inherit;font-family:\"Courier New\",monospace;border:1px solid gray;padding-right:1px;margin-right:1px;margin-left:2px}.dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-empty{background:transparent}.dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-hasCursor{border-color:ActiveBorder}.dcg-mq-editable-field.dcg-mq-empty:after,.dcg-mq-editable-field.dcg-mq-text-mode:after,.dcg-mq-math-mode .dcg-mq-empty:after{visibility:hidden;content:'c'}.dcg-mq-editable-field .dcg-mq-cursor:only-child:after,.dcg-mq-editable-field .dcg-mq-textarea+.dcg-mq-cursor:last-child:after{visibility:hidden;content:'c'}.dcg-mq-editable-field .dcg-mq-text-mode .dcg-mq-cursor:only-child:after{content:''}.dcg-mq-editable-field.dcg-mq-text-mode{overflow-x:auto;overflow-y:hidden}.dcg-mq-root-block,.dcg-mq-math-mode .dcg-mq-root-block{display:-moz-inline-box;display:inline-block;width:100%;padding:2px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle}.dcg-mq-math-mode{font-variant:normal;font-weight:normal;font-style:normal;font-size:115%;line-height:1;display:-moz-inline-box;display:inline-block}.dcg-mq-math-mode .dcg-mq-non-leaf,.dcg-mq-math-mode .dcg-mq-scaled{display:-moz-inline-box;display:inline-block}.dcg-mq-math-mode var,.dcg-mq-math-mode .dcg-mq-text-mode,.dcg-mq-math-mode .dcg-mq-nonSymbola{font-family:\"Times New Roman\",Symbola,serif;line-height:.9}.dcg-mq-math-mode *{font-size:inherit;line-height:inherit;margin:0;padding:0;border-color:black;-webkit-user-select:none;-moz-user-select:none;user-select:none;box-sizing:border-box}.dcg-mq-math-mode .dcg-mq-empty{background:#ccc}.dcg-mq-math-mode .dcg-mq-empty.dcg-mq-root-block{background:transparent}.dcg-mq-math-mode.dcg-mq-empty{background:transparent}.dcg-mq-math-mode .dcg-mq-text-mode{display:inline-block}.dcg-mq-math-mode .dcg-mq-text-mode.dcg-mq-hasCursor{box-shadow:inset darkgray 0 .1em .2em;padding:0 .1em;margin:0 -0.1em;min-width:1ex}.dcg-mq-math-mode .dcg-mq-font{font:1em \"Times New Roman\",Symbola,serif}.dcg-mq-math-mode .dcg-mq-font *{font-family:inherit;font-style:inherit}.dcg-mq-math-mode b,.dcg-mq-math-mode b.dcg-mq-font{font-weight:bolder}.dcg-mq-math-mode var,.dcg-mq-math-mode i,.dcg-mq-math-mode i.dcg-mq-font{font-style:italic}.dcg-mq-math-mode var.dcg-mq-f{margin-right:.2em;margin-left:.1em}.dcg-mq-math-mode .dcg-mq-roman var.dcg-mq-f{margin:0}.dcg-mq-math-mode big{font-size:200%}.dcg-mq-math-mode .dcg-mq-int>big{display:inline-block;-webkit-transform:scaleX(0.7);-moz-transform:scaleX(0.7);-ms-transform:scaleX(0.7);-o-transform:scaleX(0.7);transform:scaleX(0.7);vertical-align:-0.16em}.dcg-mq-math-mode .dcg-mq-int>.dcg-mq-supsub{font-size:80%;vertical-align:-1.1em;padding-right:.2em}.dcg-mq-math-mode .dcg-mq-int>.dcg-mq-supsub>.dcg-mq-sup>.dcg-mq-sup-inner{vertical-align:1.3em}.dcg-mq-math-mode .dcg-mq-int>.dcg-mq-supsub>.dcg-mq-sub{margin-left:-0.35em}.dcg-mq-math-mode .dcg-mq-roman{font-style:normal}.dcg-mq-math-mode .dcg-mq-sans-serif{font-family:sans-serif,Symbola,serif}.dcg-mq-math-mode .dcg-mq-monospace{font-family:monospace,Symbola,serif}.dcg-mq-math-mode .dcg-mq-overline{border-top:1px solid black;margin-top:1px}.dcg-mq-math-mode .dcg-mq-underline{border-bottom:1px solid black;margin-bottom:1px}.dcg-mq-math-mode .dcg-mq-binary-operator{padding:0 .2em;display:-moz-inline-box;display:inline-block}.dcg-mq-math-mode .dcg-mq-supsub{text-align:left;font-size:90%;vertical-align:-0.5em}.dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only{vertical-align:.5em}.dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only .dcg-mq-sup{display:inline-block;vertical-align:text-bottom}.dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sup{display:block}.dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sub{display:block;float:left}.dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-binary-operator{padding:0 .1em}.dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-fraction{font-size:70%}.dcg-mq-math-mode sup.dcg-mq-nthroot{font-size:80%;vertical-align:.8em;margin-right:-0.6em;margin-left:.2em;min-width:.5em}.dcg-mq-math-mode .dcg-mq-paren{padding:0 .1em;vertical-align:top;-webkit-transform-origin:center .06em;-moz-transform-origin:center .06em;-ms-transform-origin:center .06em;-o-transform-origin:center .06em;transform-origin:center .06em}.dcg-mq-math-mode .dcg-mq-paren.dcg-mq-ghost{color:silver}.dcg-mq-math-mode .dcg-mq-paren+span{margin-top:.1em;margin-bottom:.1em}.dcg-mq-math-mode .dcg-mq-array{vertical-align:middle;text-align:center}.dcg-mq-math-mode .dcg-mq-array>span{display:block}.dcg-mq-math-mode .dcg-mq-operator-name{font-family:Symbola,\"Times New Roman\",serif;line-height:.9;font-style:normal}.dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-first{padding-left:.2em}.dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-last,.dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-after-operator-name{padding-right:.2em}.dcg-mq-math-mode .dcg-mq-fraction{font-size:90%;text-align:center;vertical-align:-0.4em;padding:0 .2em}.dcg-mq-math-mode .dcg-mq-fraction,.dcg-mq-math-mode .dcg-mq-large-operator,.dcg-mq-math-mode x:-moz-any-link{display:-moz-groupbox}.dcg-mq-math-mode .dcg-mq-fraction,.dcg-mq-math-mode .dcg-mq-large-operator,.dcg-mq-math-mode x:-moz-any-link,.dcg-mq-math-mode x:default{display:inline-block}.dcg-mq-math-mode .dcg-mq-numerator,.dcg-mq-math-mode .dcg-mq-denominator{display:block}.dcg-mq-math-mode .dcg-mq-numerator{padding:0 .1em}.dcg-mq-math-mode .dcg-mq-denominator{border-top:1px solid;float:right;width:100%;padding:.1em}.dcg-mq-math-mode .dcg-mq-sqrt-prefix{padding-top:0;position:relative;top:.1em;vertical-align:top;-webkit-transform-origin:top;-moz-transform-origin:top;-ms-transform-origin:top;-o-transform-origin:top;transform-origin:top}.dcg-mq-math-mode .dcg-mq-sqrt-stem{border-top:1px solid;margin-top:1px;padding-left:.15em;padding-right:.2em;margin-right:.1em;padding-top:1px}.dcg-mq-math-mode .dcg-mq-diacritic-above{display:block;text-align:center;line-height:.4em}.dcg-mq-math-mode .dcg-mq-diacritic-stem{display:block;text-align:center}.dcg-mq-math-mode .dcg-mq-hat-prefix{display:block;text-align:center;line-height:.95em;margin-bottom:-0.7em;transform:scaleX(1.5);-moz-transform:scaleX(1.5);-o-transform:scaleX(1.5);-webkit-transform:scaleX(1.5)}.dcg-mq-math-mode .dcg-mq-hat-stem{display:block}.dcg-mq-math-mode .dcg-mq-large-operator{vertical-align:-0.2em;padding:.2em;text-align:center}.dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,.dcg-mq-math-mode .dcg-mq-large-operator big,.dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to{display:block}.dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,.dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to{font-size:80%}.dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from{float:right;width:100%}.dcg-mq-math-mode,.dcg-mq-math-mode .dcg-mq-editable-field{cursor:text;font-family:Symbola,\"Times New Roman\",serif}.dcg-mq-math-mode .dcg-mq-overarrow{border-top:1px solid black;margin-top:1px;padding-top:.2em}.dcg-mq-math-mode .dcg-mq-overarrow:before{display:block;position:relative;top:-0.34em;font-size:.5em;line-height:0;content:'\\27A4';text-align:right}.dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:before{-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1);filter:FlipH;-ms-filter:\"FlipH\"}.dcg-mq-math-mode .dcg-mq-selection,.dcg-mq-editable-field .dcg-mq-selection,.dcg-mq-math-mode .dcg-mq-selection .dcg-mq-non-leaf,.dcg-mq-editable-field .dcg-mq-selection .dcg-mq-non-leaf,.dcg-mq-math-mode .dcg-mq-selection .dcg-mq-scaled,.dcg-mq-editable-field .dcg-mq-selection .dcg-mq-scaled{background:#B4D5FE!important;background:Highlight!important;color:HighlightText;border-color:HighlightText}.dcg-mq-math-mode .dcg-mq-selection .dcg-mq-matrixed,.dcg-mq-editable-field .dcg-mq-selection .dcg-mq-matrixed{background:#39F!important}.dcg-mq-math-mode .dcg-mq-selection .dcg-mq-matrixed-container,.dcg-mq-editable-field .dcg-mq-selection .dcg-mq-matrixed-container{filter:progid:DXImageTransform.Microsoft.Chroma(color='#3399FF')!important}.dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur,.dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur,.dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,.dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,.dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled,.dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled,.dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-matrixed,.dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-matrixed{background:#D4D4D4!important;color:black;border-color:black}.dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-matrixed-container,.dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-matrixed-container{filter:progid:DXImageTransform.Microsoft.Chroma(color='#D4D4D4')!important}.dcg-mq-editable-field .dcg-mq-textarea,.dcg-mq-math-mode .dcg-mq-textarea{position:relative;-webkit-user-select:text;-moz-user-select:text;user-select:text}.dcg-mq-editable-field .dcg-mq-textarea *,.dcg-mq-math-mode .dcg-mq-textarea *,.dcg-mq-editable-field .dcg-mq-selectable,.dcg-mq-math-mode .dcg-mq-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text;position:absolute;clip:rect(1em 1em 1em 1em);-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);-o-transform:scale(0);transform:scale(0);resize:none;width:1px;height:1px;box-sizing:content-box}.dcg-mq-math-mode .dcg-mq-matrixed{background:white;display:-moz-inline-box;display:inline-block}.dcg-mq-math-mode .dcg-mq-matrixed-container{filter:progid:DXImageTransform.Microsoft.Chroma(color='white');margin-top:-0.1em}";
      document.getElementsByTagName('head')[0].appendChild(elt);

      var moduleWasDefined = false;
      var exportsWasDefined = false;
      var oldModule;
      var oldExports;
      if ('module' in window) {
        moduleWasDefined = true;
        oldModule = window.module;
        window.module = undefined;
      }
      if ('exports' in window) {
        exportsWasDefined = true;
        oldExports = window.exports;
        window.exports = undefined;
      }

      !function(){function injectWorkerDependencies(){var workerSrc=require("worker_src"),old_ALMOND_OVERRIDES=window.ALMOND_OVERRIDES;window.ALMOND_OVERRIDES={define:define,require:require,requirejs:requirejs},eval(workerSrc),window.ALMOND_OVERRIDES=old_ALMOND_OVERRIDES}var requirejs,require,define;!function(e){function t(e,t){return v.call(e,t)}function i(e,t){var i,n,r,s,o,a,l,c,u,h,d=t&&t.split("/"),p=g.map,f=p&&p["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=d.concat(e.split("/")),c=0;c<e.length;c+=1)if(h=e[c],"."===h)e.splice(c,1),c-=1;else if(".."===h){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||f)&&p){for(i=e.split("/"),c=i.length;c>0;c-=1){if(n=i.slice(0,c).join("/"),d)for(u=d.length;u>0;u-=1)if(r=p[d.slice(0,u).join("/")],r&&(r=r[n])){s=r,o=c;break}if(s)break;!a&&f&&f[n]&&(a=f[n],l=c)}!s&&a&&(s=a,o=l),s&&(i.splice(0,o,s),e=i.join("/"))}return e}function n(t,i){return function(){return u.apply(e,y.call(arguments,0).concat([t,i]))}}function r(e){return function(t){return i(t,e)}}function s(e){return function(t){p[e]=t}}function o(i){if(t(f,i)){var n=f[i];delete f[i],m[i]=!0,c.apply(e,n)}if(!t(p,i)&&!t(m,i))throw new Error("No "+i);return p[i]}function a(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function l(e){return function(){return g&&g.config&&g.config[e]||{}}}var c,u,h,d,p={},f={},g={},m={},v=Object.prototype.hasOwnProperty,y=[].slice;h=function(e,t){var n,s=a(e),l=s[0];return e=s[1],l&&(l=i(l,t),n=o(l)),l?e=n&&n.normalize?n.normalize(e,r(t)):i(e,t):(e=i(e,t),s=a(e),l=s[0],e=s[1],l&&(n=o(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:n}},d={require:function(e){return n(e)},exports:function(e){var t=p[e];return"undefined"!=typeof t?t:p[e]={}},module:function(e){return{id:e,uri:"",exports:p[e],config:l(e)}}},c=function(i,r,a,l){var c,u,g,v,y,b,x=[];if(l=l||i,"function"==typeof a){for(r=!r.length&&a.length?["require","exports","module"]:r,y=0;y<r.length;y+=1)if(v=h(r[y],l),u=v.f,"require"===u)x[y]=d.require(i);else if("exports"===u)x[y]=d.exports(i),b=!0;else if("module"===u)c=x[y]=d.module(i);else if(t(p,u)||t(f,u)||t(m,u))x[y]=o(u);else{if(!v.p)throw new Error(i+" missing "+u);v.p.load(v.n,n(l,!0),s(u),{}),x[y]=p[u]}g=a.apply(p[i],x),i&&(c&&c.exports!==e&&c.exports!==p[i]?p[i]=c.exports:g===e&&b||(p[i]=g))}else i&&(p[i]=a)},requirejs=require=u=function(t,i,n,r,s){return"string"==typeof t?d[t]?d[t](i):o(h(t,i).f):(t.splice||(g=t,i.splice?(t=i,i=n,n=null):t=e),i=i||function(){},"function"==typeof n&&(n=r,r=s),r?c(e,t,i,n):setTimeout(function(){c(e,t,i,n)},4),u)},u.config=function(e){return g=e,g.deps&&u(g.deps,g.callback),u},define=function(e,i,n){i.splice||(n=i,i=[]),t(p,e)||t(f,e)||(f[e]=[e,i,n])},define.amd={jQuery:!0}}(),"undefined"!=typeof ALMOND_OVERRIDES&&ALMOND_OVERRIDES&&(define=ALMOND_OVERRIDES.define||define,require=ALMOND_OVERRIDES.require||require,requirejs=ALMOND_OVERRIDES.requirejs||requirejs),define("vendor/almond",function(){}),define("lib/deepCopy",["require","exports"],function(e,t){"use strict";function i(e){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e)return e;if("object"!=typeof e)return e;if(Array.isArray(e))return e.map(i);var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}),define("config",["require","./lib/deepCopy"],function(e){var t=e("./lib/deepCopy").default,i={},n=location.search;"?"===n[0]&&(n=n.slice(1));for(var r=n.split("&"),s={},o=0;o<r.length;o++){var a=r[o].split("=");s[a[0]]=2!==a.length||a[1]}if(window.Desmos&&window.Desmos.config)for(var l in window.Desmos.config)window.Desmos.config.hasOwnProperty(l)&&(s[l]=window.Desmos.config[l]);var c=function(e){return s.hasOwnProperty(e)},u=function(e){i[e]=c(e)},h=function(e){i[e]=!c("no"+e)};u("testing"),u("maintenance"),u("disableScrollFix"),u("nativeOnscreenKeypad"),u("hidden"),u("outofdom"),s.lang&&(i.lang=s.lang),i.no_navigation_warning=c("noconcat")||c("testing"),i.previewMessage="You're previewing some new accessibility features.",i.previewFeedbackUrl="mailto:feedback@desmos.com";var d=location&&"preview.desmos.com"===location.hostname;return i.previewMode=c("previewMode")||d,u("lockViewport"),u("administerSecretFolders"),u("degreeMode"),u("plaidMode"),u("editOnWeb"),u("crossOriginSaveTest"),h("links"),h("trace"),u("expressionsCollapsed"),u("invertedColors"),h("images"),h("folders"),h("settingsMenu"),h("expressionsTopbar"),h("zoomButtons"),h("keypad"),h("graphpaper"),h("expressions"),h("expressionsTopbar"),h("settingsMenu"),h("branding"),h("pointsOfInterest"),h("plotSingleVariableImplicitEquations"),h("notes"),u("sciKeypad"),u("4fnKeypad"),u("ans"),c("braille")&&(i.braille=!0),h("qwertyKeyboard"),u("restrictedFunctions"),h("functionDefinition"),u("neuterScientific"),h("labels"),u("bare-i18n"),u("distributions"),s.additionalFunctions&&(i.additionalFunctions=s.additionalFunctions.split(",")),{get:function(e){return i[e]},all:function(){return t(i)}}}),define("main/cookie",[],function(){function e(e){try{var t,i,n,r=encodeURIComponent(e),s=document.cookie.split(";");for(t=0;t<s.length;t++)if(i=s[t].substr(0,s[t].indexOf("=")),n=s[t].substr(s[t].indexOf("=")+1),i=i.replace(/^\s+|\s+$/g,""),i==r)return decodeURIComponent(n)}catch(e){return}}function t(e,t,i){try{var n=new Date;n.setDate(n.getDate()+(i||30)),document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; expires="+n.toUTCString()+"; path=/"}catch(e){}}return{getCookie:e,setCookie:t}}),define("ipad.ghostevents",["require"],function(e){function t(e){n&&s.evtInScope(e)&&(e.stopPropagation(),e.stopImmediatePropagation())}function i(e){n&&s.evtInScope(e)&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}var n=!1,r=null,s={isGhostEvent:function(e){return!1},evtInScope:function(e){return!1}};return document.addEventListener("mousedown",function(e){s.evtInScope(e)&&(r=document.activeElement,n=s.isGhostEvent(e),t(e))},!0),document.addEventListener("mouseup",t,!0),document.addEventListener("click",function(e){i(e),n&&document.activeElement!==r&&(document.activeElement&&document.activeElement.blur(),r&&r.focus()),n=!1},!0),document.addEventListener("focus",i,!0),document.addEventListener("blur",i,!0),s}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=!!e&&"length"in e&&e.length,i=se.type(e);return"function"!==i&&!se.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e,t,i){if(se.isFunction(t))return se.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return se.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(ge.test(t))return se.filter(t,e,i);t=se.filter(t,e)}return se.grep(e,function(e){return J.call(t,e)>-1!==i})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t={};return se.each(e.match(_e)||[],function(e,i){t[i]=!0}),t}function o(){X.removeEventListener("DOMContentLoaded",o),e.removeEventListener("load",o),se.ready()}function a(){this.expando=se.expando+a.uid++}function l(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(Ie,"-$&").toLowerCase(),i=e.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Ce.test(i)?se.parseJSON(i):i)}catch(e){}Te.set(e,t,i)}else i=void 0;return i}function c(e,t,i,n){var r,s=1,o=20,a=n?function(){return n.cur()}:function(){return se.css(e,t,"")},l=a(),c=i&&i[3]||(se.cssNumber[t]?"":"px"),u=(se.cssNumber[t]||"px"!==c&&+l)&&Ae.exec(se.css(e,t));if(u&&u[3]!==c){c=c||u[3],i=i||[],u=+l||1;do s=s||".5",u/=s,se.style(e,t,u+c);while(s!==(s=a()/l)&&1!==s&&--o)}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=r)),r}function u(e,t){var i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&se.nodeName(e,t)?se.merge([e],i):i}function h(e,t){for(var i=0,n=e.length;i<n;i++)ke.set(e[i],"globalEval",!t||ke.get(t[i],"globalEval"))}function d(e,t,i,n,r){for(var s,o,a,l,c,d,p=t.createDocumentFragment(),f=[],g=0,m=e.length;g<m;g++)if(s=e[g],s||0===s)if("object"===se.type(s))se.merge(f,s.nodeType?[s]:s);else if(Fe.test(s)){for(o=o||p.appendChild(t.createElement("div")),a=(De.exec(s)||["",""])[1].toLowerCase(),l=Ne[a]||Ne._default,o.innerHTML=l[1]+se.htmlPrefilter(s)+l[2],d=l[0];d--;)o=o.lastChild;se.merge(f,o.childNodes),o=p.firstChild,o.textContent=""}else f.push(t.createTextNode(s));for(p.textContent="",g=0;s=f[g++];)if(n&&se.inArray(s,n)>-1)r&&r.push(s);else if(c=se.contains(s.ownerDocument,s),o=u(p.appendChild(s),"script"),c&&h(o),i)for(d=0;s=o[d++];)qe.test(s.type||"")&&i.push(s);return p}function p(){return!0}function f(){return!1}function g(){try{return X.activeElement}catch(e){}}function m(e,t,i,n,r,s){var o,a;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0);for(a in t)m(e,a,i,n,t[a],s);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=f;else if(!r)return e;return 1===s&&(o=r,r=function(e){return se().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=se.guid++)),e.each(function(){se.event.add(this,t,r,n,i)})}function v(e,t){return se.nodeName(e,"table")&&se.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=Ge.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){var i,n,r,s,o,a,l,c;if(1===t.nodeType){if(ke.hasData(e)&&(s=ke.access(e),o=ke.set(t,s),c=s.events)){delete o.handle,o.events={};for(r in c)for(i=0,n=c[r].length;i<n;i++)se.event.add(t,r,c[r][i])}Te.hasData(e)&&(a=Te.access(e),l=se.extend({},a),Te.set(t,l))}}function _(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Le.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function w(e,t,i,n){t=K.apply([],t);var r,s,o,a,l,c,h=0,p=e.length,f=p-1,g=t[0],m=se.isFunction(g);if(m||p>1&&"string"==typeof g&&!ne.checkClone&&Ue.test(g))return e.each(function(r){var s=e.eq(r);m&&(t[0]=g.call(this,r,s.html())),w(s,t,i,n)});if(p&&(r=d(t,e[0].ownerDocument,!1,e,n),s=r.firstChild,1===r.childNodes.length&&(r=s),s||n)){for(o=se.map(u(r,"script"),y),a=o.length;h<p;h++)l=r,h!==f&&(l=se.clone(l,!0,!0),a&&se.merge(o,u(l,"script"))),i.call(e[h],l,h);if(a)for(c=o[o.length-1].ownerDocument,se.map(o,b),h=0;h<a;h++)l=o[h],qe.test(l.type||"")&&!ke.access(l,"globalEval")&&se.contains(c,l)&&(l.src?se._evalUrl&&se._evalUrl(l.src):se.globalEval(l.textContent.replace(ze,"")))}return e}function S(e,t,i){for(var n,r=t?se.filter(t,e):e,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||se.cleanData(u(n)),n.parentNode&&(i&&se.contains(n.ownerDocument,n)&&h(u(n,"script")),n.parentNode.removeChild(n));return e}function E(e,t){var i=se(t.createElement(e)).appendTo(t.body),n=se.css(i[0],"display");return i.detach(),n}function k(e){var t=X,i=We[e];return i||(i=E(e,t),"none"!==i&&i||(He=(He||se("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=He[0].contentDocument,t.write(),t.close(),i=E(e,t),He.detach()),We[e]=i),i}function T(e,t,i){var n,r,s,o,a=e.style;return i=i||Qe(e),o=i?i.getPropertyValue(t)||i[t]:void 0,""!==o&&void 0!==o||se.contains(e.ownerDocument,e)||(o=se.style(e,t)),i&&!ne.pixelMarginRight()&&Xe.test(o)&&Ye.test(t)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s),void 0!==o?o+"":o}function C(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function I(e){if(e in nt)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=it.length;i--;)if(e=it[i]+t,e in nt)return e}function P(e,t,i){var n=Ae.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function A(e,t,i,n,r){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,o=0;s<4;s+=2)"margin"===i&&(o+=se.css(e,i+Me[s],!0,r)),n?("content"===i&&(o-=se.css(e,"padding"+Me[s],!0,r)),"margin"!==i&&(o-=se.css(e,"border"+Me[s]+"Width",!0,r))):(o+=se.css(e,"padding"+Me[s],!0,r),"padding"!==i&&(o+=se.css(e,"border"+Me[s]+"Width",!0,r)));return o}function M(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=Qe(e),o="border-box"===se.css(e,"boxSizing",!1,s);if(r<=0||null==r){if(r=T(e,t,s),(r<0||null==r)&&(r=e.style[t]),Xe.test(r))return r;n=o&&(ne.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+A(e,t,i||(o?"border":"content"),n,s)+"px"}function O(e,t){for(var i,n,r,s=[],o=0,a=e.length;o<a;o++)n=e[o],n.style&&(s[o]=ke.get(n,"olddisplay"),i=n.style.display,t?(s[o]||"none"!==i||(n.style.display=""),""===n.style.display&&Oe(n)&&(s[o]=ke.access(n,"olddisplay",k(n.nodeName)))):(r=Oe(n),"none"===i&&r||ke.set(n,"olddisplay",r?i:se.css(n,"display"))));for(o=0;o<a;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[o]||"":"none"));return e}function L(e,t,i,n,r){return new L.prototype.init(e,t,i,n,r)}function D(){return e.setTimeout(function(){rt=void 0}),rt=se.now()}function q(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)i=Me[n],r["margin"+i]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function N(e,t,i){for(var n,r=(V.tweeners[t]||[]).concat(V.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,t,e))return n}function F(e,t,i){var n,r,s,o,a,l,c,u,h=this,d={},p=e.style,f=e.nodeType&&Oe(e),g=ke.get(e,"fxshow");i.queue||(a=se._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,se.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],c=se.css(e,"display"),u="none"===c?ke.get(e,"olddisplay")||k(e.nodeName):c,"inline"===u&&"none"===se.css(e,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(r=t[n],ot.exec(r)){if(delete t[n],s=s||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;f=!0}d[n]=g&&g[n]||se.style(e,n)}else c=void 0;if(se.isEmptyObject(d))"inline"===("none"===c?k(e.nodeName):c)&&(p.display=c);else{g?"hidden"in g&&(f=g.hidden):g=ke.access(e,"fxshow",{}),s&&(g.hidden=!f),f?se(e).show():h.done(function(){se(e).hide()}),h.done(function(){var t;ke.remove(e,"fxshow");for(t in d)se.style(e,t,d[t])});for(n in d)o=N(f?g[n]:0,n,h),n in g||(g[n]=o.start,f&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function R(e,t){var i,n,r,s,o;for(i in e)if(n=se.camelCase(i),r=t[n],s=e[i],se.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),o=se.cssHooks[n],o&&"expand"in o){s=o.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=r)}else t[n]=r}function V(e,t,i){var n,r,s=0,o=V.prefilters.length,a=se.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=rt||D(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,s=1-n,o=0,l=c.tweens.length;o<l;o++)c.tweens[o].run(s);return a.notifyWith(e,[c,s,i]),s<1&&l?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:se.extend({},t),opts:se.extend(!0,{specialEasing:{},easing:se.easing._default},i),originalProperties:t,originalOptions:i,startTime:rt||D(),duration:i.duration,tweens:[],createTween:function(t,i){var n=se.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(R(u,c.opts.specialEasing);s<o;s++)if(n=V.prefilters[s].call(c,e,u,c.opts))return se.isFunction(n.stop)&&(se._queueHooks(c.elem,c.opts.queue).stop=se.proxy(n.stop,n)),n;return se.map(u,N,c),se.isFunction(c.opts.start)&&c.opts.start.call(e,c),se.fx.timer(se.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function j(e){return e.getAttribute&&e.getAttribute("class")||""}function $(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,s=t.toLowerCase().match(_e)||[];if(se.isFunction(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function B(e,t,i,n){function r(a){var l;return s[a]=!0,se.each(e[a]||[],function(e,a){var c=a(t,i,n);return"string"!=typeof c||o||s[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var s={},o=e===Tt;return r(t.dataTypes[0])||!s["*"]&&r("*")}function U(e,t){var i,n,r=se.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&se.extend(!0,e,n),e}function G(e,t,i){for(var n,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}function z(e,t,i,n){var r,s,o,a,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(s=u.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=c[l+" "+s]||c["* "+s],!o)for(r in c)if(a=r.split(" "),a[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){o===!0?o=c[r]:c[r]!==!0&&(s=a[0],u.unshift(a[1]));break}if(o!==!0)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function H(e,t,i,n){var r;if(se.isArray(t))se.each(t,function(t,r){i||At.test(e)?n(e,r):H(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==se.type(t))n(e,t);else for(r in t)H(e+"["+r+"]",t[r],i,n)}function W(e){return se.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Y=[],X=e.document,Q=Y.slice,K=Y.concat,Z=Y.push,J=Y.indexOf,ee={},te=ee.toString,ie=ee.hasOwnProperty,ne={},re="2.2.4",se=function(e,t){return new se.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,le=/-([\da-z])/gi,ce=function(e,t){return t.toUpperCase()};se.fn=se.prototype={jquery:re,constructor:se,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:Q.call(this)},pushStack:function(e){var t=se.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return se.each(this,e)},map:function(e){return this.pushStack(se.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:Y.sort,splice:Y.splice},se.extend=se.fn.extend=function(){var e,t,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||se.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=o[t],n=e[t],o!==n&&(c&&n&&(se.isPlainObject(n)||(r=se.isArray(n)))?(r?(r=!1,s=i&&se.isArray(i)?i:[]):s=i&&se.isPlainObject(i)?i:{},o[t]=se.extend(c,s,n)):void 0!==n&&(o[t]=n));return o},se.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===se.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!se.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==se.type(e)||e.nodeType||se.isWindow(e))return!1;if(e.constructor&&!ie.call(e,"constructor")&&!ie.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ie.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=se.trim(e),e&&(1===e.indexOf("use strict")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(ae,"ms-").replace(le,ce)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?se.merge(n,"string"==typeof e?[e]:e):Z.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:J.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n,r=[],s=0,o=e.length,a=!i;s<o;s++)n=!t(e[s],s),n!==a&&r.push(e[s]);return r},map:function(e,t,n){var r,s,o=0,a=[];if(i(e))for(r=e.length;o<r;o++)s=t(e[o],o,n),null!=s&&a.push(s);else for(o in e)s=t(e[o],o,n),null!=s&&a.push(s);return K.apply([],a)},guid:1,proxy:function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),se.isFunction(e))return n=Q.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Q.call(arguments)))},r.guid=e.guid=e.guid||se.guid++,r},now:Date.now,support:ne}),"function"==typeof Symbol&&(se.fn[Symbol.iterator]=Y[Symbol.iterator]),se.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,i,n){var r,s,o,a,l,c,h,p,f=t&&t.ownerDocument,g=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return i;if(!n&&((t?t.ownerDocument||t:j)!==O&&M(t),t=t||O,D)){if(11!==g&&(c=ve.exec(e)))if(r=c[1]){if(9===g){if(!(o=t.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(f&&(o=f.getElementById(r))&&R(t,o)&&o.id===r)return i.push(o),i}else{if(c[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((r=c[3])&&_.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(r)),i}if(_.qsa&&!z[e+" "]&&(!q||!q.test(e))){if(1!==g)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(be,"\\$&"):t.setAttribute("id",a=V),h=k(e),s=h.length,l=de.test(a)?"#"+a:"[id='"+a+"']";s--;)h[s]=l+" "+d(h[s]);p=h.join(","),f=ye.test(e)&&u(t.parentNode)||t}if(p)try{return Z.apply(i,f.querySelectorAll(p)),i}catch(e){}finally{a===V&&t.removeAttribute("id")}}}return C(e.replace(ae,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>w.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[V]=!0,e}function r(e){var t=O.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var i=e.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=t}function o(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||W)-(~e.sourceIndex||W);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var r,s=e([],i.length,t),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function d(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,r=i&&"parentNode"===n,s=B++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,s)}:function(t,i,o){var a,l,c,u=[$,s];if(o){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if(c=t[V]||(t[V]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(a=l[n])&&a[0]===$&&a[1]===s)return u[2]=a[2];if(l[n]=u,u[2]=e(t,i,o))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function g(e,i,n){for(var r=0,s=i.length;r<s;r++)t(e,i[r],n);return n}function m(e,t,i,n,r){for(var s,o=[],a=0,l=e.length,c=null!=t;a<l;a++)(s=e[a])&&(i&&!i(s,n,r)||(o.push(s),c&&t.push(a)));return o}function v(e,t,i,r,s,o){return r&&!r[V]&&(r=v(r)),s&&!s[V]&&(s=v(s,o)),n(function(n,o,a,l){var c,u,h,d=[],p=[],f=o.length,v=n||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!n&&t?v:m(v,d,e,a,l),b=i?s||(n?e:f||r)?[]:o:y;if(i&&i(y,b,a,l),r)for(c=m(b,p),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(b[p[u]]=!(y[p[u]]=h));if(n){if(s||e){if(s){for(c=[],u=b.length;u--;)(h=b[u])&&c.push(y[u]=h);s(null,b=[],c,l)}for(u=b.length;u--;)(h=b[u])&&(c=s?ee(n,h):d[u])>-1&&(n[c]=!(o[c]=h))}}else b=m(b===o?b.splice(f,b.length):b),s?s(null,o,b,l):Z.apply(o,b)})}function y(e){for(var t,i,n,r=e.length,s=w.relative[e[0].type],o=s||w.relative[" "],a=s?1:0,l=p(function(e){return e===t},o,!0),c=p(function(e){return ee(t,e)>-1},o,!0),u=[function(e,i,n){var r=!s&&(n||i!==I)||((t=i).nodeType?l(e,i,n):c(e,i,n));return t=null,r}];a<r;a++)if(i=w.relative[e[a].type])u=[p(f(u),i)];else{if(i=w.filter[e[a].type].apply(null,e[a].matches),i[V]){for(n=++a;n<r&&!w.relative[e[n].type];n++);return v(a>1&&f(u),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),i,a<n&&y(e.slice(a,n)),n<r&&y(e=e.slice(n)),n<r&&d(e))}u.push(i)}return f(u)}function b(e,i){var r=i.length>0,s=e.length>0,o=function(n,o,a,l,c){var u,h,d,p=0,f="0",g=n&&[],v=[],y=I,b=n||s&&w.find.TAG("*",c),x=$+=null==y?1:Math.random()||.1,_=b.length;for(c&&(I=o===O||o||c);f!==_&&null!=(u=b[f]);f++){if(s&&u){for(h=0,o||u.ownerDocument===O||(M(u),a=!D);d=e[h++];)if(d(u,o||O,a)){l.push(u);break}c&&($=x)}r&&((u=!d&&u)&&p--,n&&g.push(u))}if(p+=f,r&&f!==p){for(h=0;d=i[h++];)d(g,v,o,a);if(n){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=Q.call(l));v=m(v)}Z.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return c&&($=x,I=y),g};return r?n(o):o}var x,_,w,S,E,k,T,C,I,P,A,M,O,L,D,q,N,F,R,V="sizzle"+1*new Date,j=e.document,$=0,B=0,U=i(),G=i(),z=i(),H=function(e,t){return e===t&&(A=!0),0},W=1<<31,Y={}.hasOwnProperty,X=[],Q=X.pop,K=X.push,Z=X.push,J=X.slice,ee=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ie+"*\\]",se=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ie+"+","g"),ae=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),ce=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ue=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),he=new RegExp(se),de=new RegExp("^"+ne+"$"),pe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),_e=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},we=function(){M()};try{Z.apply(X=J.call(j.childNodes),j.childNodes),X[j.childNodes.length].nodeType}catch(e){Z={apply:X.length?function(e,t){K.apply(e,J.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}_=t.support={},E=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:j;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,L=O.documentElement,D=!E(O),(i=O.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",we,!1):i.attachEvent&&i.attachEvent("onunload",we)),_.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=r(function(e){return e.appendChild(O.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=me.test(O.getElementsByClassName),_.getById=r(function(e){return L.appendChild(e).id=V,!O.getElementsByName||!O.getElementsByName(V).length}),_.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var i=t.getElementById(e);return i?[i]:[]}},w.filter.ID=function(e){var t=e.replace(xe,_e);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(xe,_e);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),w.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},w.find.CLASS=_.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&D)return t.getElementsByClassName(e)},N=[],q=[],(_.qsa=me.test(O.querySelectorAll))&&(r(function(e){L.appendChild(e).innerHTML="<a id='"+V+"'></a><select id='"+V+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||q.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+V+"-]").length||q.push("~="),e.querySelectorAll(":checked").length||q.push(":checked"),e.querySelectorAll("a#"+V+"+*").length||q.push(".#.+[+~]")}),r(function(e){var t=O.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&q.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),q.push(",.*:")})),(_.matchesSelector=me.test(F=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(e){_.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),N.push("!=",se)}),q=q.length&&new RegExp(q.join("|")),N=N.length&&new RegExp(N.join("|")),t=me.test(L.compareDocumentPosition),R=t||me.test(L.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},H=t?function(e,t){if(e===t)return A=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!_.sortDetached&&t.compareDocumentPosition(e)===i?e===O||e.ownerDocument===j&&R(j,e)?-1:t===O||t.ownerDocument===j&&R(j,t)?1:P?ee(P,e)-ee(P,t):0:4&i?-1:1);
    }:function(e,t){if(e===t)return A=!0,0;var i,n=0,r=e.parentNode,s=t.parentNode,a=[e],l=[t];if(!r||!s)return e===O?-1:t===O?1:r?-1:s?1:P?ee(P,e)-ee(P,t):0;if(r===s)return o(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?o(a[n],l[n]):a[n]===j?-1:l[n]===j?1:0},O):O},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==O&&M(e),i=i.replace(ue,"='$1']"),_.matchesSelector&&D&&!z[i+" "]&&(!N||!N.test(i))&&(!q||!q.test(i)))try{var n=F.call(e,i);if(n||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&M(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&M(e);var i=w.attrHandle[t.toLowerCase()],n=i&&Y.call(w.attrHandle,t.toLowerCase())?i(e,t,!D):void 0;return void 0!==n?n:_.attributes||!D?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(A=!_.detectDuplicates,P=!_.sortStable&&e.slice(0),e.sort(H),A){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return P=null,e},S=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=S(t);return i},w=t.selectors={cacheLength:50,createPseudo:n,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&he.test(i)&&(t=k(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var s=t.attr(r,e);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(oe," ")+" ").indexOf(n)>-1:"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var c,u,h,d,p,f,g=s!==o?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(s){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&y){for(d=m,h=d[V]||(d[V]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),c=u[e]||[],p=c[0]===$&&c[1],b=p&&c[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(b=p=0)||f.pop();)if(1===d.nodeType&&++b&&d===t){u[e]=[$,p,b];break}}else if(y&&(d=t,h=d[V]||(d[V]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),c=u[e]||[],p=c[0]===$&&c[1],b=p),b===!1)for(;(d=++p&&d&&d[g]||(b=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(h=d[V]||(d[V]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),u[e]=[$,b]),d!==t)););return b-=r,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(e,i){var r,s=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[V]?s(i):s.length>1?(r=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=s(e,i),o=r.length;o--;)n=ee(e,r[o]),e[n]=!(t[n]=r[o])}):function(e){return s(e,0,r)}):s}},pseudos:{not:n(function(e){var t=[],i=[],r=T(e.replace(ae,"$1"));return r[V]?n(function(e,t,i,n){for(var s,o=r(e,null,n,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,n,s){return t[0]=e,r(t,null,s,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(xe,_e),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:n(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,_e).toLowerCase(),function(t){var i;do if(i=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[i<0?i+t:i]}),even:c(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=l(x);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,k=t.tokenize=function(e,i){var n,r,s,o,a,l,c,u=G[e+" "];if(u)return i?0:u.slice(0);for(a=e,l=[],c=w.preFilter;a;){n&&!(r=le.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=ce.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(ae," ")}),a=a.slice(n.length));for(o in w.filter)!(r=pe[o].exec(a))||c[o]&&!(r=c[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):G(e,l).slice(0)},T=t.compile=function(e,t){var i,n=[],r=[],s=z[e+" "];if(!s){for(t||(t=k(e)),i=t.length;i--;)s=y(t[i]),s[V]?n.push(s):r.push(s);s=z(e,b(r,n)),s.selector=e}return s},C=t.select=function(e,t,i,n){var r,s,o,a,l,c="function"==typeof e&&e,h=!n&&k(e=c.selector||e);if(i=i||[],1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&_.getById&&9===t.nodeType&&D&&w.relative[s[1].type]){if(t=(w.find.ID(o.matches[0].replace(xe,_e),t)||[])[0],!t)return i;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(r=pe.needsContext.test(e)?0:s.length;r--&&(o=s[r],!w.relative[a=o.type]);)if((l=w.find[a])&&(n=l(o.matches[0].replace(xe,_e),ye.test(s[0].type)&&u(t.parentNode)||t))){if(s.splice(r,1),e=n.length&&d(s),!e)return Z.apply(i,n),i;break}}return(c||T(e,h))(n,t,!D,i,!t||ye.test(e)&&u(t.parentNode)||t),i},_.sortStable=V.split("").sort(H).join("")===V,_.detectDuplicates=!!A,M(),_.sortDetached=r(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(te,function(e,t,i){var n;if(!i)return e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);se.find=ue,se.expr=ue.selectors,se.expr[":"]=se.expr.pseudos,se.uniqueSort=se.unique=ue.uniqueSort,se.text=ue.getText,se.isXMLDoc=ue.isXML,se.contains=ue.contains;var he=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&se(e).is(i))break;n.push(e)}return n},de=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},pe=se.expr.match.needsContext,fe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ge=/^.[^:#\[\.,]*$/;se.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?se.find.matchesSelector(n,e)?[n]:[]:se.find.matches(e,se.grep(t,function(e){return 1===e.nodeType}))},se.fn.extend({find:function(e){var t,i=this.length,n=[],r=this;if("string"!=typeof e)return this.pushStack(se(e).filter(function(){for(t=0;t<i;t++)if(se.contains(r[t],this))return!0}));for(t=0;t<i;t++)se.find(e,r[t],n);return n=this.pushStack(i>1?se.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&pe.test(e)?se(e):e||[],!1).length}});var me,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=se.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||me,"string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ve.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof se?t[0]:t,se.merge(this,se.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),fe.test(n[1])&&se.isPlainObject(t))for(n in t)se.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=X.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):se.isFunction(e)?void 0!==i.ready?i.ready(e):e(se):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),se.makeArray(e,this))};ye.prototype=se.fn,me=se(X);var be=/^(?:parents|prev(?:Until|All))/,xe={children:!0,contents:!0,next:!0,prev:!0};se.fn.extend({has:function(e){var t=se(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(se.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,s=[],o=pe.test(e)||"string"!=typeof e?se(e,t||this.context):0;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&se.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?se.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?J.call(se(e),this[0]):J.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(se.uniqueSort(se.merge(this.get(),se(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),se.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return he(e,"parentNode")},parentsUntil:function(e,t,i){return he(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return he(e,"nextSibling")},prevAll:function(e){return he(e,"previousSibling")},nextUntil:function(e,t,i){return he(e,"nextSibling",i)},prevUntil:function(e,t,i){return he(e,"previousSibling",i)},siblings:function(e){return de((e.parentNode||{}).firstChild,e)},children:function(e){return de(e.firstChild)},contents:function(e){return e.contentDocument||se.merge([],e.childNodes)}},function(e,t){se.fn[e]=function(i,n){var r=se.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=se.filter(n,r)),this.length>1&&(xe[e]||se.uniqueSort(r),be.test(e)&&r.reverse()),this.pushStack(r)}});var _e=/\S+/g;se.Callbacks=function(e){e="string"==typeof e?s(e):se.extend({},e);var t,i,n,r,o=[],a=[],l=-1,c=function(){for(r=e.once,n=t=!0;a.length;l=-1)for(i=a.shift();++l<o.length;)o[l].apply(i[0],i[1])===!1&&e.stopOnFalse&&(l=o.length,i=!1);e.memory||(i=!1),t=!1,r&&(o=i?[]:"")},u={add:function(){return o&&(i&&!t&&(l=o.length-1,a.push(i)),function t(i){se.each(i,function(i,n){se.isFunction(n)?e.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==se.type(n)&&t(n)})}(arguments),i&&!t&&c()),this},remove:function(){return se.each(arguments,function(e,t){for(var i;(i=se.inArray(t,o,i))>-1;)o.splice(i,1),i<=l&&l--}),this},has:function(e){return e?se.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=a=[],i||(o=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=i||[],i=[e,i.slice?i.slice():i],a.push(i),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},se.extend({Deferred:function(e){var t=[["resolve","done",se.Callbacks("once memory"),"resolved"],["reject","fail",se.Callbacks("once memory"),"rejected"],["notify","progress",se.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return se.Deferred(function(i){se.each(t,function(t,s){var o=se.isFunction(e[t])&&e[t];r[s[1]](function(){var e=o&&o.apply(this,arguments);e&&se.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[s[0]+"With"](this===n?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?se.extend(e,n):n}},r={};return n.pipe=n.then,se.each(t,function(e,s){var o=s[2],a=s[3];n[s[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?n:this,arguments),this},r[s[0]+"With"]=o.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,s=Q.call(arguments),o=s.length,a=1!==o||e&&se.isFunction(e.promise)?o:0,l=1===a?e:se.Deferred(),c=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?Q.call(arguments):r,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);r<o;r++)s[r]&&se.isFunction(s[r].promise)?s[r].promise().progress(c(r,i,t)).done(c(r,n,s)).fail(l.reject):--a;return a||l.resolveWith(n,s),l.promise()}});var we;se.fn.ready=function(e){return se.ready.promise().done(e),this},se.extend({isReady:!1,readyWait:1,holdReady:function(e){e?se.readyWait++:se.ready(!0)},ready:function(e){(e===!0?--se.readyWait:se.isReady)||(se.isReady=!0,e!==!0&&--se.readyWait>0||(we.resolveWith(X,[se]),se.fn.triggerHandler&&(se(X).triggerHandler("ready"),se(X).off("ready"))))}}),se.ready.promise=function(t){return we||(we=se.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?e.setTimeout(se.ready):(X.addEventListener("DOMContentLoaded",o),e.addEventListener("load",o))),we.promise(t)},se.ready.promise();var Se=function(e,t,i,n,r,s,o){var a=0,l=e.length,c=null==i;if("object"===se.type(i)){r=!0;for(a in i)Se(e,t,a,i[a],!0,s,o)}else if(void 0!==n&&(r=!0,se.isFunction(n)||(o=!0),c&&(o?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(se(e),i)})),t))for(;a<l;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return r?e:c?t.call(e):l?t(e[0],i):s},Ee=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};a.uid=1,a.prototype={register:function(e,t){var i=t||{};return e.nodeType?e[this.expando]=i:Object.defineProperty(e,this.expando,{value:i,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ee(e))return{};var t=e[this.expando];return t||(t={},Ee(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[t]=i;else for(n in t)r[n]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?(n=this.get(e,t),void 0!==n?n:this.get(e,se.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,r,s=e[this.expando];if(void 0!==s){if(void 0===t)this.register(e);else{se.isArray(t)?n=t.concat(t.map(se.camelCase)):(r=se.camelCase(t),t in s?n=[t,r]:(n=r,n=n in s?[n]:n.match(_e)||[])),i=n.length;for(;i--;)delete s[n[i]]}(void 0===t||se.isEmptyObject(s))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!se.isEmptyObject(t)}};var ke=new a,Te=new a,Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/[A-Z]/g;se.extend({hasData:function(e){return Te.hasData(e)||ke.hasData(e)},data:function(e,t,i){return Te.access(e,t,i)},removeData:function(e,t){Te.remove(e,t)},_data:function(e,t,i){return ke.access(e,t,i)},_removeData:function(e,t){ke.remove(e,t)}}),se.fn.extend({data:function(e,t){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=Te.get(s),1===s.nodeType&&!ke.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=se.camelCase(n.slice(5)),l(s,n,r[n])));ke.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Te.set(this,e)}):Se(this,function(t){var i,n;if(s&&void 0===t){if(i=Te.get(s,e)||Te.get(s,e.replace(Ie,"-$&").toLowerCase()),void 0!==i)return i;if(n=se.camelCase(e),i=Te.get(s,n),void 0!==i)return i;if(i=l(s,n,void 0),void 0!==i)return i}else n=se.camelCase(e),this.each(function(){var i=Te.get(this,n);Te.set(this,n,t),e.indexOf("-")>-1&&void 0!==i&&Te.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Te.remove(this,e)})}}),se.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=ke.get(e,t),i&&(!n||se.isArray(i)?n=ke.access(e,t,se.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=se.queue(e,t),n=i.length,r=i.shift(),s=se._queueHooks(e,t),o=function(){se.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ke.get(e,i)||ke.access(e,i,{empty:se.Callbacks("once memory").add(function(){ke.remove(e,[t+"queue",i])})})}}),se.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?se.queue(this[0],e):void 0===t?this:this.each(function(){var i=se.queue(this,e,t);se._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&se.dequeue(this,e)})},dequeue:function(e){return this.each(function(){se.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=se.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)i=ke.get(s[o],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var Pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=new RegExp("^(?:([+-])=|)("+Pe+")([a-z%]*)$","i"),Me=["Top","Right","Bottom","Left"],Oe=function(e,t){return e=t||e,"none"===se.css(e,"display")||!se.contains(e.ownerDocument,e)},Le=/^(?:checkbox|radio)$/i,De=/<([\w:-]+)/,qe=/^$|\/(?:java|ecma)script/i,Ne={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ne.optgroup=Ne.option,Ne.tbody=Ne.tfoot=Ne.colgroup=Ne.caption=Ne.thead,Ne.th=Ne.td;var Fe=/<|&#?\w+;/;!function(){var e=X.createDocumentFragment(),t=e.appendChild(X.createElement("div")),i=X.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Re=/^key/,Ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,je=/^([^.]*)(?:\.(.+)|)/;se.event={global:{},add:function(e,t,i,n,r){var s,o,a,l,c,u,h,d,p,f,g,m=ke.get(e);if(m)for(i.handler&&(s=i,i=s.handler,r=s.selector),i.guid||(i.guid=se.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(t){return"undefined"!=typeof se&&se.event.triggered!==t.type?se.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(_e)||[""],c=t.length;c--;)a=je.exec(t[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(h=se.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=se.event.special[p]||{},u=se.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&se.expr.match.needsContext.test(r),namespace:f.join(".")},s),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(e,n,f,o)!==!1||e.addEventListener&&e.addEventListener(p,o)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),se.event.global[p]=!0)},remove:function(e,t,i,n,r){var s,o,a,l,c,u,h,d,p,f,g,m=ke.hasData(e)&&ke.get(e);if(m&&(l=m.events)){for(t=(t||"").match(_e)||[""],c=t.length;c--;)if(a=je.exec(t[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(h=se.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)u=d[s],!r&&g!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));o&&!d.length&&(h.teardown&&h.teardown.call(e,f,m.handle)!==!1||se.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)se.event.remove(e,p+t[c],i,n,!0);se.isEmptyObject(l)&&ke.remove(e,"handle events")}},dispatch:function(e){e=se.event.fix(e);var t,i,n,r,s,o=[],a=Q.call(arguments),l=(ke.get(this,"events")||{})[e.type]||[],c=se.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=se.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(s.namespace)||(e.handleObj=s,e.data=s.data,n=((se.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,s,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(n=[],i=0;i<a;i++)s=t[i],r=s.selector+" ",void 0===n[r]&&(n[r]=s.needsContext?se(r,this).index(l)>-1:se.find(r,this,null,[l]).length),n[r]&&n.push(s);n.length&&o.push({elem:l,handlers:n})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,s=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||X,n=i.documentElement,r=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[se.expando])return e;var t,i,n,r=e.type,s=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Ve.test(r)?this.mouseHooks:Re.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new se.Event(s),t=n.length;t--;)i=n[t],e[i]=s[i];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==g()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===g()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&se.nodeName(this,"input"))return this.click(),!1},_default:function(e){return se.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},se.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},se.Event=function(e,t){return this instanceof se.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?p:f):this.type=e,t&&se.extend(this,t),this.timeStamp=e&&e.timeStamp||se.now(),void(this[se.expando]=!0)):new se.Event(e,t)},se.Event.prototype={constructor:se.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},se.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){se.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,s=e.handleObj;return r&&(r===n||se.contains(n,r))||(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),se.fn.extend({on:function(e,t,i,n){return m(this,e,t,i,n)},one:function(e,t,i,n){return m(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,se(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return t!==!1&&"function"!=typeof t||(i=t,t=void 0),i===!1&&(i=f),this.each(function(){se.event.remove(this,e,i,t)})}});var $e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Be=/<script|<style|<link/i,Ue=/checked\s*(?:[^=]|=\s*.checked.)/i,Ge=/^true\/(.*)/,ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;se.extend({htmlPrefilter:function(e){return e.replace($e,"<$1></$2>")},clone:function(e,t,i){var n,r,s,o,a=e.cloneNode(!0),l=se.contains(e.ownerDocument,e);if(!(ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||se.isXMLDoc(e)))for(o=u(a),s=u(e),n=0,r=s.length;n<r;n++)_(s[n],o[n]);if(t)if(i)for(s=s||u(e),o=o||u(a),n=0,r=s.length;n<r;n++)x(s[n],o[n]);else x(e,a);return o=u(a,"script"),o.length>0&&h(o,!l&&u(e,"script")),a},cleanData:function(e){for(var t,i,n,r=se.event.special,s=0;void 0!==(i=e[s]);s++)if(Ee(i)){if(t=i[ke.expando]){if(t.events)for(n in t.events)r[n]?se.event.remove(i,n):se.removeEvent(i,n,t.handle);i[ke.expando]=void 0}i[Te.expando]&&(i[Te.expando]=void 0)}}}),se.fn.extend({domManip:w,detach:function(e){return S(this,e,!0)},remove:function(e){return S(this,e)},text:function(e){return Se(this,function(e){return void 0===e?se.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return w(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return w(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return w(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return w(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(se.cleanData(u(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return se.clone(this,e,t)})},html:function(e){return Se(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Be.test(e)&&!Ne[(De.exec(e)||["",""])[1].toLowerCase()]){e=se.htmlPrefilter(e);try{for(;i<n;i++)t=this[i]||{},1===t.nodeType&&(se.cleanData(u(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return w(this,arguments,function(t){var i=this.parentNode;se.inArray(this,e)<0&&(se.cleanData(u(this)),i&&i.replaceChild(t,this))},e)}}),se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){se.fn[e]=function(e){for(var i,n=[],r=se(e),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),se(r[o])[t](i),Z.apply(n,i.get());return this.pushStack(n)}});var He,We={HTML:"block",BODY:"block"},Ye=/^margin/,Xe=new RegExp("^("+Pe+")(?!px)[a-z%]+$","i"),Qe=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},Ke=function(e,t,i,n){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];r=i.apply(e,n||[]);for(s in t)e.style[s]=o[s];return r},Ze=X.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Ze.appendChild(o);var t=e.getComputedStyle(a);i="1%"!==t.top,s="2px"===t.marginLeft,n="4px"===t.width,a.style.marginRight="50%",r="4px"===t.marginRight,Ze.removeChild(o)}var i,n,r,s,o=X.createElement("div"),a=X.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),se.extend(ne,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==n&&t(),n},pixelMarginRight:function(){return null==n&&t(),r},reliableMarginLeft:function(){return null==n&&t(),s},reliableMarginRight:function(){var t,i=a.appendChild(X.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",Ze.appendChild(o),t=!parseFloat(e.getComputedStyle(i).marginRight),Ze.removeChild(o),a.removeChild(i),t}}))}();var Je=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},it=["Webkit","O","Moz","ms"],nt=X.createElement("div").style;se.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=T(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0
    },cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=se.camelCase(t),l=e.style;return t=se.cssProps[a]||(se.cssProps[a]=I(a)||a),o=se.cssHooks[t]||se.cssHooks[a],void 0===i?o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:l[t]:(s=typeof i,"string"===s&&(r=Ae.exec(i))&&r[1]&&(i=c(e,t,r),s="number"),null!=i&&i===i&&("number"===s&&(i+=r&&r[3]||(se.cssNumber[a]?"":"px")),ne.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l[t]=i)),void 0)}},css:function(e,t,i,n){var r,s,o,a=se.camelCase(t);return t=se.cssProps[a]||(se.cssProps[a]=I(a)||a),o=se.cssHooks[t]||se.cssHooks[a],o&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=T(e,t,n)),"normal"===r&&t in tt&&(r=tt[t]),""===i||i?(s=parseFloat(r),i===!0||isFinite(s)?s||0:r):r}}),se.each(["height","width"],function(e,t){se.cssHooks[t]={get:function(e,i,n){if(i)return Je.test(se.css(e,"display"))&&0===e.offsetWidth?Ke(e,et,function(){return M(e,t,n)}):M(e,t,n)},set:function(e,i,n){var r,s=n&&Qe(e),o=n&&A(e,t,n,"border-box"===se.css(e,"boxSizing",!1,s),s);return o&&(r=Ae.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=se.css(e,t)),P(e,i,o)}}}),se.cssHooks.marginLeft=C(ne.reliableMarginLeft,function(e,t){if(t)return(parseFloat(T(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),se.cssHooks.marginRight=C(ne.reliableMarginRight,function(e,t){if(t)return Ke(e,{display:"inline-block"},T,[e,"marginRight"])}),se.each({margin:"",padding:"",border:"Width"},function(e,t){se.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+Me[n]+t]=s[n]||s[n-2]||s[0];return r}},Ye.test(e)||(se.cssHooks[e+t].set=P)}),se.fn.extend({css:function(e,t){return Se(this,function(e,t,i){var n,r,s={},o=0;if(se.isArray(t)){for(n=Qe(e),r=t.length;o<r;o++)s[t[o]]=se.css(e,t[o],!1,n);return s}return void 0!==i?se.style(e,t,i):se.css(e,t)},e,t,arguments.length>1)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Oe(this)?se(this).show():se(this).hide()})}}),se.Tween=L,L.prototype={constructor:L,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||se.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(se.cssNumber[i]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,i=L.propHooks[this.prop];return this.options.duration?this.pos=t=se.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=se.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){se.fx.step[e.prop]?se.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[se.cssProps[e.prop]]&&!se.cssHooks[e.prop]?e.elem[e.prop]=e.now:se.style(e.elem,e.prop,e.now+e.unit)}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},se.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},se.fx=L.prototype.init,se.fx.step={};var rt,st,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;se.Animation=se.extend(V,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return c(i.elem,e,Ae.exec(t),i),i}]},tweener:function(e,t){se.isFunction(e)?(t=e,e=["*"]):e=e.match(_e);for(var i,n=0,r=e.length;n<r;n++)i=e[n],V.tweeners[i]=V.tweeners[i]||[],V.tweeners[i].unshift(t)},prefilters:[F],prefilter:function(e,t){t?V.prefilters.unshift(e):V.prefilters.push(e)}}),se.speed=function(e,t,i){var n=e&&"object"==typeof e?se.extend({},e):{complete:i||!i&&t||se.isFunction(e)&&e,duration:e,easing:i&&t||t&&!se.isFunction(t)&&t};return n.duration=se.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in se.fx.speeds?se.fx.speeds[n.duration]:se.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){se.isFunction(n.old)&&n.old.call(this),n.queue&&se.dequeue(this,n.queue)},n},se.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Oe).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=se.isEmptyObject(e),s=se.speed(t,i,n),o=function(){var t=V(this,se.extend({},e),s);(r||ke.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=se.timers,o=ke.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&at.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(i),t=!1,s.splice(r,1));!t&&i||se.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ke.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],s=se.timers,o=n?n.length:0;for(i.finish=!0,se.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),se.each(["toggle","show","hide"],function(e,t){var i=se.fn[t];se.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(q(t,!0),e,n,r)}}),se.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){se.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),se.timers=[],se.fx.tick=function(){var e,t=0,i=se.timers;for(rt=se.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);i.length||se.fx.stop(),rt=void 0},se.fx.timer=function(e){se.timers.push(e),e()?se.fx.start():se.timers.pop()},se.fx.interval=13,se.fx.start=function(){st||(st=e.setInterval(se.fx.tick,se.fx.interval))},se.fx.stop=function(){e.clearInterval(st),st=null},se.fx.speeds={slow:600,fast:200,_default:400},se.fn.delay=function(t,i){return t=se.fx?se.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})},function(){var e=X.createElement("input"),t=X.createElement("select"),i=t.appendChild(X.createElement("option"));e.type="checkbox",ne.checkOn=""!==e.value,ne.optSelected=i.selected,t.disabled=!0,ne.optDisabled=!i.disabled,e=X.createElement("input"),e.value="t",e.type="radio",ne.radioValue="t"===e.value}();var lt,ct=se.expr.attrHandle;se.fn.extend({attr:function(e,t){return Se(this,se.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){se.removeAttr(this,e)})}}),se.extend({attr:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof e.getAttribute?se.prop(e,t,i):(1===s&&se.isXMLDoc(e)||(t=t.toLowerCase(),r=se.attrHooks[t]||(se.expr.match.bool.test(t)?lt:void 0)),void 0!==i?null===i?void se.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:(n=se.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&se.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n,r=0,s=t&&t.match(_e);if(s&&1===e.nodeType)for(;i=s[r++];)n=se.propFix[i]||i,se.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)}}),lt={set:function(e,t,i){return t===!1?se.removeAttr(e,i):e.setAttribute(i,i),i}},se.each(se.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ct[t]||se.find.attr;ct[t]=function(e,t,n){var r,s;return n||(s=ct[t],ct[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,ct[t]=s),r}});var ut=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;se.fn.extend({prop:function(e,t){return Se(this,se.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[se.propFix[e]||e]})}}),se.extend({prop:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&se.isXMLDoc(e)||(t=se.propFix[t]||t,r=se.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=se.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ne.optSelected||(se.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),se.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){se.propFix[this.toLowerCase()]=this});var dt=/[\t\r\n\f]/g;se.fn.extend({addClass:function(e){var t,i,n,r,s,o,a,l=0;if(se.isFunction(e))return this.each(function(t){se(this).addClass(e.call(this,t,j(this)))});if("string"==typeof e&&e)for(t=e.match(_e)||[];i=this[l++];)if(r=j(i),n=1===i.nodeType&&(" "+r+" ").replace(dt," ")){for(o=0;s=t[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a=se.trim(n),r!==a&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,n,r,s,o,a,l=0;if(se.isFunction(e))return this.each(function(t){se(this).removeClass(e.call(this,t,j(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(_e)||[];i=this[l++];)if(r=j(i),n=1===i.nodeType&&(" "+r+" ").replace(dt," ")){for(o=0;s=t[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");a=se.trim(n),r!==a&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):se.isFunction(e)?this.each(function(i){se(this).toggleClass(e.call(this,i,j(this),t),t)}):this.each(function(){var t,n,r,s;if("string"===i)for(n=0,r=se(this),s=e.match(_e)||[];t=s[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||(t=j(this),t&&ke.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":ke.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+j(i)+" ").replace(dt," ").indexOf(t)>-1)return!0;return!1}});var pt=/\r/g,ft=/[\x20\t\r\n\f]+/g;se.fn.extend({val:function(e){var t,i,n,r=this[0];{if(arguments.length)return n=se.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=n?e.call(this,i,se(this).val()):e,null==r?r="":"number"==typeof r?r+="":se.isArray(r)&&(r=se.map(r,function(e){return null==e?"":e+""})),t=se.valHooks[this.type]||se.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=se.valHooks[r.type]||se.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(pt,""):null==i?"":i)}}}),se.extend({valHooks:{option:{get:function(e){var t=se.find.attr(e,"value");return null!=t?t:se.trim(se.text(e)).replace(ft," ")}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,s="select-one"===e.type||r<0,o=s?null:[],a=s?r+1:n.length,l=r<0?a:s?r:0;l<a;l++)if(i=n[l],(i.selected||l===r)&&(ne.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!se.nodeName(i.parentNode,"optgroup"))){if(t=se(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,s=se.makeArray(t),o=r.length;o--;)n=r[o],(n.selected=se.inArray(se.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),se.each(["radio","checkbox"],function(){se.valHooks[this]={set:function(e,t){if(se.isArray(t))return e.checked=se.inArray(se(e).val(),t)>-1}},ne.checkOn||(se.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var gt=/^(?:focusinfocus|focusoutblur)$/;se.extend(se.event,{trigger:function(t,i,n,r){var s,o,a,l,c,u,h,d=[n||X],p=ie.call(t,"type")?t.type:t,f=ie.call(t,"namespace")?t.namespace.split("."):[];if(o=a=n=n||X,3!==n.nodeType&&8!==n.nodeType&&!gt.test(p+se.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[se.expando]?t:new se.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:se.makeArray(i,[t]),h=se.event.special[p]||{},r||!h.trigger||h.trigger.apply(n,i)!==!1)){if(!r&&!h.noBubble&&!se.isWindow(n)){for(l=h.delegateType||p,gt.test(l+p)||(o=o.parentNode);o;o=o.parentNode)d.push(o),a=o;a===(n.ownerDocument||X)&&d.push(a.defaultView||a.parentWindow||e)}for(s=0;(o=d[s++])&&!t.isPropagationStopped();)t.type=s>1?l:h.bindType||p,u=(ke.get(o,"events")||{})[t.type]&&ke.get(o,"handle"),u&&u.apply(o,i),u=c&&o[c],u&&u.apply&&Ee(o)&&(t.result=u.apply(o,i),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),i)!==!1||!Ee(n)||c&&se.isFunction(n[p])&&!se.isWindow(n)&&(a=n[c],a&&(n[c]=null),se.event.triggered=p,n[p](),se.event.triggered=void 0,a&&(n[c]=a)),t.result}},simulate:function(e,t,i){var n=se.extend(new se.Event,i,{type:e,isSimulated:!0});se.event.trigger(n,null,t)}}),se.fn.extend({trigger:function(e,t){return this.each(function(){se.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return se.event.trigger(e,t,i,!0)}}),se.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){se.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),se.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ne.focusin="onfocusin"in e,ne.focusin||se.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){se.event.simulate(t,e.target,se.event.fix(e))};se.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=ke.access(n,t);r||n.addEventListener(e,i,!0),ke.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=ke.access(n,t)-1;r?ke.access(n,t,r):(n.removeEventListener(e,i,!0),ke.remove(n,t))}}});var mt=e.location,vt=se.now(),yt=/\?/;se.parseJSON=function(e){return JSON.parse(e+"")},se.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||se.error("Invalid XML: "+t),i};var bt=/#.*$/,xt=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,wt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,St=/^(?:GET|HEAD)$/,Et=/^\/\//,kt={},Tt={},Ct="*/".concat("*"),It=X.createElement("a");It.href=mt.href,se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt.href,type:"GET",isLocal:wt.test(mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ct,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":se.parseJSON,"text xml":se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,se.ajaxSettings),t):U(se.ajaxSettings,e)},ajaxPrefilter:$(kt),ajaxTransport:$(Tt),ajax:function(t,i){function n(t,i,n,a){var c,h,y,b,_,S=i;2!==x&&(x=2,l&&e.clearTimeout(l),r=void 0,o=a||"",w.readyState=t>0?4:0,c=t>=200&&t<300||304===t,n&&(b=G(d,w,n)),b=z(d,b,w,c),c?(d.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(se.lastModified[s]=_),_=w.getResponseHeader("etag"),_&&(se.etag[s]=_)),204===t||"HEAD"===d.type?S="nocontent":304===t?S="notmodified":(S=b.state,h=b.data,y=b.error,c=!y)):(y=S,!t&&S||(S="error",t<0&&(t=0))),w.status=t,w.statusText=(i||S)+"",c?g.resolveWith(p,[h,S,w]):g.rejectWith(p,[w,S,y]),w.statusCode(v),v=void 0,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[w,d,c?h:y]),m.fireWith(p,[w,S]),u&&(f.trigger("ajaxComplete",[w,d]),--se.active||se.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var r,s,o,a,l,c,u,h,d=se.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?se(p):se.event,g=se.Deferred(),m=se.Callbacks("once memory"),v=d.statusCode||{},y={},b={},x=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!a)for(a={};t=_t.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return x||(e=b[i]=b[i]||e,y[e]=t),this},overrideMimeType:function(e){return x||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return r&&r.abort(t),n(0,t),this}};if(g.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((t||d.url||mt.href)+"").replace(bt,"").replace(Et,mt.protocol+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=se.trim(d.dataType||"*").toLowerCase().match(_e)||[""],null==d.crossDomain){c=X.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=It.protocol+"//"+It.host!=c.protocol+"//"+c.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=se.param(d.data,d.traditional)),B(kt,d,i,w),2===x)return w;u=se.event&&d.global,u&&0===se.active++&&se.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!St.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(yt.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=xt.test(s)?s.replace(xt,"$1_="+vt++):s+(yt.test(s)?"&":"?")+"_="+vt++)),d.ifModified&&(se.lastModified[s]&&w.setRequestHeader("If-Modified-Since",se.lastModified[s]),se.etag[s]&&w.setRequestHeader("If-None-Match",se.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ct+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)w.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===x))return w.abort();_="abort";for(h in{success:1,error:1,complete:1})w[h](d[h]);if(r=B(Tt,d,i,w)){if(w.readyState=1,u&&f.trigger("ajaxSend",[w,d]),2===x)return w;d.async&&d.timeout>0&&(l=e.setTimeout(function(){w.abort("timeout")},d.timeout));try{x=1,r.send(y,n)}catch(e){if(!(x<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,i){return se.get(e,t,i,"json")},getScript:function(e,t){return se.get(e,void 0,t,"script")}}),se.each(["get","post"],function(e,t){se[t]=function(e,i,n,r){return se.isFunction(i)&&(r=r||n,n=i,i=void 0),se.ajax(se.extend({url:e,type:t,dataType:r,data:i,success:n},se.isPlainObject(e)&&e))}}),se._evalUrl=function(e){return se.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},se.fn.extend({wrapAll:function(e){var t;return se.isFunction(e)?this.each(function(t){se(this).wrapAll(e.call(this,t))}):(this[0]&&(t=se(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return se.isFunction(e)?this.each(function(t){se(this).wrapInner(e.call(this,t))}):this.each(function(){var t=se(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=se.isFunction(e);return this.each(function(i){se(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){se.nodeName(this,"body")||se(this).replaceWith(this.childNodes)}).end()}}),se.expr.filters.hidden=function(e){return!se.expr.filters.visible(e)},se.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Pt=/%20/g,At=/\[\]$/,Mt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;se.param=function(e,t){var i,n=[],r=function(e,t){t=se.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=se.ajaxSettings&&se.ajaxSettings.traditional),se.isArray(e)||e.jquery&&!se.isPlainObject(e))se.each(e,function(){r(this.name,this.value)});else for(i in e)H(i,e[i],t,r);return n.join("&").replace(Pt,"+")},se.fn.extend({serialize:function(){return se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=se.prop(this,"elements");return e?se.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!se(this).is(":disabled")&&Lt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!Le.test(e))}).map(function(e,t){var i=se(this).val();return null==i?null:se.isArray(i)?se.map(i,function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}}):{name:t.name,value:i.replace(Mt,"\r\n")}}).get()}}),se.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Dt={0:200,1223:204},qt=se.ajaxSettings.xhr();ne.cors=!!qt&&"withCredentials"in qt,ne.ajax=qt=!!qt,se.ajaxTransport(function(t){var i,n;if(ne.cors||qt&&!t.crossDomain)return{send:function(r,s){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);i=function(e){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Dt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return se.globalEval(e),e}}}),se.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),se.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,r){t=se("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Nt=[],Ft=/(=)\?(?=&|$)|\?\?/;se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Nt.pop()||se.expando+"_"+vt++;return this[e]=!0,e}}),se.ajaxPrefilter("json jsonp",function(t,i,n){var r,s,o,a=t.jsonp!==!1&&(Ft.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ft.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=se.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ft,"$1"+r):t.jsonp!==!1&&(t.url+=(yt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||se.error(r+" was not called"),o[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){o=arguments},n.always(function(){void 0===s?se(e).removeProp(r):e[r]=s,t[r]&&(t.jsonpCallback=i.jsonpCallback,Nt.push(r)),o&&se.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),se.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||X;var n=fe.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=d([e],t,r),r&&r.length&&se(r).remove(),se.merge([],n.childNodes))};var Rt=se.fn.load;se.fn.load=function(e,t,i){if("string"!=typeof e&&Rt)return Rt.apply(this,arguments);var n,r,s,o=this,a=e.indexOf(" ");return a>-1&&(n=se.trim(e.slice(a)),e=e.slice(0,a)),se.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&se.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){s=arguments,o.html(n?se("<div>").append(se.parseHTML(e)).find(n):e)}).always(i&&function(e,t){o.each(function(){i.apply(this,s||[e.responseText,t,e])})}),this},se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){se.fn[t]=function(e){return this.on(t,e)}}),se.expr.filters.animated=function(e){return se.grep(se.timers,function(t){return e===t.elem}).length},se.offset={setOffset:function(e,t,i){var n,r,s,o,a,l,c,u=se.css(e,"position"),h=se(e),d={};"static"===u&&(e.style.position="relative"),a=h.offset(),s=se.css(e,"top"),l=se.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(s+l).indexOf("auto")>-1,c?(n=h.position(),o=n.top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),se.isFunction(t)&&(t=t.call(e,i,se.extend({},a))),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):h.css(d)}},se.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){se.offset.setOffset(this,e,t)});var t,i,n=this[0],r={top:0,left:0},s=n&&n.ownerDocument;if(s)return t=s.documentElement,se.contains(t,n)?(r=n.getBoundingClientRect(),i=W(s),{top:r.top+i.pageYOffset-t.clientTop,left:r.left+i.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===se.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),se.nodeName(e[0],"html")||(n=e.offset()),n.top+=se.css(e[0],"borderTopWidth",!0),n.left+=se.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-se.css(i,"marginTop",!0),left:t.left-n.left-se.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===se.css(e,"position");)e=e.offsetParent;return e||Ze})}}),se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;se.fn[e]=function(n){return Se(this,function(e,n,r){var s=W(e);return void 0===r?s?s[t]:e[n]:void(s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):e[n]=r)},e,n,arguments.length)}}),se.each(["top","left"],function(e,t){se.cssHooks[t]=C(ne.pixelPosition,function(e,i){if(i)return i=T(e,t),Xe.test(i)?se(e).position()[t]+"px":i})}),se.each({Height:"height",Width:"width"},function(e,t){se.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){se.fn[n]=function(n,r){var s=arguments.length&&(i||"boolean"!=typeof n),o=i||(n===!0||r===!0?"margin":"border");return Se(this,function(t,i,n){var r;return se.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?se.css(t,i,o):se.style(t,i,n,o)},t,s?n:void 0,s,null)}})}),se.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},size:function(){return this.length}}),se.fn.andSelf=se.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return se});var Vt=e.jQuery,jt=e.$;return se.noConflict=function(t){return e.$===se&&(e.$=jt),t&&e.jQuery===se&&(e.jQuery=Vt),se},t||(e.jQuery=e.$=se),se}),define("i18n",["require","exports","config","main/cookie","jquery","underscore"],function(e,t,i,n,r,s){"use strict";function o(e,t){f=e||"",g=t||{}}function a(e){for(var t,i=/(__[^_]+__)/g,n=[];null!==(t=i.exec(e));)n.push({index:t.index,text:t[0]});e=e.replace(/[a-z]/gi,"♦");for(var r=e.split(""),s=0;s<n.length;s++)for(var o=n[s].index,a=n[s].text,l=0;l<a.length;l++)r[o+l]=a[l];return r.join("")}function l(e,t,n){var r=void 0!==n?n:f,s=g[r]&&g[r][e]||e||"";if(i.get("bare-i18n")&&(s=a(s)),t)for(var o in t)t.hasOwnProperty(o)&&(s=s.split("__"+o+"__").join(t[o]));return s}function c(e){var i=[];return s.each(e,function(e){if(e){var n=e.split("-")[0];i.push(e),i.push(n),s.each(t.enabled_languages,function(e,t){t.split("-")[0]===n&&e.useAsRoot&&i.push(t)})}}),i}function u(){for(var e=c([i.get("lang"),n.getCookie("lang"),navigator.userLanguage,navigator.language]),r=0;r<e.length;r++){var o=e[r];if(t.enabled_languages.hasOwnProperty(o))return o;if(s.contains(m,o))return o}return"en"}function h(){return f}function d(e){var t=window.Desmos,i=r.Deferred();return t.supportedLanguages.indexOf(e)>=0||"en"===e?(o(e,t.locales),i.resolve(!0),i.promise()):(r.get("/api/v1/calculator/language/"+e,function(n){t.locales||(t.locales={}),t.supportedLanguages||(t.supportedLanguages=[]),t.locales[e]=n[e],t.supportedLanguages.push(e),o(e,t.locales),i.resolve(!0)}).fail(function(t){404===t.status&&console.warn(e+" is not an available language."),i.reject()}),i.promise())}function p(e,t){if("number"==typeof e)return e.toString();var i;try{var n=JSON.parse(e);if("number"==typeof n)return n.toString();for(var r in n.vars)n.vars[r]=p(n.vars[r],t);i=l(n.msg,n.vars,t)}catch(n){i=l(e,void 0,t)}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.locales=function(){var e=window.Desmos;return e&&e.locales?e.locales:{}}();var f="",g={};t.enabled_languages={en:{displayName:"English (US)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"en-GB":{displayName:"English (GB)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"es-ES":{displayName:"Español (España)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ES-ES.pdf",useAsRoot:!0},ru:{displayName:"Русский",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_RU.pdf",useAsRoot:!1},de:{displayName:"Deutsch",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_DE.pdf",useAsRoot:!1},"pt-BR":{displayName:"Português (Brasil)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"pt-PT":{displayName:"Português (Portugal)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ca:{displayName:"Català",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},fr:{displayName:"Français",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_FR.pdf",useAsRoot:!1},it:{displayName:"Italiano",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_IT.pdf",useAsRoot:!1},is:{displayName:"Íslenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},nl:{displayName:"Nederlands",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},no:{displayName:"Norsk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"sv-SE":{displayName:"Svenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},hr:{displayName:"Hrvatski",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},da:{displayName:"Dansk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},cs:{displayName:"Čeština",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},tr:{
    displayName:"Türkçe",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_TR.pdf",useAsRoot:!1},sl:{displayName:"Slovenščina",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_SL.pdf",useAsRoot:!1},lt:{displayName:"Lietuvių",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},pl:{displayName:"Polski",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_PL.pdf",useAsRoot:!1},ro:{displayName:"Română",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},id:{displayName:"Bahasa Indonesia",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},vi:{displayName:"Tiếng Việt",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_VI.pdf",useAsRoot:!1},el:{displayName:"Ελληνικά",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_EL.pdf",useAsRoot:!1},"sr-CS":{displayName:"SRPSKI",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},bg:{displayName:"Български",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_BG.pdf",useAsRoot:!1},mk:{displayName:"Македонски",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},uk:{displayName:"Українська",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ka:{displayName:"ქართული",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},th:{displayName:"ภาษาไทย",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"zh-CN":{displayName:"简体中文",useAsRoot:!0,userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-CN.pdf"},"zh-TW":{displayName:"繁體中文",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-TW.pdf",useAsRoot:!1},ko:{displayName:"한국어",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ja:{displayName:"日本語",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_JA.pdf",useAsRoot:!1}};var m=["sr","he","ar","fi","hu"];t.init=o,t.t=l,t.detectLanguage=u,t.currentLanguage=h,t.fetchLanguage=d,t.unpack=p,o(u(),t.locales)}),define("keys",["require"],function(e){var t=function(){var e={8:this.BACKSPACE="Backspace",9:this.TAB="Tab",13:this.ENTER="Enter",16:this.SHIFT="Shift",17:this.CONTROL="Control",18:this.ALT="Alt",20:this.CAPSLOCK="CapsLock",27:this.ESCAPE="Esc",32:this.SPACEBAR="Space",33:this.PAGEUP="PageUp",34:this.PAGEDOWN="PageDown",35:this.END="End",36:this.HOME="Home",37:this.LEFT="Left",38:this.UP="Up",39:this.RIGHT="Right",40:this.DOWN="Down",46:this.DELETE="Del"},t={UIKeyInputUpArrow:this.UP,UIKeyInputDownArrow:this.DOWN,UIKeyInputLeftArrow:this.LEFT,UIKeyInputRightArrow:this.RIGHT,UIKeyInputEscape:this.ESCAPE,UIKeyInputPageUp:this.PAGEUP,UIKeyInputPageDown:this.PAGEDOWN};this.isUndo=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&90==e.which&&!e.shiftKey},this.isRedo=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&(89==e.which||90==e.which&&e.shiftKey)},this.isSelectAll=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&65==e.which},this.isBacktick=function(e){return!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||192!=e.which)},this.lookup=function(i){return e[i.which]||t[i.key]},this.lookupChar=function(e){return String.fromCharCode(e.which)}};return new t}),define("touchtracking",["require","jquery","ipad.ghostevents","keys"],function(e){var t=e("jquery"),i=e("ipad.ghostevents"),n=e("keys");void 0==window._touchtracking_id_counter&&(window._touchtracking_id_counter=0),window._touchtracking_id_counter+=1;var r="touchtracking_id_"+window._touchtracking_id_counter,s=function(e){t(e).addClass("dcg-tap-container"),t(e).addClass(r)},o=function(e){t(e).addClass("dcg-no-touchtracking")};i.evtInScope=function(e){return k(e.target)},i.isGhostEvent=function(e){return!window.PointerEvent&&(!(d!==l&&d!==h&&!I())&&(e.target!==y&&((!e.target||!t.contains(e.target,y))&&(!y||!t.contains(y,e.target)))))};var a=0,l=1,c=2,u=3,h=4,d=a,p={},f={},g=[],m=0,v=null,y=null,b=null,x=[],_=function(e){for(var t=[];e;)t.push(e),e=e.parentNode;return t},w=function(e){for(var i=[],n=0;n<e.length;n++){var s=e[n];if(i.push(s),t(s).is(".dcg-tap-container, .dcg-no-touchtracking"))return t(s).is(".dcg-tap-container."+r)?i:[]}return[]},S=function(e,i){y=null,d=e,g=_(d===l?i.originalEvent.touches[0].target:i.target),t(w(g)).addClass("dcg-depressed").each(function(){var e=t(this);T(e)&&e.addClass("dcg-focus-by-tap")}),t(g).each(function(){var e=t(this);e.data({originalScrollTop:e.scrollTop(),originalScrollLeft:e.scrollLeft()})}),f={}},E=function(e){return e.is("input, textarea, select")||e.hasClass("dcg-mathquill-input-span")},k=function(e){return!!t(e).closest(".dcg-tap-container, .dcg-no-touchtracking").is(".dcg-tap-container."+r)},T=function(e){return d!==u&&!E(e)&&k(e)},C=function(e){y=null,t(".dcg-depressed").removeClass("dcg-depressed");var i=t(document.activeElement);if(T(i)&&i.blur(),t(".dcg-focus-by-tap").removeClass("dcg-focus-by-tap"),t(g).each(function(){var e=t(this),i=e.data("originalScrollTop")-e.scrollTop(),n=e.data("originalScrollLeft")-e.scrollLeft();(i||n)&&(f.scroll=!0)}),1===f["dcg-tapstart"]&&1===f["dcg-tapend"]&&!f["dcg-tapcancel"]&&!f.scroll){var n="mouse"===e.device?e.clientX:e.originalEvent.changedTouches[0].clientX,r="mouse"===e.device?e.clientY:e.originalEvent.changedTouches[0].clientY;if(e&&!e.device&&0===n&&0===r){var s=e.target.getBoundingClientRect();n=(s.left+s.right)/2,r=(s.top+s.bottom)/2,e.device="keyboard"}for(var o=!1,c=0;c<g.length&&!o;c++){var u,p=t(g[c]);if("function"==typeof p[0].getBoundingClientRect&&(u=p[0].getBoundingClientRect()),"true"===p.attr("tapboundary")&&(o=!0),u){if(n<u.left||r<u.top)continue;if(n>u.right)continue;if(r>u.bottom)continue}y=p[0],A("dcg-tap",e,y);break}}d!==l&&d!==h||(v=setTimeout(function(){v=null,m=(new Date).getTime()},1e3)),g=[],d=a},I=function(){return v||(new Date).getTime()-m<500},P=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];t.push({identifier:n.identifier,x:n.pageX,y:n.pageY,screenX:n.screenX,screenY:n.screenY,pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY})}return t},A=function(e,i,n){if("dcg-tapstart"===e)p[i.identifier]={type:e,pageX:i.originalEvent.changedTouches[0].pageX,pageY:i.originalEvent.changedTouches[0].pageY};else if("dcg-tapmove"===e){var r=i.originalEvent.changedTouches[0],s=p[i.identifier];if(s&&r.pageX===s.pageX&&r.pageY===s.pageY)return;if((d===l||d===h)&&s&&"dcg-tapstart"===s.type&&Math.abs(s.pageX-r.pageX)+Math.abs(s.pageY-r.pageY)<2)return;p[i.identifier]={type:e,pageX:i.originalEvent.changedTouches[0].pageX,pageY:i.originalEvent.changedTouches[0].pageY}}void 0===f[e.toLowerCase()]?f[e.toLowerCase()]=1:f[e.toLowerCase()]++;var o=t.event.fix(i.originalEvent);o.type=e,o.device=d===l||d===h?"touch":d===u?"keyboard":"mouse",o.touches=P(i.originalEvent.touches),o.changedTouches=P(i.originalEvent.changedTouches),o.target=n?n:i.target;var a=f["dcg-longhold"]>0;o.wasLongheld=function(){return a},o.preventTap=function(){f["dcg-tapcancel"]=1},clearTimeout(b),"dcg-tapstart"===o.type&&1===o.touches.length&&(b=setTimeout(function(){A("dcg-longhold",i,n)},500)),t(o.target).trigger(o)},M=function(e){var i=g,n=!!g.length,s=t(".dcg-tap-container."+r+" .dcg-hovered"),o=t.makeArray(s.filter(function(){return k(this)})),a=[],l=[],c=[];w(_(e)).forEach(function(e){n&&i.indexOf(e)===-1||(o.indexOf(e)===-1&&c.push(e),a.push(e))});for(var u=0;u<o.length;u++)e=o[u],a.indexOf(e)===-1&&l.push(e);t(l).removeClass("dcg-hovered").trigger("tipsyhide"),t(c).addClass("dcg-hovered").trigger("tipsyshow")},O=function(e){for(var t=0;t<x.length;t++)if(x[t].pointerId===e)return!0;return!1},L=function(e){for(var t=0;t<x.length;t++)if(x[t].pointerId===e)return x.splice(t,1)[0]},D=function(e){d===a&&S(h,e),M(null),x.push(e.originalEvent),e.originalEvent.identifier=e.originalEvent.pointerId,e.originalEvent.touches=x,e.originalEvent.changedTouches=[e.originalEvent],A("dcg-tapstart",e)},q=function(e){L(e.originalEvent.pointerId),e.originalEvent.identifier=e.originalEvent.pointerId,e.originalEvent.touches=x,e.originalEvent.changedTouches=[e.originalEvent],A("dcg-tapcancel",e),0===x.length&&C(e)},N=function(e){L(e.originalEvent.pointerId),e.originalEvent.identifier=e.originalEvent.pointerId,e.originalEvent.touches=x,e.originalEvent.changedTouches=[e.originalEvent],A("dcg-tapend",e),0===x.length&&C(e)},F=function(e){return"touch"===e.originalEvent.pointerType||2===e.originalEvent.pointerType};return t(document).on("pointerdown MSPointerDown",function(e){d!==c&&d!==l&&F(e)&&(O(e.originalEvent.pointerId)||D(e))}),t(document).on("pointermove MSPointerMove",function(e){d!==c&&d!==l&&F(e)&&(O(e.originalEvent.pointerId)||D(e),L(e.originalEvent.pointerId),x.push(e.originalEvent),e.originalEvent.identifier=e.originalEvent.pointerId,e.originalEvent.touches=x,e.originalEvent.changedTouches=[e.originalEvent],A("dcg-tapmove",e))}),t(document).on("pointercancel MSPointerCancel",function(e){if(d===h&&F(e)&&O(e.originalEvent.pointerId)){q(e);for(var i;i=x.pop();){var e=t.Event(i,{originalEvent:i});q(e)}}}),t(document).on("pointerup MSPointerUp",function(e){if(d===h&&F(e)&&O(e.originalEvent.pointerId)){N(e);for(var i;i=x.pop();){var e=t.Event(i,{originalEvent:i});N(e)}}}),t(document).on("touchstart",function(e){d!==c&&d!==h&&(d===a&&S(l,e),M(null),A("dcg-tapstart",e))}),t(document).on("touchmove",function(e){d===l&&A("dcg-tapmove",e)}),t(document).on("touchcancel",function(e){d===l&&(A("dcg-tapcancel",e),0===e.originalEvent.touches.length&&C(e))}),t(document).on("touchend",function(e){d===l&&(A("dcg-tapend",e),0===e.originalEvent.touches.length&&C(e))}),t(document).on("mousedown",function(e){if(1!==e.button&&2!==e.button){if(d===l||d===h||I())return void(!t(e.target).is("input, textarea, select")&&k(e.target)&&e.preventDefault());S(c,e),e.originalEvent.touches=[e],e.originalEvent.changedTouches=[e],A("dcg-tapstart",e)}}),t(document).ready(function(){t(document).on("mousedown",function(e){var i=!!t(e.target).closest(".dcg-do-not-blur").length,n=!!t(e.target).closest(".dcg-do-blur").length;if(i&&!n&&k(e.target)){e.preventDefault();try{var r=window.getSelection();if(1===r.rangeCount){var s=r.getRangeAt(0);s.startContainer===s.endContainer&&t(s.startContainer).closest(".dcg-text-selectable").length&&r.removeAllRanges()}}catch(e){}}})}),t(document).on("mouseleave",function(e){d===a&&(I()||M(null))}),t(document).on("mousemove",function(e){1!==e.button&&2!==e.button&&d!==l&&d!==h&&(I()||(M(e.target),e.originalEvent.touches=[e],e.originalEvent.changedTouches=[e],A("dcg-tapmove",e)))}),t(document).on("mouseup",function(e){1!==e.button&&2!==e.button&&d===c&&(e.originalEvent.touches=[],e.originalEvent.changedTouches=[e],A("dcg-tapend",e),C(e))}),t(document).on("keydown",function(e){if((n.lookup(e)===n.ENTER||n.lookup(e)===n.SPACEBAR)&&k(e.target)){if(d!==u){if(t(e.target).is("a:not([ontap]), button, input, textarea, select, contenteditable"))return;e.preventDefault()}S(u,e),e.originalEvent.touches=[e],e.originalEvent.changedTouches=[e],A("dcg-tapstart",e)}}),t(document).on("keyup",function(e){n.lookup(e)!==n.ENTER&&n.lookup(e)!==n.SPACEBAR||!k(e.target)||d===u&&(e.originalEvent.touches=[],e.originalEvent.changedTouches=[e],A("dcg-tapend",e),C(e))}),{monitor:s,ignore:o,isTapActive:function(){return d!==a},elIsFocusable:E}}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("text!worker_src_underlying",[],function(){return'var requirejs,require,define;!function(e){function t(e,t){return y.call(e,t)}function r(e,t){var r,n,i,a,o,s,u,c,l,h,f=t&&t.split("/"),p=d.map,m=p&&p["*"]||{};if(e&&"."===e.charAt(0))if(t){for(f=f.slice(0,f.length-1),e=f.concat(e.split("/")),c=0;c<e.length;c+=1)if(h=e[c],"."===h)e.splice(c,1),c-=1;else if(".."===h){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||m)&&p){for(r=e.split("/"),c=r.length;c>0;c-=1){if(n=r.slice(0,c).join("/"),f)for(l=f.length;l>0;l-=1)if(i=p[f.slice(0,l).join("/")],i&&(i=i[n])){a=i,o=c;break}if(a)break;!s&&m&&m[n]&&(s=m[n],u=c)}!a&&s&&(a=s,o=u),a&&(r.splice(0,o,a),e=r.join("/"))}return e}function n(t,r){return function(){return l.apply(e,v.call(arguments,0).concat([t,r]))}}function i(e){return function(t){return r(t,e)}}function a(e){return function(t){p[e]=t}}function o(r){if(t(m,r)){var n=m[r];delete m[r],g[r]=!0,c.apply(e,n)}if(!t(p,r)&&!t(g,r))throw new Error("No "+r);return p[r]}function s(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function u(e){return function(){return d&&d.config&&d.config[e]||{}}}var c,l,h,f,p={},m={},d={},g={},y=Object.prototype.hasOwnProperty,v=[].slice;h=function(e,t){var n,a=s(e),u=a[0];return e=a[1],u&&(u=r(u,t),n=o(u)),u?e=n&&n.normalize?n.normalize(e,i(t)):r(e,t):(e=r(e,t),a=s(e),u=a[0],e=a[1],u&&(n=o(u))),{f:u?u+"!"+e:e,n:e,pr:u,p:n}},f={require:function(e){return n(e)},exports:function(e){var t=p[e];return"undefined"!=typeof t?t:p[e]={}},module:function(e){return{id:e,uri:"",exports:p[e],config:u(e)}}},c=function(r,i,s,u){var c,l,d,y,v,b,x=[];if(u=u||r,"function"==typeof s){for(i=!i.length&&s.length?["require","exports","module"]:i,v=0;v<i.length;v+=1)if(y=h(i[v],u),l=y.f,"require"===l)x[v]=f.require(r);else if("exports"===l)x[v]=f.exports(r),b=!0;else if("module"===l)c=x[v]=f.module(r);else if(t(p,l)||t(m,l)||t(g,l))x[v]=o(l);else{if(!y.p)throw new Error(r+" missing "+l);y.p.load(y.n,n(u,!0),a(l),{}),x[v]=p[l]}d=s.apply(p[r],x),r&&(c&&c.exports!==e&&c.exports!==p[r]?p[r]=c.exports:d===e&&b||(p[r]=d))}else r&&(p[r]=s)},requirejs=require=l=function(t,r,n,i,a){return"string"==typeof t?f[t]?f[t](r):o(h(t,r).f):(t.splice||(d=t,r.splice?(t=r,r=n,n=null):t=e),r=r||function(){},"function"==typeof n&&(n=i,i=a),i?c(e,t,r,n):setTimeout(function(){c(e,t,r,n)},4),l)},l.config=function(e){return d=e,d.deps&&l(d.deps,d.callback),l},define=function(e,r,n){r.splice||(n=r,r=[]),t(p,e)||t(m,e)||(m[e]=[e,r,n])},define.amd={jQuery:!0}}(),"undefined"!=typeof ALMOND_OVERRIDES&&ALMOND_OVERRIDES&&(define=ALMOND_OVERRIDES.define||define,require=ALMOND_OVERRIDES.require||require,requirejs=ALMOND_OVERRIDES.requirejs||requirejs),define("vendor/almond",function(){}),define("testbridge",["require"],function(e){var t={ready:function(){window.TestBridge=t}};return t}),define("console",["require"],function(e){var t=function(){},r=["log","info","warn","error","assert","dir","clear","profile","profileEnd","time","timeEnd","group","groupCollapsed","groupEnd","trace"],n={},i=function(e){"undefined"!=typeof window&&window.console&&window.console[e]?n[e]=function(){Function.prototype.apply.call(window.console[e],window.console,arguments)}:n[e]=t};return r.forEach(i),n}),define("pjs",[],function(){var e=function(e,t,r){function n(e){return"object"==typeof e}function i(e){return"function"==typeof e}function a(){}function o(s,u){function c(){var e=new l;return i(e.init)&&e.init.apply(e,arguments),e}function l(){}u===r&&(u=s,s=Object),c.Bare=l;var h,f=a[e]=s[e],p=l[e]=c[e]=new a;return p.constructor=c,c.mixin=function(t){return l[e]=c[e]=o(c,t)[e],c},(c.open=function(e){if(h={},i(e)?h=e.call(c,p,f,c,s):n(e)&&(h=e),n(h))for(var r in h)t.call(h,r)&&(p[r]=h[r]);return i(p.init)||(p.init=s),c})(u)}return o}("prototype",{}.hasOwnProperty);return e}),function(){function e(e){function t(t,r,n,i,a,o){for(;a>=0&&a<o;a+=e){var s=i?i[a]:a;n=r(n,t[s],s,t)}return n}return function(r,n,i,a){n=b(n,a,4);var o=!S(r)&&v.keys(r),s=(o||r).length,u=e>0?0:s-1;return arguments.length<3&&(i=r[o?o[u]:u],u+=e),t(r,n,i,o,u,s)}}function t(e){return function(t,r,n){r=x(r,n);for(var i=T(t),a=e>0?0:i-1;a>=0&&a<i;a+=e)if(r(t[a],a,t))return a;return-1}}function r(e,t,r){return function(n,i,a){var o=0,s=T(n);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(r&&a&&s)return a=r(n,i),n[a]===i?a:-1;if(i!==i)return a=t(l.call(n,o,s),v.isNaN),a>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&a<s;a+=e)if(n[a]===i)return a;return-1}}function n(e,t){var r=A.length,n=e.constructor,i=v.isFunction(n)&&n.prototype||s,a="constructor";for(v.has(e,a)&&!v.contains(t,a)&&t.push(a);r--;)a=A[r],a in e&&e[a]!==i[a]&&!v.contains(t,a)&&t.push(a)}var i=this,a=i._,o=Array.prototype,s=Object.prototype,u=Function.prototype,c=o.push,l=o.slice,h=s.toString,f=s.hasOwnProperty,p=Array.isArray,m=Object.keys,d=u.bind,g=Object.create,y=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):i._=v,v.VERSION="1.8.3";var b=function(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)}}return function(){return e.apply(t,arguments)}},x=function(e,t,r){return null==e?v.identity:v.isFunction(e)?b(e,t,r):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return x(e,t,1/0)};var _=function(e,t){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var a=arguments[i],o=e(a),s=o.length,u=0;u<s;u++){var c=o[u];t&&void 0!==r[c]||(r[c]=a[c])}return r}},w=function(e){if(!v.isObject(e))return{};if(g)return g(e);y.prototype=e;var t=new y;return y.prototype=null,t},M=function(e){return function(t){return null==t?void 0:t[e]}},E=Math.pow(2,53)-1,T=M("length"),S=function(e){var t=T(e);return"number"==typeof t&&t>=0&&t<=E};v.each=v.forEach=function(e,t,r){t=b(t,r);var n,i;if(S(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var a=v.keys(e);for(n=0,i=a.length;n<i;n++)t(e[a[n]],a[n],e)}return e},v.map=v.collect=function(e,t,r){t=x(t,r);for(var n=!S(e)&&v.keys(e),i=(n||e).length,a=Array(i),o=0;o<i;o++){var s=n?n[o]:o;a[o]=t(e[s],s,e)}return a},v.reduce=v.foldl=v.inject=e(1),v.reduceRight=v.foldr=e(-1),v.find=v.detect=function(e,t,r){var n;if(n=S(e)?v.findIndex(e,t,r):v.findKey(e,t,r),void 0!==n&&n!==-1)return e[n]},v.filter=v.select=function(e,t,r){var n=[];return t=x(t,r),v.each(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n},v.reject=function(e,t,r){return v.filter(e,v.negate(x(t)),r)},v.every=v.all=function(e,t,r){t=x(t,r);for(var n=!S(e)&&v.keys(e),i=(n||e).length,a=0;a<i;a++){var o=n?n[a]:a;if(!t(e[o],o,e))return!1}return!0},v.some=v.any=function(e,t,r){t=x(t,r);for(var n=!S(e)&&v.keys(e),i=(n||e).length,a=0;a<i;a++){var o=n?n[a]:a;if(t(e[o],o,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,r,n){return S(e)||(e=v.values(e)),("number"!=typeof r||n)&&(r=0),v.indexOf(e,t,r)>=0},v.invoke=function(e,t){var r=l.call(arguments,2),n=v.isFunction(t);return v.map(e,function(e){var i=n?t:e[t];return null==i?i:i.apply(e,r)})},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,r){var n,i,a=-(1/0),o=-(1/0);if(null==t&&null!=e){e=S(e)?e:v.values(e);for(var s=0,u=e.length;s<u;s++)n=e[s],n>a&&(a=n)}else t=x(t,r),v.each(e,function(e,r,n){i=t(e,r,n),(i>o||i===-(1/0)&&a===-(1/0))&&(a=e,o=i)});return a},v.min=function(e,t,r){var n,i,a=1/0,o=1/0;if(null==t&&null!=e){e=S(e)?e:v.values(e);for(var s=0,u=e.length;s<u;s++)n=e[s],n<a&&(a=n)}else t=x(t,r),v.each(e,function(e,r,n){i=t(e,r,n),(i<o||i===1/0&&a===1/0)&&(a=e,o=i)});return a},v.shuffle=function(e){for(var t,r=S(e)?e:v.values(e),n=r.length,i=Array(n),a=0;a<n;a++)t=v.random(0,a),t!==a&&(i[a]=i[t]),i[t]=r[a];return i},v.sample=function(e,t,r){return null==t||r?(S(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,r){return t=x(t,r),v.pluck(v.map(e,function(e,r,n){return{value:e,index:r,criteria:t(e,r,n)}}).sort(function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index}),"value")};var I=function(e){return function(t,r,n){var i={};return r=x(r,n),v.each(t,function(n,a){var o=r(n,a,t);e(i,n,o)}),i}};v.groupBy=I(function(e,t,r){v.has(e,r)?e[r].push(t):e[r]=[t]}),v.indexBy=I(function(e,t,r){e[r]=t}),v.countBy=I(function(e,t,r){v.has(e,r)?e[r]++:e[r]=1}),v.toArray=function(e){return e?v.isArray(e)?l.call(e):S(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:S(e)?e.length:v.keys(e).length},v.partition=function(e,t,r){t=x(t,r);var n=[],i=[];return v.each(e,function(e,r,a){(t(e,r,a)?n:i).push(e)}),[n,i]},v.first=v.head=v.take=function(e,t,r){if(null!=e)return null==t||r?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,r){return l.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))},v.last=function(e,t,r){if(null!=e)return null==t||r?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,r){return l.call(e,null==t||r?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var N=function(e,t,r,n){for(var i=[],a=0,o=n||0,s=T(e);o<s;o++){var u=e[o];if(S(u)&&(v.isArray(u)||v.isArguments(u))){t||(u=N(u,t,r));var c=0,l=u.length;for(i.length+=l;c<l;)i[a++]=u[c++]}else r||(i[a++]=u)}return i};v.flatten=function(e,t){return N(e,t,!1)},v.without=function(e){return v.difference(e,l.call(arguments,1))},v.uniq=v.unique=function(e,t,r,n){v.isBoolean(t)||(n=r,r=t,t=!1),null!=r&&(r=x(r,n));for(var i=[],a=[],o=0,s=T(e);o<s;o++){var u=e[o],c=r?r(u,o,e):u;t?(o&&a===c||i.push(u),a=c):r?v.contains(a,c)||(a.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(N(arguments,!0,!0))},v.intersection=function(e){for(var t=[],r=arguments.length,n=0,i=T(e);n<i;n++){var a=e[n];if(!v.contains(t,a)){for(var o=1;o<r&&v.contains(arguments[o],a);o++);o===r&&t.push(a)}}return t},v.difference=function(e){var t=N(arguments,!0,!0,1);return v.filter(e,function(e){return!v.contains(t,e)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,T).length||0,r=Array(t),n=0;n<t;n++)r[n]=v.pluck(e,n);return r},v.object=function(e,t){for(var r={},n=0,i=T(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r},v.findIndex=t(1),v.findLastIndex=t(-1),v.sortedIndex=function(e,t,r,n){r=x(r,n,1);for(var i=r(t),a=0,o=T(e);a<o;){var s=Math.floor((a+o)/2);r(e[s])<i?a=s+1:o=s}return a},v.indexOf=r(1,v.findIndex,v.sortedIndex),v.lastIndexOf=r(-1,v.findLastIndex),v.range=function(e,t,r){null==t&&(t=e||0,e=0),r=r||1;for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),a=0;a<n;a++,e+=r)i[a]=e;return i};var D=function(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var a=w(e.prototype),o=e.apply(a,i);return v.isObject(o)?o:a};v.bind=function(e,t){if(d&&e.bind===d)return d.apply(e,l.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),n=function(){return D(e,n,t,this,r.concat(l.call(arguments)))};return n},v.partial=function(e){var t=l.call(arguments,1),r=function(){for(var n=0,i=t.length,a=Array(i),o=0;o<i;o++)a[o]=t[o]===v?arguments[n++]:t[o];for(;n<arguments.length;)a.push(arguments[n++]);return D(e,r,this,this,a)};return r},v.bindAll=function(e){var t,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)r=arguments[t],e[r]=v.bind(e[r],e);return e},v.memoize=function(e,t){var r=function(n){var i=r.cache,a=""+(t?t.apply(this,arguments):n);return v.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return r.cache={},r},v.delay=function(e,t){var r=l.call(arguments,2);return setTimeout(function(){return e.apply(null,r)},t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,r){var n,i,a,o=null,s=0;r||(r={});var u=function(){s=r.leading===!1?0:v.now(),o=null,a=e.apply(n,i),o||(n=i=null)};return function(){var c=v.now();s||r.leading!==!1||(s=c);var l=t-(c-s);return n=this,i=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),s=c,a=e.apply(n,i),o||(n=i=null)):o||r.trailing===!1||(o=setTimeout(u,l)),a}},v.debounce=function(e,t,r){var n,i,a,o,s,u=function(){var c=v.now()-o;c<t&&c>=0?n=setTimeout(u,t-c):(n=null,r||(s=e.apply(a,i),n||(a=i=null)))};return function(){a=this,i=arguments,o=v.now();var c=r&&!n;return n||(n=setTimeout(u,t)),c&&(s=e.apply(a,i),a=i=null),s}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}},v.once=v.partial(v.before,2);var C=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(e){if(!v.isObject(e))return[];if(m)return m(e);var t=[];for(var r in e)v.has(e,r)&&t.push(r);return C&&n(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var r in e)t.push(r);return C&&n(e,t),t},v.values=function(e){for(var t=v.keys(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n},v.mapObject=function(e,t,r){t=x(t,r);for(var n,i=v.keys(e),a=i.length,o={},s=0;s<a;s++)n=i[s],o[n]=t(e[n],n,e);return o},v.pairs=function(e){for(var t=v.keys(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n},v.invert=function(e){for(var t={},r=v.keys(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t},v.functions=v.methods=function(e){var t=[];for(var r in e)v.isFunction(e[r])&&t.push(r);return t.sort()},v.extend=_(v.allKeys),v.extendOwn=v.assign=_(v.keys),v.findKey=function(e,t,r){t=x(t,r);for(var n,i=v.keys(e),a=0,o=i.length;a<o;a++)if(n=i[a],t(e[n],n,e))return n},v.pick=function(e,t,r){var n,i,a={},o=e;if(null==o)return a;v.isFunction(t)?(i=v.allKeys(o),n=b(t,r)):(i=N(arguments,!1,!1,1),n=function(e,t,r){return t in r},o=Object(o));for(var s=0,u=i.length;s<u;s++){var c=i[s],l=o[c];n(l,c,o)&&(a[c]=l)}return a},v.omit=function(e,t,r){if(v.isFunction(t))t=v.negate(t);else{var n=v.map(N(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(n,t)}}return v.pick(e,t,r)},v.defaults=_(v.allKeys,!0),v.create=function(e,t){var r=w(e);return t&&v.extendOwn(r,t),r},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var r=v.keys(t),n=r.length;if(null==e)return!n;for(var i=Object(e),a=0;a<n;a++){var o=r[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var k=function(e,t,r,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(v.isFunction(o)&&o instanceof o&&v.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!k(e[u],t[u],r,n))return!1}else{var c,l=v.keys(e);if(u=l.length,v.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(t,c)||!k(e[c],t[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(e,t){return k(e,t)},v.isEmpty=function(e){return null==e||(S(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=p||function(e){return"[object Array]"===h.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&f.call(e,t)},v.noConflict=function(){return i._=a,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=M,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,r){var n=Array(Math.max(0,e));t=b(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;","`":"&#x60;"},O=v.invert(F),P=function(e){var t=function(t){return e[t]},r="(?:"+v.keys(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}};v.escape=P(F),v.unescape=P(O),v.result=function(e,t,r){var n=null==e?void 0:e[t];return void 0===n&&(n=r),v.isFunction(n)?n.call(e):n};var L=0;v.uniqueId=function(e){var t=++L+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var q=/(.)^/,V={"\'":"\'","\\\\":"\\\\","\\r":"r","\\n":"n","\\u2028":"u2028","\\u2029":"u2029"},j=/\\\\|\'|\\r|\\n|\\u2028|\\u2029/g,z=function(e){return"\\\\"+V[e]};v.template=function(e,t,r){!t&&r&&(t=r),t=v.defaults({},t,v.templateSettings);var n=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+=\'";e.replace(n,function(t,r,n,o,s){return a+=e.slice(i,s).replace(j,z),i=s+t.length,r?a+="\'+\\n((__t=("+r+"))==null?\'\':_.escape(__t))+\\n\'":n?a+="\'+\\n((__t=("+n+"))==null?\'\':__t)+\\n\'":o&&(a+="\';\\n"+o+"\\n__p+=\'"),t}),a+="\';\\n",t.variable||(a="with(obj||{}){\\n"+a+"}\\n"),a="var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\\n"+a+"return __p;\\n";try{var o=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return o.call(this,e,v)},u=t.variable||"obj";return s.source="function("+u+"){\\n"+a+"}",s},v.chain=function(e){var t=v(e);return t._chain=!0,t};var R=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var r=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),R(this,r.apply(v,e))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];v.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0],R(this,r)}}),v.each(["concat","join","slice"],function(e){var t=o[e];v.prototype[e]=function(){return R(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}.call(this),define("math/distance",["require","exports"],function(e,t){"use strict";function r(e,t){return e>0==t>0?e+.5*(t-e):.5*(e+t)}function n(e,t,r,n){return e*r+t*n}function i(e,r,i,a,o,s){var u=t.hypot(o-i,s-a);if(0===u)return 0;var c=n((e-i)/u,(r-a)/u,(o-i)/u,(s-a)/u);return c}function a(e,t,r,n,a,o){var s=i(e,t,r,n,a,o);return s<=0?[r,n]:s>=1?[a,o]:[r+s*(a-r),n+s*(o-n)]}function o(e,r,n,i,o,s){var u=a(e,r,n,i,o,s);return t.hypot(e-u[0],r-u[1])}function s(e,t,r){if(void 0===r&&(r=1),r>50)throw new Error("Within "+(52-r)+" bits isn\'t really approximate any more");var n=Math.max(Math.max(Math.abs(e),Math.abs(t)),1),i=1===r?.5:Math.pow(.5,r);return n===n+i*Math.abs(t-e)}Object.defineProperty(t,"__esModule",{value:!0}),t.hypot=Math.hypot||function(e,t){if(0===e&&0===t)return 0;if(Math.abs(e)>Math.abs(t)){var r=t/e;return Math.abs(e)*Math.sqrt(r*r+1)}var r=e/t;return Math.abs(t)*Math.sqrt(r*r+1)},t.mean=r,t.pointToSegmentParameter=i,t.closestPointOnSegment=a,t.pointToSegment=o,t.approx=s}),define("math/poi",["require","exports","./distance"],function(e,t,r){"use strict";function n(e,t){var n;e>t&&(n=e,e=t,t=n);var i=e>0,a=t>0,o=Math.abs(e)>.01,s=Math.abs(t)>.01;if(o||s)return r.mean(e,t);if(0===e)return t*Math.abs(t);if(0===t)return e*Math.abs(e);if(i!==a)return 0;var u=i?Math.sqrt(e*t):-Math.sqrt(e*t);return u>=e&&t>=u?u:r.mean(e,t)}function i(e,t,r,i,o){if(!isFinite(t)||!isFinite(i)||t<0==i<0)return void console.log("bisectZero called with bad y values",[t,i]);for(;;){var s=n(e,r),u=o(s);if(!isFinite(u))return;if(s===e||s===r)return Math.abs(t)<=Math.abs(i)?[e,t]:[r,i];if(0===u)return a(e,t,s,u,r,i,o);t<0!=u<0?(r=s,i=u):(e=s,t=u)}}function a(e,t,r,i,a,u,c){var l;if(isFinite(i)){isFinite(t)||(l=o(e,t,r,i,c),l&&(e=l[0],t=l[1])),isFinite(u)||(l=o(r,i,a,u,c),l&&(a=l[0],u=l[1]));var h,f;h=t===i?[e,t]:s(e,t,r,i,c,i),f=u===i?[a,u]:s(r,i,a,u,c,i);var p;return h&&f&&(p=n(h[0],f[0])),void 0!==p?[p,c(p)]:void 0}}function o(e,t,r,i,a){if(isFinite(t)===isFinite(i))return void console.log("bisectFinite called with bad y values",[t,i]);for(;;){var o=n(e,r),s=a(o);if(o===e||o===r)return isFinite(t)?[e,t]:[r,i];isFinite(s)!==isFinite(t)?(r=o,i=s):(e=o,t=s)}}function s(e,t,r,i,a,o){if(t===o==(i===o))return void console.log("bisectConstant called with bad y values",[t,i,o]);for(;;){var s=n(e,r),u=a(s);if(s===e||s===r)return t===o?[e,t]:[r,i];u===o!=(t===o)?(r=s,i=u):(e=s,t=u)}}function u(e,t,r,i,o,s,u){if(!(e<r&&r<o))return void console.log("bisectExtremum called with bad x values",[e,r,o]);if(!(isFinite(t)&&isFinite(i)&&isFinite(s)&&t!==i&&i!==s&&i>t==i>s))return void console.log("bisectExtremum called with bad y values",[t,i,s]);for(;;){var c=n(e,r),l=u(c),h=n(r,o),f=u(h);if(!isFinite(l)||!isFinite(f))return;if(c===e||c===r||h===r||h===o)return l>i==i>t?[c,l]:f>i==i>t?[h,f]:[r,i];if(l===i||f===i)return a(e,t,r,i,o,s,u);l>t==i>t&&l>t==l>i?(o=r,s=i,r=c,i=l):f>s==i>s&&f>i==f>s?(e=r,t=i,r=h,i=f):(e=c,t=l,o=h,s=f)}}function c(e,t,r,n,i,a,o,s){var u=Math.abs(n-t),c=Math.abs(a-n),l=Math.abs(s-a);return u>c&&u>l?[[e,t],[r,n]]:l>c&&l>u?[[i,a],[o,s]]:[[r,n],[i,a]]}function l(e,t,i,a,s,u,l,h){if(h||(h=0),!((i-e)*(s-i)<=0)&&isFinite(e)&&isFinite(i)&&isFinite(s)&&isFinite(t)&&isFinite(u)){if(!isFinite(a))return[o(e,t,i,a,l),o(i,a,s,u,l)];if(!(Math.abs(a-((s-i)*t+(i-e)*u)/(s-e))<h))for(;;){var f=n(e,i),p=l(f),m=n(i,s),d=l(m),g=Math.abs(p-r.mean(t,a)),y=Math.abs(a-r.mean(p,d)),v=Math.abs(d-r.mean(a,u)),b=void 0,x=void 0;if(g<=h&&y<=h&&v<=h)return;if(!isFinite(p))return b=o(e,t,f,p,l),x=o(f,p,s,u,l),[b,x];if(!isFinite(d))return b=o(e,t,m,d,l),x=o(m,d,s,u,l),[b,x];if(!(f!==e&&f!==i||m!==i&&m!==s))return Math.abs(a-t)>Math.abs(u-a)?(b=[e,t],x=[i,a]):(b=[i,a],x=[s,u]),[b,x];if(f===e||f===i)return c(e,t,i,a,m,d,s,u);if(m===i||m===s)return c(e,t,f,p,i,a,s,u);g>v&&g>=y?(s=i,u=a,i=f,a=p):v>g&&v>=y?(e=i,t=a,i=m,a=d):(e=f,t=p,s=m,u=d)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={bisectJump:l,bisectExtremum:u,bisectFinite:o,bisectZero:i,flatCenter:a,INTERSECTION:1001,ZERO:1002,INTERCEPT:1003,EXTREMUM:1004,EDGE:1005,DEFINITION:1006,TRACE:1007,LABEL:1008}}),define("math/curve-accumulator",["require","exports","./distance"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){e?(this.xtolerance=e.xtolerance||e.tolerance||0,this.ytolerance=e.ytolerance||e.tolerance||0,this.map=e.map):this.xtolerance=this.ytolerance=0,this.segments=[],this.segment=[],this.pivotPoint=void 0,this.pendingPoint=void 0}return e.prototype.colinear=function(e,t,n){this.map&&(e=this.map(e),t=this.map(t),n=this.map(n));var i=r.pointToSegmentParameter(n[0],n[1],e[0],e[1],t[0],t[1]);if(i<1)return!1;var a=[e[0]+i*(t[0]-e[0]),e[1]+i*(t[1]-e[1])];return Math.abs(n[0]-a[0])<=this.xtolerance&&Math.abs(n[1]-a[1])<=this.ytolerance},e.prototype.addPoint=function(e){if(this.xtolerance<0&&this.ytolerance<0)return void this.segment.push(e[0],e[1]);if(!this.segment.length)return void this.segment.push(e[0],e[1]);var t=[this.segment[this.segment.length-2],this.segment[this.segment.length-1]];if(e[0]!==t[0]||e[1]!==t[1]){if(!this.pivotPoint||!this.pendingPoint)return this.pivotPoint=e,void(this.pendingPoint=e);(!this.colinear(t,this.pivotPoint,e)||r.hypot(t[0]-e[0],t[1]-e[1])<r.hypot(t[0]-this.pendingPoint[0],t[1]-this.pendingPoint[1]))&&(this.flushPending(),this.pivotPoint=e),this.pendingPoint=e}},e.prototype.flushPending=function(){this.pendingPoint&&(this.segment.push(this.pendingPoint[0],this.pendingPoint[1]),this.pivotPoint=void 0,this.pendingPoint=void 0)},e.prototype.breakSegment=function(){this.flushPending(),this.segment.length>2&&this.segments.push(this.segment),this.segment=[]},e.prototype.getSegments=function(){return this.breakSegment(),this.segments},e.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0}},e}();t.default=n}),define("math/implicit-plotter",["require","exports","./distance","./curve-accumulator"],function(e,t,r,n){"use strict";function i(e,t){var r=a(e,t);return{segments:r.contours.strokeSegments,fillSegments:r.contours.fillSegments,resolved:r.quadTree.resolved}}function a(e,t){var r=Math.pow(2,-U),n=c(t,r),i=c(t,2*r),a=f(e,n,i),o=N(a.root,e,n),s=R(o,e,n);return{paddedDomain:n,rootDomain:i,quadTree:a,triangles:o,contours:s}}function o(e,t,r){return{x:e,y:t,z:r}}function s(e,t,r){return{x:e,y:t,isZero:r}}function u(e,t,r){return{vertices:[e,t,r],visited:!1,next:void 0}}function c(e,t){var r=(1+t)*e.xmin-t*e.xmax,n=(1+t)*e.xmax-t*e.xmin,i=(1+t)*e.ymin-t*e.ymax,a=(1+t)*e.ymax-t*e.ymin;return{xmin:r,ymin:i,xmax:n,ymax:a,xtolerance:e.xtolerance,ytolerance:e.ytolerance}}function l(e,t){return{depth:e,vertices:t,children:void 0,center:void 0}}function h(e,t,r){e.center=E(e.vertices[0],e.vertices[1],e.vertices[2],e.vertices[3],t,r)}function f(e,t,r){var n=p(e,r),i=[],a=[];a.push(n);var o=1,s=!0;e:for(;a.length;){var u=i;i=a,a=u;for(var c=void 0;c=i.pop();)if(d(c,e,t)){if(m(c,e),!c.children){s=!1;break e}if(a.push(c.children[0]),a.push(c.children[1]),a.push(c.children[2]),a.push(c.children[3]),o+=3,o>=Y){s=!1;break e}}else h(c,e,t)}for(var l=0;l<i.length;l++)h(i[l],e,t);for(var l=0;l<a.length;l++)h(a[l],e,t);return{root:n,resolved:s}}function p(e,t){var r=t.xmin,n=t.xmax,i=t.ymin,a=t.ymax;return l(0,[_(r,a,e),_(n,a,e),_(n,i,e),_(r,i,e)])}function m(e,t){var r=e.depth+1,n=e.vertices[0],i=e.vertices[1],a=e.vertices[2],o=e.vertices[3],s=w(n,i,t),u=w(i,a,t),c=w(a,o,t),h=w(o,n,t),f=w(n,a,t);e.children=[l(r,[n,s,f,h]),l(r,[s,i,u,f]),l(r,[f,u,a,c]),l(r,[h,f,c,o])]}function d(e,t,r){if(e.depth<U)return!0;if(b(e,r))return!1;if(v(e,r))return!1;var n=e.vertices[0],i=e.vertices[1],a=e.vertices[2],o=e.vertices[3];if(isNaN(n.z)&&isNaN(i.z)&&isNaN(a.z)&&isNaN(o.z))return!1;if(isNaN(n.z)||isNaN(i.z)||isNaN(a.z)||isNaN(o.z))return!0;var s=E(n,i,a,o,t,r),u=M(n,i,t,r),c=M(i,a,t,r),l=M(a,o,t,r),h=M(o,n,t,r);return y(n,u,t)||y(i,u,t)||y(i,c,t)||y(a,c,t)||y(a,l,t)||y(o,l,t)||y(o,h,t)||y(n,h,t)||g(n,u,s,t,r)||g(u,i,s,t,r)||g(i,c,s,t,r)||g(c,a,s,t,r)||g(a,l,s,t,r)||g(l,o,s,t,r)||g(o,h,s,t,r)||g(h,n,s,t,r)}function g(e,t,n,i,a){if(e.z>0==t.z>0&&t.z>0==n.z>0)return!1;var o,s,u,c;if(e.z>0==t.z>0){if(o=w(e,t,i),o.z>0!=e.z>0)return!0;s=S(e,n,i,a),u=S(t,n,i,a),c=S(o,n,i,a)}else if(t.z>0==n.z>0){if(o=w(t,n,i),o.z>0!=t.z>0)return!0;s=S(t,e,i,a),u=S(n,e,i,a),c=S(o,e,i,a)}else{if(o=w(n,e,i),o.z>0!=n.z>0)return!0;s=S(n,t,i,a),u=S(e,t,i,a),c=S(o,t,i,a)}var l=a.xtolerance,h=a.ytolerance,f=r.pointToSegment(h*c.x,l*c.y,h*s.x,l*s.y,h*u.x,l*u.y);return f>l*h}function y(e,t,r){if(isNaN(e.z)&&isNaN(t.z))return!1;if(isNaN(e.z)||isNaN(t.z))return e.z>0||t.z>0;var n=w(e,t,r),i=4*n.z-t.z-3*e.z,a=1e-4,o=(r((1-a)*e.x+a*t.x,(1-a)*e.y+a*t.y)-e.z)/a,s=Math.max(Math.abs(e.z),Math.abs(t.z));return Math.abs(i-o)>.125*s}function v(e,t){return e.vertices[1].x-e.vertices[0].x<10*t.xtolerance||e.vertices[0].y-e.vertices[3].y<10*t.ytolerance}function b(e,t){return e.vertices[0].x<t.xmin||e.vertices[0].y>t.ymax||e.vertices[2].x>t.xmax||e.vertices[2].y<t.ymin}function x(e,t){return e.x<t.xmin||e.x>t.xmax||e.y<t.ymin||e.y>t.ymax}function _(e,t,r){return o(e,t,r(e,t))}function w(e,t,r){return _(.5*(e.x+t.x),.5*(e.y+t.y),r)}function M(e,t,r,n){if(x(e,n)||x(t,n))return w(e,t,r);if(isNaN(e.z)||isNaN(t.z))return I(e,t,r,n);if(e.z>0!=t.z>0)return w(e,t,r);var i=.01,a=r((1-i)*e.x+i*t.x,(1-i)*e.y+i*t.y)-e.z,s=t.z-r(i*e.x+(1-i)*t.x,i*e.y+(1-i)*t.y);return isNaN(a)||isNaN(s)?w(e,t,r):a>0==s>0?w(e,t,r):T(o(e.x,e.y,a),o(t.x,t.y,s),r)}function E(e,t,r,n,i,a){var o=M(e,r,i,a);return e.z>0==r.z>0&&o.z>0!=e.z>0?o:(o=M(t,n,i,a),t.z>0==n.z>0&&o.z>0!=t.z>0?o:w(e,r,i))}function T(e,t,r){if(isNaN(e.z))return t;if(isNaN(t.z))return e;if(isFinite(e.z)||isFinite(t.z)){if(isFinite(e.z)){if(isFinite(t.z)){var n=1-e.z/t.z,i=1-t.z/e.z;return _(e.x/n+t.x/i,e.y/n+t.y/i,r)}return e}return t}return w(e,t,r)}function S(e,t,r,n){var i=e.x,a=t.x,u=e.y,c=t.y,l=e.z,h=t.z,f=n.xtolerance,p=n.ytolerance;if(x(e,n)||x(t,n)){var m=w(e,t,r);return s(m.x,m.y,!1)}for(;Math.abs(i-a)>f||Math.abs(u-c)>p;){var d=.5*(i+a),g=.5*(u+c),y=r(d,g);y>0==l>0?(i=d,u=g,l=y):(a=d,c=g,h=y)}if(isNaN(l))return s(a,c,!1);if(isNaN(h))return s(i,u,!1);var v=T(o(i,u,l),o(a,c,h),r),b=0===l||0===h||0===v.z||v.z>=l==h>=v.z&&Math.abs(v.z)<1e250;return s(v.x,v.y,b)}function I(e,t,r,n){if(isNaN(e.z)===isNaN(t.z))return w(e,t,r);if(isNaN(e.z)){var i=e;e=t,t=i}for(var a=e.x,s=t.x,u=e.y,c=t.y,l=e.z,h=t.z,f=n.xtolerance,p=n.ytolerance;Math.abs(a-s)>f||Math.abs(u-c)>p;){var m=.5*(a+s),d=.5*(u+c),g=r(m,d);isNaN(g)===isNaN(l)?(a=m,u=d,l=g):(s=m,c=d,h=g)}return o(a,u,l)}function N(e,t,r){var n={triangles:[],edgeCache:{},domain:r,fn:t};return D(e,n),n.triangles}function D(e,t){e.children&&(D(e.children[0],t),D(e.children[1],t),D(e.children[2],t),D(e.children[3],t),C(e.children[0],e.children[1],t),C(e.children[3],e.children[2],t),A(e.children[1],e.children[2],t),A(e.children[0],e.children[3],t))}function C(e,t,r){e.children&&t.children?(C(e.children[1],t.children[0],r),C(e.children[2],t.children[3],r)):e.children?(C(e.children[1],t,r),C(e.children[2],t,r)):t.children?(C(e,t.children[0],r),C(e,t.children[3],r)):k(e,t,r)}function A(e,t,r){e.children&&t.children?(A(e.children[2],t.children[1],r),A(e.children[3],t.children[0],r)):e.children?(A(e.children[2],t,r),A(e.children[3],t,r)):t.children?(A(e,t.children[1],r),A(e,t.children[0],r)):F(e,t,r)}function k(e,t,r){if(e.center&&t.center){var n,i;e.depth>=t.depth?(n=M(e.vertices[1],e.vertices[2],r.fn,r.domain),i=O(e.vertices[1],t.center,e.vertices[2],e.center,n)):(n=M(t.vertices[0],t.vertices[3],r.fn,r.domain),i=O(t.vertices[0],t.center,t.vertices[3],e.center,n)),q(i,r.edgeCache,r.domain);for(var a=0;a<4;a++)r.triangles.push(i[a])}}function F(e,t,r){if(e.center&&t.center){var n,i;e.depth>=t.depth?(n=M(e.vertices[3],e.vertices[2],r.fn,r.domain),i=O(e.vertices[2],t.center,e.vertices[3],e.center,n)):(n=M(t.vertices[1],t.vertices[0],r.fn,r.domain),i=O(t.vertices[1],t.center,t.vertices[0],e.center,n)),\nq(i,r.edgeCache,r.domain);for(var a=0;a<4;a++)r.triangles.push(i[a])}}function O(e,t,r,n,i){return[u(e,i,t),u(t,i,r),u(r,i,n),u(n,i,e)]}function P(e,t,r){return e.z>0&&!x(e,r)&&(!(t.z>0)||x(t,r))}function L(e,t){return""+e.x+","+e.y+","+t.x+","+t.y}function q(e,t,r){V(e[0],e[1],e[2],L(e[1].vertices[2],e[1].vertices[0]),t,r),V(e[1],e[2],e[3],L(e[2].vertices[0],e[2].vertices[2]),t,r),V(e[2],e[3],e[0],L(e[3].vertices[2],e[3].vertices[0]),t,r),V(e[3],e[0],e[1],L(e[0].vertices[0],e[0].vertices[2]),t,r)}function V(e,t,r,n,i,a){var o=t.vertices[0],s=t.vertices[1],u=t.vertices[2];P(s,u,a)&&(t.next=r),P(o,s,a)&&(t.next=e),P(u,o,a)&&z(t,n,i),P(o,u,a)&&j(t,n,i)}function j(e,t,r){r[t]?r[t].next=e:r[t]=e}function z(e,t,r){r[t]?e.next=r[t]:r[t]=e}function R(e,t,r){for(var i={fillAccumulator:new n.default(r),strokeAccumulator:new n.default(r),fn:t,domain:r},a=0;a<e.length;a++){var o=e[a];o.next&&!o.visited&&B(o,i)}return{strokeSegments:i.strokeAccumulator.finish().segments,fillSegments:i.fillAccumulator.finish().segments}}function B(e,t){for(;;){var r=e.vertices[0],n=e.vertices[1],i=e.vertices[2];if($(r,n,t),$(n,i,t),$(i,r,t),e.visited)break;if(!e.next)break;e.visited=!0,e=e.next}t.strokeAccumulator.breakSegment(),t.fillAccumulator.breakSegment()}function $(e,t,r){if(P(e,t,r.domain)){var n=S(e,t,r.fn,r.domain);r.fillAccumulator.addPoint([n.x,n.y]),n.isZero?r.strokeAccumulator.addPoint([n.x,n.y]):r.strokeAccumulator.breakSegment()}}function G(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push([n.vertices[0].x,n.vertices[0].y,n.vertices[1].x,n.vertices[1].y,n.vertices[2].x,n.vertices[2].y,n.vertices[0].x,n.vertices[0].y])}return t}Object.defineProperty(t,"__esModule",{value:!0});var U=5,Y=Math.pow(2,14);t.sampleImplicit=i,t.sampleImplicitDiagnostic=a,t.buildQuadTree=f,t.triangulate=N,t.traceContours=R,t.displayTriangles=G}),define("worker/workerconfig",[],function(){return{pointsOfInterest:!0,plotSingleVariableImplicitEquations:!0}}),function(){var e,t,r,n,i,a,o,s,u,c,l,h,f,p,m,d,g={};!function(e){function t(e,t){return function(r,n){return e[r]=t?t(r,n):n}}var r="object"==typeof g?g:"object"==typeof self?self:"object"==typeof this?this:{};"function"==typeof define&&define.amd?define("tslib",["exports"],function(n){e(t(r,t(n)))}):e("object"==typeof module&&"object"==typeof module.exports?t(r,t(module.exports)):t(r))}(function(g){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};e=function(e,t){function r(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]]);return r},n=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},i=function(e,t){return function(r,n){t(r,n,e)}},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,a&&(o=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){u.label=r[1];break}if(6===r[0]&&u.label<o[1]){u.label=o[1],o=r;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(r);break}o[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},u=function(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])},c=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e},f=function(e){return this instanceof f?(this.v=e,this):new f(e)},p=function(e,t,r){function n(e){l[e]&&(c[e]=function(t){return new Promise(function(r,n){h.push([e,t,r,n])>1||i(e,t)})})}function i(e,t){try{a(l[e](t))}catch(e){u(h[0][3],e)}}function a(e){e.value instanceof f?Promise.resolve(e.value.v).then(o,s):u(h[0][2],e)}function o(e){i("next",e)}function s(e){i("throw",e)}function u(e,t){e(t),h.shift(),h.length&&i(h[0][0],h[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=r.apply(e,t||[]),h=[];return c={},n("next"),n("throw"),n("return"),c[Symbol.asyncIterator]=function(){return this},c},m=function(e){function t(t,i){e[t]&&(r[t]=function(r){return(n=!n)?{value:f(e[t](r)),done:"return"===t}:i?i(r):r})}var r,n;return r={},t("next"),t("throw",function(e){throw e}),t("return"),r[Symbol.iterator]=function(){return this},r},d=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof c?c(e):e[Symbol.iterator]()},g("__extends",e),g("__assign",t),g("__rest",r),g("__decorate",n),g("__param",i),g("__metadata",a),g("__awaiter",o),g("__generator",s),g("__exportStar",u),g("__values",c),g("__read",l),g("__spread",h),g("__await",f),g("__asyncGenerator",p),g("__asyncDelegator",m),g("__asyncValues",d)})}(),define("math/poi-finding-accumulator",["require","exports","worker/workerconfig","tslib","./curve-accumulator","./poi"],function(e,t,r,n,i,a){"use strict";function o(e){return Math.abs(e)<5e-8}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.domain=t,i.fn=r,i.derivative=n,i.poiData={zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}},i.flatLeft=void 0,i}return n.__extends(t,e),t.prototype.getPOI=function(){return r.pointsOfInterest?(void 0!==this.fn&&(this.poiData.intercept=this.findIntercept(this.fn)),this.poiData):{zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}}},t.prototype.addLinearZero=function(e){var t=-e[0]/e[1];this.isOutsideDomain(t)||(this.poiData.zeros={x:[t],y:[0]})},t.prototype.addLinearIntercept=function(e){this.isOutsideDomain(0)||(this.poiData.intercept={x:[0],y:[e[0]]})},t.prototype.isOutsideDomain=function(e){return!this.domain||void 0===this.domain.min||void 0===this.domain.max||(e<this.domain.min||e>this.domain.max||isNaN(e))},t.prototype.flushPending=function(){if(this.pendingPoint){var e=this.pendingPoint[0],t=this.pendingPoint[1];this.pivotPoint=void 0,this.pendingPoint=void 0;var r=this.segment.length,n=void 0,i=void 0;if(i=this.checkForZero(this.segment[r-2],this.segment[r-1],e,t),r>=4&&(n=this.checkForExtremum(this.segment[r-4],this.segment[r-3],this.segment[r-2],this.segment[r-1],e,t)),i&&(this.poiData.zeros.x.push(i[0]),this.poiData.zeros.y.push(i[1])),n){this.poiData.extrema.x.push(n[0]),this.poiData.extrema.y.push(n[1]);var o=void 0;n[0]<this.segment[r-2]?(o=!!this.fn&&!!a.default.bisectJump(this.segment[r-4],this.segment[r-3],n[0],n[1],this.segment[r-2],this.segment[r-1],this.fn,this.ytolerance),o||this.segment.splice(-2,0,n[0],n[1])):(o=!!this.fn&&!!a.default.bisectJump(this.segment[r-2],this.segment[r-1],n[0],n[1],e,t,this.fn,this.ytolerance),o||n[0]===e||this.segment.push(n[0],n[1]))}this.segment.push(e,t)}},t.prototype.breakSegment=function(){if(this.flushPending(),this.segment.length>2){this.segments.push(this.segment);var e=this.segment.length;o(this.segment[1])&&(this.poiData.zeros.x.push(this.segment[0]),this.poiData.zeros.y.push(this.segment[1])),o(this.segment[e-1])&&(this.poiData.zeros.x.push(this.segment[e-2]),this.poiData.zeros.y.push(this.segment[e-1]))}this.segment=[],this.flatLeft=void 0},t.prototype.checkForZero=function(e,t,r,n){if(this.fn){var i;return 0===this.segment[1]&&(this.flatLeft=[this.segment[0],this.segment[1]]),this.flatLeft?0!==n&&(this.flatLeft[0]!==this.segment[0]&&(i=a.default.flatCenter(this.flatLeft[0],this.flatLeft[1],e,t,r,n,this.fn)),this.flatLeft=void 0):0===n?this.flatLeft=[e,t]:t<0!=n<0&&(i=a.default.bisectZero(e,t,r,n,this.fn)),i}},t.prototype.checkForExtremum=function(e,t,r,n,i,o){if(this.fn){var s;if(isFinite(t)&&isFinite(n)&&isFinite(o)){if(t!==n&&n===o)this.flatLeft=[e,t];else if(t===n&&n!==o&&this.flatLeft)n>this.flatLeft[1]==n>o&&(s=a.default.flatCenter(this.flatLeft[0],this.flatLeft[1],r,n,i,o,this.fn));else{if(t===n&&n===o)return;if(n>t==n>o)if(this.derivative){if(this.derivative(e)>0==this.derivative(i)>0)return;if(s=a.default.bisectZero(e,this.derivative(e),i,this.derivative(i),this.derivative),s||(s=a.default.bisectExtremum(e,t,r,n,i,o,this.fn)),s)return[s[0],this.fn(s[0])]}else s=a.default.bisectExtremum(e,t,r,n,i,o,this.fn)}return s}}},t.prototype.findIntercept=function(e){if(!e)return{x:[],y:[]};var t=e(0);return isFinite(t)?{x:[0],y:[e(0)]}:{x:[],y:[]}},t.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0,poi:this.getPOI()}},t}(i.default);t.default=s}),define("graphing/graphmode",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.X=1,t.Y=2,t.XYPOINT=3,t.XYPOINT_MOVABLE=4,t.PARAMETRIC=5,t.POLAR=6,t.POLYGONFILL=7,t.IMPLICIT=8,t.NONE=10}),define("math/domaintypes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyDomain=function(){return{type:"empty"}},t.unknownDomain=function(){return{type:"unknown"}},t.knownDomain=function(e){return isNaN(e[0])||isNaN(e[1])||e[1]<e[0]?t.emptyDomain():{type:"known",bounds:e}},t.allReals=function(){return t.knownDomain([-(1/0),1/0])},t.intersectDomains=function(e,r){if("empty"===e.type||"empty"===r.type)return t.emptyDomain();if("unknown"===e.type||"unknown"===r.type)return t.unknownDomain();if(e.bounds&&r.bounds){var n=[Math.max(e.bounds[0],r.bounds[0]),Math.min(e.bounds[1],r.bounds[1])];return t.knownDomain(n)}return t.emptyDomain()}}),define("math/plotter",["require","exports","./distance","./poi","./implicit-plotter","./curve-accumulator","./poi-finding-accumulator","graphing/graphmode","./domaintypes"],function(e,t,r,n,i,a,o,s,u){"use strict";function c(e,t){for(var r,n=new a.default,i=t.min;i<=t.max+t.step/2;i+=t.step)r=e(i),isFinite(r[0])&&isFinite(r[1])?n.addPoint(r):n.breakSegment();return n.finish()}function l(e,t){for(var r,n=new o.default(t,e),i=t.min;i<=t.max+t.step/2;i+=t.step)r=e(i),isFinite(r)?n.addPoint([i,r]):n.breakSegment();return n.finish()}function h(e,t){var r=new o.default(t);return r.addPoint([t.min,e[0]+t.min*e[1]]),r.addPoint([t.max,e[0]+t.max*e[1]]),r.addLinearZero(e),r.addLinearIntercept(e),r.finish()}function f(e,t){var r=h(e[0],t),n=h(e[1],t);return r.segments.length&&n.segments.length&&4===r.segments[0].length&&4===n.segments[0].length?{segments:[[r.segments[0][1],n.segments[0][1],r.segments[0][3],n.segments[0][3]]],resolved:!0}:{segments:[],resolved:!0}}function p(e,t,i){var a,o,s,u,c,l,h=i.fn,f=i.jumpTolerance,p=i.stepPerturbation;a=e[0],o=e[1],c=t[0],l=t[1],s=r.mean(a,c),u=h(s);var m;if(m=n.default.bisectJump(a,o,s,u,c,l,h,f))for(var d=[-p,p],g=0;g<d.length;g++)if(a=e[0]+d[g],o=h(a),isFinite(o)||(a=e[0],o=e[1]),c=t[0]+d[g],l=h(c),isFinite(l)||(c=t[0],l=t[1]),s=r.mean(a,c),u=h(s),n.default.bisectJump(a,o,s,u,c,l,h,f))return m}function m(e,t,r){var i,a=new I(e,t,r),o=t.min,s=e(o),u=[o,s];for(isFinite(s)&&a.accumulator.addPoint([o,s]),o+=t.step;o<=t.max+t.step/2;o+=t.step){var c=o;s=e(c),isFinite(s)||(c=o+a.stepPerturbation,s=e(c)),isFinite(s)||(c=o-a.stepPerturbation,s=e(c)),isFinite(s)&&isFinite(u[1])?(S(u,[c,s],a),a.accumulator.addPoint([c,s])):isFinite(s)&&!isFinite(u[1])?(i=n.default.bisectFinite(u[0],u[1],c,s,e),i&&(i[0]!==c&&a.accumulator.addPoint(i),S(i,[c,s],a),a.accumulator.addPoint([c,s]))):!isFinite(s)&&isFinite(u[1])&&(i=n.default.bisectFinite(u[0],u[1],c,s,e),i&&(S(u,i,a),i[0]!==u[0]&&a.accumulator.addPoint(i),a.accumulator.breakSegment())),u=[c,s]}return a.accumulator.finish()}function d(e,t,r,n){function i(e,t){var i=t%2===0?1:-1;if(!n&&i===-1)return!1;for(var a=t*(Math.PI/r),o=[u,u+1,u+2,u+3],s=!1,c=0,h=o.length;c<h;c++){var f=e(o[c]),p=e(o[c]+a);if(isFinite(f)&&isFinite(p)&&(s=!0),isFinite(f)!==isFinite(p)||Math.abs(f-i*p)>l)return!1}return!!s}var a,o,s,u=t.min,c=t.max-t.min,l=t.xtolerance&&t.ytolerance?Math.min(t.xtolerance,t.ytolerance):t.tolerance?t.tolerance:0,h=Math.floor(c/(Math.PI/r));for(a=1;a<=h;a++)if(i(e,a)){for(s=a,o=2;o*a<=h;o++)i(e,o*a)||(s=void 0);if(s)break}return s?s*(Math.PI/r):null}function g(e){return[e[1]*Math.cos(e[0]),e[1]*Math.sin(e[0])]}function y(e,t){return t.map=g,m(e,t)}function v(e,t){for(var r=e.min,n=e.max,i=e.step,a=n-r,o=Math.ceil(a/i),s=a/o,u=0;u<o;u++)t(r+u*s);t(n)}function b(e,t){if(t.max<t.min)return{segments:[],resolved:!0};var r=new a.default(t),n=10,i=t.min,o=e(i);isFinite(o[0])&&isFinite(o[1])&&r.addPoint(o);var s;return v(t,function(t){s=e(t),x(e,i,o,t,s,n,r),i=t,o=s}),r.finish()}function x(e,t,n,i,a,o,s){if(i!==t){var u=s.xtolerance,c=s.ytolerance,l=r.mean(t,i),h=e(l),f=isFinite(n[0])&&isFinite(n[1]),p=isFinite(a[0])&&isFinite(a[1]),m=isFinite(h[0])&&isFinite(h[1]);if(0===o||l===t||l===i)return s.breakSegment(),void(p&&s.addPoint(a));if(f||p){if(f!==p){for(var d=t,g=i,y=n,v=a;t!==l&&l!==i;)m==f?(t=l,n=h,f=m):(i=l,a=h,p=m),l=t+(i-t)/2,h=e(l),m=isFinite(h[0])&&isFinite(h[1]);return void(f?(x(e,d,y,t,n,o-1,s),s.breakSegment()):(s.breakSegment(),s.addPoint(a),x(e,i,a,g,v,o-1,s)))}if(f&&m&&p){var b=r.pointToSegmentParameter(h[0],h[1],n[0],n[1],a[0],a[1]);if(b>.2&&b<.8&&Math.abs(h[0]-(n[0]+b*(a[0]-n[0])))<=u&&Math.abs(h[1]-(n[1]+b*(a[1]-n[1])))<=c)return void s.addPoint(a)}n[0]===h[0]&&n[1]===h[1]||x(e,t,n,l,h,o-1,s),a[0]===h[0]&&a[1]===h[1]||x(e,l,h,i,a,o-1,s)}}}function _(e){if(!e)return!1;var t=e.viewport.xmin,r=e.viewport.xmax,n=e.viewport.ymin,i=e.viewport.ymax;return!(!isFinite(t)||!isFinite(r)||r<=t)&&(!(!isFinite(n)||!isFinite(i)||i<=n)&&(!(!isFinite(e.screen.width)||e.screen.width<=0)&&!(!isFinite(e.screen.height)||e.screen.height<=0)))}function w(e,t,r){var n,i,a=e.viewport.xmin,o=e.viewport.xmax,c=e.viewport.ymin,l=e.viewport.ymax,h=e.trigAngleMultiplier||1,f=e.oversample||4,p=1/f*(o-a)/e.screen.width,m=1/f*(l-c)/e.screen.height,g=t.domainBound;switch(t.graphMode){case s.X:switch(n=u.intersectDomains(u.knownDomain([c,l]),g),n.type){case"empty":return!1;case"known":c=n.bounds[0],l=n.bounds[1]}i={min:c,max:l,xtolerance:m,ytolerance:p,step:m};break;case s.Y:switch(n=u.intersectDomains(u.knownDomain([a,o]),g),n.type){case"empty":return!1;case"known":a=n.bounds[0],o=n.bounds[1]}i={min:a,max:o,xtolerance:p,ytolerance:m,step:p};break;case s.POLAR:i={min:0,max:2*Math.PI/h*6,step:2*Math.PI/h/1e3,tolerance:Math.min(p,m)};var y=d(r,i,h,"="===t.operator);y&&(i.max=i.min+y);break;case s.PARAMETRIC:var v=t.domain?t.domain.min:0,b=t.domain?t.domain.max:1,x=t.domain?t.domain.step:.01;switch(n=u.intersectDomains(u.knownDomain([v,b]),g),n.type){case"empty":return!1;case"known":v=n.bounds[0],b=n.bounds[1]}i={min:v,max:b,step:x,xtolerance:p,ytolerance:m};break;case s.IMPLICIT:i={xmin:a,xmax:o,ymin:c,ymax:l,xtolerance:p,ytolerance:m};break;default:return!1}return i}function M(e,t,r,n){var a,o,u,c=w(e,t,r);if(c){switch(t.graphMode){case s.X:case s.Y:a=t.isLinear?h(t.linearCoefficients,c):m(r,c,n);break;case s.POLAR:a=y(r,c);break;case s.IMPLICIT:a=i.sampleImplicit(r,c);break;default:c.step||(c.step=(c.max-c.min)/1e3),a=t.isLinear?f(t.linearCoefficients,c):b(r,c)}u=a.poi}else a={segments:[],resolved:!0};if((!u||u.zeros.x.length+u.extrema.x.length+u.intercept.x.length>250)&&(u={zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}}),t.graphMode===s.X)for(var l in u)u.hasOwnProperty(l)&&(o=u[l].y,u[l].y=u[l].x,u[l].x=o);var p={segments:a.segments,resolved:a.resolved,graphMode:t.graphMode,color:t.color,style:t.style,operator:t.operator,poi:u,expr:null};return a.fillSegments&&(p.fillSegments=a.fillSegments),p}function E(e,t,r){var n,i,a,o,u=[],c=null;switch(r){case s.POLAR:c=g;break;case s.X:c=function(e){return[e[1],e[0]]}}for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i+=2)a=[o[i],o[i+1]],c&&(a=c(a)),u.push(a[0],a[1]);for(n=t.length-1;n>=0;n--)for(o=t[n],i=o.length-2;i>=0;i-=2)a=[o[i],o[i+1]],c&&(a=c(a)),u.push(a[0],a[1]);return u}function T(e,t,n){for(var i=function(e){var t=e[e.length-1];return t[t.length-2]},a=[],o=0,s=0,u=[],c=[],l=-(1/0),h=-(1/0);;){if(l<=h){if(o>=t.length)break;c.push(t[o++])}if(h<=l){if(s>=e.length)break;u.push(e[s++])}if(l=i(c),h=i(u),r.approx(l,h,4)){a.push(E(u,c,n)),c=[],u=[];var f=Math.max(l,h);l=f,h=f}}return a}Object.defineProperty(t,"__esModule",{value:!0});var S=function(e,t,r){if(isFinite(r.jumpTolerance)&&!(r.jumpTolerance<=0)){var n;if(n=p(e,t,r)){var i=n[0],a=n[1];i&&r.accumulator.addPoint(i),r.accumulator.breakSegment(),a&&r.accumulator.addPoint(a)}}},I=function(){function e(e,t,r){this.derivative=r,this.accumulator=new o.default(t,e,r),this.fn=e,this.jumpTolerance=t.ytolerance||t.tolerance||0,this.stepPerturbation=t.step/10}return e}();t.default={sampleParametricNaive:c,sampleXYNaive:l,sampleLinear:h,sampleXY:m,findPiPeriod:d,samplePolar:y,sampleParametricRecursive:b,subsampleParametricRecursive:x,validateViewState:_,computeDomain:w,computeGraphData:M,polygonsFromSegments:T}}),define("jison",[],function(){var e={trace:function(){},yy:{},symbols_:{error:2,sentence:3,expr:4,EOF:5,assignment:6,equation:7,function_declaration:8,regression:9,ordered_pair_list:10,double_inequality:11,boolean:12,identifier:13,"=":14,FUNCTION_PROTOTYPE:15,",":16,"~":17,comparator:18,IDENTIFIER_BASE:19,ordered_pair:20,ordered_pair_list_elements:21,"(":22,")":23,list:24,"[":25,list_elements:26,"]":27,range:28,optional_commas_ellipsis:29,"...":30,list_element_access_impmul:31,expr_atom_impmul:32,list_element_access:33,expr_atom:34,expr_sum:35,"<":36,">":37,">=":38,"<=":39,"+":40,expr_product:41,"-":42,"*":43,"/":44,"%":45,OF:46,exponent:47,"^N":48,"^I":49,"^":50,"{":51,"}":52,subscript:53,_N:54,_I:55,_:56,function_call:57,primed_function_call:58,function_call_unary:59,trig_function_call:60,ln_log_function_call:61,logbase_function_call:62,ANS:63,"left|":64,"right|":65,FRAC:66,SQRT:67,"!":68,repeated_operator:69,integral:70,DERIVATIVE:71,expr_piecewise:72,constant:73,expr_atom_error:74,repeated_operator_symbol:75,SUM:76,PROD:77,INT:78,DIFFERENTIAL:79,"{_visible":80,piecewise_list:81,"}_visible":82,incomplete_piecewise_list:83,piecewise_element:84,":":85,NUMBER:86,trig_function:87,TRIG_FUNCTION:88,logbase_prefix:89,LOG:90,LOG_BASE_N:91,ln_log_prefix:92,LN:93,function_argument_list:94,primes:95,PRIME:96,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"=",15:"FUNCTION_PROTOTYPE",16:",",17:"~",19:"IDENTIFIER_BASE",22:"(",23:")",25:"[",27:"]",30:"...",36:"<",37:">",38:">=",39:"<=",40:"+",42:"-",43:"*",44:"/",45:"%",46:"OF",48:"^N",49:"^I",50:"^",51:"{",52:"}",54:"_N",55:"_I",56:"_",63:"ANS",64:"left|",65:"right|",66:"FRAC",67:"SQRT",68:"!",71:"DERIVATIVE",76:"SUM",77:"PROD",78:"INT",79:"DIFFERENTIAL",80:"{_visible",82:"}_visible",85:":",86:"NUMBER",88:"TRIG_FUNCTION",90:"LOG",91:"LOG_BASE_N",93:"LN",96:"PRIME"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[3,2],[3,2],[3,2],[3,2],[3,3],[3,2],[3,4],[3,1],[6,3],[9,3],[7,3],[11,5],[13,1],[10,3],[21,1],[21,3],[20,5],[24,3],[28,5],[29,1],[29,2],[29,2],[29,3],[26,1],[26,3],[31,4],[33,4],[4,1],[18,1],[18,1],[18,1],[18,1],[12,3],[12,3],[12,5],[35,3],[35,3],[35,2],[35,2],[35,1],[41,2],[41,3],[41,3],[41,4],[41,3],[41,3],[41,2],[41,2],[41,2],[41,1],[47,1],[47,1],[47,4],[53,1],[53,1],[53,4],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,3],[32,3],[32,3],[32,2],[32,5],[32,6],[32,6],[32,7],[32,4],[32,7],[32,2],[32,1],[32,1],[32,2],[32,1],[34,1],[34,2],[34,2],[34,2],[34,2],[34,1],[34,1],[34,1],[34,1],[34,1],[34,1],[74,1],[74,2],[74,1],[74,2],[75,1],[75,1],[69,9],[70,5],[70,4],[70,2],[72,3],[72,2],[81,3],[81,1],[83,3],[83,1],[84,3],[84,1],[73,1],[59,5],[59,4],[87,1],[60,4],[60,2],[60,7],[60,9],[60,3],[60,5],[89,2],[89,1],[62,4],[62,2],[62,5],[62,3],[92,1],[92,1],[61,4],[61,2],[61,5],[61,3],[57,4],[58,5],[58,5],[58,5],[58,5],[58,5],[95,2],[95,1],[94,3],[94,3],[8,2]],performAction:function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 1:return a[s-1];case 2:return a[s-1];case 3:return a[s-1];case 4:return a[s-1];case 5:return a[s-1];case 6:return a[s-1];case 7:return a[s-1];case 8:return a[s-1];case 9:return n.ErrorMsg.missingRHS(a[s-2]._symbol);case 10:var u=n.parseFunctionDeclaration(a[s-1]).identifier._symbol;return n.ErrorMsg.missingRHS(u);case 11:return n.ErrorMsg.malformedPoint();case 12:return n.ErrorMsg.blankExpression();case 13:this.$=n.Assignment(a[s-2],a[s]),n.setInput(this.$,this._$);break;case 14:this.$=n.Regression(a[s-2],a[s]),n.setInput(this.$,this._$);break;case 15:this.$=n.Equation(a[s-2],a[s]),n.setInput(this.$,this._$);break;case 16:this.$=n.DoubleInequality([a[s-4],a[s-3],a[s-2],a[s-1],a[s]]),n.setInput(this.$,this._$);break;case 17:this.$=n.Identifier(e),n.setInput(this.$,this._$);break;case 18:a[s].unshift(a[s-2]),this.$=n.List(a[s]),n.setInput(this.$,this._$);break;case 19:this.$=[a[s]];break;case 20:a[s-2].push(a[s]),this.$=a[s-2];break;case 21:this.$=n.OrderedPair([a[s-3],a[s-1]]);break;case 22:this.$=n.List(a[s-1]),n.setInput(this.$,this._$);break;case 23:this.$=n.Range([n.List(a[s-3]),n.List(a[s-1])]);break;case 28:this.$=[a[s]];break;case 29:a[s-2].push(a[s]),this.$=a[s-2];break;case 30:this.$=n.ListAccess([a[s-3],a[s-1]]);break;case 31:this.$=n.ListAccess([a[s-3],a[s-1]]);break;case 32:this.$=a[s],n.setInput(this.$,this._$);break;case 33:this.$="<";break;case 34:this.$=">";break;case 35:this.$=">=";break;case 36:this.$="<=";break;case 37:this.$=n.Comparator[a[s-1]]([a[s-2],a[s]]),n.setInput(this.$,this._$);break;case 38:this.$=n.Comparator["="]([a[s-2],a[s]]),n.setInput(this.$,this._$);break;case 39:var c=n.Comparator[a[s-3]]([a[s-4],a[s-2]]),l=n.Comparator[a[s-1]]([a[s-2],a[s]]);this.$=n.And([c,l]),n.setInput(this.$,this._$);break;case 40:this.$=n.Add([a[s-2],a[s]]);break;case 41:this.$=n.Subtract([a[s-2],a[s]]);break;case 42:throw n.ErrorMsg.binaryOperatorMissingOperand("+");case 43:throw n.ErrorMsg.binaryOperatorMissingOperand("-");case 44:this.$=a[s];break;case 45:this.$=n.Multiply([a[s-1],a[s]]);break;case 46:this.$=n.Multiply([a[s-2],a[s]]);break;case 47:this.$=n.Divide([a[s-2],a[s]]);break;case 48:this.$=n.Divide([n.Multiply([a[s-3],a[s]]),n.Constant(100)]);break;case 49:throw n.ErrorMsg.binaryOperatorMissingOperand("% of");case 50:throw n.ErrorMsg.percentMissingOf();case 51:throw n.ErrorMsg.percentMissingOf();case 52:throw n.ErrorMsg.binaryOperatorMissingOperand("*");case 53:throw n.ErrorMsg.binaryOperatorMissingOperand("÷");case 54:this.$=a[s];break;case 55:this.$=n.Constant(Number(a[s]));break;case 56:this.$=n.Identifier(a[s]),n.setInput(this.$,this._$);break;case 57:this.$=a[s-1];break;case 58:this.$=n.Constant(Number(a[s]));break;case 59:this.$=n.Identifier(a[s]),n.setInput(this.$,this._$);break;case 60:this.$=a[s-1];break;case 61:this.$=a[s];break;case 62:this.$=a[s];break;case 63:this.$=a[s];break;case 64:this.$=a[s];break;case 65:this.$=a[s];break;case 66:this.$=a[s];break;case 67:this.$=a[s];break;case 68:this.$=a[s];break;case 69:if(void 0===n.currentIndex)throw n.ErrorMsg.badAnsContext();this.$=n.Ans("ans_{"+(n.currentIndex-1)+"}");break;case 70:this.$=a[s-1];break;case 71:this.$=a[s-1];break;case 72:this.$=n.FunctionCall("\\\\abs",[a[s-1]]);break;case 73:this.$=n.Exponent([a[s-1],a[s]]);break;case 74:throw n.ErrorMsg.fractionEmpty();case 75:throw n.ErrorMsg.fractionMissingNumerator();case 76:throw n.ErrorMsg.fractionMissingDenominator();case 77:this.$=n.Divide([a[s-4],a[s-1]]);break;case 78:this.$=n.FunctionCall("\\\\sqrt",[a[s-1]]);break;case 79:this.$=n.FunctionCall("\\\\nthroot",[a[s-1],a[s-4]]);break;case 80:this.$=n.FunctionCall("\\\\factorial",[a[s-1]]);break;case 81:this.$=a[s];break;case 82:this.$=a[s];break;case 83:this.$=n.Derivative(a[s-1],[a[s]]);break;case 84:this.$=a[s];break;case 85:this.$=a[s];break;case 86:this.$=n.Exponent([a[s-1],a[s]]);break;case 87:this.$=n.FunctionCall("\\\\factorial",[a[s-1]]);break;case 88:this.$=a[s].isConstant?n.Constant(-a[s].constantValue):n.Negative([a[s]]);break;case 89:this.$=a[s];break;case 90:this.$=a[s];break;case 91:this.$=a[s];break;case 92:this.$=a[s];break;case 93:this.$=a[s];break;case 94:this.$=a[s];break;case 95:this.$=a[s];break;case 96:throw n.ErrorMsg.binaryOperatorMissingOperand("*");case 97:throw n.ErrorMsg.binaryOperatorMissingOperand("*");case 98:throw n.ErrorMsg.binaryOperatorMissingOperand("÷");case 99:throw n.ErrorMsg.binaryOperatorMissingOperand("÷");case 100:this.$=n.Sum;break;case 101:this.$=n.Product;break;case 102:this.$=a[s-8]([a[s-5],a[s-3],a[s-1],a[s]]);break;case 103:this.$=n.Integral([n.Identifier(a[s]),a[s-3],a[s-2],a[s-1]]);break;case 104:this.$=n.Integral([n.Identifier(a[s]),a[s-2],a[s-1],n.Constant(1)]);break;case 105:throw n.ErrorMsg.missingIntegralBounds();case 106:this.$=n.Piecewise.chain(a[s-1]);break;case 107:this.$=n.Piecewise.empty();break;case 108:a[s-2].push({condition:n.Constant(!0),if_expr:a[s]}),this.$=a[s-2];break;case 109:this.$=a[s];break;case 110:a[s-2].push(a[s]),this.$=a[s-2];break;case 111:this.$=[a[s]];break;case 112:this.$={condition:a[s-2],if_expr:a[s]};break;case 113:this.$={condition:a[s],if_expr:n.Constant(1)};break;case 114:this.$=n.Constant(Number(e));break;case 115:this.$=n.FunctionExponent([a[s-4],a[s-2],a[s]]);break;case 116:this.$=n.FunctionCall(a[s-3],[a[s-1]]);break;case 117:this.$=n.Identifier(e),n.setInput(this.$,this._$);break;case 118:this.$=n.FunctionCall(a[s-3],[a[s-1]]);break;case 119:if(a[s]instanceof n.OrderedPair)this.$=n.FunctionCall(a[s-1],a[s].args);else{if(!a[s].okForImplicitFunction())throw n.ErrorMsg.badImplicitMultiply(a[s-1]._symbol);this.$=n.FunctionCall(a[s-1],[a[s]])}break;case 120:if(1!=a[s-2].constantValue)throw n.ErrorMsg.badTrigExponent(a[s-6]._symbol);if(a[s]instanceof n.OrderedPair)this.$=n.FunctionCall(n.inverses[a[s-6]._symbol],a[s].args);else{if(!a[s].okForImplicitFunction())throw n.ErrorMsg.badImplicitMultiply(a[s-6]._symbol);this.$=n.FunctionCall(n.inverses[a[s-6]._symbol],[a[s]])}break;case 121:if(1!=a[s-4].constantValue)throw n.ErrorMsg.badTrigExponent(a[s-8]._symbol);this.$=n.FunctionCall(n.inverses[a[s-8]._symbol],[a[s-1]]);break;case 122:if("2"!=a[s-1])throw n.ErrorMsg.badTrigExponent(a[s-2]._symbol);if(a[s]instanceof n.OrderedPair)this.$=n.Exponent([n.FunctionCall(a[s-2],a[s].args),n.Constant(2)]);else{if(!a[s].okForImplicitFunction())throw n.ErrorMsg.badImplicitMultiply(a[s-2]._symbol);this.$=n.Exponent([n.FunctionCall(a[s-2],[a[s]]),n.Constant(2)])}break;case 123:if("2"!=a[s-3])throw n.ErrorMsg.badTrigExponent(a[s-4]._symbol);this.$=n.Exponent([n.FunctionCall(a[s-4],[a[s-1]]),n.Constant(2)]);break;case 124:this.$=a[s];break;case 125:this.$=n.Constant(Number(e));break;case 126:this.$=n.FunctionCall("logbase",[a[s-1],a[s-3]]);break;case 127:if(!a[s].okForImplicitFunction())throw n.ErrorMsg.badImplicitMultiply("logbase");this.$=n.FunctionCall("logbase",[a[s],a[s-1]]);break;case 128:if("2"!=a[s-3])throw n.ErrorMsg.badLogExponent("logbase");this.$=n.Exponent([n.FunctionCall("logbase",[a[s-1],a[s-4]]),n.Constant(2)]);break;case 129:if(!a[s].okForImplicitFunction())throw n.ErrorMsg.badImplicitMultiply("logbase");if("2"!=a[s-1])throw n.ErrorMsg.badLogExponent("logbase");this.$=n.Exponent([n.FunctionCall("logbase",[a[s],a[s-2]]),n.Constant(2)]);break;case 130:this.$="ln";break;case 131:this.$="log";break;case 132:this.$=n.FunctionCall(a[s-3],[a[s-1]]);break;case 133:if(!a[s].okForImplicitFunction())throw n.ErrorMsg.badImplicitMultiply(a[s-1]);this.$=n.FunctionCall(a[s-1],[a[s]]);break;case 134:if("2"!=a[s-3])throw n.ErrorMsg.badLogExponent(a[s-4]);this.$=n.Exponent([n.FunctionCall(a[s-4],[a[s-1]]),n.Constant(2)]);break;case 135:if(!a[s].okForImplicitFunction())throw n.ErrorMsg.badImplicitMultiply(a[s-2]);if("2"!=a[s-1])throw n.ErrorMsg.badLogExponent(a[s-2]);this.$=n.Exponent([n.FunctionCall(a[s-2],[a[s]]),n.Constant(2)]);break;case 136:this.$=n.FunctionCall(a[s-3],a[s-1]);break;case 137:this.$=n.Prime(a[s-3],[n.FunctionCall(a[s-4],[a[s-1]])]);break;case 138:this.$=n.Prime(a[s-3],[n.FunctionCall(a[s-4],[a[s-1]])]);break;case 139:this.$=n.Prime(a[s-3],[n.FunctionCall(a[s-4],[a[s-1]])]);break;case 140:this.$=n.Prime(a[s-3],[n.FunctionCall("logbase",[a[s-1],a[s-4]])]);break;case 141:throw n.ErrorMsg.primedFunctionArity();case 142:this.$=a[s-1]+1;break;case 143:this.$=1;break;case 144:this.$=a[s-2].concat([a[s]]);break;case 145:this.$=[a[s-2],a[s]];break;case 146:var h=n.parseFunctionDeclaration(a[s-1]);this.$=n.FunctionDefinition(h.identifier,h.args,a[s]),n.setInput(this.$,this._$)}},table:[{3:1,4:2,5:[1,12],6:3,7:4,8:5,9:6,10:7,11:8,12:9,13:10,15:[1,11],19:[1,15],20:14,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{1:[3]},{5:[1,59],14:[1,61],16:[1,60],17:[1,62],18:63,36:[1,64],37:[1,65],38:[1,66],39:[1,67]},{5:[1,68]},{5:[1,69]},{5:[1,70]},{5:[1,71]},{5:[1,72]},{5:[1,73]},{5:[1,74]},{5:[2,61],14:[1,75],16:[2,61],17:[2,61],19:[2,61],22:[1,76],25:[2,61],36:[2,61],37:[2,61],38:[2,61],39:[2,61],40:[2,61],42:[2,61],43:[2,61],44:[2,61],45:[2,61],48:[2,61],49:[2,61],50:[2,61],51:[2,61],63:[2,61],64:[2,61],66:[2,61],67:[2,61],68:[2,61],71:[2,61],76:[2,61],77:[2,61],78:[2,61],80:[2,61],88:[2,61],90:[2,61],91:[2,61],93:[2,61],95:77,96:[1,78]},{4:80,5:[1,79],13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{1:[2,12]},{5:[2,32],14:[2,32],16:[2,32],17:[2,32],19:[2,32],22:[2,32],23:[2,32],25:[2,32],27:[2,32],30:[2,32],36:[2,32],37:[2,32],38:[2,32],39:[2,32],40:[1,83],42:[1,84],43:[2,32],44:[2,32],45:[2,32],48:[2,32],49:[2,32],50:[2,32],51:[2,32],52:[2,32],63:[2,32],64:[2,32],65:[2,32],66:[2,32],67:[2,32],68:[2,32],71:[2,32],76:[2,32],77:[2,32],78:[2,32],79:[2,32],80:[2,32],82:[2,32],85:[2,32],88:[2,32],90:[2,32],91:[2,32],93:[2,32]},{5:[2,93],14:[2,93],16:[1,85],17:[2,93],19:[2,93],22:[2,93],25:[2,93],36:[2,93],37:[2,93],38:[2,93],\n39:[2,93],40:[2,93],42:[2,93],43:[2,93],44:[2,93],45:[2,93],48:[2,93],49:[2,93],50:[2,93],51:[2,93],63:[2,93],64:[2,93],66:[2,93],67:[2,93],68:[2,93],71:[2,93],76:[2,93],77:[2,93],78:[2,93],80:[2,93],88:[2,93],90:[2,93],91:[2,93],93:[2,93]},{5:[2,17],14:[2,17],16:[2,17],17:[2,17],19:[2,17],22:[2,17],23:[2,17],25:[2,17],27:[2,17],30:[2,17],36:[2,17],37:[2,17],38:[2,17],39:[2,17],40:[2,17],42:[2,17],43:[2,17],44:[2,17],45:[2,17],48:[2,17],49:[2,17],50:[2,17],51:[2,17],52:[2,17],63:[2,17],64:[2,17],65:[2,17],66:[2,17],67:[2,17],68:[2,17],71:[2,17],76:[2,17],77:[2,17],78:[2,17],79:[2,17],80:[2,17],82:[2,17],85:[2,17],88:[2,17],90:[2,17],91:[2,17],93:[2,17],96:[2,17]},{5:[2,44],13:82,14:[2,44],16:[2,44],17:[2,44],19:[1,15],22:[1,90],23:[2,44],25:[2,44],27:[2,44],30:[2,44],31:35,32:86,36:[2,44],37:[2,44],38:[2,44],39:[2,44],40:[2,44],42:[2,44],43:[1,87],44:[1,88],45:[1,89],48:[2,44],49:[2,44],50:[2,44],51:[1,37],52:[2,44],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,44],66:[1,39],67:[1,40],68:[2,44],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,44],80:[1,52],82:[2,44],85:[2,44],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:91,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,54],14:[2,54],16:[2,54],17:[2,54],19:[2,54],22:[2,54],23:[2,54],25:[1,94],27:[2,54],30:[2,54],36:[2,54],37:[2,54],38:[2,54],39:[2,54],40:[2,54],42:[2,54],43:[2,54],44:[2,54],45:[2,54],47:92,48:[1,95],49:[1,96],50:[1,97],51:[2,54],52:[2,54],63:[2,54],64:[2,54],65:[2,54],66:[2,54],67:[2,54],68:[1,93],71:[2,54],76:[2,54],77:[2,54],78:[2,54],79:[2,54],80:[2,54],82:[2,54],85:[2,54],88:[2,54],90:[2,54],91:[2,54],93:[2,54]},{5:[2,85],14:[2,85],16:[2,85],17:[2,85],19:[2,85],22:[2,85],23:[2,85],25:[2,85],27:[2,85],30:[2,85],36:[2,85],37:[2,85],38:[2,85],39:[2,85],40:[2,85],42:[2,85],43:[2,85],44:[2,85],45:[2,85],48:[2,85],49:[2,85],50:[2,85],51:[2,85],52:[2,85],63:[2,85],64:[2,85],65:[2,85],66:[2,85],67:[2,85],68:[2,85],71:[2,85],76:[2,85],77:[2,85],78:[2,85],79:[2,85],80:[2,85],82:[2,85],85:[2,85],88:[2,85],90:[2,85],91:[2,85],93:[2,85]},{13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:98,40:[1,21],42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:99,40:[1,21],42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,90],14:[2,90],16:[2,90],17:[2,90],19:[2,90],22:[2,90],23:[2,90],25:[2,90],27:[2,90],30:[2,90],36:[2,90],37:[2,90],38:[2,90],39:[2,90],40:[2,90],42:[2,90],43:[2,90],44:[2,90],45:[2,90],48:[2,90],49:[2,90],50:[2,90],51:[2,90],52:[2,90],63:[2,90],64:[2,90],65:[2,90],66:[2,90],67:[2,90],68:[2,90],71:[2,90],76:[2,90],77:[2,90],78:[2,90],79:[2,90],80:[2,90],82:[2,90],85:[2,90],88:[2,90],90:[2,90],91:[2,90],93:[2,90]},{5:[2,91],14:[2,91],16:[2,91],17:[2,91],19:[2,91],22:[2,91],23:[2,91],25:[2,91],27:[2,91],30:[2,91],36:[2,91],37:[2,91],38:[2,91],39:[2,91],40:[2,91],42:[2,91],43:[2,91],44:[2,91],45:[2,91],48:[2,91],49:[2,91],50:[2,91],51:[2,91],52:[2,91],63:[2,91],64:[2,91],65:[2,91],66:[2,91],67:[2,91],68:[2,91],71:[2,91],76:[2,91],77:[2,91],78:[2,91],79:[2,91],80:[2,91],82:[2,91],85:[2,91],88:[2,91],90:[2,91],91:[2,91],93:[2,91]},{5:[2,92],14:[2,92],16:[2,92],17:[2,92],19:[2,92],22:[2,92],23:[2,92],25:[2,92],27:[2,92],30:[2,92],36:[2,92],37:[2,92],38:[2,92],39:[2,92],40:[2,92],42:[2,92],43:[2,92],44:[2,92],45:[2,92],48:[2,92],49:[2,92],50:[2,92],51:[2,92],52:[2,92],63:[2,92],64:[2,92],65:[2,92],66:[2,92],67:[2,92],68:[2,92],71:[2,92],76:[2,92],77:[2,92],78:[2,92],79:[2,92],80:[2,92],82:[2,92],85:[2,92],88:[2,92],90:[2,92],91:[2,92],93:[2,92]},{5:[2,94],14:[2,94],16:[2,94],17:[2,94],19:[2,94],22:[2,94],23:[2,94],25:[1,102],27:[2,94],30:[2,94],36:[2,94],37:[2,94],38:[2,94],39:[2,94],40:[2,94],42:[2,94],43:[2,94],44:[2,94],45:[2,94],47:100,48:[1,95],49:[1,96],50:[1,97],51:[2,94],52:[2,94],63:[2,94],64:[2,94],65:[2,94],66:[2,94],67:[2,94],68:[1,101],71:[2,94],76:[2,94],77:[2,94],78:[2,94],79:[2,94],80:[2,94],82:[2,94],85:[2,94],88:[2,94],90:[2,94],91:[2,94],93:[2,94]},{5:[2,95],14:[2,95],16:[2,95],17:[2,95],19:[2,95],22:[2,95],23:[2,95],25:[2,95],27:[2,95],30:[2,95],36:[2,95],37:[2,95],38:[2,95],39:[2,95],40:[2,95],42:[2,95],43:[2,95],44:[2,95],45:[2,95],48:[2,95],49:[2,95],50:[2,95],51:[2,95],52:[2,95],63:[2,95],64:[2,95],65:[2,95],66:[2,95],67:[2,95],68:[2,95],71:[2,95],76:[2,95],77:[2,95],78:[2,95],79:[2,95],80:[2,95],82:[2,95],85:[2,95],88:[2,95],90:[2,95],91:[2,95],93:[2,95]},{5:[2,114],14:[2,114],16:[2,114],17:[2,114],19:[2,114],22:[2,114],23:[2,114],25:[2,114],27:[2,114],30:[2,114],36:[2,114],37:[2,114],38:[2,114],39:[2,114],40:[2,114],42:[2,114],43:[2,114],44:[2,114],45:[2,114],48:[2,114],49:[2,114],50:[2,114],51:[2,114],52:[2,114],63:[2,114],64:[2,114],65:[2,114],66:[2,114],67:[2,114],68:[2,114],71:[2,114],76:[2,114],77:[2,114],78:[2,114],79:[2,114],80:[2,114],82:[2,114],85:[2,114],88:[2,114],90:[2,114],91:[2,114],93:[2,114]},{4:104,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],26:103,28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,62],14:[2,62],16:[2,62],17:[2,62],19:[2,62],22:[2,62],23:[2,62],25:[2,62],27:[2,62],30:[2,62],36:[2,62],37:[2,62],38:[2,62],39:[2,62],40:[2,62],42:[2,62],43:[2,62],44:[2,62],45:[2,62],48:[2,62],49:[2,62],50:[2,62],51:[2,62],52:[2,62],63:[2,62],64:[2,62],65:[2,62],66:[2,62],67:[2,62],68:[2,62],71:[2,62],76:[2,62],77:[2,62],78:[2,62],79:[2,62],80:[2,62],82:[2,62],85:[2,62],88:[2,62],90:[2,62],91:[2,62],93:[2,62]},{5:[2,63],14:[2,63],16:[2,63],17:[2,63],19:[2,63],22:[2,63],23:[2,63],25:[2,63],27:[2,63],30:[2,63],36:[2,63],37:[2,63],38:[2,63],39:[2,63],40:[2,63],42:[2,63],43:[2,63],44:[2,63],45:[2,63],48:[2,63],49:[2,63],50:[2,63],51:[2,63],52:[2,63],63:[2,63],64:[2,63],65:[2,63],66:[2,63],67:[2,63],68:[2,63],71:[2,63],76:[2,63],77:[2,63],78:[2,63],79:[2,63],80:[2,63],82:[2,63],85:[2,63],88:[2,63],90:[2,63],91:[2,63],93:[2,63]},{5:[2,64],14:[2,64],16:[2,64],17:[2,64],19:[2,64],22:[2,64],23:[2,64],25:[2,64],27:[2,64],30:[2,64],36:[2,64],37:[2,64],38:[2,64],39:[2,64],40:[2,64],42:[2,64],43:[2,64],44:[2,64],45:[2,64],48:[2,64],49:[2,64],50:[2,64],51:[2,64],52:[2,64],63:[2,64],64:[2,64],65:[2,64],66:[2,64],67:[2,64],68:[2,64],71:[2,64],76:[2,64],77:[2,64],78:[2,64],79:[2,64],80:[2,64],82:[2,64],85:[2,64],88:[2,64],90:[2,64],91:[2,64],93:[2,64]},{5:[2,65],14:[2,65],16:[2,65],17:[2,65],19:[2,65],22:[2,65],23:[2,65],25:[2,65],27:[2,65],30:[2,65],36:[2,65],37:[2,65],38:[2,65],39:[2,65],40:[2,65],42:[2,65],43:[2,65],44:[2,65],45:[2,65],48:[2,65],49:[2,65],50:[2,65],51:[2,65],52:[2,65],63:[2,65],64:[2,65],65:[2,65],66:[2,65],67:[2,65],68:[2,65],71:[2,65],76:[2,65],77:[2,65],78:[2,65],79:[2,65],80:[2,65],82:[2,65],85:[2,65],88:[2,65],90:[2,65],91:[2,65],93:[2,65]},{5:[2,66],14:[2,66],16:[2,66],17:[2,66],19:[2,66],22:[2,66],23:[2,66],25:[2,66],27:[2,66],30:[2,66],36:[2,66],37:[2,66],38:[2,66],39:[2,66],40:[2,66],42:[2,66],43:[2,66],44:[2,66],45:[2,66],48:[2,66],49:[2,66],50:[2,66],51:[2,66],52:[2,66],63:[2,66],64:[2,66],65:[2,66],66:[2,66],67:[2,66],68:[2,66],71:[2,66],76:[2,66],77:[2,66],78:[2,66],79:[2,66],80:[2,66],82:[2,66],85:[2,66],88:[2,66],90:[2,66],91:[2,66],93:[2,66]},{5:[2,67],14:[2,67],16:[2,67],17:[2,67],19:[2,67],22:[2,67],23:[2,67],25:[2,67],27:[2,67],30:[2,67],36:[2,67],37:[2,67],38:[2,67],39:[2,67],40:[2,67],42:[2,67],43:[2,67],44:[2,67],45:[2,67],48:[2,67],49:[2,67],50:[2,67],51:[2,67],52:[2,67],63:[2,67],64:[2,67],65:[2,67],66:[2,67],67:[2,67],68:[2,67],71:[2,67],76:[2,67],77:[2,67],78:[2,67],79:[2,67],80:[2,67],82:[2,67],85:[2,67],88:[2,67],90:[2,67],91:[2,67],93:[2,67]},{5:[2,68],14:[2,68],16:[2,68],17:[2,68],19:[2,68],22:[2,68],23:[2,68],25:[2,68],27:[2,68],30:[2,68],36:[2,68],37:[2,68],38:[2,68],39:[2,68],40:[2,68],42:[2,68],43:[2,68],44:[2,68],45:[2,68],48:[2,68],49:[2,68],50:[2,68],51:[2,68],52:[2,68],63:[2,68],64:[2,68],65:[2,68],66:[2,68],67:[2,68],68:[2,68],71:[2,68],76:[2,68],77:[2,68],78:[2,68],79:[2,68],80:[2,68],82:[2,68],85:[2,68],88:[2,68],90:[2,68],91:[2,68],93:[2,68]},{5:[2,69],14:[2,69],16:[2,69],17:[2,69],19:[2,69],22:[2,69],23:[2,69],25:[2,69],27:[2,69],30:[2,69],36:[2,69],37:[2,69],38:[2,69],39:[2,69],40:[2,69],42:[2,69],43:[2,69],44:[2,69],45:[2,69],48:[2,69],49:[2,69],50:[2,69],51:[2,69],52:[2,69],63:[2,69],64:[2,69],65:[2,69],66:[2,69],67:[2,69],68:[2,69],71:[2,69],76:[2,69],77:[2,69],78:[2,69],79:[2,69],80:[2,69],82:[2,69],85:[2,69],88:[2,69],90:[2,69],91:[2,69],93:[2,69]},{4:105,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:106,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{51:[1,107]},{25:[1,109],51:[1,108]},{5:[2,81],14:[2,81],16:[2,81],17:[2,81],19:[2,81],22:[2,81],23:[2,81],25:[2,81],27:[2,81],30:[2,81],36:[2,81],37:[2,81],38:[2,81],39:[2,81],40:[2,81],42:[2,81],43:[2,81],44:[2,81],45:[2,81],48:[2,81],49:[2,81],50:[2,81],51:[2,81],52:[2,81],63:[2,81],64:[2,81],65:[2,81],66:[2,81],67:[2,81],68:[2,81],71:[2,81],76:[2,81],77:[2,81],78:[2,81],79:[2,81],80:[2,81],82:[2,81],85:[2,81],88:[2,81],90:[2,81],91:[2,81],93:[2,81]},{5:[2,82],14:[2,82],16:[2,82],17:[2,82],19:[2,82],22:[2,82],23:[2,82],25:[2,82],27:[2,82],30:[2,82],36:[2,82],37:[2,82],38:[2,82],39:[2,82],40:[2,82],42:[2,82],43:[2,82],44:[2,82],45:[2,82],48:[2,82],49:[2,82],50:[2,82],51:[2,82],52:[2,82],63:[2,82],64:[2,82],65:[2,82],66:[2,82],67:[2,82],68:[2,82],71:[2,82],76:[2,82],77:[2,82],78:[2,82],79:[2,82],80:[2,82],82:[2,82],85:[2,82],88:[2,82],90:[2,82],91:[2,82],93:[2,82]},{13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,40:[1,21],41:110,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,84],14:[2,84],16:[2,84],17:[2,84],19:[2,84],22:[2,84],23:[2,84],25:[2,84],27:[2,84],30:[2,84],36:[2,84],37:[2,84],38:[2,84],39:[2,84],40:[2,84],42:[2,84],43:[2,84],44:[2,84],45:[2,84],48:[2,84],49:[2,84],50:[2,84],51:[2,84],52:[2,84],63:[2,84],64:[2,84],65:[2,84],66:[2,84],67:[2,84],68:[2,84],71:[2,84],76:[2,84],77:[2,84],78:[2,84],79:[2,84],80:[2,84],82:[2,84],85:[2,84],88:[2,84],90:[2,84],91:[2,84],93:[2,84]},{5:[2,96],13:82,14:[2,96],16:[2,96],17:[2,96],19:[1,15],20:81,22:[1,17],23:[2,96],24:22,25:[1,28],27:[2,96],28:23,30:[2,96],31:35,32:25,33:24,34:111,36:[2,96],37:[2,96],38:[2,96],39:[2,96],40:[1,21],42:[1,20],43:[1,45],44:[1,46],45:[2,96],48:[2,96],49:[2,96],50:[2,96],51:[1,37],52:[2,96],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,96],66:[1,39],67:[1,40],68:[2,96],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,96],80:[1,52],82:[2,96],85:[2,96],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,98],13:82,14:[2,98],16:[2,98],17:[2,98],19:[1,15],20:81,22:[1,17],23:[2,98],24:22,25:[1,28],27:[2,98],28:23,30:[2,98],31:35,32:25,33:24,34:112,36:[2,98],37:[2,98],38:[2,98],39:[2,98],40:[1,21],42:[1,20],43:[1,45],44:[1,46],45:[2,98],48:[2,98],49:[2,98],50:[2,98],51:[1,37],52:[2,98],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,98],66:[1,39],67:[1,40],68:[2,98],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,98],80:[1,52],82:[2,98],85:[2,98],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{13:82,19:[1,15],20:81,22:[1,114],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,40:[1,21],41:115,42:[1,20],43:[1,45],44:[1,46],48:[1,117],50:[1,116],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54],95:113,96:[1,78]},{13:82,19:[1,15],20:81,22:[1,119],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,40:[1,21],41:120,42:[1,20],43:[1,45],44:[1,46],48:[1,121],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54],95:118,96:[1,78]},{13:82,19:[1,15],20:81,22:[1,123],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,40:[1,21],41:124,42:[1,20],43:[1,45],44:[1,46],48:[1,125],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54],95:122,96:[1,78]},{56:[1,126]},{4:128,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],53:127,54:[1,129],55:[1,130],56:[1,131],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:137,12:136,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],81:132,82:[1,133],83:134,84:135,86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{19:[2,117],22:[2,117],25:[2,117],40:[2,117],42:[2,117],43:[2,117],44:[2,117],48:[2,117],50:[2,117],51:[2,117],63:[2,117],64:[2,117],66:[2,117],67:[2,117],71:[2,117],76:[2,117],77:[2,117],78:[2,117],80:[2,117],86:[2,117],88:[2,117],90:[2,117],91:[2,117],93:[2,117],96:[2,117]},{19:[2,130],22:[2,130],25:[2,130],40:[2,130],42:[2,130],43:[2,130],44:[2,130],48:[2,130],51:[2,130],63:[2,130],64:[2,130],66:[2,130],67:[2,130],71:[2,130],76:[2,130],77:[2,130],78:[2,130],80:[2,130],86:[2,130],88:[2,130],90:[2,130],91:[2,130],93:[2,130],96:[2,130]},{19:[2,131],22:[2,131],25:[2,131],40:[2,131],42:[2,131],43:[2,131],44:[2,131],48:[2,131],51:[2,131],53:138,54:[1,129],55:[1,130],56:[1,131],63:[2,131],64:[2,131],66:[2,131],67:[2,131],71:[2,131],76:[2,131],77:[2,131],78:[2,131],80:[2,131],86:[2,131],88:[2,131],90:[2,131],91:[2,131],93:[2,131],96:[2,131]},{19:[2,125],22:[2,125],25:[2,125],40:[2,125],42:[2,125],43:[2,125],44:[2,125],48:[2,125],51:[2,125],63:[2,125],64:[2,125],66:[2,125],67:[2,125],71:[2,125],76:[2,125],77:[2,125],78:[2,125],80:[2,125],86:[2,125],88:[2,125],90:[2,125],91:[2,125],93:[2,125],96:[2,125]},{56:[2,100]},{56:[2,101]},{1:[2,1]},{4:139,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:140,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:141,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:143,13:142,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{19:[2,33],22:[2,33],25:[2,33],40:[2,33],42:[2,33],43:[2,33],44:[2,33],51:[2,33],63:[2,33],64:[2,33],66:[2,33],67:[2,33],71:[2,33],76:[2,33],77:[2,33],78:[2,33],80:[2,33],86:[2,33],88:[2,33],90:[2,33],91:[2,33],93:[2,33]},{19:[2,34],22:[2,34],25:[2,34],40:[2,34],42:[2,34],43:[2,34],44:[2,34],51:[2,34],63:[2,34],64:[2,34],66:[2,34],67:[2,34],71:[2,34],76:[2,34],77:[2,34],78:[2,34],80:[2,34],86:[2,34],88:[2,34],90:[2,34],91:[2,34],93:[2,34]},{19:[2,35],22:[2,35],25:[2,35],40:[2,35],42:[2,35],43:[2,35],44:[2,35],51:[2,35],63:[2,35],64:[2,35],66:[2,35],67:[2,35],71:[2,35],76:[2,35],77:[2,35],78:[2,35],80:[2,35],86:[2,35],88:[2,35],90:[2,35],91:[2,35],93:[2,35]},{19:[2,36],22:[2,36],25:[2,36],40:[2,36],42:[2,36],43:[2,36],44:[2,36],51:[2,36],63:[2,36],64:[2,36],66:[2,36],67:[2,36],71:[2,36],76:[2,36],77:[2,36],78:[2,36],80:[2,36],86:[2,36],88:[2,36],90:[2,36],91:[2,36],93:[2,36]},{1:[2,2]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{1:[2,8]},{4:145,5:[1,144],13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:147,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54],94:146},{22:[1,148],96:[1,149]},{22:[2,143],96:[2,143]},{1:[2,10]},{5:[2,146]},{5:[2,93],14:[2,93],16:[2,93],17:[2,93],19:[2,93],22:[2,93],23:[2,93],25:[2,93],27:[2,93],30:[2,93],36:[2,93],37:[2,93],38:[2,93],39:[2,93],40:[2,93],42:[2,93],43:[2,93],44:[2,93],45:[2,93],48:[2,93],49:[2,93],50:[2,93],51:[2,93],52:[2,93],63:[2,93],64:[2,93],65:[2,93],66:[2,93],67:[2,93],68:[2,93],71:[2,93],76:[2,93],77:[2,93],78:[2,93],79:[2,93],80:[2,93],82:[2,93],85:[2,93],88:[2,93],90:[2,93],91:[2,93],93:[2,93]},{5:[2,61],14:[2,61],16:[2,61],17:[2,61],19:[2,61],22:[1,76],23:[2,61],25:[2,61],27:[2,61],30:[2,61],36:[2,61],37:[2,61],38:[2,61],39:[2,61],40:[2,61],42:[2,61],43:[2,61],44:[2,61],45:[2,61],48:[2,61],49:[2,61],50:[2,61],51:[2,61],52:[2,61],63:[2,61],64:[2,61],65:[2,61],66:[2,61],67:[2,61],68:[2,61],71:[2,61],76:[2,61],77:[2,61],78:[2,61],79:[2,61],80:[2,61],82:[2,61],85:[2,61],88:[2,61],90:[2,61],91:[2,61],93:[2,61],95:77,96:[1,78]},{5:[2,42],13:82,14:[2,42],16:[2,42],17:[2,42],19:[1,15],20:81,22:[1,17],23:[2,42],24:22,25:[1,28],27:[2,42],28:23,30:[2,42],31:35,32:25,33:24,34:18,36:[2,42],37:[2,42],38:[2,42],39:[2,42],40:[1,21],41:150,42:[1,20],43:[1,45],44:[1,46],45:[2,42],48:[2,42],49:[2,42],50:[2,42],51:[1,37],52:[2,42],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,42],66:[1,39],67:[1,40],68:[2,42],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,42],80:[1,52],82:[2,42],85:[2,42],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,43],13:82,14:[2,43],16:[2,43],17:[2,43],19:[1,15],20:81,22:[1,17],23:[2,43],24:22,25:[1,28],27:[2,43],28:23,30:[2,43],31:35,32:25,33:24,34:18,36:[2,43],37:[2,43],38:[2,43],39:[2,43],40:[1,21],41:151,42:[1,20],43:[1,45],44:[1,46],45:[2,43],48:[2,43],49:[2,43],50:[2,43],51:[1,37],52:[2,43],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,43],66:[1,39],67:[1,40],68:[2,43],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,43],80:[1,52],82:[2,43],85:[2,43],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{20:153,21:152,22:[1,154]},{5:[2,45],14:[2,45],16:[2,45],17:[2,45],19:[2,45],22:[2,45],23:[2,45],25:[1,102],27:[2,45],30:[2,45],36:[2,45],37:[2,45],38:[2,45],39:[2,45],40:[2,45],42:[2,45],43:[2,45],44:[2,45],45:[2,45],47:100,48:[1,95],49:[1,96],50:[1,97],51:[2,45],52:[2,45],63:[2,45],64:[2,45],65:[2,45],66:[2,45],67:[2,45],68:[1,101],71:[2,45],76:[2,45],77:[2,45],78:[2,45],79:[2,45],80:[2,45],82:[2,45],85:[2,45],88:[2,45],90:[2,45],91:[2,45],93:[2,45]},{5:[2,52],13:82,14:[2,52],16:[2,52],17:[2,52],19:[1,15],20:81,22:[1,17],23:[2,52],24:22,25:[1,28],27:[2,52],28:23,30:[2,52],31:35,32:25,33:24,34:155,36:[2,52],37:[2,52],38:[2,52],39:[2,52],40:[1,21],42:[1,20],43:[1,45],44:[1,46],45:[2,52],48:[2,52],49:[2,52],50:[2,52],51:[1,37],52:[2,52],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,52],66:[1,39],67:[1,40],68:[2,52],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,52],80:[1,52],82:[2,52],85:[2,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,53],13:82,14:[2,53],16:[2,53],17:[2,53],19:[1,15],20:81,22:[1,17],23:[2,53],24:22,25:[1,28],27:[2,53],28:23,30:[2,53],31:35,32:25,33:24,34:156,36:[2,53],37:[2,53],38:[2,53],39:[2,53],40:[1,21],42:[1,20],43:[1,45],44:[1,46],45:[2,53],48:[2,53],49:[2,53],50:[2,53],51:[1,37],52:[2,53],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,53],66:[1,39],67:[1,40],68:[2,53],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,53],80:[1,52],82:[2,53],85:[2,53],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,51],13:82,14:[2,51],16:[2,51],17:[2,51],19:[1,15],20:81,22:[1,17],23:[2,51],24:22,25:[1,28],27:[2,51],28:23,30:[2,51],31:35,32:25,33:24,34:158,36:[2,51],37:[2,51],38:[2,51],39:[2,51],40:[1,21],42:[1,20],43:[1,45],44:[1,46],45:[2,51],46:[1,157],48:[2,51],49:[2,51],50:[2,51],51:[1,37],52:[2,51],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,51],66:[1,39],67:[1,40],68:[2,51],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,51],80:[1,52],82:[2,51],85:[2,51],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:159,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{16:[1,160],23:[1,161]},{5:[2,86],14:[2,86],16:[2,86],17:[2,86],19:[2,86],22:[2,86],23:[2,86],25:[2,86],27:[2,86],30:[2,86],36:[2,86],37:[2,86],38:[2,86],39:[2,86],40:[2,86],42:[2,86],43:[2,86],44:[2,86],45:[2,86],48:[2,86],49:[2,86],50:[2,86],51:[2,86],52:[2,86],63:[2,86],64:[2,86],65:[2,86],66:[2,86],67:[2,86],68:[2,86],71:[2,86],76:[2,86],77:[2,86],78:[2,86],79:[2,86],80:[2,86],82:[2,86],85:[2,86],88:[2,86],90:[2,86],91:[2,86],93:[2,86]},{5:[2,87],14:[2,87],16:[2,87],17:[2,87],19:[2,87],22:[2,87],23:[2,87],25:[2,87],27:[2,87],30:[2,87],36:[2,87],37:[2,87],38:[2,87],39:[2,87],40:[2,87],42:[2,87],43:[2,87],44:[2,87],45:[2,87],48:[2,87],49:[2,87],50:[2,87],51:[2,87],52:[2,87],63:[2,87],64:[2,87],65:[2,87],66:[2,87],67:[2,87],68:[2,87],71:[2,87],76:[2,87],77:[2,87],78:[2,87],79:[2,87],80:[2,87],82:[2,87],85:[2,87],88:[2,87],90:[2,87],91:[2,87],93:[2,87]},{4:162,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,55],14:[2,55],16:[2,55],17:[2,55],19:[2,55],22:[2,55],23:[2,55],25:[2,55],27:[2,55],30:[2,55],36:[2,55],37:[2,55],38:[2,55],39:[2,55],40:[2,55],42:[2,55],43:[2,55],44:[2,55],45:[2,55],48:[2,55],49:[2,55],50:[2,55],51:[2,55],52:[2,55],63:[2,55],64:[2,55],65:[2,55],66:[2,55],67:[2,55],68:[2,55],71:[2,55],76:[2,55],77:[2,55],78:[2,55],79:[2,55],80:[2,55],82:[2,55],85:[2,55],86:[2,55],88:[2,55],90:[2,55],91:[2,55],93:[2,55]},{5:[2,56],14:[2,56],16:[2,56],17:[2,56],19:[2,56],22:[2,56],23:[2,56],25:[2,56],27:[2,56],30:[2,56],36:[2,56],37:[2,56],38:[2,56],39:[2,56],40:[2,56],42:[2,56],43:[2,56],44:[2,56],45:[2,56],48:[2,56],49:[2,56],50:[2,56],51:[2,56],52:[2,56],63:[2,56],64:[2,56],65:[2,56],66:[2,56],67:[2,56],68:[2,56],71:[2,56],76:[2,56],77:[2,56],78:[2,56],79:[2,56],80:[2,56],82:[2,56],85:[2,56],86:[2,56],88:[2,56],90:[2,56],91:[2,56],93:[2,56]},{51:[1,163]},{5:[2,88],14:[2,88],16:[2,88],17:[2,88],19:[2,88],22:[2,88],23:[2,88],25:[1,94],27:[2,88],30:[2,88],36:[2,88],37:[2,88],38:[2,88],39:[2,88],40:[2,88],42:[2,88],43:[2,88],44:[2,88],45:[2,88],47:92,48:[1,95],49:[1,96],50:[1,97],51:[2,88],52:[2,88],63:[2,88],64:[2,88],65:[2,88],66:[2,88],67:[2,88],68:[1,93],71:[2,88],76:[2,88],77:[2,88],78:[2,88],79:[2,88],80:[2,88],82:[2,88],85:[2,88],88:[2,88],90:[2,88],91:[2,88],93:[2,88]},{5:[2,89],14:[2,89],16:[2,89],17:[2,89],19:[2,89],22:[2,89],23:[2,89],25:[1,94],27:[2,89],30:[2,89],36:[2,89],37:[2,89],38:[2,89],39:[2,89],40:[2,89],42:[2,89],43:[2,89],44:[2,89],45:[2,89],47:92,48:[1,95],49:[1,96],50:[1,97],51:[2,89],52:[2,89],63:[2,89],64:[2,89],65:[2,89],66:[2,89],67:[2,89],68:[1,93],71:[2,89],76:[2,89],77:[2,89],78:[2,89],79:[2,89],80:[2,89],82:[2,89],85:[2,89],88:[2,89],90:[2,89],91:[2,89],93:[2,89]},{5:[2,73],14:[2,73],16:[2,73],17:[2,73],19:[2,73],22:[2,73],23:[2,73],25:[2,73],27:[2,73],30:[2,73],36:[2,73],37:[2,73],38:[2,73],39:[2,73],40:[2,73],42:[2,73],43:[2,73],44:[2,73],45:[2,73],48:[2,73],49:[2,73],50:[2,73],51:[2,73],52:[2,73],63:[2,73],64:[2,73],65:[2,73],66:[2,73],67:[2,73],68:[2,73],71:[2,73],76:[2,73],77:[2,73],78:[2,73],79:[2,73],80:[2,73],82:[2,73],85:[2,73],88:[2,73],90:[2,73],91:[2,73],93:[2,73]},{5:[2,80],14:[2,80],16:[2,80],17:[2,80],19:[2,80],22:[2,80],23:[2,80],25:[2,80],27:[2,80],30:[2,80],36:[2,80],37:[2,80],38:[2,80],39:[2,80],40:[2,80],42:[2,80],43:[2,80],44:[2,80],45:[2,80],48:[2,80],49:[2,80],50:[2,80],51:[2,80],52:[2,80],63:[2,80],64:[2,80],65:[2,80],66:[2,80],67:[2,80],68:[2,80],71:[2,80],76:[2,80],77:[2,80],78:[2,80],79:[2,80],80:[2,80],82:[2,80],85:[2,80],88:[2,80],90:[2,80],91:[2,80],93:[2,80]},{4:164,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{16:[1,167],27:[1,165],29:166,30:[1,168]},{16:[2,28],27:[2,28],30:[2,28]},{52:[1,169]},{65:[1,170]},{4:172,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],52:[1,171],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:173,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:174,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,83],13:82,14:[2,83],16:[2,83],17:[2,83],19:[1,15],22:[1,90],23:[2,83],25:[2,83],27:[2,83],30:[2,83],31:35,32:86,36:[2,83],37:[2,83],38:[2,83],39:[2,83],40:[2,83],42:[2,83],43:[1,87],44:[1,88],45:[1,89],48:[2,83],49:[2,83],50:[2,83],51:[1,37],52:[2,83],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,83],66:[1,39],67:[1,40],68:[2,83],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,83],80:[1,52],82:[2,83],85:[2,83],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,97],14:[2,97],16:[2,97],17:[2,97],19:[2,97],22:[2,97],23:[2,97],25:[1,94],27:[2,97],30:[2,97],36:[2,97],37:[2,97],38:[2,97],39:[2,97],40:[2,97],42:[2,97],43:[2,97],44:[2,97],45:[2,97],47:92,48:[1,95],49:[1,96],50:[1,97],51:[2,97],52:[2,97],63:[2,97],64:[2,97],65:[2,97],66:[2,97],67:[2,97],68:[1,93],71:[2,97],76:[2,97],77:[2,97],78:[2,97],79:[2,97],80:[2,97],82:[2,97],85:[2,97],88:[2,97],90:[2,97],91:[2,97],93:[2,97]},{5:[2,99],14:[2,99],16:[2,99],17:[2,99],19:[2,99],22:[2,99],23:[2,99],25:[1,94],27:[2,99],30:[2,99],36:[2,99],37:[2,99],38:[2,99],39:[2,99],40:[2,99],42:[2,99],43:[2,99],44:[2,99],45:[2,99],47:92,48:[1,95],49:[1,96],50:[1,97],51:[2,99],52:[2,99],63:[2,99],64:[2,99],65:[2,99],66:[2,99],67:[2,99],68:[1,93],71:[2,99],76:[2,99],77:[2,99],78:[2,99],79:[2,99],80:[2,99],82:[2,99],85:[2,99],88:[2,99],90:[2,99],91:[2,99],93:[2,99]},{22:[1,175],96:[1,149]},{4:176,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,119],13:82,14:[2,119],16:[2,119],17:[2,119],19:[1,15],22:[1,90],23:[2,119],25:[2,119],27:[2,119],30:[2,119],31:35,32:86,36:[2,119],37:[2,119],38:[2,119],39:[2,119],40:[2,119],42:[2,119],43:[1,87],44:[1,88],45:[1,89],48:[2,119],49:[2,119],50:[2,119],51:[1,37],52:[2,119],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,119],66:[1,39],67:[1,40],68:[2,119],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,119],80:[1,52],82:[2,119],85:[2,119],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{51:[1,177]},{13:82,19:[1,15],20:81,22:[1,179],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,40:[1,21],41:178,42:[1,20],43:[1,45],44:[1,46],51:[1,37],\n57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{22:[1,180],96:[1,149]},{4:181,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,133],13:82,14:[2,133],16:[2,133],17:[2,133],19:[1,15],22:[1,90],23:[2,133],25:[2,133],27:[2,133],30:[2,133],31:35,32:86,36:[2,133],37:[2,133],38:[2,133],39:[2,133],40:[2,133],42:[2,133],43:[1,87],44:[1,88],45:[1,89],48:[2,133],49:[2,133],50:[2,133],51:[1,37],52:[2,133],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,133],66:[1,39],67:[1,40],68:[2,133],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,133],80:[1,52],82:[2,133],85:[2,133],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{13:82,19:[1,15],20:81,22:[1,182],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,40:[1,21],41:183,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{22:[1,184],96:[1,149]},{4:185,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,127],13:82,14:[2,127],16:[2,127],17:[2,127],19:[1,15],22:[1,90],23:[2,127],25:[2,127],27:[2,127],30:[2,127],31:35,32:86,36:[2,127],37:[2,127],38:[2,127],39:[2,127],40:[2,127],42:[2,127],43:[1,87],44:[1,88],45:[1,89],48:[2,127],49:[2,127],50:[2,127],51:[1,37],52:[2,127],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,127],66:[1,39],67:[1,40],68:[2,127],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,127],80:[1,52],82:[2,127],85:[2,127],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{13:82,19:[1,15],20:81,22:[1,186],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,40:[1,21],41:187,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{51:[1,188]},{47:189,48:[1,95],49:[1,96],50:[1,97]},{5:[2,105],14:[2,105],16:[2,105],17:[2,105],19:[2,105],22:[2,105],23:[2,105],25:[2,105],27:[2,105],30:[2,105],36:[2,105],37:[2,105],38:[2,105],39:[2,105],40:[2,105],42:[2,105],43:[2,105],44:[2,105],45:[2,105],48:[2,105],49:[2,105],50:[2,105],51:[2,105],52:[2,105],63:[2,105],64:[2,105],65:[2,105],66:[2,105],67:[2,105],68:[2,105],71:[2,105],76:[2,105],77:[2,105],78:[2,105],79:[2,105],80:[2,105],82:[2,105],85:[2,105],88:[2,105],90:[2,105],91:[2,105],93:[2,105]},{19:[2,58],22:[2,58],25:[2,58],40:[2,58],42:[2,58],43:[2,58],44:[2,58],48:[2,58],49:[2,58],50:[2,58],51:[2,58],63:[2,58],64:[2,58],66:[2,58],67:[2,58],71:[2,58],76:[2,58],77:[2,58],78:[2,58],80:[2,58],86:[2,58],88:[2,58],90:[2,58],91:[2,58],93:[2,58],96:[2,58]},{19:[2,59],22:[2,59],25:[2,59],40:[2,59],42:[2,59],43:[2,59],44:[2,59],48:[2,59],49:[2,59],50:[2,59],51:[2,59],63:[2,59],64:[2,59],66:[2,59],67:[2,59],71:[2,59],76:[2,59],77:[2,59],78:[2,59],80:[2,59],86:[2,59],88:[2,59],90:[2,59],91:[2,59],93:[2,59],96:[2,59]},{51:[1,190]},{82:[1,191]},{5:[2,107],14:[2,107],16:[2,107],17:[2,107],19:[2,107],22:[2,107],23:[2,107],25:[2,107],27:[2,107],30:[2,107],36:[2,107],37:[2,107],38:[2,107],39:[2,107],40:[2,107],42:[2,107],43:[2,107],44:[2,107],45:[2,107],48:[2,107],49:[2,107],50:[2,107],51:[2,107],52:[2,107],63:[2,107],64:[2,107],65:[2,107],66:[2,107],67:[2,107],68:[2,107],71:[2,107],76:[2,107],77:[2,107],78:[2,107],79:[2,107],80:[2,107],82:[2,107],85:[2,107],88:[2,107],90:[2,107],91:[2,107],93:[2,107]},{16:[1,192],82:[2,109]},{16:[2,111],82:[2,111]},{16:[2,113],82:[2,113],85:[1,193]},{14:[1,195],18:194,36:[1,64],37:[1,65],38:[1,66],39:[1,67]},{19:[2,124],22:[2,124],25:[2,124],40:[2,124],42:[2,124],43:[2,124],44:[2,124],48:[2,124],51:[2,124],63:[2,124],64:[2,124],66:[2,124],67:[2,124],71:[2,124],76:[2,124],77:[2,124],78:[2,124],80:[2,124],86:[2,124],88:[2,124],90:[2,124],91:[2,124],93:[2,124],96:[2,124]},{5:[1,196]},{5:[2,15]},{5:[2,14]},{5:[2,61],18:197,19:[2,61],22:[1,76],25:[2,61],36:[1,64],37:[1,65],38:[1,66],39:[1,67],40:[2,61],42:[2,61],43:[2,61],44:[2,61],45:[2,61],48:[2,61],49:[2,61],50:[2,61],51:[2,61],63:[2,61],64:[2,61],66:[2,61],67:[2,61],68:[2,61],71:[2,61],76:[2,61],77:[2,61],78:[2,61],80:[2,61],88:[2,61],90:[2,61],91:[2,61],93:[2,61],95:77,96:[1,78]},{5:[2,37],16:[2,37],18:198,36:[1,64],37:[1,65],38:[1,66],39:[1,67],82:[2,37],85:[2,37]},{1:[2,9]},{5:[2,13]},{16:[1,200],23:[1,199]},{16:[1,202],23:[1,201]},{4:203,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54],94:204},{22:[2,142],96:[2,142]},{5:[2,40],13:82,14:[2,40],16:[2,40],17:[2,40],19:[1,15],22:[1,90],23:[2,40],25:[2,40],27:[2,40],30:[2,40],31:35,32:86,36:[2,40],37:[2,40],38:[2,40],39:[2,40],40:[2,40],42:[2,40],43:[1,87],44:[1,88],45:[1,89],48:[2,40],49:[2,40],50:[2,40],51:[1,37],52:[2,40],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,40],66:[1,39],67:[1,40],68:[2,40],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,40],80:[1,52],82:[2,40],85:[2,40],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,41],13:82,14:[2,41],16:[2,41],17:[2,41],19:[1,15],22:[1,90],23:[2,41],25:[2,41],27:[2,41],30:[2,41],31:35,32:86,36:[2,41],37:[2,41],38:[2,41],39:[2,41],40:[2,41],42:[2,41],43:[1,87],44:[1,88],45:[1,89],48:[2,41],49:[2,41],50:[2,41],51:[1,37],52:[2,41],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,41],66:[1,39],67:[1,40],68:[2,41],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,41],80:[1,52],82:[2,41],85:[2,41],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,18],16:[1,205]},{5:[2,19],16:[2,19]},{4:206,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,46],14:[2,46],16:[2,46],17:[2,46],19:[2,46],22:[2,46],23:[2,46],25:[1,94],27:[2,46],30:[2,46],36:[2,46],37:[2,46],38:[2,46],39:[2,46],40:[2,46],42:[2,46],43:[2,46],44:[2,46],45:[2,46],47:92,48:[1,95],49:[1,96],50:[1,97],51:[2,46],52:[2,46],63:[2,46],64:[2,46],65:[2,46],66:[2,46],67:[2,46],68:[1,93],71:[2,46],76:[2,46],77:[2,46],78:[2,46],79:[2,46],80:[2,46],82:[2,46],85:[2,46],88:[2,46],90:[2,46],91:[2,46],93:[2,46]},{5:[2,47],14:[2,47],16:[2,47],17:[2,47],19:[2,47],22:[2,47],23:[2,47],25:[1,94],27:[2,47],30:[2,47],36:[2,47],37:[2,47],38:[2,47],39:[2,47],40:[2,47],42:[2,47],43:[2,47],44:[2,47],45:[2,47],47:92,48:[1,95],49:[1,96],50:[1,97],51:[2,47],52:[2,47],63:[2,47],64:[2,47],65:[2,47],66:[2,47],67:[2,47],68:[1,93],71:[2,47],76:[2,47],77:[2,47],78:[2,47],79:[2,47],80:[2,47],82:[2,47],85:[2,47],88:[2,47],90:[2,47],91:[2,47],93:[2,47]},{5:[2,49],13:82,14:[2,49],16:[2,49],17:[2,49],19:[1,15],20:81,22:[1,17],23:[2,49],24:22,25:[1,28],27:[2,49],28:23,30:[2,49],31:35,32:25,33:24,34:207,36:[2,49],37:[2,49],38:[2,49],39:[2,49],40:[1,21],42:[1,20],43:[1,45],44:[1,46],45:[2,49],48:[2,49],49:[2,49],50:[2,49],51:[1,37],52:[2,49],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,49],66:[1,39],67:[1,40],68:[2,49],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,49],80:[1,52],82:[2,49],85:[2,49],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,50],14:[2,50],16:[2,50],17:[2,50],19:[2,50],22:[2,50],23:[2,50],25:[1,94],27:[2,50],30:[2,50],36:[2,50],37:[2,50],38:[2,50],39:[2,50],40:[2,50],42:[2,50],43:[2,50],44:[2,50],45:[2,50],47:92,48:[1,95],49:[1,96],50:[1,97],51:[2,50],52:[2,50],63:[2,50],64:[2,50],65:[2,50],66:[2,50],67:[2,50],68:[1,93],71:[2,50],76:[2,50],77:[2,50],78:[2,50],79:[2,50],80:[2,50],82:[2,50],85:[2,50],88:[2,50],90:[2,50],91:[2,50],93:[2,50]},{23:[1,161]},{4:208,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,70],14:[2,70],16:[2,70],17:[2,70],19:[2,70],22:[2,70],23:[2,70],25:[2,70],27:[2,70],30:[2,70],36:[2,70],37:[2,70],38:[2,70],39:[2,70],40:[2,70],42:[2,70],43:[2,70],44:[2,70],45:[2,70],48:[2,70],49:[2,70],50:[2,70],51:[2,70],52:[2,70],63:[2,70],64:[2,70],65:[2,70],66:[2,70],67:[2,70],68:[2,70],71:[2,70],76:[2,70],77:[2,70],78:[2,70],79:[2,70],80:[2,70],82:[2,70],85:[2,70],88:[2,70],90:[2,70],91:[2,70],93:[2,70]},{27:[1,209]},{4:210,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{27:[1,211]},{5:[2,22],14:[2,22],16:[2,22],17:[2,22],19:[2,22],22:[2,22],23:[2,22],25:[2,22],27:[2,22],30:[2,22],36:[2,22],37:[2,22],38:[2,22],39:[2,22],40:[2,22],42:[2,22],43:[2,22],44:[2,22],45:[2,22],48:[2,22],49:[2,22],50:[2,22],51:[2,22],52:[2,22],63:[2,22],64:[2,22],65:[2,22],66:[2,22],67:[2,22],68:[2,22],71:[2,22],76:[2,22],77:[2,22],78:[2,22],79:[2,22],80:[2,22],82:[2,22],85:[2,22],88:[2,22],90:[2,22],91:[2,22],93:[2,22]},{4:104,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],26:212,28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:213,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,30:[1,214],31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{16:[1,215],19:[2,24],22:[2,24],25:[2,24],40:[2,24],42:[2,24],43:[2,24],44:[2,24],51:[2,24],63:[2,24],64:[2,24],66:[2,24],67:[2,24],71:[2,24],76:[2,24],77:[2,24],78:[2,24],80:[2,24],86:[2,24],88:[2,24],90:[2,24],91:[2,24],93:[2,24]},{5:[2,71],14:[2,71],16:[2,71],17:[2,71],19:[2,71],22:[2,71],23:[2,71],25:[2,71],27:[2,71],30:[2,71],36:[2,71],37:[2,71],38:[2,71],39:[2,71],40:[2,71],42:[2,71],43:[2,71],44:[2,71],45:[2,71],48:[2,71],49:[2,71],50:[2,71],51:[2,71],52:[2,71],63:[2,71],64:[2,71],65:[2,71],66:[2,71],67:[2,71],68:[2,71],71:[2,71],76:[2,71],77:[2,71],78:[2,71],79:[2,71],80:[2,71],82:[2,71],85:[2,71],88:[2,71],90:[2,71],91:[2,71],93:[2,71]},{5:[2,72],14:[2,72],16:[2,72],17:[2,72],19:[2,72],22:[2,72],23:[2,72],25:[2,72],27:[2,72],30:[2,72],36:[2,72],37:[2,72],38:[2,72],39:[2,72],40:[2,72],42:[2,72],43:[2,72],44:[2,72],45:[2,72],48:[2,72],49:[2,72],50:[2,72],51:[2,72],52:[2,72],63:[2,72],64:[2,72],65:[2,72],66:[2,72],67:[2,72],68:[2,72],71:[2,72],76:[2,72],77:[2,72],78:[2,72],79:[2,72],80:[2,72],82:[2,72],85:[2,72],88:[2,72],90:[2,72],91:[2,72],93:[2,72]},{51:[1,216]},{52:[1,217]},{52:[1,218]},{27:[1,219]},{4:220,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{16:[1,160],23:[1,221]},{42:[1,222]},{5:[2,122],13:82,14:[2,122],16:[2,122],17:[2,122],19:[1,15],22:[1,90],23:[2,122],25:[2,122],27:[2,122],30:[2,122],31:35,32:86,36:[2,122],37:[2,122],38:[2,122],39:[2,122],40:[2,122],42:[2,122],43:[1,87],44:[1,88],45:[1,89],48:[2,122],49:[2,122],50:[2,122],51:[1,37],52:[2,122],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,122],66:[1,39],67:[1,40],68:[2,122],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,122],80:[1,52],82:[2,122],85:[2,122],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:223,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:224,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{16:[1,160],23:[1,225]},{4:226,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,135],13:82,14:[2,135],16:[2,135],17:[2,135],19:[1,15],22:[1,90],23:[2,135],25:[2,135],27:[2,135],30:[2,135],31:35,32:86,36:[2,135],37:[2,135],38:[2,135],39:[2,135],40:[2,135],42:[2,135],43:[1,87],44:[1,88],45:[1,89],48:[2,135],49:[2,135],50:[2,135],51:[1,37],52:[2,135],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,135],66:[1,39],67:[1,40],68:[2,135],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,135],80:[1,52],82:[2,135],85:[2,135],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:227,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{16:[1,160],23:[1,228]},{4:229,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,129],13:82,14:[2,129],16:[2,129],17:[2,129],19:[1,15],22:[1,90],23:[2,129],25:[2,129],27:[2,129],30:[2,129],31:35,32:86,36:[2,129],37:[2,129],38:[2,129],39:[2,129],40:[2,129],42:[2,129],43:[1,87],44:[1,88],45:[1,89],48:[2,129],49:[2,129],50:[2,129],51:[1,37],52:[2,129],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,129],66:[1,39],67:[1,40],68:[2,129],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,129],80:[1,52],82:[2,129],85:[2,129],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{13:230,19:[1,15]},{13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,40:[1,21],41:231,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],79:[1,232],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:233,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,106],14:[2,106],16:[2,106],17:[2,106],19:[2,106],22:[2,106],23:[2,106],25:[2,106],27:[2,106],30:[2,106],36:[2,106],37:[2,106],38:[2,106],39:[2,106],40:[2,106],42:[2,106],43:[2,106],44:[2,106],45:[2,106],48:[2,106],49:[2,106],50:[2,106],51:[2,106],52:[2,106],63:[2,106],64:[2,106],65:[2,106],66:[2,106],67:[2,106],68:[2,106],71:[2,106],76:[2,106],77:[2,106],78:[2,106],79:[2,106],80:[2,106],82:[2,106],85:[2,106],88:[2,106],90:[2,106],91:[2,106],93:[2,106]},{4:234,12:136,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],84:235,86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:236,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:143,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:237,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{1:[2,11]},{4:238,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:239,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,136],14:[2,136],16:[2,136],17:[2,136],19:[2,136],22:[2,136],23:[2,136],25:[2,136],27:[2,136],30:[2,136],36:[2,136],37:[2,136],38:[2,136],39:[2,136],40:[2,136],42:[2,136],43:[2,136],44:[2,136],45:[2,136],48:[2,136],49:[2,136],50:[2,136],51:[2,136],52:[2,136],63:[2,136],64:[2,136],65:[2,136],66:[2,136],67:[2,136],68:[2,136],71:[2,136],76:[2,136],77:[2,136],78:[2,136],79:[2,136],80:[2,136],82:[2,136],85:[2,136],88:[2,136],90:[2,136],91:[2,136],93:[2,136]},{4:240,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,116],14:[2,116],16:[2,116],17:[2,116],19:[2,116],22:[2,116],23:[2,116],25:[2,116],27:[2,116],30:[2,116],36:[2,116],37:[2,116],38:[2,116],39:[2,116],40:[2,116],42:[2,116],43:[2,116],44:[2,116],45:[2,116],47:241,48:[1,95],49:[1,96],50:[1,97],51:[2,116],52:[2,116],63:[2,116],64:[2,116],65:[2,116],66:[2,116],67:[2,116],68:[2,116],71:[2,116],76:[2,116],77:[2,116],78:[2,116],79:[2,116],80:[2,116],82:[2,116],85:[2,116],88:[2,116],90:[2,116],91:[2,116],93:[2,116]},{4:242,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{16:[1,202],23:[1,243]},{16:[1,200],23:[1,244]},{20:245,22:[1,154]},{16:[1,160]},{5:[2,48],14:[2,48],16:[2,48],17:[2,48],19:[2,48],22:[2,48],23:[2,48],25:[1,94],27:[2,48],30:[2,48],36:[2,48],37:[2,48],38:[2,48],39:[2,48],40:[2,48],42:[2,48],43:[2,48],44:[2,48],45:[2,48],47:92,48:[1,95],49:[1,96],50:[1,97],51:[2,48],52:[2,48],63:[2,48],64:[2,48],65:[2,48],66:[2,48],67:[2,48],68:[1,93],71:[2,48],76:[2,48],77:[2,48],78:[2,48],79:[2,48],80:[2,48],82:[2,48],85:[2,48],88:[2,48],90:[2,48],91:[2,48],93:[2,48]},{23:[1,246]},{5:[2,31],14:[2,31],16:[2,31],17:[2,31],19:[2,31],22:[2,31],23:[2,31],25:[2,31],27:[2,31],30:[2,31],36:[2,31],37:[2,31],38:[2,31],39:[2,31],40:[2,31],42:[2,31],43:[2,31],44:[2,31],45:[2,31],48:[2,31],49:[2,31],50:[2,31],51:[2,31],52:[2,31],63:[2,31],64:[2,31],65:[2,31],66:[2,31],67:[2,31],68:[2,31],71:[2,31],76:[2,31],77:[2,31],78:[2,31],79:[2,31],80:[2,31],82:[2,31],85:[2,31],88:[2,31],90:[2,31],91:[2,31],93:[2,31]},{52:[1,247]},{5:[2,30],14:[2,30],16:[2,30],17:[2,30],19:[2,30],22:[2,30],23:[2,30],25:[2,30],27:[2,30],30:[2,30],36:[2,30],37:[2,30],38:[2,30],39:[2,30],40:[2,30],42:[2,30],43:[2,30],44:[2,30],45:[2,30],48:[2,30],49:[2,30],50:[2,30],51:[2,30],52:[2,30],63:[2,30],64:[2,30],65:[2,30],66:[2,30],67:[2,30],68:[2,30],71:[2,30],76:[2,30],77:[2,30],78:[2,30],79:[2,30],80:[2,30],82:[2,30],85:[2,30],88:[2,30],90:[2,30],91:[2,30],93:[2,30]},{16:[1,249],27:[1,248]},{16:[2,29],27:[2,29],30:[2,29]},{16:[1,250],19:[2,25],22:[2,25],25:[2,25],40:[2,25],42:[2,25],43:[2,25],44:[2,25],51:[2,25],63:[2,25],64:[2,25],66:[2,25],67:[2,25],71:[2,25],76:[2,25],77:[2,25],78:[2,25],80:[2,25],86:[2,25],88:[2,25],90:[2,25],91:[2,25],93:[2,25]},{19:[2,26],22:[2,26],25:[2,26],40:[2,26],42:[2,26],43:[2,26],44:[2,26],51:[2,26],63:[2,26],64:[2,26],66:[2,26],67:[2,26],71:[2,26],76:[2,26],77:[2,26],78:[2,26],80:[2,26],86:[2,26],88:[2,26],90:[2,26],91:[2,26],93:[2,26]},{4:252,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],52:[1,251],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{51:[1,253]},{5:[2,78],14:[2,78],16:[2,78],17:[2,78],19:[2,78],22:[2,78],23:[2,78],25:[2,78],27:[2,78],30:[2,78],36:[2,78],37:[2,78],38:[2,78],39:[2,78],40:[2,78],42:[2,78],43:[2,78],44:[2,78],45:[2,78],48:[2,78],49:[2,78],50:[2,78],51:[2,78],52:[2,78],63:[2,78],64:[2,78],65:[2,78],66:[2,78],67:[2,78],68:[2,78],71:[2,78],76:[2,78],77:[2,78],78:[2,78],79:[2,78],80:[2,78],82:[2,78],85:[2,78],88:[2,78],90:[2,78],91:[2,78],93:[2,78]},{51:[1,254]},{23:[1,255]},{5:[2,118],14:[2,118],16:[2,118],17:[2,118],19:[2,118],22:[2,118],23:[2,118],25:[2,118],27:[2,118],30:[2,118],36:[2,118],37:[2,118],38:[2,118],39:[2,118],40:[2,118],42:[2,118],43:[2,118],44:[2,118],45:[2,118],48:[2,118],49:[2,118],50:[2,118],51:[2,118],52:[2,118],63:[2,118],64:[2,118],65:[2,118],66:[2,118],67:[2,118],68:[2,118],71:[2,118],76:[2,118],77:[2,118],78:[2,118],79:[2,118],80:[2,118],82:[2,118],85:[2,118],88:[2,118],90:[2,118],91:[2,118],93:[2,118]},{73:256,86:[1,27]},{16:[1,160],23:[1,257]},{23:[1,258]},{5:[2,132],14:[2,132],16:[2,132],17:[2,132],19:[2,132],22:[2,132],23:[2,132],25:[2,132],27:[2,132],30:[2,132],36:[2,132],37:[2,132],38:[2,132],39:[2,132],40:[2,132],42:[2,132],43:[2,132],44:[2,132],45:[2,132],48:[2,132],49:[2,132],50:[2,132],51:[2,132],52:[2,132],63:[2,132],64:[2,132],65:[2,132],66:[2,132],67:[2,132],68:[2,132],71:[2,132],76:[2,132],77:[2,132],78:[2,132],79:[2,132],80:[2,132],82:[2,132],85:[2,132],88:[2,132],90:[2,132],91:[2,132],93:[2,132]},{16:[1,160],23:[1,259]},{23:[1,260]},{5:[2,126],14:[2,126],16:[2,126],17:[2,126],19:[2,126],22:[2,126],23:[2,126],25:[2,126],27:[2,126],30:[2,126],36:[2,126],37:[2,126],38:[2,126],39:[2,126],40:[2,126],42:[2,126],43:[2,126],44:[2,126],45:[2,126],48:[2,126],49:[2,126],50:[2,126],51:[2,126],52:[2,126],63:[2,126],64:[2,126],65:[2,126],66:[2,126],67:[2,126],68:[2,126],71:[2,126],76:[2,126],77:[2,126],78:[2,126],79:[2,126],80:[2,126],82:[2,126],85:[2,126],88:[2,126],90:[2,126],91:[2,126],93:[2,126]},{16:[1,160],23:[1,261]},{14:[1,262]},{13:82,19:[1,15],22:[1,90],31:35,32:86,43:[1,87],44:[1,88],45:[1,89],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[1,263],80:[1,52],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,104],14:[2,104],16:[2,104],17:[2,104],19:[2,104],22:[2,104],23:[2,104],25:[2,104],27:[2,104],30:[2,104],36:[2,104],37:[2,104],38:[2,104],39:[2,104],40:[2,104],42:[2,104],43:[2,104],44:[2,104],45:[2,104],48:[2,104],49:[2,104],50:[2,104],51:[2,104],52:[2,104],63:[2,104],64:[2,104],65:[2,104],66:[2,104],67:[2,104],68:[2,104],71:[2,104],76:[2,104],77:[2,104],78:[2,104],79:[2,104],80:[2,104],82:[2,104],85:[2,104],88:[2,104],90:[2,104],91:[2,104],93:[2,104]},{52:[1,264]},{14:[1,195],18:194,36:[1,64],37:[1,65],38:[1,66],39:[1,67],82:[2,108]},{16:[2,110],82:[2,110]},{16:[2,112],82:[2,112]},{16:[2,38],82:[2,38],85:[2,38]},{5:[2,16]},{5:[2,39],16:[2,39],82:[2,39],85:[2,39]},{16:[2,144],23:[2,144]},{5:[2,115],14:[2,115],16:[2,115],17:[2,115],19:[2,115],22:[2,115],23:[2,115],25:[2,115],27:[2,115],30:[2,115],36:[2,115],37:[2,115],38:[2,115],39:[2,115],40:[2,115],42:[2,115],43:[2,115],44:[2,115],45:[2,115],48:[2,115],49:[2,115],50:[2,115],51:[2,115],52:[2,115],63:[2,115],64:[2,115],65:[2,115],66:[2,115],67:[2,115],68:[2,115],71:[2,115],76:[2,115],77:[2,115],78:[2,115],79:[2,115],80:[2,115],82:[2,115],85:[2,115],88:[2,115],90:[2,115],91:[2,115],93:[2,115]},{16:[2,145],23:[2,145]},{5:[2,137],14:[2,137],16:[2,137],17:[2,137],19:[2,137],22:[2,137],23:[2,137],25:[2,137],27:[2,137],30:[2,137],36:[2,137],37:[2,137],38:[2,137],39:[2,137],40:[2,137],42:[2,137],43:[2,137],44:[2,137],45:[2,137],48:[2,137],49:[2,137],50:[2,137],51:[2,137],52:[2,137],63:[2,137],64:[2,137],65:[2,137],66:[2,137],67:[2,137],68:[2,137],71:[2,137],76:[2,137],77:[2,137],78:[2,137],79:[2,137],80:[2,137],82:[2,137],85:[2,137],88:[2,137],90:[2,137],91:[2,137],93:[2,137]},{5:[2,141],14:[2,141],16:[2,141],17:[2,141],19:[2,141],22:[2,141],23:[2,141],25:[2,141],27:[2,141],30:[2,141],36:[2,141],37:[2,141],38:[2,141],39:[2,141],40:[2,141],42:[2,141],43:[2,141],44:[2,141],45:[2,141],48:[2,141],49:[2,141],50:[2,141],51:[2,141],52:[2,141],63:[2,141],64:[2,141],65:[2,141],66:[2,141],67:[2,141],68:[2,141],71:[2,141],76:[2,141],77:[2,141],78:[2,141],79:[2,141],80:[2,141],82:[2,141],85:[2,141],88:[2,141],90:[2,141],91:[2,141],93:[2,141]},{5:[2,20],16:[2,20]},{5:[2,21],14:[2,21],16:[2,21],17:[2,21],19:[2,21],22:[2,21],23:[2,21],25:[2,21],27:[2,21],30:[2,21],36:[2,21],37:[2,21],38:[2,21],39:[2,21],40:[2,21],42:[2,21],43:[2,21],44:[2,21],45:[2,21],48:[2,21],49:[2,21],50:[2,21],51:[2,21],52:[2,21],63:[2,21],64:[2,21],65:[2,21],66:[2,21],67:[2,21],68:[2,21],71:[2,21],76:[2,21],77:[2,21],78:[2,21],79:[2,21],80:[2,21],82:[2,21],85:[2,21],88:[2,21],90:[2,21],91:[2,21],93:[2,21]},{5:[2,57],14:[2,57],16:[2,57],17:[2,57],19:[2,57],22:[2,57],23:[2,57],25:[2,57],27:[2,57],30:[2,57],36:[2,57],37:[2,57],38:[2,57],39:[2,57],40:[2,57],42:[2,57],43:[2,57],44:[2,57],45:[2,57],48:[2,57],49:[2,57],50:[2,57],51:[2,57],52:[2,57],63:[2,57],64:[2,57],65:[2,57],66:[2,57],67:[2,57],68:[2,57],71:[2,57],76:[2,57],77:[2,57],78:[2,57],79:[2,57],80:[2,57],82:[2,57],85:[2,57],86:[2,57],88:[2,57],90:[2,57],91:[2,57],93:[2,57]},{5:[2,23],14:[2,23],16:[2,23],17:[2,23],19:[2,23],22:[2,23],23:[2,23],25:[2,23],27:[2,23],30:[2,23],36:[2,23],37:[2,23],38:[2,23],39:[2,23],40:[2,23],42:[2,23],43:[2,23],44:[2,23],45:[2,23],48:[2,23],49:[2,23],50:[2,23],51:[2,23],52:[2,23],63:[2,23],64:[2,23],65:[2,23],66:[2,23],67:[2,23],68:[2,23],71:[2,23],76:[2,23],77:[2,23],78:[2,23],79:[2,23],80:[2,23],82:[2,23],85:[2,23],88:[2,23],90:[2,23],91:[2,23],93:[2,23]},{4:213,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{19:[2,27],22:[2,27],25:[2,27],40:[2,27],42:[2,27],43:[2,27],44:[2,27],51:[2,27],63:[2,27],64:[2,27],66:[2,27],67:[2,27],71:[2,27],76:[2,27],77:[2,27],78:[2,27],80:[2,27],86:[2,27],88:[2,27],90:[2,27],91:[2,27],93:[2,27]},{5:[2,74],14:[2,74],16:[2,74],17:[2,74],19:[2,74],22:[2,74],23:[2,74],25:[2,74],27:[2,74],30:[2,74],36:[2,74],37:[2,74],38:[2,74],39:[2,74],40:[2,74],42:[2,74],43:[2,74],44:[2,74],45:[2,74],48:[2,74],49:[2,74],50:[2,74],51:[2,74],52:[2,74],63:[2,74],64:[2,74],65:[2,74],66:[2,74],67:[2,74],68:[2,74],71:[2,74],76:[2,74],77:[2,74],78:[2,74],79:[2,74],80:[2,74],82:[2,74],85:[2,74],88:[2,74],90:[2,74],91:[2,74],93:[2,74]},{52:[1,265]},{4:267,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],52:[1,266],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:268,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,138],14:[2,138],16:[2,138],17:[2,138],19:[2,138],22:[2,138],23:[2,138],25:[2,138],27:[2,138],30:[2,138],36:[2,138],37:[2,138],38:[2,138],39:[2,138],40:[2,138],42:[2,138],43:[2,138],44:[2,138],45:[2,138],48:[2,138],49:[2,138],50:[2,138],51:[2,138],52:[2,138],63:[2,138],64:[2,138],65:[2,138],66:[2,138],67:[2,138],68:[2,138],71:[2,138],76:[2,138],77:[2,138],78:[2,138],79:[2,138],80:[2,138],82:[2,138],85:[2,138],88:[2,138],90:[2,138],91:[2,138],93:[2,138]},{52:[1,269]},{5:[2,123],\n14:[2,123],16:[2,123],17:[2,123],19:[2,123],22:[2,123],23:[2,123],25:[2,123],27:[2,123],30:[2,123],36:[2,123],37:[2,123],38:[2,123],39:[2,123],40:[2,123],42:[2,123],43:[2,123],44:[2,123],45:[2,123],48:[2,123],49:[2,123],50:[2,123],51:[2,123],52:[2,123],63:[2,123],64:[2,123],65:[2,123],66:[2,123],67:[2,123],68:[2,123],71:[2,123],76:[2,123],77:[2,123],78:[2,123],79:[2,123],80:[2,123],82:[2,123],85:[2,123],88:[2,123],90:[2,123],91:[2,123],93:[2,123]},{5:[2,139],14:[2,139],16:[2,139],17:[2,139],19:[2,139],22:[2,139],23:[2,139],25:[2,139],27:[2,139],30:[2,139],36:[2,139],37:[2,139],38:[2,139],39:[2,139],40:[2,139],42:[2,139],43:[2,139],44:[2,139],45:[2,139],48:[2,139],49:[2,139],50:[2,139],51:[2,139],52:[2,139],63:[2,139],64:[2,139],65:[2,139],66:[2,139],67:[2,139],68:[2,139],71:[2,139],76:[2,139],77:[2,139],78:[2,139],79:[2,139],80:[2,139],82:[2,139],85:[2,139],88:[2,139],90:[2,139],91:[2,139],93:[2,139]},{5:[2,134],14:[2,134],16:[2,134],17:[2,134],19:[2,134],22:[2,134],23:[2,134],25:[2,134],27:[2,134],30:[2,134],36:[2,134],37:[2,134],38:[2,134],39:[2,134],40:[2,134],42:[2,134],43:[2,134],44:[2,134],45:[2,134],48:[2,134],49:[2,134],50:[2,134],51:[2,134],52:[2,134],63:[2,134],64:[2,134],65:[2,134],66:[2,134],67:[2,134],68:[2,134],71:[2,134],76:[2,134],77:[2,134],78:[2,134],79:[2,134],80:[2,134],82:[2,134],85:[2,134],88:[2,134],90:[2,134],91:[2,134],93:[2,134]},{5:[2,140],14:[2,140],16:[2,140],17:[2,140],19:[2,140],22:[2,140],23:[2,140],25:[2,140],27:[2,140],30:[2,140],36:[2,140],37:[2,140],38:[2,140],39:[2,140],40:[2,140],42:[2,140],43:[2,140],44:[2,140],45:[2,140],48:[2,140],49:[2,140],50:[2,140],51:[2,140],52:[2,140],63:[2,140],64:[2,140],65:[2,140],66:[2,140],67:[2,140],68:[2,140],71:[2,140],76:[2,140],77:[2,140],78:[2,140],79:[2,140],80:[2,140],82:[2,140],85:[2,140],88:[2,140],90:[2,140],91:[2,140],93:[2,140]},{5:[2,128],14:[2,128],16:[2,128],17:[2,128],19:[2,128],22:[2,128],23:[2,128],25:[2,128],27:[2,128],30:[2,128],36:[2,128],37:[2,128],38:[2,128],39:[2,128],40:[2,128],42:[2,128],43:[2,128],44:[2,128],45:[2,128],48:[2,128],49:[2,128],50:[2,128],51:[2,128],52:[2,128],63:[2,128],64:[2,128],65:[2,128],66:[2,128],67:[2,128],68:[2,128],71:[2,128],76:[2,128],77:[2,128],78:[2,128],79:[2,128],80:[2,128],82:[2,128],85:[2,128],88:[2,128],90:[2,128],91:[2,128],93:[2,128]},{4:270,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,103],14:[2,103],16:[2,103],17:[2,103],19:[2,103],22:[2,103],23:[2,103],25:[2,103],27:[2,103],30:[2,103],36:[2,103],37:[2,103],38:[2,103],39:[2,103],40:[2,103],42:[2,103],43:[2,103],44:[2,103],45:[2,103],48:[2,103],49:[2,103],50:[2,103],51:[2,103],52:[2,103],63:[2,103],64:[2,103],65:[2,103],66:[2,103],67:[2,103],68:[2,103],71:[2,103],76:[2,103],77:[2,103],78:[2,103],79:[2,103],80:[2,103],82:[2,103],85:[2,103],88:[2,103],90:[2,103],91:[2,103],93:[2,103]},{19:[2,60],22:[2,60],25:[2,60],40:[2,60],42:[2,60],43:[2,60],44:[2,60],48:[2,60],49:[2,60],50:[2,60],51:[2,60],63:[2,60],64:[2,60],66:[2,60],67:[2,60],71:[2,60],76:[2,60],77:[2,60],78:[2,60],80:[2,60],86:[2,60],88:[2,60],90:[2,60],91:[2,60],93:[2,60],96:[2,60]},{5:[2,75],14:[2,75],16:[2,75],17:[2,75],19:[2,75],22:[2,75],23:[2,75],25:[2,75],27:[2,75],30:[2,75],36:[2,75],37:[2,75],38:[2,75],39:[2,75],40:[2,75],42:[2,75],43:[2,75],44:[2,75],45:[2,75],48:[2,75],49:[2,75],50:[2,75],51:[2,75],52:[2,75],63:[2,75],64:[2,75],65:[2,75],66:[2,75],67:[2,75],68:[2,75],71:[2,75],76:[2,75],77:[2,75],78:[2,75],79:[2,75],80:[2,75],82:[2,75],85:[2,75],88:[2,75],90:[2,75],91:[2,75],93:[2,75]},{5:[2,76],14:[2,76],16:[2,76],17:[2,76],19:[2,76],22:[2,76],23:[2,76],25:[2,76],27:[2,76],30:[2,76],36:[2,76],37:[2,76],38:[2,76],39:[2,76],40:[2,76],42:[2,76],43:[2,76],44:[2,76],45:[2,76],48:[2,76],49:[2,76],50:[2,76],51:[2,76],52:[2,76],63:[2,76],64:[2,76],65:[2,76],66:[2,76],67:[2,76],68:[2,76],71:[2,76],76:[2,76],77:[2,76],78:[2,76],79:[2,76],80:[2,76],82:[2,76],85:[2,76],88:[2,76],90:[2,76],91:[2,76],93:[2,76]},{52:[1,271]},{52:[1,272]},{13:82,19:[1,15],20:81,22:[1,274],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,40:[1,21],41:273,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{52:[1,275]},{5:[2,77],14:[2,77],16:[2,77],17:[2,77],19:[2,77],22:[2,77],23:[2,77],25:[2,77],27:[2,77],30:[2,77],36:[2,77],37:[2,77],38:[2,77],39:[2,77],40:[2,77],42:[2,77],43:[2,77],44:[2,77],45:[2,77],48:[2,77],49:[2,77],50:[2,77],51:[2,77],52:[2,77],63:[2,77],64:[2,77],65:[2,77],66:[2,77],67:[2,77],68:[2,77],71:[2,77],76:[2,77],77:[2,77],78:[2,77],79:[2,77],80:[2,77],82:[2,77],85:[2,77],88:[2,77],90:[2,77],91:[2,77],93:[2,77]},{5:[2,79],14:[2,79],16:[2,79],17:[2,79],19:[2,79],22:[2,79],23:[2,79],25:[2,79],27:[2,79],30:[2,79],36:[2,79],37:[2,79],38:[2,79],39:[2,79],40:[2,79],42:[2,79],43:[2,79],44:[2,79],45:[2,79],48:[2,79],49:[2,79],50:[2,79],51:[2,79],52:[2,79],63:[2,79],64:[2,79],65:[2,79],66:[2,79],67:[2,79],68:[2,79],71:[2,79],76:[2,79],77:[2,79],78:[2,79],79:[2,79],80:[2,79],82:[2,79],85:[2,79],88:[2,79],90:[2,79],91:[2,79],93:[2,79]},{5:[2,120],13:82,14:[2,120],16:[2,120],17:[2,120],19:[1,15],22:[1,90],23:[2,120],25:[2,120],27:[2,120],30:[2,120],31:35,32:86,36:[2,120],37:[2,120],38:[2,120],39:[2,120],40:[2,120],42:[2,120],43:[1,87],44:[1,88],45:[1,89],48:[2,120],49:[2,120],50:[2,120],51:[1,37],52:[2,120],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,120],66:[1,39],67:[1,40],68:[2,120],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,120],80:[1,52],82:[2,120],85:[2,120],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{4:276,13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,35:13,40:[1,21],41:16,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{47:277,48:[1,95],49:[1,96],50:[1,97]},{16:[1,160],23:[1,278]},{13:82,19:[1,15],20:81,22:[1,17],24:22,25:[1,28],28:23,31:35,32:25,33:24,34:18,40:[1,21],41:279,42:[1,20],43:[1,45],44:[1,46],51:[1,37],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],66:[1,39],67:[1,40],69:41,70:42,71:[1,43],72:44,73:19,74:26,75:50,76:[1,57],77:[1,58],78:[1,51],80:[1,52],86:[1,27],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]},{5:[2,121],14:[2,121],16:[2,121],17:[2,121],19:[2,121],22:[2,121],23:[2,121],25:[2,121],27:[2,121],30:[2,121],36:[2,121],37:[2,121],38:[2,121],39:[2,121],40:[2,121],42:[2,121],43:[2,121],44:[2,121],45:[2,121],48:[2,121],49:[2,121],50:[2,121],51:[2,121],52:[2,121],63:[2,121],64:[2,121],65:[2,121],66:[2,121],67:[2,121],68:[2,121],71:[2,121],76:[2,121],77:[2,121],78:[2,121],79:[2,121],80:[2,121],82:[2,121],85:[2,121],88:[2,121],90:[2,121],91:[2,121],93:[2,121]},{5:[2,102],13:82,14:[2,102],16:[2,102],17:[2,102],19:[1,15],22:[1,90],23:[2,102],25:[2,102],27:[2,102],30:[2,102],31:35,32:86,36:[2,102],37:[2,102],38:[2,102],39:[2,102],40:[2,102],42:[2,102],43:[1,87],44:[1,88],45:[1,89],48:[2,102],49:[2,102],50:[2,102],51:[1,37],52:[2,102],57:29,58:30,59:31,60:32,61:33,62:34,63:[1,36],64:[1,38],65:[2,102],66:[1,39],67:[1,40],68:[2,102],69:41,70:42,71:[1,43],72:44,75:50,76:[1,57],77:[1,58],78:[1,51],79:[2,102],80:[1,52],82:[2,102],85:[2,102],87:47,88:[1,53],89:49,90:[1,55],91:[1,56],92:48,93:[1,54]}],defaultActions:{12:[2,12],57:[2,100],58:[2,101],59:[2,1],68:[2,2],69:[2,3],70:[2,4],71:[2,5],72:[2,6],73:[2,7],74:[2,8],79:[2,10],80:[2,146],140:[2,15],141:[2,14],144:[2,9],145:[2,13],196:[2,11],238:[2,16]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=r.lexer.lex()||1,"number"!=typeof e&&(e=r.symbols_[e]||e),e}var r=this,n=[0],i=[null],a=[],o=this.table,s="",u=0,c=0,l=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;a.push(h);var f=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,m,d,g,y,v,b,x,_,w={};;){if(d=n[n.length-1],this.defaultActions[d]?g=this.defaultActions[d]:(null!==p&&"undefined"!=typeof p||(p=t()),g=o[d]&&o[d][p]),"undefined"==typeof g||!g.length||!g[0]){var M="";if(!l){_=[];for(v in o[d])this.terminals_[v]&&v>2&&_.push("\'"+this.terminals_[v]+"\'");M=this.lexer.showPosition?"Parse error on line "+(u+1)+":\\n"+this.lexer.showPosition()+"\\nExpecting "+_.join(", ")+", got \'"+(this.terminals_[p]||p)+"\'":"Parse error on line "+(u+1)+": Unexpected "+(1==p?"end of input":"\'"+(this.terminals_[p]||p)+"\'"),this.parseError(M,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:h,expected:_})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+p);switch(g[0]){case 1:n.push(p),i.push(this.lexer.yytext),a.push(this.lexer.yylloc),n.push(g[1]),p=null,m?(p=m,m=null):(c=this.lexer.yyleng,s=this.lexer.yytext,u=this.lexer.yylineno,h=this.lexer.yylloc,l>0&&l--);break;case 2:if(b=this.productions_[g[1]][1],w.$=i[i.length-b],w._$={first_line:a[a.length-(b||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(b||1)].first_column,last_column:a[a.length-1].last_column},f&&(w._$.range=[a[a.length-(b||1)].range[0],a[a.length-1].range[1]]),y=this.performAction.call(w,s,c,u,this.yy,g[1],i,a),"undefined"!=typeof y)return y;b&&(n=n.slice(0,-1*b*2),i=i.slice(0,-1*b),a=a.slice(0,-1*b)),n.push(this.productions_[g[1]][0]),i.push(w.$),a.push(w._$),x=o[n[n.length-2]][n[n.length-1]],n.push(x);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\\r\\n?|\\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\\r\\n?|\\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\\r\\n?|\\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,r,n,i;this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),o=0;o<a.length&&(r=this._input.match(this.rules[a[o]]),!r||t&&!(r[0].length>t[0].length)||(t=r,n=o,this.options.flex));o++);return t?(i=t[0].match(/(?:\\r\\n?|\\n).*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\\r?\\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,a[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,r,n){switch(r){case 0:break;case 1:return 51;case 2:return 52;case 3:return"MATH_SHIFT";case 4:return t.yytext=this.matches[this.matches.length-1],48;case 5:return t.yytext=this.matches[this.matches.length-1],49;case 6:return t.yytext=this.matches[this.matches.length-1],54;case 7:return t.yytext=this.matches[this.matches.length-1],55;case 8:return"...";case 9:return 50;case 10:return t.yytext=Number(this.matches[2])+Number(this.matches[5])/Number(this.matches[6]),86;case 11:return 86;case 12:return 96;case 13:return 43;case 14:return 43;case 15:return 44;case 16:return 44;case 17:return t.yytext=this.matches[3],71;case 18:return t.yytext=this.matches[2],this.popState(),79;case 19:return t.yytext=this.matches[this.matches.length-1],91;case 20:return 93;case 21:return 90;case 22:return 66;case 23:return 67;case 24:return"\\\\";case 25:return 76;case 26:return 77;case 27:return 63;case 28:return 63;case 29:return 46;case 30:return this.begin("integral"),78;case 31:return 19;case 32:return 17;case 33:return 64;case 34:return 65;case 35:return 42;case 36:return 40;case 37:return 14;case 38:return 17;case 39:return 56;case 40:return 68;case 41:return 45;case 42:return 5;case 43:return 22;case 44:return 23;case 45:return 25;case 46:return 27;case 47:return 80;case 48:return 82;case 49:return 85;case 50:return 38;case 51:return 39;case 52:return 37;case 53:return 36;case 54:return 16;case 55:return 15;case 56:return 88;case 57:return t.yytext="\\\\sign",19;case 58:return t.yytext="\\\\gcd",19;case 59:return t.yytext="\\\\lcm",19;case 60:return t.yytext="\\\\stdevp",19;case 61:return t.yytext="\\\\stdevp",19;case 62:return t.yytext="\\\\stdev",19;case 63:return t.yytext="\\\\stdev",19;case 64:return t.yytext="\\\\var",19;case 65:return t.yytext="\\\\sign",19;case 66:return t.yytext="\\\\gcd",19;case 67:return t.yytext="\\\\lcm",19;case 68:return t.yytext="\\\\stdevp",19;case 69:return t.yytext="\\\\stdevp",19;case 70:return t.yytext="\\\\stdev",19;case 71:return t.yytext="\\\\stdev",19;case 72:return t.yytext="\\\\var",19;case 73:return/^(arc)?(sin|cos|tan|cot|sec|csc)h?$/.test(this.matches[3])?(t.yytext="\\\\"+this.matches[3],88):(t.yytext="\\\\"+this.matches[3]+this.matches[4],"IDENTIFIER_BASE");case 74:return 19;case 75:break;case 76:return"UNRECOGNIZED"}},e.rules=[/^(?:(\\\\space|\\\\:|\\s|\\\\ )+)/,/^(?:\\{)/,/^(?:\\})/,/^(?:\\$)/,/^(?:\\^([0-9]))/,/^(?:\\^([a-zA-Z]))/,/^(?:_([0-9]))/,/^(?:_([a-zA-Z]))/,/^(?:\\.\\.\\.)/,/^(?:\\^)/,/^(?:(([0-9]+)((?:\\s|\\\\space|\\\\:|\\\\ )*)\\\\frac((?:\\s|\\\\space|\\\\:|\\\\ )*)\\{([0-9]+)\\}\\{([0-9]+)\\}))/,/^(?:[0-9]+(\\.[0-9]+|\\.(?![.0-9]))?|(\\.[0-9]+))/,/^(?:\')/,/^(?:\\*|(\\\\cdot))/,/^(?:(\\\\times))/,/^(?:\\/)/,/^(?:(\\\\div))/,/^(?:(\\\\frac((?:\\s|\\\\space|\\\\:|\\\\ )*)\\{d\\}\\{d((((?!\\\\left)(\\\\[a-zA-Z]+|[a-zA-Z]))(_[a-zA-Z0-9]|_\\{[a-zA-Z0-9]+\\})?))\\}))/,/^(?:(d((((?!\\\\left)(\\\\[a-zA-Z]+|[a-zA-Z]))(_[a-zA-Z0-9]|_\\{[a-zA-Z0-9]+\\})?))))/,/^(?:(\\\\log)((?:\\s|\\\\space|\\\\:|\\\\ )*)*_([0-9]))/,/^(?:(\\\\ln))/,/^(?:(\\\\log))/,/^(?:(\\\\frac))/,/^(?:(\\\\sqrt))/,/^(?:(\\\\backslash))/,/^(?:(\\\\sum))/,/^(?:(\\\\prod))/,/^(?:(\\\\ans))/,/^(?:(\\\\operatorname{ans}))/,/^(?:(\\\\operatorname{of}|\\\\of))/,/^(?:(\\\\int))/,/^(?:(\\\\length))/,/^(?:(\\\\sim))/,/^(?:\\\\left\\|)/,/^(?:\\\\right\\|)/,/^(?:-)/,/^(?:\\+)/,/^(?:=)/,/^(?:~)/,/^(?:[_])/,/^(?:!)/,/^(?:\\\\%)/,/^(?:$)/,/^(?:(\\()|\\\\left\\()/,/^(?:(\\))|\\\\right\\))/,/^(?:(\\[)|\\\\left\\[)/,/^(?:(\\])|\\\\right\\])/,/^(?:(\\\\\\{)|\\\\left\\\\\\{)/,/^(?:(\\\\\\})|\\\\right\\\\\\})/,/^(?::)/,/^(?:(\\\\ge|>=))/,/^(?:(\\\\le|<=))/,/^(?:(\\\\gt|>))/,/^(?:(\\\\lt|<))/,/^(?:,)/,/^(?:(###)(((?:\\s|\\\\space|\\\\:|\\\\ )*)(?:(((?!\\\\left)(\\\\[a-zA-Z]+|[a-zA-Z]))(_[a-zA-Z0-9]|_\\{[a-zA-Z0-9]+\\})?)|((\\\\operatorname\\{([a-zA-Z]+)\\})((_[a-zA-Z0-9]|_\\{[a-zA-Z0-9]+\\})?)))((?:\\s|\\\\space|\\\\:|\\\\ )*)(\\\\left\\(|\\()((?:\\s|\\\\space|\\\\:|\\\\ )*)(((?!\\\\left)(\\\\[a-zA-Z]+|[a-zA-Z]))(_[a-zA-Z0-9]|_\\{[a-zA-Z0-9]+\\})?)(((?:\\s|\\\\space|\\\\:|\\\\ )*),((?:\\s|\\\\space|\\\\:|\\\\ )*)(((?!\\\\left)(\\\\[a-zA-Z]+|[a-zA-Z]))(_[a-zA-Z0-9]|_\\{[a-zA-Z0-9]+\\})?)((?:\\s|\\\\space|\\\\:|\\\\ )*))*((?:\\s|\\\\space|\\\\:|\\\\ )*)(\\\\right\\)|\\))((?:\\s|\\\\space|\\\\:|\\\\ )*)=))/,/^(?:(\\\\(arc)?(sin|cos|tan|cot|sec|csc)h?))/,/^(?:(\\\\signum))/,/^(?:(\\\\(gcf|mcd)))/,/^(?:(\\\\mcm))/,/^(?:(\\\\stdDevP))/,/^(?:(\\\\stddevp))/,/^(?:(\\\\stdDev))/,/^(?:(\\\\stddev))/,/^(?:(\\\\variance))/,/^(?:(\\\\operatorname\\{signum\\}))/,/^(?:(\\\\operatorname\\{(gcf|mcd)\\}))/,/^(?:(\\\\operatorname\\{mcm\\}))/,/^(?:(\\\\operatorname\\{stdDevP\\}))/,/^(?:(\\\\operatorname\\{stddevp\\}))/,/^(?:(\\\\operatorname\\{stdDev\\}))/,/^(?:(\\\\operatorname\\{stddev\\}))/,/^(?:(\\\\operatorname\\{variance\\}))/,/^(?:((\\\\operatorname\\{([a-zA-Z]+)\\})((_[a-zA-Z0-9]|_\\{[a-zA-Z0-9]+\\})?)))/,/^(?:(((?!\\\\left)(\\\\[a-zA-Z]+|[a-zA-Z]))(_[a-zA-Z0-9]|_\\{[a-zA-Z0-9]+\\})?))/,/^(?:(###))/,/^(?:.)/],e.conditions={integral:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76],inclusive:!0},conditional:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76],inclusive:!0},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76],inclusive:!0}},e}();return e.lexer=t,e}),define("math/mathshim",["require"],function(e){var t={};return t.cosh=Math.cosh||function(e){return.5*(Math.exp(e)+Math.exp(-e))},t.sinh=Math.sinh&&0!==Math.sinh(1e-20)?Math.sinh:function(e){var r=e>0?1:-1;return e=e>0?e:-e,.5*-r*Math.exp(e)*t.expm1(-2*e)},t.tanh=Math.tanh&&0!==Math.tanh(1e-20)?Math.tanh:function(e){var r=e>0?1:-1;e=e>0?e:-e;var n=t.expm1(-2*e);return-r*n/(2+n)},t.acosh=Math.acosh||function(e){return e<1?NaN:Math.log(e+t.sqrtxsqm1(e))},t.asinh=Math.asinh&&0!==Math.asinh(1e-20)?Math.asinh:function(e){var r=e>0?1:-1;return e=e>0?e:-e,1+e*e===1?r*t.log1p(e):r*Math.log(e+t.sqrtxsqp1(e))},t.atanh=Math.atanh&&0!==Math.atanh(1e-20)?Math.atanh:function(e){return.5*(t.log1p(e)-t.log1p(-e))},t.expm1=Math.expm1||function(e){return e+.5*e*e===e?e:Math.exp(e)-1},t.log1p=Math.log1p||function(e){return e-.5*e*e===e?e:Math.log(1+e)},t.sqrtxsqp1=function(e){var t=e*e;return 1+t===1?1:1+t===t?Math.abs(e):Math.sqrt(t+1)},t.sqrtxsqm1=function(e){var t=e*e;return t<1?NaN:t-1===t?Math.abs(e):Math.sqrt(t-1)},t}),define("math/quadrature",["require","math/mathshim","math/poi"],function(e){"use strict";function t(e,t){for(var r=v;r>0;r--){var n=p/v*r,i=c.sinh(n),a=c.cosh(Math.PI/2*i),o=1/(Math.exp(Math.PI/2*i)*a),s=c.cosh(n)/(a*a);e.push(o),t.push(s)}}function r(e,t,r){return.5*(t*(2-r)+e*r)}function n(e,t,r){var n=.5*(t+r),i=h(t,e(t),n,e(n),r,e(r),e,0);return i?.5*(i[0][0]+i[1][0]):n}function i(e,t,r,n,i){return{x1:e,x2:t,value:r,error:n,minerror:i}}function a(e,t,n){var i=Math.abs(e(r(t,n,d))),a=Math.abs(e(r(t,n,2*d)));return!(i<d||a<d)&&i>1.95*a}function o(e,t,n){var o,s,u=r(n,t,b[0]),c=r(t,n,b[0]),l=e(u),h=e(c),p=r(t,n,1),m=e(p);if(isFinite(m)&&!isFinite(l)){if(o=f(u,l,p,m,e),Math.abs((o[0]-t)/(n-t))>y)return i(t,n,NaN,NaN,NaN);t=o[0],l=o[1]}if(isFinite(m)&&!isFinite(h)){if(s=f(p,m,c,h,e),Math.abs((s[0]-n)/(n-t))>y)return i(t,n,NaN,NaN,NaN);n=s[0],h=s[1]}if(isFinite(l)&&isFinite(h)&&!isFinite(m)){if(o=f(u,l,p,m,e),s=f(p,m,c,h,e),Math.abs((s[0]-o[0])/(n-t))>y)return i(t,n,NaN,NaN,NaN);m=.5*(o[1]+s[1])}if(a(e,t,n)||a(e,n,t))return i(t,n,NaN,NaN,NaN);for(var d=m,g=0,_=0,w=0,E=0,T=0,S=0,I=0;I<v;I+=4)T=e(r(t,n,b[I])),S=e(r(n,t,b[I])),E=Math.max(E,Math.abs(T),Math.abs(S)),g+=x[I]*(T+S),T=e(r(t,n,b[I+1])),S=e(r(n,t,b[I+1])),E=Math.max(E,Math.abs(T),Math.abs(S)),w+=x[I+1]*(T+S),T=e(r(t,n,b[I+2])),S=e(r(n,t,b[I+2])),E=Math.max(E,Math.abs(T),Math.abs(S)),_+=x[I+2]*(T+S),T=e(r(t,n,b[I+3])),S=e(r(n,t,b[I+3])),E=Math.max(E,Math.abs(T),Math.abs(S)),w+=x[I+3]*(T+S);var N,D=d+g,C=D+_,A=C+w,k=Math.abs(_-D),F=Math.abs(w-C),O=M*(n-t)*A,P=M*Math.abs(n-t)*E*x[0];return N=0===k?M*Math.abs(n-t)*F:M*Math.abs(n-t)*F*(F/k)*(F/k),N=Math.max(N,P),i(t,n,O,N,P)}function s(e){for(var t=-(1/0),r=-(1/0),n=-1,i=0,a=0;a<e.length;a++){var o=e[a];i+=o.value,o.error>t&&(t=o.error,n=a),o.minerror>r&&(r=o.minerror)}return{maxerror:t,maxminerror:r,maxindex:n,totalvalue:i}}function u(e,t,i,a){if(void 0===a&&(a=32),!isFinite(t)||!isFinite(i))return NaN;for(var u=[o(e,t,i)],c=s(u),l=1;l<a&&!(Math.abs(c.maxerror/c.totalvalue)<=32*g||c.maxerror<=32*g||c.maxerror<=32*c.maxminerror);l++){var h=u[u.length-1];u[u.length-1]=u[c.maxindex],u[c.maxindex]=h;var f=u.pop(),p=n(e,r(f.x2,f.x1,.125),r(f.x1,f.x2,.125));u.push(o(e,f.x1,p)),u.push(o(e,p,f.x2)),c=s(u)}return c.totalvalue}var c=e("math/mathshim"),l=e("math/poi").default,h=l.bisectJump,f=l.bisectFinite,p=3.154019550531224,m=Math.pow(2,-13),d=m*m,g=d*d,y=d,v=32,b=[],x=[];t(b,x);for(var _=0,w=0;w<x.length;w++)_+=x[w];var M=1/(1+2*_);return{quad:u}}),define("math/studentt",["require"],function(e){var t=.5772156649015329,r=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],n=[-30.840230011973897,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.25967555349],i=function(e){if(e<=0)throw new RangeError("Argument must be positive.");if(e<.001)return 1/(e*(1+t*e));if(e<12){var i=e,a=0,o=i<1;o?i+=1:(a=Math.floor(i)-1,i-=a);for(var u=0,c=1,l=i-1,h=0;h<8;h++)u=(u+r[h])*l,c=c*l+n[h];var f=u/c+1;if(o)f/=i-1;else for(h=0;h<a;h++)f*=i++;return f}return e>171.624?1/0:Math.exp(s(e))},a=[1/12,-1/360,1/1260,-1/1680,1/1188,-691/360360,1/156,-3617/122400],o=.9189385332046728,s=function(e){if(e<=0)throw new RangeError("Argument must be positive.");if(e<12)return Math.log(Math.abs(i(e)));for(var t=1/(e*e),r=a[7],n=6;n>=0;n--)r*=t,r+=a[n];var s=r/e;return(e-.5)*Math.log(e)-e+o+s},u=function(e){if(e<=-1)throw new RangeError("Argument mustbe greater than -1.0");return Math.abs(e)>1e-4?Math.log(1+e):(-.5*e+1)*e},c=function(e,t,r){if(e<0||e>1)throw new RangeError("First argument must be between 0 and 1.");if(1===t&&1===r)return e;if(0===e)return 0;if(1===e)return 1;if(0===t)return 1;if(0===r)return 0;var n=Math.exp(s(t+r)-s(t)-s(r)+t*Math.log(e)+r*u(-e));return e<(t+1)/(t+r+2)?n*l(e,t,r)/t:1-n*l(1-e,r,t)/r},l=function(e,t,r){var n,i,a,o,s,u,c,l,h,f=1e-30,p=1;for(c=t+r,h=t+1,l=t-1,a=1,o=1-c*e/h,Math.abs(o)<f&&(o=f),o=1/o,u=o;p<=100&&(n=2*p,i=p*(r-p)*e/((l+n)*(t+n)),o=1+i*o,Math.abs(o)<f&&(o=f),a=1+i/a,Math.abs(a)<f&&(a=f),o=1/o,u*=o*a,i=-(t+p)*(c+p)*e/((t+n)*(h+n)),o=1+i*o,Math.abs(o)<f&&(o=f),a=1+i/a,Math.abs(a)<f&&(a=f),o=1/o,s=o*a,u*=s,!(Math.abs(s-1)<3e-7));p++);return u},h=function(e,t){var r=i((e+1)/2)/(Math.sqrt(e*Math.PI)*i(e/2));return r*Math.pow(1+t*t/e,-((e+1)/2))},f=function(e,t){var r=Math.sqrt(t*t+e);return c((t+r)/(2*r),e/2,e/2)};return{cdf:f,pdf:h,gamma:i}}),define("math/builtin",["require","math/mathshim","math/distance","math/quadrature","math/studentt"],function(e){function t(e){return!(e>1e12)&&Math.round(u*e)*Math.PI===e}function r(e){if(e>1e12)return!1;var t=Math.round(2*u*e);return t%2===1&&t*Math.PI===2*e}var n=e("math/mathshim"),i=e("math/distance"),a=e("math/quadrature"),o=e("math/studentt"),s={};s.cosh=n.cosh,s.sinh=n.sinh,s.tanh=n.tanh,s.acosh=n.acosh,s.asinh=n.asinh,s.atanh=n.atanh,s.expm1=n.expm1,s.log1p=n.log1p,s.sqrtxsqp1=n.sqrtxsqp1,s.sqrtxsqm1=n.sqrtxsqm1,s.mod=function(e,t){return e-t*Math.floor(e/t)},s.sign=Math.sign||function(e){return 0===e?0:e>0?1:e<0?-1:NaN},s.lcm=function(e,t){e=Math.round(e),t=Math.round(t);var r=s.gcd(e,t);return Math.abs(e*t/r)},s.gcd=function(e,t){if(e=Math.round(e),t=Math.round(t),e<0&&(e=-e),t<0&&(t=-t),t>e){var r=t;t=e,e=r}if(0===t)return e;for(var n=e%t;n>0;)e=t,t=n,n=e%t;return t},s.listGCD=function(e){if(0===e.length)return NaN;for(var t=e[0],r=1;r<e.length;r++)t=s.gcd(t,e[r]);return t},s.listLCM=function(e){if(0===e.length)return NaN;for(var t=e[0],r=1;r<e.length;r++)t=s.lcm(t,e[r]);return t},s.nCr=function(e,t){if(e=Math.round(e),t=Math.round(t),t>e||e<0||t<0)return 0;for(var r=1,n=0;n<t;n++)r*=(e-n)/(n+1);return r},s.nPr=function(e,t){if(e=Math.round(e),t=Math.round(t),t>e||e<0||t<0)return 0;for(var r=1,n=0;n<t;n++)r*=e-n;return r},s.factorial=function(e){return s.gamma(e+1)},s._integerFactorial=function(e){if(e!==Math.floor(e))return NaN;if(e<0)return NaN;if(e>170)return NaN;if(0===e||1===e)return 1;for(var t=1,r=2;r<=e;r++)t*=r;return t},s.gamma=function(e){return e===Math.floor(e)?s._integerFactorial(e-1):e<0?Math.PI/(Math.sin(Math.PI*e)*s.gamma(1-e)):Math.exp(s.lnGamma(e))},s.lnGamma=function(e){if(e<0)return NaN;for(var t=[57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],r=.9999999999999971,n=0;n<14;n++)r+=t[n]/(e+n+1);var i=e+5.2421875;return(e+.5)*Math.log(i)-i+Math.log(2.5066282746310007*r/e)},s.bernoulliTable=[1/6,-1/30,1/42,-1/30,5/66,-691/2730,7/6,-3617/510,43867/798,-174611/330,854513/138,-236364091/2730,8553103/6,-23749461029/870],s.cotDerivative=function(e,t){if(e!==Math.floor(e))return NaN;if(e<0)return NaN;if(0===e)return 1/s.tan(t);var r=s.sin(t);if(1===e)return-1/(r*r);var n=s.cos(t);if(2===e)return 2*n/(r*r*r);var i,a,o,u,c,l=[0,2];for(a=3;a<=e;a++){for(i=[],o=0;o<a;o++)u=0,c=0,o>0&&(u=(a-o+1)*l[o-1]),o+2<a&&(c=(o+1)*l[o+1]),i.push(-(u+c));l=i}var h=0;for(o=e-1;o>=0;o--)h=i[o]+n*h;return h/Math.pow(r,e+1)},s.polyGamma=function(e,t){if(e<0)return NaN;if(e!==Math.floor(e))return NaN;var r=e%2===0?-1:1;if(t<0)return-r*s.polyGamma(e,1-t)-Math.pow(Math.PI,e+1)*s.cotDerivative(e,Math.PI*t);for(var n=s.factorial(e),i=0,a=Math.pow(t,-(e+1));t<10;)i+=a,t++,a=Math.pow(t,-(e+1));i+=0===e?-Math.log(t):a*t/e,i+=.5*a;for(var o=s.bernoulliTable,u=e+1,c=2,l=a*t*u/c,h=1/(t*t),f=1;f<=14;f++)l*=h,i+=l*o[f-1],u++,c++,l*=u/c,u++,c++,l*=u/c;return n*r*i},s.toFraction=function(e,t){if(e===1/0)return{n:1/0,d:1};if(e===-(1/0))return{n:-(1/0),d:1};if(!isFinite(e))return{n:NaN,d:1};var r,n,i,a=0,o=1,s=1,u=0;for(t||(t=1e6);;){if(r=Math.floor(e),n=r*o+a,i=r*u+s,i>t)break;if(a=o,s=u,o=n,u=i,e===r)break;e=1/(e-r)}return{n:o,d:u}},s.log=function(e){var t=Math.log(e);return Math.exp(Math.round(t))===e?Math.round(t):t},s.log_base=function(e,t){if(0===t)return NaN;var r=Math.log(e)/Math.log(t);return Math.pow(t,Math.round(r))===e?Math.round(r):r},s.common_log=function(e){return s.log_base(e,10)},s.pow=function(e,t){if(!isFinite(e)&&0===t)return NaN;if(e>=0||t===Math.floor(t))return Math.pow(e,t);var r=s.toFraction(t,100);return i.approx(r.n/r.d,t,2)&&r.d%2===1?(r.n%2===0?1:-1)*Math.pow(-e,t):NaN},s.nthroot=function(e,t){return s.pow(e,1/t)};var u=1/Math.PI;return s.sin=function(e){return t(Math.abs(e))?0:Math.sin(e)},s.cos=function(e){return r(Math.abs(e))?0:Math.cos(e)},s.tan=function(e){var n=Math.abs(e);return t(n)?0:r(n)?1/0:Math.tan(e)},s.sec=function(e){return r(Math.abs(e))?1/0:1/Math.cos(e)},s.csc=function(e){return t(Math.abs(e))?1/0:1/Math.sin(e)},s.cot=function(e){var n=Math.abs(e);return t(n)?1/0:r(n)?0:1/Math.tan(e)},s.acot=function(e){return Math.PI/2-Math.atan(e)},s.acsc=function(e){return Math.asin(1/e)},s.asec=function(e){return Math.acos(1/e)},s.sech=function(e){return 1/s.cosh(e)},s.csch=function(e){return 1/s.sinh(e)},s.coth=function(e){return 1/s.tanh(e)},s.asech=function(e){return s.acosh(1/e)},s.acsch=function(e){return s.asinh(1/e)},s.acoth=function(e){return s.atanh(1/e)},s.mean=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t/e.length},s.total=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t},s.tpdf=function(e,t){return t!==Math.round(t)?NaN:t<=0?NaN:o.pdf(t,e)},s.tcdf=function(e,t){return t!==Math.round(t)?NaN:t<=0?NaN:o.cdf(t,e)},s.normalcdf=function(e,t,r){var n=(e-t)/(Math.SQRT2*Math.abs(r));return n<0?.5*Math.exp(-n*n)*s.erfcx(-n):1-.5*Math.exp(-n*n)*s.erfcx(n)},s.normalpdf=function(e,t,r){return 1/Math.sqrt(2*Math.PI*r*r)*Math.exp(-(e-t)*(e-t)/(2*r*r))},s.binomcdf=function(e,t,r){if(t!==Math.round(t)||e!==Math.round(e))return NaN;if(r<0||r>1)return NaN;if(e<0||t<0)return 0;for(var n=r/(1-r),i=Math.pow(1-r,t),a=i,o=1;o<=Math.min(t,e);o++)i*=(t-o+1)/o*n,a+=i;return a},s.binompdf=function(e,t,r){return t!==Math.round(t)?NaN:(e=Math.floor(e),r<0||r>1?NaN:e<0||t<0?0:s.nCr(t,e)*Math.pow(r,e)*Math.pow(1-r,t-e))},s.poissonpdf=function(e,t){return t<=0?NaN:e!==Math.round(e)?NaN:e<0?0:Math.exp(-t+e*Math.log(t)-s.lnGamma(e+1))},s.poissoncdf=function(e,t){if(t<=0)return NaN;if(e=Math.floor(e),e<0)return 0;for(var r=1,n=1,i=1;i<=e;i++)r*=t/i,n+=r;return Math.exp(-t)*n},s.erf=function(e){var t=-e*e;if(t<-750)return e>=0?1:-1;if(e>=.065)return 1-Math.exp(t)*s.erfcx(e);if(e<=-.065)return Math.exp(t)*s.erfcx(-e)-1;var r=1.1283791670955126,n=.37612638903183754,i=.11283791670955126,a=.026866170645131252,o=.005223977625442188;return e*(r+t*(n+t*(i+t*(a+t*o))))},s.erfcx=function(e){var t=.9999999999999999,r=2.224574423459406,n=2.444115549920689,i=1.7057986861852539,a=.8257463703357973,o=.28647031042892007,u=.07124513844341643,c=.012296749268608364,l=.001347817214557592,h=7263959403471071e-20,f=1,p=3.352953590554884,m=5.227518529742423,d=5.003720878235473,g=3.266590890998987,y=1.5255421920765353,v=.5185887413188858,b=.12747319185915415,x=.02185979575963238,_=.0023889438122503674,w=.00012875032817508128;if(e<0)return e<-6.1?2*Math.exp(e*e):2*Math.exp(e*e)-s.erfcx(-e);if(e>50){var M=.5641895835477563,E=e*e;return e>5e7?M/e:M*(E*(E+4.5)+2)/(e*(E*(E+5)+3.75))}var T=t+e*(r+e*(n+e*(i+e*(a+e*(o+e*(u+e*(c+e*(l+e*h)))))))),S=f+e*(p+e*(m+e*(d+e*(g+e*(y+e*(v+e*(b+e*(x+e*(_+e*w)))))))));return T/S},s.invNorm=function(e){var t,r,n,i=-39.6968302866538,a=220.946098424521,o=-275.928510446969,u=138.357751867269,c=-30.6647980661472,l=2.50662827745924,h=-54.4760987982241,f=161.585836858041,p=-155.698979859887,m=66.8013118877197,d=-13.2806815528857,g=-.00778489400243029,y=-.322396458041136,v=-2.40075827716184,b=-2.54973253934373,x=4.37466414146497,_=2.93816398269878,w=.00778469570904146,M=.32246712907004,E=2.445134137143,T=3.75440866190742,S=.02425;return e>.5?-s.invNorm(1-e):.5===e?0:e<0?NaN:0===e?-(1/0):(e<S?(t=Math.sqrt(-2*Math.log(e)),\nn=(((((g*t+y)*t+v)*t+b)*t+x)*t+_)/((((w*t+M)*t+E)*t+T)*t+1)):(t=e-.5,r=t*t,n=(((((i*r+a)*r+o)*r+u)*r+c)*r+l)*t/(((((h*r+f)*r+p)*r+m)*r+d)*r+1)),n-Math.sqrt(2*Math.PI)*(.5*s.erfcx(-n/Math.SQRT2)-Math.exp(.5*n*n)*e))},s.TScore=function(e,t){var r=s.stdev(e),n=s.mean(e);return(n-t)*Math.sqrt(e.length)/r},s.TTest=function(e,t){return s.tcdf(s.TScore(e,t),e.length)},s.length=function(e){return e.length},s.listMin=function(e){if(e.length<1)return NaN;var t=e[0];if(isNaN(t))return NaN;for(var r=1;r<e.length;r++){if(isNaN(e[r]))return NaN;e[r]<t&&(t=e[r])}return t},s.listMax=function(e){if(e.length<1)return NaN;var t=e[0];if(isNaN(t))return NaN;for(var r=1;r<e.length;r++){if(isNaN(e[r]))return NaN;e[r]>=t&&(t=e[r])}return t},s.quantile=function(e,t){if(!isFinite(t)||t<0||t>1)return NaN;var r=e.length,n=s.sortPerm(e),i=t*(r-1);return Math.floor(i)===i?e[n[i]]:(Math.ceil(i)-i)*e[n[Math.floor(i)]]+(i-Math.floor(i))*e[n[Math.ceil(i)]]},s.sortPerm=function(e){for(var t=e.length,r=[],n=0;n<t;n++)r.push(n);return r.sort(function(t,r){return e[t]-e[r]}),r},s.upperQuantileIndex=function(e,t){return s.sortPerm(e)[Math.ceil(t*(e.length-1))]+1},s.lowerQuantileIndex=function(e,t){return s.sortPerm(e)[Math.floor(t*(e.length-1))]+1},s.median=function(e){return s.quantile(e,.5)},s.argMin=function(e){if(e.length<1)return 0;var t=e[0];if(isNaN(t))return 0;for(var r=0,n=1;n<e.length;n++){if(isNaN(e[n]))return 0;e[n]<t&&(r=n,t=e[n])}return r+1},s.argMax=function(e){if(e.length<1)return 0;var t=e[0];if(isNaN(t))return 0;for(var r=0,n=1;n<e.length;n++)if(e[n]>=t){if(isNaN(e[n]))return 0;r=n,t=e[n]}return r+1},s.varp=function(e){for(var t=s.mean(e),r=0,n=0;n<e.length;n++){var i=e[n]-t;r+=i*i}return r/e.length},s.mad=function(e){for(var t=s.mean(e),r=0,n=0;n<e.length;n++)r+=Math.abs(e[n]-t);return r/e.length},s.var=function(e){var t=e.length;return s.varp(e)*t/(t-1)},s.covp=function(e,t){if(e.length!==t.length)return NaN;for(var r=e.length,n=s.mean(e),i=s.mean(t),a=0,o=0;o<r;o++)a+=(e[o]-n)*(t[o]-i);return a/r},s.cov=function(e,t){if(e.length!==t.length)return NaN;var r=e.length;return s.covp(e,t)*r/(r-1)},s.corr=function(e,t){if(e.length!==t.length)return NaN;for(var r,n,i=e.length,a=s.mean(e),o=s.mean(t),u=0,c=0,l=0,h=0;h<i;h++)r=e[h]-a,n=t[h]-o,u+=r*r,c+=n*n,l+=r*n;return l/Math.sqrt(u*c)},s.stdev=function(e){return Math.sqrt(s.var(e))},s.stdevp=function(e){return Math.sqrt(s.varp(e))},s.quad=a.quad,s.distance=function(e,t){return i.hypot(t[0]-e[0],t[1]-e[1])},s.midpoint=function(e,t){return[.5*(e[0]+t[0]),.5*(e[1]+t[1])]},s}),define("math/functions",["require","math/builtin"],function(e){function t(e){for(var t=0;t<e.length;t++)e[t].compiled&&delete e[t].compiled.fn}function r(e){for(var t=0;t<e.length;t++){var r=e[t].compiled;r&&(r.fn=i(r.args,r.source))}}function n(e,t){for(var r=[],n=0;n<t;n++)r.push("values["+n+"]");return i(["values"],"return "+e(r))}function i(e,t){var r=e.join(","),n="return (function("+r+"){"+t+"})",i=new Function(["BuiltIn"],n);return i(a)}var a=e("math/builtin");return{dehydrateGraphData:t,rehydrateGraphData:r,closureFunctionWithBuiltIn:i,createEvaluateFunction:n}});var define_enum_constant,enum_strings={},debuggable_enums=!0;if(debuggable_enums)define_enum_constant=function(e){this[e]=e};else{var next_enum=1e3;define_enum_constant=function(e){enum_strings[next_enum]=e,this[e]=next_enum++}}define_enum_constant("EXPRESSION"),define_enum_constant("FUNCTION_DEFINITION"),define_enum_constant("VARIABLE_DEFINITION"),define_enum_constant("ORDERED_PAIR_LIST"),define_enum_constant("DOUBLE_INEQUALITY"),define_enum_constant("COMPARATOR"),define_enum_constant("CHAINED_COMPARATOR"),define_enum_constant("EQUATION"),define_enum_constant("CONSTANT"),define_enum_constant("IDENTIFIER"),define_enum_constant("LIST"),define("math/enums",function(){}),define("math/parsenode/base",["require","pjs","math/functions","../enums"],function(e){var t=e("pjs"),r=e("math/functions");return e("../enums"),t(function(e,t,n){e.init=function(){this._dependencies=[],this._dummyDependencies=[],this._inputString="",this._exports=[]},e.exportPenalty=0;var i=0;e.tmpVar=function(){return"tmp"+i++},e.statementType=EXPRESSION,e.dependencies=function(){return this.getDependencies()},e.evaluateOnce=function(e){void 0===e&&(e={});var t=this.getConcreteTree(e),r=t.getEvaluationInfo();return r?r[0].val:NaN},e.setInputString=function(e){this._inputString=e},e.getInputString=function(){return this._inputString},e.shouldExportAns=function(){return!1},e.getAnsVariable=function(){return this.shouldExportAns()&&this.userData&&this.userData.hasOwnProperty("index")?["ans_"+this.userData.index]:[]},e.addDependency=function(e){this.dependsOn(e)||this._dependencies.push(e)},e.addDependencies=function(e){for(var t=0;t<e.length;t++)this.addDependency(e[t])},e.addDummyDependency=function(e){this._dummyDependencies.indexOf(e)===-1&&this._dummyDependencies.push(e)},e.addDummyDependencies=function(e){for(var t=0;t<e.length;t++)this.addDummyDependency(e[t])},e.mergeDependencies=function(){for(var e=0;e<arguments.length;e++)this.addDependencies(arguments[e].getDependencies()),this.addDummyDependencies(arguments[e].getDummyDependencies())},e.getDependencies=function(){return this._dependencies},e.getDummyDependencies=function(){return this._dummyDependencies},e.removeDependency=function(e){var t=this._dependencies.indexOf(e);t>=0&&this._dependencies.splice(t,1)},e.dependsOn=function(e){return this._dependencies.indexOf(e)>-1},e.getExports=function(){var e=this._exports||[];return e.concat(this.getAnsVariable())},e.getLegalExports=function(e){return this.getExports().filter(function(t){return!e.assignmentForbidden(t)})},e.exportsSymbol=function(e){return this._exports.indexOf(e)>-1},e.exportTo=function(e,t,r){for(var n=this.getLegalExports(e),i=0;i<n.length;i++){var a=n[i];if(r[a])return;r[a]=t.blocksExport?t:this}},e.getOperator=function(){return this.operator||"="},e.isInequality=function(){return!1},e.isShadeBetween=function(){return!1},e.getAllIds=function(){return this.userData?[this.userData.id]:[]},e.getEvaluationInfo=function(){return!1},e.getSliderInfo=function(){return!1},e.getSliderVariables=function(e,t){return e.sliderVariables(t.getDependencies())},e.okForImplicitFunction=function(){return!1},e.tryGetConcreteTree=function(){var e;try{e=this.getConcreteTree.apply(this,arguments)}catch(t){if(!(t instanceof n))throw t;e=t}return e},e.getCompiledFunction=function(e){var t=this.getEvalStrings(),n=t.statements.join(";")+";return "+t.expression;if(void 0===e){e=this.getDependencies();var i=e.indexOf("x");if(i!==-1){var a=e[0];e[0]=e[i],e[i]=a}}return{args:e,source:n,fn:r.closureFunctionWithBuiltIn(e,n)}},e.getCompiledDerivative=function(){var e=this.getDependencies(),t=this.takeDerivative(e[0]||"x");return t.getCompiledFunction()}})}),define("lib/worker-i18n",["require","underscore"],function(e){var t=e("underscore"),r=function(e,r){return r&&0!==t.size(r)?JSON.stringify({msg:e,vars:r}):e};return{t:r}}),define("math/parsenode/error",["require","pjs","./base"],function(e){var t=e("pjs"),r=e("./base");return t(r,function(e,t){e.init=function(e){t.init.call(this),this._msg=e,this._sliderVariables=[],this.blocksExport=!0},e.evaluateOnce=function(e){return this._msg},e.isError=!0,e.getError=function(){return this._msg},e.setDependencies=function(e){return this._dependencies=e,this},e.allowExport=function(){return this.blocksExport=!1,this}})}),define("lib/number-to-latex",["require"],function(e){return function(e){if("string"==typeof e)return e;var t=e+"";return t=t.replace(/1e\\+?([-\\d]+)/,"10^{$1}"),t=t.replace(/([-\\d\\.]+)e\\+?([-\\d]+)/,"$1\\\\cdot 10^{$2}")}}),define("graphing/label",["require","underscore","math/builtin","math/distance","lib/number-to-latex"],function(e){function t(e,t){if(isNaN(e)||!isFinite(e))return{ariaString:"undefined",string:"undefined",value:e};if(0===e)return{ariaString:"0",string:"0",value:e};t||(t=e),Math.abs(e)>Math.abs(t)&&(t=e);var r,n,a,h=g.toFraction(e/Math.PI,24);if(c(t)&&y.approx(h.n/h.d*Math.PI,e,3))return r=0===h.n?"0":1===h.n?"π":h.n===-1?"-π":h.n.toString()+"π",n=1===h.d?"":"/"+h.d.toString(),a=r+n,{ariaString:i(a),string:a,value:h.n/h.d*Math.PI};var f,p;if(c(t))a=u(o(e.toFixed(l(t)))),p=null,f=null;else{var m=s(e.toExponential(l(t/e))).split("e");f=m[0]+"×10",p=m[1].replace("+",""),a=s(e.toExponential(l(t/e))).replace("+","")}return{ariaString:i(a),string:a,mantissa:f,superscript:p,value:parseFloat(a)}}function r(e){return b["["+e+"]"]}function n(e){return e[0]+e.slice(1).split("").join(" ")}function i(e){return e.replace(_,n).replace(x,r).replace(/ +/gi," ").trim()}function a(e,r,n,i){var a=t(e,r),o=t(i(a.value),n);return[a,o]}function o(e){return e.indexOf(".")===-1?e:e.replace(w,"")}function s(e){var t=/\\.?0+e/;return e.replace(t,"e")}function u(e){return"-0"===e?"0":e}function c(e){return e=Math.abs(e),1e-4<e&&e<1e7}function l(e){return e=Math.abs(e),e=Math.max(e,1e-16),Math.max(3,Math.floor(4.5-Math.log(e)/Math.LN10))}function h(e){var t={pi:"π",tau:"τ",theta:"θ",phi:"ϕ"};return t.hasOwnProperty(e)?t[e]:e}function f(e){var t=e.split("_"),r="";return t[0].length>1&&(r+="\\\\"),r+=t[0],t[1]&&(r+=1===t[1].length?"_"+t[1]:"_{"+t[1]+"}"),r}function p(e){var t=e.split("_").map(h).map(d.escape),r=t[0];return t[1]&&(r+="<sub>"+t[1]+"</sub>"),r}function m(e){return e=e.replace(/\\\\operatorname\\{(.*)\\}/,"$1"),e.replace(/[{}\\\\]/g,"")}var d=e("underscore"),g=e("math/builtin"),y=e("math/distance"),v=e("lib/number-to-latex"),b={"[e]":" times 10 to the ","[+]":" plus ","[-]":" minus ","[*]":" times ","[/]":" over ","[π]":" pi ","[τ]":" tau ","[θ]":" theta ","[ϕ]":" phi "},x=new RegExp(Object.keys(b).join("|"),"gi"),_=/\\.\\d+/g,w=/\\.?0+$/,M=function(e,t,r){if(r=r||{},isNaN(t)||!isFinite(t))return"latex"===e?"\\\\mathrm{undefined}":"undefined";if(0===t)return"0";if(r.zeroCutoff&&Math.abs(t)<r.zeroCutoff)return"0";var n=r.smallCutoff||.001,i=r.bigCutoff||1e6,a=r.digits||10;if(!(Math.abs(t)>i||Math.abs(t)<n)){var o=Number(t.toPrecision(a));return t!==o&&r.addEllipses&&(o+="..."),o+""}var u=s(t.toExponential(a-2));return"latex"===e?u.replace(/([\\d\\.\\-]+)e\\+?([\\d\\-]+)/,"$1\\\\times10^{$2}"):"plainmath"===e?u.replace(/([\\d\\.\\-]+)e\\+?([\\d\\-]+)/,"$1 * 10^$2"):"html"===e?u.replace(/([\\d\\.\\-]+)e\\+?([\\d\\-]+)/,"$1<span class=\'dcg-cross\'>×</span>10<sup>$2</sup>"):void 0},E=function(e,t){return M("html",e,t)},T=function(e,t){return M("plainmath",e,t)},S=function(e,t){return M("latex",e,t)};return{value:t,point:a,formatSymbol:h,identifierToLatex:f,latexToIdentifier:m,numberToLatex:v,identifierToHTML:p,truncatedHTMLLabel:E,truncatedLatexLabel:S,truncatedPlainmathLabel:T}}),define("math/types",["require","lib/worker-i18n"],function(e){function t(e){switch(e){case u:return"Any";case c:return"Number";case l:return"Bool";case h:return"Point";case f:return"ListOfAny";case p:return"ListOfNumber";case m:return"ListOfBool";case d:return"ListOfPoint";case g:return"ErrorType";default:throw new Error("Invalid type")}}function r(e){switch(e){case u:return s.t("an unknown object");case c:return s.t("a number");case l:return s.t("a true/false value");case h:return s.t("a point");case f:return s.t("a list of unknown objects");case p:return s.t("a list of numbers");case m:return s.t("a list of true/false values");case d:return s.t("a list of points");case g:return s.t("an error object");default:throw new Error("Invalid type")}}function n(e){switch(e){case f:return!0;case p:return!0;case m:return!0;case d:return!0;default:return!1}}function i(e){switch(e){case f:return u;case p:return c;case m:return l;case d:return h;default:return u}}function a(e){switch(e){case u:return f;case c:return p;case l:return m;case h:return d;default:throw new Error("Type "+t(e)+" does not implement listType.")}}function o(e){switch(e){case u:return!0;case c:return!0;case l:return!0;case h:return!0;default:return!1}}var s=e("lib/worker-i18n"),u=0,c=1,l=2,h=3,f=4,p=5,m=6,d=7,g=8;return{Any:u,Number:c,Bool:l,Point:h,ListOfAny:f,ListOfNumber:p,ListOfBool:m,ListOfPoint:d,ErrorType:g,repr:t,prettyPrint:r,isList:n,elementType:i,listType:a,hasListType:o}}),define("math/errormsg",["require","lib/worker-i18n","math/parsenode/error","graphing/label","math/types"],function(e){var t=e("lib/worker-i18n"),r=e("math/parsenode/error"),n=e("graphing/label"),i=e("math/types");return{parseError:function(){return r(t.t("Sorry, I don\'t understand this."))},addTypeError:function(e){return r(t.t("Cannot add __symbol2__ and __symbol1__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},subtractTypeError:function(e){return r(t.t("Cannot subtract __symbol2__ from __symbol1__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},multiplyTypeError:function(e){return r(t.t("Cannot multiply __symbol1__ by __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},divideTypeError:function(e){return r(t.t("Cannot divide __symbol1__ by __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},exponentTypeError:function(e){return r(t.t("Cannot raise __symbol1__ to __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},negativeTypeError:function(e){return r(t.t("Cannot negate __symbol__.",{symbol:e[0]})).allowExport()},comparatorTypeError:function(e){return r(t.t("Cannot compare __symbol1__ to __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},andTypeError:function(e){return r(t.t("Cannot apply __symbol__ to __symbol1__ and __symbol2__.",{symbol:"and",symbol1:e[0],symbol2:e[1]})).allowExport()},listTypeError:function(e){return r(t.t("Cannot store __symbol1__ in a list.",{symbol1:e[0]})).allowExport()},pointTypeError:function(e){return r(t.t("Cannot use __symbol1__ and __symbol2__ as the coordinates of __symbol3__.",{symbol1:e[0],symbol2:e[1],symbol3:i.prettyPrint(i.Point)})).allowExport()},indexTypeError:function(e){return r(t.t("Cannot index __symbol1__ with __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},functionTypeError:function(e,i){switch(i.length){case 1:return r(t.t("Function \'__fn__\' cannot be applied to __arg__.",{fn:n.formatSymbol(e),arg:i[0]})).allowExport();case 2:return r(t.t("Function \'__fn__\' cannot be applied to __arg1__ and __arg2__.",{fn:n.formatSymbol(e),arg1:i[0],arg2:i[1]})).allowExport();default:return r(t.t("Function \'__fn__\' cannot be applied to these arguments.",{fn:n.formatSymbol(e)})).allowExport()}},sumLowerBoundTypeError:function(e){return r(t.t("Lower bound of a sum cannot be __symbol__.",{symbol:e[0]})).allowExport()},sumUpperBoundTypeError:function(e){return r(t.t("Upper bound of a sum cannot be __symbol__.",{symbol:e[0]})).allowExport()},sumArgumentTypeError:function(e){return r(t.t("Cannot take the sum of __symbol__.",{symbol:e[0]})).allowExport()},productLowerBoundTypeError:function(e){return r(t.t("Lower bound of a product cannot be __symbol__.",{symbol:e[0]})).allowExport()},productUpperBoundTypeError:function(e){return r(t.t("Upper bound of a product cannot be __symbol__.",{symbol:e[0]})).allowExport()},productArgumentTypeError:function(e){return r(t.t("Cannot take the product of __symbol__.",{symbol:e[0]})).allowExport()},integralLowerBoundTypeError:function(e){return r(t.t("Lower bound of an integral cannot be __symbol__.",{symbol:e[0]})).allowExport()},integralUpperBoundTypeError:function(e){return r(t.t("Upper bound of an integral cannot be __symbol__.",{symbol:e[0]})).allowExport()},integralArgumentTypeError:function(e){return r(t.t("Cannot take the integral of __symbol__.",{symbol:e[0]})).allowExport()},derivativeTypeError:function(e){return r(t.t("Cannot take the derivative of __symbol__.",{symbol:e[0]})).allowExport()},derivativeVariableTypeError:function(e,i){return r(t.t("Cannot take derivative with respect to \'__symbol1__\' because it is __symbol2__.",{symbol1:n.formatSymbol(e),symbol2:i[0]}))},piecewiseConditionTypeError:function(e){return r(t.t("The condition in a piecewise expression must be __symbol1__ but was __symbol2__.",{symbol1:i.prettyPrint(i.Bool),symbol2:e[0]})).allowExport()},piecewiseBranchTypeError:function(e){return r(t.t("Cannot use __symbol__ as a branch of a piecewise expression.",{symbol:e[0]})).allowExport()},tableHeaderTypeError:function(e){return r(t.t("Table header cannot be __symbol__.",{symbol:e[0]}))},tableEntryTypeError:function(e){return r(t.t("Table entry cannot be __symbol__.",{symbol:e[0]}))},regressionTypeError:function(e){return r(t.t("Cannot regress __symbol1__ against __symbol2__.",{symbol1:e[0],symbol2:e[1]}))},heterogeneousList:function(){return r(t.t("All elements of a list must have the same type.")).allowExport()},deeplyNested:function(){return r(t.t("Definitions are nested too deeply.")).allowExport()},wrongArity:function(e,i,a){e=n.formatSymbol(e);var o,s;if(1===i)s=t.t("For example, try typing: __dependency__(x).",{dependency:e}),o=a>1?t.t("Function \'__dependency__\' requires only 1 argument. __supplement__",{dependency:e,supplement:s}):t.t("Function \'__dependency__\' requires an argument. __supplement__",{dependency:e,supplement:s});else{for(var u=[],c=0;c<i;c++)u[c]=c+1;var l=n.formatSymbol(e)+"("+u.join(", ")+")";s=t.t("For example, try typing: __recommendation__.",{recommendation:l}),o=t.t("Function \'__dependency__\' requires __assignment_arity__ arguments. __supplement__",{dependency:e,assignment_arity:i,supplement:s})}return r(o)},wrongParametrizedReducerArity:function(e){return r(t.t("Function \'__symbol__\' requires 2 arguments. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], 1)"}))},wrongDoubleReducerArity:function(e){return r(t.t("Function \'__symbol__\' requires 2 arguments. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], [3,2,1])"}))},primedFunctionArity:function(){return r(t.t("Prime notation can only be used for functions of a single argument."))},zeroArgReducer:function(e){return r(t.t("Function \'__symbol__\' requires at least one argument. For example, try typing: __symbol__(1, 2).",{symbol:n.formatSymbol(e)}))},missingRHS:function(e){return e=n.formatSymbol(e),r(t.t("What do you want \'__symbol__\' to equal?",{symbol:e}))},malformedPoint:function(){return r(t.t("Points are written like this: (1, 2)."))},badImplicitMultiply:function(e){return e=n.formatSymbol(e),r(t.t("Use parentheses around the argument of \'__symbol__\'.",{symbol:e}))},binaryOperatorMissingOperand:function(e){return r(t.t("You need something on both sides of the \'__symbol__\' symbol.",{symbol:e}))},fractionMissingNumerator:function(){return r(t.t("You need a numerator for the top of your fraction."))},fractionMissingDenominator:function(){return r(t.t("You need a denominator for the bottom of your fraction."))},fractionEmpty:function(){return r(t.t("You need a numerator and denominator for your fraction."))},badTrigExponent:function(e){var n=e+"^2",i=e+"^-1";return r(t.t("Only __form1__ and __form2__ are supported. Otherwise, use parens.",{form1:n,form2:i}))},badLogExponent:function(e){var n=e+"^2";return r(t.t("Only __form__ is supported. Otherwise, use parens.",{form:n}))},blankExpression:function(){return r(t.t("You haven\'t written anything yet."))},functionNotDefined:function(e){return e=n.formatSymbol(e),r(t.t("Function \'__dependency__\' is not defined.",{dependency:e}))},parameterAlreadyDefined:function(e){return e=n.formatSymbol(e),r(t.t("You can\'t use \'__dependency__\' as a parameter of this function because \'__dependency__\' is already defined.",{dependency:e}))},cannotRedefine:function(e,i){return e=n.formatSymbol(e),r(void 0===i?t.t("You can\'t redefine \'__symbol__\' because it\'s already defined.",{symbol:e}):t.t("You can\'t redefine \'__symbol__\' because \'__symbolRoot__\' is already defined.",{symbol:e,symbolRoot:i}))},multiplyDefined:function(e){return e=n.formatSymbol(e),r(t.t("You\'ve defined \'__dependency__\' in more than one place. Try picking a different variable, or deleting some of the definitions of \'__dependency__\'.",{dependency:e}))},shadowedIndex:function(e){return e=n.formatSymbol(e),r(t.t("You can\'t use \'__symbol__\' as an index because it\'s already defined.",{symbol:e}))},cycle:function(e){e=e.map(n.formatSymbol);var i=e.pop();return r(t.t("\'__symbols__\' and \'__lastSymbol__\' can\'t be defined in terms of each other.",{symbols:e.join("\', \'"),lastSymbol:i}))},selfReferentialFunction:function(e){return r(t.t("The definition of function \'__symbol__\' cannot depend on \'__symbol__\'.",{symbol:n.formatSymbol(e)}))},tooManyVariables:function(e){if(e=e.map(n.formatSymbol),0===e.length)return r(t.t("Too many variables, I don\'t know what to do with this."));var i=e.pop();return r(t.t("Too many variables. Try defining \'__variables__\'.",{variables:(e.length?e.join("\', \'")+"\' or \'":"")+i}))},addArgumentsToDefinition:function(e,i,a){e=e.map(n.formatSymbol),i=n.formatSymbol(i),a=a.map(n.formatSymbol);var o=i+"("+a.join(",")+","+e.join(",")+")",s=e.pop(),u={symbols:e.join("\', \'"),lastSymbol:s,newSignature:o};return r(e.length?t.t("Try including \'__symbols__\' and \'__lastSymbol__\' as arguments by defining the function as \'__newSignature__\'.",u):t.t("Try including \'__lastSymbol__\' as an argument by defining the function as \'__newSignature__\'.",u))},invalidLHS:function(e){return e=n.formatSymbol(e),r(t.t("Sorry, you can\'t graph __symbol__ as a function of anything yet.",{symbol:e}))},unplottablePolarFunction:function(){return r(t.t("We can\'t plot θ as a function of r. Try plotting r(θ) instead."))},invalidInequalityVariables:function(){return r(t.t("We only plot inequalities of x and y, or r and θ."))},invalidImplicitVariables:function(){return r(t.t("We only support implicit equations of x and y."))},singleVariableImplicitEquationsDisabled:function(){return r(t.t("Plotting single-variable implicit equations is disabled."))},complicatedImplicitInequality:function(){return r(t.t("We can only plot inequalities when one variable is quadratic or linear."))},complicatedPolarImplicit:function(){return r(t.t("Polar equations must be linear in r."))},invalidDoubleInequalityVariables:function(){return r(t.t("We only plot double inequalities of x and y."))},mismatchedDoubleInequality:function(){return r(t.t("Double inequalities must both go the same way, e.g. 1 < y < 2."))},complicatedDoubleInequality:function(){return r(t.t("We only support solved double inequalities. Try deleting one side of the inequality."))},equationRequired:function(e){return e?(e=n.formatSymbol(e),r(t.t("Try adding \'__lhs__\' to the beginning of this equation.",{lhs:e+"="}))):r(t.t("Try adding an equals sign to turn this into an equation."))},variableAsFunction:function(e){return e=n.formatSymbol(e),r(t.t("Variable \'__dependency__\' can\'t be used as a function.",{dependency:e}))},emptyList:function(){return r(t.t("Empty lists are not allowed."))},invalidTableHeader:function(e){return r(t.t("Table headers must be simple expressions. __supplement__",{supplement:e}))},invalidTableEntry:function(e){return r(t.t("Table entries must be simple expressions. __supplement__",{supplement:e}))},invalidFirstTableColumn:function(){return r(t.t("First column may not be __most__ or __last__.",{most:"\'y\', \'r\',",last:"\'θ\'"}))},invalidDependentFirstTableColumn:function(){return r(t.t("This column header can\'t be defined elsewhere in the calculator."))},invalidRegressionParameter:function(e){return r(t.t("\'__symbol__\' may not be used as a regression parameter.",{symbol:n.formatSymbol(e)}))},optimizationError:function(){return r(t.t("We couldn\'t find any region where this model is defined."))},badListInReducer:function(e){return r(t.t("When __symbol__ is called with more than two arguments, no argument can be a list.",{symbol:n.formatSymbol(e)})).allowExport()},nonListDoubleReducer:function(e){return r(t.t("Both arguments of \'__symbol__\' must be lists. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], [3,2,1])"})).allowExport()},nonListParametrizedReducer:function(e){return r(t.t("The first argument of \'__symbol__\' must be a list. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], 1)"})).allowExport()},variableRange:function(e){return r(t.t("Range cannot depend on free variable \'__symbol__\'.",{symbol:n.formatSymbol(e[0])})).allowExport()},nonArithmeticRange:function(e){return r(t.t("Ranges must be arithmetic sequences.")).allowExport()},missingIntegralBounds:function(){return r(t.t("Integrals must have upper and lower bounds."))},shadowedIntegrationVariable:function(e){return r(t.t("You can\'t use \'__symbol__\' as an integration variable because it\'s already defined.",{symbol:n.formatSymbol(e)}))},badIntegralBoundDependency:function(e){return r(t.t("Integration bounds can\'t depend on integration variable \'__symbol__\'.",{symbol:n.formatSymbol(e)}))},percentMissingOf:function(){return r(t.t("\'%\' must be used with \'of\'. Try \'25% of 12\'."))},badAnsContext:function(){return r(t.t("You can\'t use \'ans\' in this context."))},ansUndefined:function(){return r(t.t("The previous expression didn\'t define any value for ans."))},variablesUnsupported:function(e){return r(t.t("This calculator does not support variables like \'__variable__\'.",{variable:n.formatSymbol(e)}))},functionUnsupported:function(e){return r(t.t("This calculator does not support the \'__symbol__\' function.",{symbol:n.formatSymbol(e)}))},constantUnsupported:function(e){return r(t.t("This calculator does not support the constant \'__symbol__\'.",{symbol:n.formatSymbol(e)}))},assignmentsUnsupported:function(){return r(t.t("This calculator does not support defining variables."))},functionDefinitionsUnsupported:function(){return r(t.t("This calculator does not support function definitions."))},equationsUnsupported:function(){return r(t.t("This calculator does not support this type of equation."))},inequalitiesUnsupported:function(){return r(t.t("This calculator does not support inequalities."))},regressionsUnsupported:function(){return r(t.t("This calculator does not support regressions."))},pointsUnsupported:function(){return r(t.t("This calculator does not support points."))},featureUnavailable:function(){return r(t.t("This feature is not available in the current calculator."))},nonSquareDeterminant:function(){return r(t.t("Only square matrices have a determinant."))},nonSquareInverse:function(){return r(t.t("Only square matrices have an inverse."))},singularInverse:function(){return r(t.t("Singular matrices do not have an inverse."))},matrixAssignment:function(){return r(t.t("This calculator does not support this type of variable definition. Try using \'New Matrix\'."))},matrixAddDimensions:function(){return r(t.t("Cannot add matrices with different dimensions."))},matrixSubtractDimensions:function(){return r(t.t("Cannot subtract matrices with different dimensions."))},matrixMultiplyDimensions:function(){return r(t.t("Cannot multiply matrices with incompatible dimensions."))},matrixFractionalPower:function(){return r(t.t("A matrix can only be raised to integer powers."))},matrixPowerDimensions:function(){return r(t.t("Only square matrices can be raised to a power."))},matrixElementTypeError:function(e){return r(t.t("Cannot use __arg__ as an element of a matrix.",{arg:e[0]}))},matrixInvalidVariable:function(e){return r(t.t("Cannot use \'__symbol__\' as a variable.",{symbol:n.formatSymbol(e)}))}}}),define("math/parsenode/expression",["require","pjs","./base","math/errormsg","math/types"],function(e){var t=e("pjs"),r=e("./base"),n=e("math/errormsg"),i=e("math/types");return t(r,function(e,t){e.init=function(e){if(!Array.isArray(e))throw new TypeError("Argument to expression constructor must be an Array.");t.init.call(this),this.args=e,this.valueType=this._getValueType(e),this.registerDependencies(),this.computeTreeSize()},e._getValueType=function(e){return i.Any},e.shouldExportAns=function(){return!0},e.registerDependencies=function(){this.mergeDependencies.apply(this,this.args)},e.computeTreeSize=function(){for(var e=0,t=0;t<this.args.length;t++)this.args[t].treeSize&&(e+=this.args[t].treeSize);if(this.treeSize=e+1,e>1e4)throw n.deeplyNested()},e.copyWithArgs=function(e){return new this.constructor(e)}})}),define("math/parsenode/scalarexpression",["require","pjs","./expression"],function(e){var t=e("pjs"),r=e("./expression");return t(r,function(e,t){e.init=function(e){t.init.call(this,e)},e.getEvalStrings=function(){for(var e=[],t=[],r=0;r<this.args.length;r++){var n=this.args[r].getEvalStrings();e=e.concat(n.statements),t.push(n.expression)}return{statements:e,expression:this.scalarEvalExpression(t)}}})}),define("math/parsenode/expressionTypes",["require","pjs","./scalarexpression"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n={Add:t(r,{}),Subtract:t(r,{}),Multiply:t(r,{}),Divide:t(r,{}),Exponent:t(r,{}),Negative:t(r,{}),And:t(r,{isInequality:function(){return this.args[0].isInequality()&&this.args[1].isInequality()}})};return n.RawExponent=t(n.Exponent,{}),n}),define("math/parsenode/constant",["require","pjs","./scalarexpression"],function(e){var t=e("pjs"),r=e("./scalarexpression");return t(r,function(e,t){e.init=function(e){this.constantValue=e,t.init.call(this,[])},e.isConstant=!0,e.getEvalStrings=function(){return{statements:[],expression:this.scalarExprString()}},e.asValue=function(){return this.constantValue},e.scalarExprString=function(){return this.constantValue>0?String(this.constantValue):"("+String(this.constantValue)+")"},e.getEvaluationInfo=function(){return[{val:this.constantValue}]},e.isNaN=function(){return"number"==typeof this.constantValue&&isNaN(this.constantValue)},e.okForImplicitFunction=function(){return!0}})}),define("math/parsenode/identifier",["require","pjs","./expression","graphing/label"],function(e){var t=e("pjs"),r=e("./expression"),n=e("graphing/label");return t(r,function(e,t,r){e.init=function(e){t.init.call(this,[]),this._symbol=n.latexToIdentifier(e),this.setInputString(e),this.addDependency(this._symbol)},e.evaluate=function(){throw"Cannot evaluate undefined variable "+this._symbol},e.okForImplicitFunction=function(){return!0}})}),define("math/parsenode/ans",["require","pjs","./identifier"],function(e){var t=e("pjs"),r=e("./identifier");return t(r,function(e,t,r){})}),define("math/parsenode/freevariable",["require","pjs","./scalarexpression"],function(e){var t=e("pjs"),r=e("./scalarexpression");return t(r,function(e,t){e.init=function(e){t.init.call(this,[]),this.addDependency(e),this._symbol=e},e.isFreeVariable=!0,e.scalarEvalExpression=function(e){return this._symbol},e.copyWithArgs=function(e){return this}})}),define("math/parsenode/dummyindex",["require","pjs","./freevariable"],function(e){var t=e("pjs"),r=e("./freevariable");return t(r,function(){})}),define("math/parsenode/list",["require","pjs","./expression","math/errormsg","math/types"],function(e){var t=e("pjs"),r=e("./expression"),n=e("math/errormsg"),i=e("math/types");return t(r,function(e,t,r){function a(e){for(var t=1/0,r=0;r<e.length;r++)(e[r].isList||e[r].isBroadcast)&&(t=Math.min(t,e[r].length));return t}e.init=function(e){if(t.init.call(this,e),this.length=e.length,0===this.length)throw n.emptyList()},e.isList=!0,e.getEvalStrings=function(){for(var e=[],t=[],r=0;r<this.args.length;r++){var n=this.args[r].getEvalStrings();Array.prototype.push.apply(e,n.statements),t.push(n.expression)}return{statements:e,expression:"["+t.join(",")+"]"}},e.asValue=function(){for(var e=[],t=0;t<this.args.length;t++)e.push(this.args[t].asValue());return e},e.getEvaluationInfo=function(){if(this.args.every(function(e){return e.isConstant}))return[{val:this.args.map(function(e){return e.constantValue})}]},r.eachArgs=function(e,t){var r=a(e);if(!isFinite(r))return void t(e);for(var n=0;n<r;n++){for(var o=[],s=0;s<e.length;s++)o.push(e[s].isList||i.isList(e[s].valueType)?e[s].elementAt(n):e[s]);t(o)}},r.mapArgs=function(e,t){var n=[];return r.eachArgs(e,function(e){n.push(t(e))}),n},r.wrap=function(e){return e.isList||i.isList(e.valueType)?e:r([e])}})}),define("math/parsenode/range",["require","pjs","./expression"],function(e){\nvar t=e("pjs"),r=e("./expression");return t(r,function(e,t,r){e.init=function(e){t.init.call(this,e),this.beginning=e[0],this.end=e[1]}})}),define("math/parsenode/broadcast",["require","pjs","./expression"],function(e){var t=e("pjs"),r=e("./expression");return t(r,function(e,t,r){e.init=function(e,r){if(t.init.call(this,r),this._replacedSymbols=e,this._expression=r[0],this._lists=r.slice(1),!e.length)throw new Error("Cannot construct a broadcast node with no replaced symbols");for(var n=0;n<e.length;n++)this.removeDependency(e[n]);for(var i=1/0,a=0;a<this._lists.length;a++){if(!this._lists[a].isList)throw new Error("List arguments of broadcast must be list literals");i=Math.min(i,this._lists[a].length)}this.length=i},e.isBroadcast=!0,e.copyWithArgs=function(e){return new this.constructor(this._replacedSymbols,e)},e.evaluate=function(e){for(var t=this._expression.getCompiledFunction(this._replacedSymbols).fn,r=[],n=0;n<this.length;n++){for(var i=[],a=0;a<e.length;a++)i.push(e[a][n]);r.push(t.apply(void 0,i))}return r},e.getEvalStrings=function(){var e=[],t=this._expression.getEvalStrings();Array.prototype.push.apply(e,t.statements);var r,n=[],i=[];for(r=0;r<this._lists.length;r++){var a=this._lists[r].getEvalStrings();Array.prototype.push.apply(e,a.statements);var o=this.tmpVar();i.push(o),n.push("var "+o+" = "+a.expression)}var s=this.tmpVar(),u=this.tmpVar();n.push("var "+s+" = []");var c=[];for(r=0;r<i.length;r++)c.push("var "+this._replacedSymbols[r]+" = "+i[r]+"["+u+"]");return n.push("for (var "+u+" = 0; "+u+" < "+this.length+"; "+u+"++) {\\n  "+c.join(";\\n  ")+";\\n  "+s+".push("+t.expression+");\\n}"),{statements:e.concat(n),expression:s}}})}),define("math/parsenode/listaccess",["require","pjs","./expression"],function(e){var t=e("pjs"),r=e("./expression");return t(r,function(e,t){e.init=function(e){t.init.call(this,e),this.list=e[0],this.index=e[1]},e.getEvalStrings=function(){var e=this.index.getEvalStrings(),t=this.list.getEvalStrings(),r=e.statements.concat(t.statements),n=this.tmpVar();r.push(n+" = "+t.expression);var i=this.tmpVar();return r.push(i+" = Math.floor("+e.expression+") - 1"),{statements:r,expression:"("+i+" >= 0 && "+i+" < "+n+".length ? "+n+"["+i+"] : NaN)"}}})}),define("math/parsenode/orderedpair",["require","pjs","./scalarexpression"],function(e){var t=e("pjs"),r=e("./scalarexpression");return t(r,function(e,t,r){e.asArray=function(){return[+this.args[0].asValue(),+this.args[1].asValue()]},e.asValue=e.asArray,e.getSliderVariables=function(e,t){return e.sliderVariables(t.getDependencies()).filter(function(t){return!e.validParametricVariable(t)})},e.getEvalStrings=function(){for(var e=[],t=[],r=0;r<this.args.length;r++){var n=this.args[r].getEvalStrings();e=e.concat(n.statements),t.push(n.expression)}return{statements:e,expression:"["+t.join(",")+"]"}}})}),define("math/parsenode/movablepoint",["require","pjs","./orderedpair"],function(e){var t=e("pjs"),r=e("./orderedpair");return t(r,function(e,t){e.init=function(e,r,n){t.init.call(this,e),this.moveStrategy=r,this.defaultDragMode=n},e.isMovablePoint=!0})}),define("math/parsenode/orderedpairaccess",["require","pjs","./scalarexpression"],function(e){var t=e("pjs"),r=e("./scalarexpression");return t(r,function(e,t){e.init=function(e){t.init.call(this,e),this.point=e[0],this.index=e[1]},e.getEvalStrings=function(){var e=this.index.getEvalStrings(),t=this.point.getEvalStrings(),r=[];Array.prototype.push.apply(r,e.statements),Array.prototype.push.apply(r,t.statements);var n=t.expression+"["+e.expression+"-1]";return{statements:r,expression:n}}})}),define("math/comparators",["require"],function(e){var t={"<":{inclusive:!1,direction:-1},"!=":{inclusive:!1,direction:0},">":{inclusive:!1,direction:1},"<=":{inclusive:!0,direction:-1},"=":{inclusive:!0,direction:0},">=":{inclusive:!0,direction:1}},r=function(e,t){switch(t){case-1:return e?"<=":"<";case 0:return e?"=":"!=";case 1:return e?">=":">";default:throw"Programming error.  Comparators must have a direction of -1, 0, or 1"}};return{table:t,get:r}}),define("math/parsenode/basecomparator",["require","pjs","./scalarexpression","./expressionTypes","math/comparators","math/functions"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("./expressionTypes").Subtract,i=e("math/comparators").table,a=e("math/functions");return t(r,function(e,r,o){o.create=function(e,r){return r=r||e,t(o,function(t,n){t.operator=e,t.isInequality=function(){return 0!==i[e].direction},t.compiledOperator=r,t.scalarEvalExpression=function(e){return e.join(r)},t.evaluate=a.createEvaluateFunction(t.scalarEvalExpression,2)})},e.init=function(e){r.init.call(this,e),this._difference=n(i[this.operator].direction===-1?[e[1],e[0]]:[e[0],e[1]])}})}),define("math/parsenode/comparator",["require","math/parsenode/basecomparator"],function(e){var t=e("math/parsenode/basecomparator");return{"<":t.create("<"),">":t.create(">"),"<=":t.create("<="),">=":t.create(">="),"=":t.create("=","===")}}),define("math/parsenode/doubleinequality",["require","pjs","./base","math/comparators","./comparator"],function(e){var t=e("pjs"),r=e("./base"),n=e("math/comparators"),i=e("./comparator");return t(r,function(e,t){e.init=function(e){t.init.call(this),this.args=e,this._symbol=e[2]._symbol,this._operators=[e[1],e[3]],this._expressions=[e[0],e[4]];var r=n.get(n.table[e[1]].inclusive&&n.table[e[3]].inclusive,n.table[e[1]].direction);this._indicator=i[r]([e[0],e[4]]),this.addDependency(this._symbol),this.mergeDependencies(this._expressions[0],this._expressions[1])},e.isInequality=function(){return!0},e.isShadeBetween=function(){return!0}})}),define("math/parsenode/repeatedoperator",["require","pjs","./scalarexpression","./dummyindex"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("./dummyindex");return t(r,function(e,t){e.init=function(e){t.init.call(this,e),this._index=e[0],this.addDummyDependency(this._index._symbol),this._index instanceof n&&this.removeDependency(this._index._symbol)},e.getEvalStrings=function(){var e=[],t=this.tmpVar(),r=this._index._symbol,n=this.tmpVar(),i=this.tmpVar(),a=this.args[1].getEvalStrings(),o=this.args[2].getEvalStrings(),s=this.args[3].getEvalStrings();Array.prototype.push.apply(e,a.statements),e.push("var "+n+" = Math.round("+a.expression+")"),Array.prototype.push.apply(e,o.statements),e.push("var "+i+" = Math.round("+o.expression+")"),e.push("var "+t+"="+this.starting_value);var u="for (var "+r+"="+n+";"+r+"<="+i+";"+r+"++) {"+s.statements.join(";")+";"+t+this.in_place_operator+s.expression+"};",c="if(!isFinite("+i+"-"+n+")) {"+t+"=("+i+"<"+n+"?"+this.starting_value+":NaN);}else{"+u+"}";return e.push(c),{statements:e,expression:t}},e.evaluate=function(e,t,r){var n=r.getCompiledFunction([this._index._symbol]).fn;if(t=Math.round(t),e=Math.round(e),!isFinite(t-e))return t<e?this.starting_value:NaN;for(var i=this.starting_value,a=e;a<=t;a++)i=this.update(i,n(a));return i}})}),define("math/parsenode/sum",["require","pjs","./repeatedoperator"],function(e){var t=e("pjs"),r=e("./repeatedoperator");return t(r,function(e,t){e.in_place_operator="+=",e.starting_value=0,e.evaluateConstant=function(e){var t=1+Math.round(e[1])-Math.round(e[0]);return t<=0?this.starting_value:t*e[2]},e.update=function(e,t){return e+t}})}),define("math/parsenode/product",["require","pjs","./repeatedoperator"],function(e){var t=e("pjs"),r=e("./repeatedoperator");return t(r,function(e,t){e.in_place_operator="*=",e.starting_value=1,e.evaluateConstant=function(e){var t=1+Math.round(e[1])-Math.round(e[0]);return t<=0?this.starting_value:Math.pow(e[2],t)},e.update=function(e,t){return e*t}})}),define("math/parsenode/integral",["require","pjs","./scalarexpression","./dummyindex","math/builtin"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("./dummyindex"),i=e("math/builtin");return t(r,function(e,t){e.init=function(e){t.init.call(this,e),this._differential=e[0],this.addDummyDependency(this._differential._symbol),this._differential instanceof n&&this.removeDependency(this._differential._symbol)},e.getEvalStrings=function(){var e=this.args[0],t=this.args[1],r=this.args[2],n=this.args[3],i=[],a=this.tmpVar(),o=e._symbol,s=this.tmpVar(),u=this.tmpVar(),c=t.getEvalStrings(),l=r.getEvalStrings(),h=n.getEvalStrings();Array.prototype.push.apply(i,c.statements),Array.prototype.push.apply(i,l.statements),i.push("var "+s+" = "+c.expression),i.push("var "+u+" = "+l.expression),i.push("var "+a+" = function ("+o+") { "+h.statements.join("; ")+"; return "+h.expression+";}");var f="BuiltIn.quad("+[a,s,u].join(", ")+")";return{statements:i,expression:f}},e.evaluate=function(e,t,r){var n=this.args[0],a=r.getCompiledFunction([n._symbol]).fn;return i.quad(a,e,t)}})}),define("math/parsenode/functioncall",["require","pjs","./expression","./identifier"],function(e){var t=e("pjs"),r=e("./expression"),n=e("./identifier");return t(r,function(e,t){e.init=function(e,r){"string"==typeof e&&(e=n(e)),this._identifier=e,this._symbol=e._symbol,t.init.call(this,r),this.addDependency(this._symbol)},e.copyWithArgs=function(e){return new this.constructor(n(this._symbol),e)}})}),define("math/parsenode/functionexponent",["require","pjs","./expression"],function(e){var t=e("pjs"),r=e("./expression");return t(r,function(e,t){})}),define("math/parsenode/prime",["require","pjs","./expression"],function(e){var t=e("pjs"),r=e("./expression");return t(r,function(e,t){e.init=function(e,r){t.init.call(this,r),this.order=e},e.copyWithArgs=function(e){return new this.constructor(this.order,e)}})}),define("math/parsenode/piecewise",["require","pjs","./scalarexpression","./constant"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("./constant"),i=t(r,{});return i.chain=function(e){for(var t,r=n(NaN);e.length;)t=e.pop(),r=i([t.condition,t.if_expr,r]);return r},i.empty=function(){return i([n(!0),n(1),n(NaN)])},i}),define("math/parsenode/derivative",["require","pjs","./scalarexpression","./identifier"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("./identifier");return t(r,function(e,t){e.init=function(e,r){this._symbol=n(e)._symbol,t.init.call(this,r)}})}),define("math/parsenode/nativefunction",["require","pjs","./scalarexpression","math/errormsg","math/functions"],function(e){var t=e("pjs"),r=e("./scalarexpression"),n=e("math/errormsg"),i=e("math/functions");return t(r,function(e,r,a){e.init=function(e){if(e.length<this._requiredArity)throw n.wrongArity(this._symbol,this._requiredArity,e.length);if(e.length>this._maxArity)throw n.wrongArity(this._symbol,this._maxArity,e.length);for(;e.length<this._maxArity;)e.push(this._optionalArguments[e.length-this._requiredArity]);r.init.call(this,e)},e.scalarEvalExpression=function(e){return this.head+"("+e.join(",")+")"},a.create=function(e,r,n,a){return t(this,function(t,o,s){s.isFunction=!0,t._symbol=e,t.head=r,t._requiredArity=n,t._optionalArguments=a||[],t._maxArity=t._requiredArity+t._optionalArguments.length,t.evaluate=i.createEvaluateFunction(t.scalarEvalExpression.bind(t),t._maxArity),s.getConcreteInvocationTree=function(e,t,r){return s(t).getConcreteTree(e,r)},s.getCacheKeys=function(){return[]}})}})}),define("math/parsenode/typedfunction",["require","pjs","./nativefunction"],function(e){var t=e("pjs"),r=e("./nativefunction");return t(r,function(e,t,r,n){r.create=function(e,t,r,i){var a=r.length,o=n.create.call(this,e,t,a);return o.prototype._inputTypes=r,o.prototype._outputType=i,o}})}),define("math/parsenode/trigfunction",["require","pjs","./nativefunction","./expressionTypes"],function(e){var t=e("pjs"),r=e("./nativefunction"),n=e("./expressionTypes").Multiply;return t(r,function(e,t,r,i){r.create=function(e,t){var r=1,a=i.create(e,t,r);return a.getConcreteInvocationTree=function(e,t,r){var i=e.trigAngleMultiplier?[n([t[0],e.trigAngleMultiplier])].concat(t.slice(1)):t;return a(i).getConcreteTree(e,r)},a.getCacheKeys=function(){return["trigAngleMultiplier"]},a}})}),define("math/parsenode/inversetrigfunction",["require","pjs","./nativefunction","./expressionTypes"],function(e){var t=e("pjs"),r=e("./nativefunction"),n=e("./expressionTypes").Divide;return t(r,function(e,t,r,i){r.create=function(e,t,r){var a=1,o=i.create(e,t,a,r);return o.getConcreteInvocationTree=function(e,t,r){var i=o(t),a=e.trigAngleMultiplier?n([i,e.trigAngleMultiplier]):i;return a.getConcreteTree(e,r)},o.getCacheKeys=function(){return["trigAngleMultiplier"]},o}})}),define("math/parsenode/reducerfunction",["require","pjs","./expression","math/functions"],function(e){var t=e("pjs"),r=e("./expression"),n=e("math/functions");return t(r,function(e,r,i){e.evalExpression=function(e){return this.head+"("+e+")"},e.getEvalStrings=function(){var e=this.args[0].getEvalStrings();return{statements:e.statements,expression:this.evalExpression(e.expression)}},i.create=function(e,r){return t(i,function(t,i,a){t._symbol=e,t.head=r,t._arity=1,a.isFunction=!0,t.evaluate=n.createEvaluateFunction(t.evalExpression.bind(t),t._arity),a.getConcreteInvocationTree=function(e,t,r){return a(t).getConcreteTree(e,r)},a.getCacheKeys=function(){return[]}})}})}),define("math/parsenode/doublereducerfunction",["require","pjs","./expression","math/functions","math/errormsg"],function(e){var t=e("pjs"),r=e("./expression"),n=e("math/functions"),i=e("math/errormsg");return t(r,function(e,r,a){e.init=function(){if(r.init.apply(this,arguments),2!==this.args.length)throw i.wrongDoubleReducerArity(this._symbol)},e.evalExpression=function(e){return this.head+"("+e.join(",")+")"},e.getEvalStrings=function(){for(var e=[],t=[],r=Math.min(this.args[0].length,this.args[1].length),n=0;n<this.args.length;n++){var i=this.args[n],a=i.getEvalStrings();Array.prototype.push.apply(e,a.statements),t.push(i.length===r?a.expression:a.expression+".slice(0,"+r+")")}return{statements:e,expression:this.evalExpression(t)}},a.create=function(e,r){return t(a,function(t,i,a){t._symbol=e,t.head=r,t._arity=2,a.isFunction=!0,t.evaluate=n.createEvaluateFunction(t.evalExpression.bind(t),t._arity),a.getConcreteInvocationTree=function(e,t,r){return a(t).getConcreteTree(e,r)},a.getCacheKeys=function(){return[]}})}})}),define("math/parsenode/parametrizedreducerfunction",["require","pjs","./expression","math/functions","math/errormsg"],function(e){var t=e("pjs"),r=e("./expression"),n=e("math/functions"),i=e("math/errormsg");return t(r,function(e,r,a){e.init=function(){if(r.init.apply(this,arguments),2!==this.args.length)throw i.wrongParametrizedReducerArity(this._symbol)},e.evalExpression=function(e){return this.head+"("+e.join(",")+")"},e.getEvalStrings=function(){var e=[],t=this.args[0].getEvalStrings(),r=this.args[1].getEvalStrings();Array.prototype.push.apply(e,t.statements),Array.prototype.push.apply(e,r.statements);var n=this.evalExpression([t.expression,r.expression]);return{statements:e,expression:n}},a.create=function(e,r){return t(a,function(t,i,a){t._symbol=e,t.head=r,t._arity=2,a.isFunction=!0,t.evaluate=n.createEvaluateFunction(t.evalExpression.bind(t),t._arity),a.getConcreteInvocationTree=function(e,t,r){return a(t).getConcreteTree(e,r)},a.getCacheKeys=function(){return[]}})}})}),define("math/parsenode/builtinfunction",["require","math/parsenode/nativefunction","math/parsenode/typedfunction","math/parsenode/trigfunction","math/parsenode/inversetrigfunction","math/parsenode/reducerfunction","math/parsenode/doublereducerfunction","math/parsenode/parametrizedreducerfunction","math/types","math/parsenode/constant"],function(e){var t=e("math/parsenode/nativefunction"),r=e("math/parsenode/typedfunction"),n=e("math/parsenode/trigfunction"),i=e("math/parsenode/inversetrigfunction"),a=e("math/parsenode/reducerfunction"),o=e("math/parsenode/doublereducerfunction"),s=e("math/parsenode/parametrizedreducerfunction"),u=e("math/types"),c=e("math/parsenode/constant"),l=c(1),h=c(0),f=c(.5);return{sin:n.create("sin","BuiltIn.sin"),cos:n.create("cos","BuiltIn.cos"),tan:n.create("tan","BuiltIn.tan"),cot:n.create("cot","BuiltIn.cot"),sec:n.create("sec","BuiltIn.sec"),csc:n.create("csc","BuiltIn.csc"),arcsin:i.create("arcsin","Math.asin"),arccos:i.create("arccos","Math.acos"),arctan:i.create("arctan","Math.atan2",[l]),arccot:i.create("arccot","BuiltIn.acot"),arcsec:i.create("arcsec","BuiltIn.asec"),arccsc:i.create("arccsc","BuiltIn.acsc"),sinh:t.create("sinh","BuiltIn.sinh",1),cosh:t.create("cosh","BuiltIn.cosh",1),tanh:t.create("tanh","BuiltIn.tanh",1),coth:t.create("coth","BuiltIn.coth",1),sech:t.create("sech","BuiltIn.sech",1),csch:t.create("csch","BuiltIn.csch",1),arcsinh:t.create("arcsinh","BuiltIn.asinh",1),arccosh:t.create("arccosh","BuiltIn.acosh",1),arctanh:t.create("arctanh","BuiltIn.atanh",1),arccoth:t.create("arccoth","BuiltIn.acoth",1),arcsech:t.create("arcsech","BuiltIn.asech",1),arccsch:t.create("arccsch","BuiltIn.acsch",1),sqrt:t.create("sqrt","Math.sqrt",1),rtxsqpone:t.create("rtxsqpone","BuiltIn.sqrtxsqp1",1),rtxsqmone:t.create("rtxsqmone","BuiltIn.sqrtxsqm1",1),nthroot:t.create("nthroot","BuiltIn.nthroot",2),log:t.create("log","BuiltIn.common_log",1),logbase:t.create("logbase","BuiltIn.log_base",2),ln:t.create("ln","BuiltIn.log",1),exp:t.create("exp","Math.exp",1),floor:t.create("floor","Math.floor",1),ceil:t.create("ceil","Math.ceil",1),round:t.create("round","Math.round",1),abs:t.create("abs","Math.abs",1),sign:t.create("sign","BuiltIn.sign",1),mod:t.create("mod","BuiltIn.mod",2),nCr:t.create("nCr","BuiltIn.nCr",2),nPr:t.create("nPr","BuiltIn.nPr",2),factorial:t.create("factorial","BuiltIn.factorial",1),polyGamma:t.create("polyGamma","BuiltIn.polyGamma",2),lcm:a.create("lcm","BuiltIn.listLCM"),gcd:a.create("gcd","BuiltIn.listGCD"),mean:a.create("mean","BuiltIn.mean"),total:a.create("total","BuiltIn.total"),stdev:a.create("stdev","BuiltIn.stdev"),stdevp:a.create("stdevp","BuiltIn.stdevp"),mad:a.create("mad","BuiltIn.mad"),length:a.create("length","BuiltIn.length"),min:a.create("min","BuiltIn.listMin"),max:a.create("max","BuiltIn.listMax"),argmin:a.create("argmin","BuiltIn.argMin"),argmax:a.create("argmax","BuiltIn.argMax"),median:a.create("median","BuiltIn.median"),var:a.create("var","BuiltIn.var"),varp:a.create("varp","BuiltIn.varp"),cov:o.create("cov","BuiltIn.cov"),covp:o.create("covp","BuiltIn.covp"),corr:o.create("corr","BuiltIn.corr"),quantile:s.create("quantile","BuiltIn.quantile"),upperQuantileIndex:s.create("upperQuantileIndex","BuiltIn.upperQuantileIndex"),lowerQuantileIndex:s.create("lowerQuantileIndex","BuiltIn.lowerQuantileIndex"),normalcdf:t.create("normalcdf","BuiltIn.normalcdf",1,[h,l]),normalpdf:t.create("normalpdf","BuiltIn.normalpdf",1,[h,l]),binomcdf:t.create("binomcdf","BuiltIn.binomcdf",2,[f]),binompdf:t.create("binompdf","BuiltIn.binompdf",2,[f]),poissoncdf:t.create("poissoncdf","BuiltIn.poissoncdf",2),poissonpdf:t.create("poissonpdf","BuiltIn.poissonpdf",2),invNorm:t.create("invNorm","BuiltIn.invNorm",1),erf:t.create("erf","BuiltIn.erf",1),tpdf:t.create("tpdf","BuiltIn.tpdf",2),tcdf:t.create("tcdf","BuiltIn.tcdf",2),TTest:s.create("TTest","BuiltIn.TTest"),TScore:s.create("TScore","BuiltIn.TScore"),distance:r.create("distance","BuiltIn.distance",[u.Point,u.Point],u.Number),midpoint:r.create("midpoint","BuiltIn.midpoint",[u.Point,u.Point],u.Point)}}),define("math/parsenode/equation",["require","./base","pjs","./expressionTypes","math/parsenode/comparator"],function(e){var t=e("./base"),r=e("pjs"),n=e("./expressionTypes").Subtract,i=e("math/parsenode/comparator");return r(t,function(e,t){e.init=function(e,r){t.init.call(this),this.mergeDependencies(e,r),this._lhs=e,this._rhs=r,this._difference=n([this._lhs,this._rhs])},e.asComparator=function(){return i["="]([this._lhs,this._rhs])}})}),define("math/parsenode/assignment",["require","./base","./equation","./identifier","pjs"],function(e){var t=e("./base"),r=e("./equation"),n=e("./identifier"),i=e("pjs");return i(t,function(e,t){e.init=function(e,r){t.init.call(this),e=e._symbol,this.mergeDependencies(r),this._expression=r,this._symbol=e,this._exports=this.computeExports()},e.shouldExportAns=function(){return!0},e.computeExports=function(){for(var e=this._symbol,t=this.getDependencies(),r=0;r<t.length;r++)if(t[r]===e)return[];return[e]},e.isEquation=function(e){return e.getDependencies().indexOf(this._symbol)!==-1},e.asEquation=function(){var e=r(n(this._symbol),this._expression);return e.userData=this.userData,e},e.getSliderInfo=function(){if(this._expression.isConstant&&"number"==typeof this._expression.constantValue&&isFinite(this._expression.constantValue))return{value:this._expression.constantValue}}})}),define("math/parsenode/functiondefinition",["require","pjs","./base","math/errormsg"],function(e){var t=e("pjs"),r=e("./base"),n=e("math/errormsg");return t(r,function(e,t){e.init=function(e,r,n){t.init.call(this),e=e._symbol,this._argSymbols=r.map(function(e){return e._symbol}),this._symbol=e,this._exports=[e],this._expression=n,this.addDependencies(this._argSymbols),this.addDummyDependencies(this._argSymbols),this.mergeDependencies(this._expression)},e.isFunction=!0,e.getConcreteInvocationTree=function(e,t,r){if(t.length!==this._argSymbols.length)throw n.wrongArity(this._symbol,this._argSymbols.length,t.length);for(var i=Object.create(e),a=0;a<this._argSymbols.length;a++)i[this._argSymbols[a]]=t[a];return this._expression.getConcreteTree(i,r)},e.getArgs=function(){return this._args},e.getSliderVariables=function(e,t){var r=this._argSymbols;return e.sliderVariables(t.getDependencies()).filter(function(e){return r.indexOf(e)===-1})}})}),define("numeric",[],function(){"use strict";var numeric="undefined"==typeof exports?function(){}:exports;return"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(e,t){var r,n,i,a;for("undefined"==typeof t&&(t=15),i=.5,r=new Date;;){for(i*=2,a=i;a>3;a-=4)e(),e(),e(),e();for(;a>0;)e(),a--;if(n=new Date,n-r>t)break}for(a=i;a>3;a-=4)e(),e(),e(),e();for(;a>0;)e(),a--;return n=new Date,1e3*(3*i-1)/(n-r)},numeric._myIndexOf=function(e){var t,r=this.length;for(t=0;t<r;++t)if(this[t]===e)return t;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.precision=4,numeric.largeArray=50,numeric.compile=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();return t="return function ("+e.join(",")+") {"+t+"}",new Function(["numeric"],t)(numeric)},numeric.prettyPrint=function(e){function t(e){if(0===e)return"0";if(isNaN(e))return"NaN";if(e<0)return"-"+t(-e);if(isFinite(e)){var r=Math.floor(Math.log(e)/Math.log(10)),n=e/Math.pow(10,r),i=n.toPrecision(numeric.precision);return 10===parseFloat(i)&&(r++,n=1,i=n.toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+r.toString()}return"Infinity"}function r(e){var i;if("undefined"==typeof e)return n.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof e)return n.push(\'"\'+e+\'"\'),!1;if("boolean"==typeof e)return n.push(e.toString()),!1;if("number"==typeof e){var a=t(e),o=e.toPrecision(numeric.precision),s=parseFloat(e.toString()).toString(),u=[a,o,s,parseFloat(o).toString(),parseFloat(s).toString()];for(i=1;i<u.length;i++)u[i].length<a.length&&(a=u[i]);return n.push(Array(numeric.precision+8-a.length).join(" ")+a),!1}if(null===e)return n.push("null"),!1;if("function"==typeof e){n.push(e.toString());var c=!1;for(i in e)e.hasOwnProperty(i)&&(c?n.push(",\\n"):n.push("\\n{"),c=!0,n.push(i),n.push(": \\n"),r(e[i]));return c&&n.push("}\\n"),!0}if(e instanceof Array){if(e.length>numeric.largeArray)return n.push("...Large Array..."),!0;var c=!1;for(n.push("["),i=0;i<e.length;i++)i>0&&(n.push(","),c&&n.push("\\n ")),c=r(e[i]);return n.push("]"),!0}n.push("{");var c=!1;for(i in e)e.hasOwnProperty(i)&&(c&&n.push(",\\n"),c=!0,n.push(i),n.push(": \\n"),r(e[i]));return n.push("}"),!0}var n=[];return r(e),n.join("")},numeric.parseDate=function(e){function t(e){if("string"==typeof e)return Date.parse(e.replace(/-/g,"/"));if(!(e instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var r,n=[];for(r=0;r<e.length;r++)n[r]=t(e[r]);return n}return t(e)},numeric.parseFloat=function(e){function t(e){if("string"==typeof e)return parseFloat(e);if(!(e instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var r,n=[];for(r=0;r<e.length;r++)n[r]=t(e[r]);return n}return t(e)},numeric.parseCSV=function(e){var t,r,n=e.split("\\n"),i=[],a=/(([^\'",]*)|(\'[^\']*\')|("[^"]*")),/g,o=/^\\s*(([+-]?[0-9]+(\\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\\.[0-9]+)?(e[+-]?[0-9]+)?))\\s*$/,s=function(e){return e.substr(0,e.length-1)},u=0;for(r=0;r<n.length;r++){var c,l=(n[r]+",").match(a);if(l.length>0){for(i[u]=[],t=0;t<l.length;t++)c=s(l[t]),o.test(c)?i[u][t]=parseFloat(c):i[u][t]=c;u++}}return i},numeric.toCSV=function(e){var t,r,n,i,a,o,s=numeric.dim(e);for(n=s[0],i=s[1],o=[],t=0;t<n;t++){for(a=[],r=0;r<n;r++)a[r]=e[t][r].toString();o[t]=a.join(", ")}return o.join("\\n")+"\\n"},numeric.getURL=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t},numeric.imageURL=function(e){function t(e){var t,r,n,i,a,o,s,u,c=e.length,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="";for(t=0;t<c;t+=3)r=e[t],n=e[t+1],i=e[t+2],a=r>>2,o=((3&r)<<4)+(n>>4),s=((15&n)<<2)+(i>>6),u=63&i,t+1>=c?s=u=64:t+2>=c&&(u=64),h+=l.charAt(a)+l.charAt(o)+l.charAt(s)+l.charAt(u);return h}function r(e,t,r){"undefined"==typeof t&&(t=0),"undefined"==typeof r&&(r=e.length);var n,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],a=-1,o=0;e.length;for(n=t;n<r;n++)o=255&(a^e[n]),a=a>>>8^i[o];return a^-1}var n,i,a,o,s,u,c,l,h,f,p=e[0].length,m=e[0][0].length,d=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,m>>24&255,m>>16&255,m>>8&255,255&m,p>>24&255,p>>16&255,p>>8&255,255&p,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(f=r(d,12,29),d[29]=f>>24&255,d[30]=f>>16&255,d[31]=f>>8&255,d[32]=255&f,n=1,i=0,c=0;c<p;c++){for(c<p-1?d.push(0):d.push(1),s=3*m+1+(0===c)&255,u=3*m+1+(0===c)>>8&255,d.push(s),d.push(u),d.push(255&~s),d.push(255&~u),0===c&&d.push(0),l=0;l<m;l++)for(a=0;a<3;a++)s=e[a][c][l],s=s>255?255:s<0?0:Math.round(s),n=(n+s)%65521,i=(i+n)%65521,d.push(s);d.push(0)}return h=(i<<16)+n,d.push(h>>24&255),d.push(h>>16&255),d.push(h>>8&255),d.push(255&h),o=d.length-41,d[33]=o>>24&255,d[34]=o>>16&255,d[35]=o>>8&255,d[36]=255&o,f=r(d,37),d.push(f>>24&255),d.push(f>>16&255),d.push(f>>8&255),d.push(255&f),d.push(0),d.push(0),d.push(0),d.push(0),d.push(73),d.push(69),d.push(78),d.push(68),d.push(174),d.push(66),d.push(96),d.push(130),"data:image/png;base64,"+t(d)},numeric._dim=function(e){for(var t=[];"object"==typeof e;)t.push(e.length),e=e[0];return t},numeric.dim=function(e){var t,r;return"object"==typeof e?(t=e[0],"object"==typeof t?(r=t[0],"object"==typeof r?numeric._dim(e):[e.length,t.length]):[e.length]):[]},numeric.mapreduce=function(e,t){return numeric.compile("x","accum","_s","_k",\'if(typeof accum === "undefined") accum = \'+t+\';\\nif(typeof x === "number") { var xi = x; \'+e+\'; return accum; }\\nif(typeof _s === "undefined") _s = numeric.dim(x);\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i,xi;\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) {\\n        accum = arguments.callee(x[i],accum,_s,_k+1);\\n    }    return accum;\\n}\\nfor(i=_n-1;i>=1;i-=2) { \\n    xi = x[i];\\n    \'+e+";\\n    xi = x[i-1];\\n    "+e+";\\n}\\nif(i === 0) {\\n    xi = x[i];\\n    "+e+"\\n}\\nreturn accum;")},numeric.mapreduce2=function(e,t){return numeric.compile("x","var n = x.length;\\nvar i,xi;\\n"+t+"\\nfor(i=n-1;i!==-1;--i) { \\n    xi = x[i];\\n    "+e+"\\n}\\nreturn accum;")},numeric.same=function e(t,r){var n,i;if(!(t instanceof Array&&r instanceof Array))return!1;if(i=t.length,i!==r.length)return!1;for(n=0;n<i;n++)if(t[n]!==r[n]){if("object"!=typeof t[n])return!1;if(!e(t[n],r[n]))return!1}return!0},numeric.rep=function(e,t,r){"undefined"==typeof r&&(r=0);var n,i=e[r],a=Array(i);if(r===e.length-1){for(n=i-2;n>=0;n-=2)a[n+1]=t,a[n]=t;return n===-1&&(a[0]=t),a}for(n=i-1;n>=0;n--)a[n]=numeric.rep(e,t,r+1);return a},numeric.dotMMsmall=function(e,t){var r,n,i,a,o,s,u,c,l,h,f;for(a=e.length,o=t.length,s=t[0].length,u=Array(a),r=a-1;r>=0;r--){for(c=Array(s),l=e[r],i=s-1;i>=0;i--){for(h=l[o-1]*t[o-1][i],n=o-2;n>=1;n-=2)f=n-1,h+=l[n]*t[n][i]+l[f]*t[f][i];0===n&&(h+=l[0]*t[0][i]),c[i]=h}u[r]=c}return u},numeric._getCol=function(e,t,r){var n,i=e.length;for(n=i-1;n>0;--n)r[n]=e[n][t],--n,r[n]=e[n][t];0===n&&(r[0]=e[0][t])},numeric.dotMMbig=function(e,t){var r,n,i,a,o=numeric._getCol,s=t.length,u=Array(s),c=e.length,l=t[0].length,h=new Array(c),f=numeric.dotVV;for(--s,--c,n=c;n!==-1;--n)h[n]=Array(l);for(--l,n=l;n!==-1;--n)for(o(t,n,u),i=c;i!==-1;--i)a=0,r=e[i],h[i][n]=f(r,u);return h},numeric.dotMV=function(e,t){var r,n=e.length,i=(t.length,Array(n)),a=numeric.dotVV;for(r=n-1;r>=0;r--)i[r]=a(e[r],t);return i},numeric.dotVM=function(e,t){var r,n,i,a,o,s,u;for(i=e.length,a=t[0].length,o=Array(a),n=a-1;n>=0;n--){for(s=e[i-1]*t[i-1][n],r=i-2;r>=1;r-=2)u=r-1,s+=e[r]*t[r][n]+e[u]*t[u][n];0===r&&(s+=e[0]*t[0][n]),o[n]=s}return o},numeric.dotVV=function(e,t){var r,n,i=e.length,a=e[i-1]*t[i-1];for(r=i-2;r>=1;r-=2)n=r-1,a+=e[r]*t[r]+e[n]*t[n];return 0===r&&(a+=e[0]*t[0]),a},numeric.dot=function(e,t){var r=numeric.dim;switch(1e3*r(e).length+r(t).length){case 2002:return t.length<10?numeric.dotMMsmall(e,t):numeric.dotMMbig(e,t);case 2001:return numeric.dotMV(e,t);case 1002:return numeric.dotVM(e,t);case 1001:return numeric.dotVV(e,t);\ncase 1e3:return numeric.mulVS(e,t);case 1:return numeric.mulSV(e,t);case 0:return e*t;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(e){var t,r,n,i,a=e.length,o=Array(a);for(t=a-1;t>=0;t--){for(i=Array(a),r=t+2,n=a-1;n>=r;n-=2)i[n]=0,i[n-1]=0;for(n>t&&(i[n]=0),i[t]=e[t],n=t-1;n>=1;n-=2)i[n]=0,i[n-1]=0;0===n&&(i[0]=0),o[t]=i}return o},numeric.getDiag=function(e){var t,r=Math.min(e.length,e[0].length),n=Array(r);for(t=r-1;t>=1;--t)n[t]=e[t][t],--t,n[t]=e[t][t];return 0===t&&(n[0]=e[0][0]),n},numeric.identity=function(e){return numeric.diag(numeric.rep([e],1))},numeric.pointwise=function(e,t,r){"undefined"==typeof r&&(r="");var n,i,a=[],o=/\\[i\\]$/,s="",u=!1;for(n=0;n<e.length;n++)o.test(e[n])?(i=e[n].substring(0,e[n].length-3),s=i):i=e[n],"ret"===i&&(u=!0),a.push(i);return a[e.length]="_s",a[e.length+1]="_k",a[e.length+2]=\'if(typeof _s === "undefined") _s = numeric.dim(\'+s+\');\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i\'+(u?"":", ret = Array(_n)")+";\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+e.join(",")+",_s,_k+1);\\n    return ret;\\n}\\n"+r+"\\nfor(i=_n-1;i!==-1;--i) {\\n    "+t+"\\n}\\nreturn ret;",numeric.compile.apply(null,a)},numeric.pointwise2=function(e,t,r){"undefined"==typeof r&&(r="");var n,i,a=[],o=/\\[i\\]$/,s="",u=!1;for(n=0;n<e.length;n++)o.test(e[n])?(i=e[n].substring(0,e[n].length-3),s=i):i=e[n],"ret"===i&&(u=!0),a.push(i);return a[e.length]="var _n = "+s+".length;\\nvar i"+(u?"":", ret = Array(_n)")+";\\n"+r+"\\nfor(i=_n-1;i!==-1;--i) {\\n"+t+"\\n}\\nreturn ret;",numeric.compile.apply(null,a)},numeric._biforeach=function e(t,r,n,i,a){if(i===n.length-1)return void a(t,r);var o,s=n[i];for(o=s-1;o>=0;o--)e("object"==typeof t?t[o]:t,"object"==typeof r?r[o]:r,n,i+1,a)},numeric._biforeach2=function e(t,r,n,i,a){if(i===n.length-1)return a(t,r);var o,s=n[i],u=Array(s);for(o=s-1;o>=0;--o)u[o]=e("object"==typeof t?t[o]:t,"object"==typeof r?r[o]:r,n,i+1,a);return u},numeric._foreach=function e(t,r,n,i){if(n===r.length-1)return void i(t);var a,o=r[n];for(a=o-1;a>=0;a--)e(t[a],r,n+1,i)},numeric._foreach2=function e(t,r,n,i){if(n===r.length-1)return i(t);var a,o=r[n],s=Array(o);for(a=o-1;a>=0;a--)s[a]=e(t[a],r,n+1,i);return s},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi);","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var e,t;for(e=0;e<numeric.mathfuns2.length;++e)t=numeric.mathfuns2[e],numeric.ops2[t]=t;for(e in numeric.ops2)if(numeric.ops2.hasOwnProperty(e)){t=numeric.ops2[e];var r,n,i="";numeric.myIndexOf.call(numeric.mathfuns2,e)!==-1?(i="var "+t+" = Math."+t+";\\n",r=function(e,r,n){return e+" = "+t+"("+r+","+n+")"},n=function(e,r){return e+" = "+t+"("+e+","+r+")"}):(r=function(e,r,n){return e+" = "+r+" "+t+" "+n},n=numeric.opseq.hasOwnProperty(e+"eq")?function(e,r){return e+" "+t+"= "+r}:function(e,r){return e+" = "+e+" "+t+" "+r}),numeric[e+"VV"]=numeric.pointwise2(["x[i]","y[i]"],r("ret[i]","x[i]","y[i]"),i),numeric[e+"SV"]=numeric.pointwise2(["x","y[i]"],r("ret[i]","x","y[i]"),i),numeric[e+"VS"]=numeric.pointwise2(["x[i]","y"],r("ret[i]","x[i]","y"),i),numeric[e]=numeric.compile("var n = arguments.length, i, x = arguments[0], y;\\nvar VV = numeric."+e+"VV, VS = numeric."+e+"VS, SV = numeric."+e+\'SV;\\nvar dim = numeric.dim;\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof x === "object") {\\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\\n  else \'+n("x","y")+"\\n}\\nreturn x;\\n"),numeric[t]=numeric[e],numeric[e+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],n("ret[i]","x[i]"),i),numeric[e+"eqS"]=numeric.pointwise2(["ret[i]","x"],n("ret[i]","x"),i),numeric[e+"eq"]=numeric.compile("var n = arguments.length, i, x = arguments[0], y;\\nvar V = numeric."+e+"eqV, S = numeric."+e+\'eqS\\nvar s = numeric.dim(x);\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\\n  else numeric._biforeach(x,y,s,0,S);\\n}\\nreturn x;\\n\')}for(e=0;e<numeric.mathfuns2.length;++e)t=numeric.mathfuns2[e],delete numeric.ops2[t];for(e=0;e<numeric.mathfuns.length;++e)t=numeric.mathfuns[e],numeric.ops1[t]=t;for(e in numeric.ops1)numeric.ops1.hasOwnProperty(e)&&(i="",t=numeric.ops1[e],numeric.myIndexOf.call(numeric.mathfuns,e)!==-1&&Math.hasOwnProperty(t)&&(i="var "+t+" = Math."+t+";\\n"),numeric[e+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+t+"(ret[i]);",i),numeric[e+"eq"]=numeric.compile("x",\'if(typeof x !== "object") return \'+t+"x\\nvar i;\\nvar V = numeric."+e+"eqV;\\nvar s = numeric.dim(x);\\nnumeric._foreach(x,s,0,V);\\nreturn x;\\n"),numeric[e+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+t+"(x[i]);",i),numeric[e]=numeric.compile("x",\'if(typeof x !== "object") return \'+t+"(x)\\nvar i;\\nvar V = numeric."+e+"V;\\nvar s = numeric.dim(x);\\nreturn numeric._foreach2(x,s,0,V);\\n"));for(e=0;e<numeric.mathfuns.length;++e)t=numeric.mathfuns[e],delete numeric.ops1[t];for(e in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(e)&&(t=numeric.mapreducers[e],numeric[e+"V"]=numeric.mapreduce2(t[0],t[1]),numeric[e]=numeric.compile("x","s","k",t[1]+\'if(typeof x !== "object") {    xi = x;\\n\'+t[0]+\'\\n    return accum;\\n}if(typeof s === "undefined") s = numeric.dim(x);\\nif(typeof k === "undefined") k = 0;\\nif(k === s.length-1) return numeric.\'+e+"V(x);\\nvar xi;\\nvar n = x.length, i;\\nfor(i=n-1;i!==-1;--i) {\\n   xi = arguments.callee(x[i]);\\n"+t[0]+"\\n}\\nreturn accum;\\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(e,t){return"object"==typeof e?"object"==typeof t?numeric.truncVV(e,t):numeric.truncVS(e,t):"object"==typeof t?numeric.truncSV(e,t):Math.round(e/t)*t},numeric.inv=function(e){var t,r,n,i,a,o,s,e,u=numeric.dim(e),c=Math.abs,l=u[0],h=u[1],f=numeric.clone(e),p=numeric.identity(l);for(o=0;o<h;++o){var m=-1,d=-1;for(a=o;a!==l;++a)s=c(f[a][o]),s>d&&(m=a,d=s);for(r=f[m],f[m]=f[o],f[o]=r,i=p[m],p[m]=p[o],p[o]=i,e=r[o],s=o;s!==h;++s)r[s]/=e;for(s=h-1;s!==-1;--s)i[s]/=e;for(a=l-1;a!==-1;--a)if(a!==o){for(t=f[a],n=p[a],e=t[o],s=o+1;s!==h;++s)t[s]-=r[s]*e;for(s=h-1;s>0;--s)n[s]-=i[s]*e,--s,n[s]-=i[s]*e;0===s&&(n[0]-=i[0]*e)}}return p},numeric.det=function(e){var t=numeric.dim(e);if(2!==t.length||t[0]!==t[1])throw new Error("numeric: det() only works on square matrices");var r,n,i,a,o,s,u,c,l=t[0],h=1,f=numeric.clone(e);for(n=0;n<l-1;n++){for(i=n,r=n+1;r<l;r++)Math.abs(f[r][n])>Math.abs(f[i][n])&&(i=r);for(i!==n&&(u=f[i],f[i]=f[n],f[n]=u,h*=-1),a=f[n],r=n+1;r<l;r++){for(o=f[r],s=o[n]/a[n],i=n+1;i<l-1;i+=2)c=i+1,o[i]-=a[i]*s,o[c]-=a[c]*s;i!==l&&(o[i]-=a[i]*s)}if(0===a[n])return 0;h*=a[n]}return h*f[n][n]},numeric.transpose=function(e){var t,r,n,i,a,o=e.length,s=e[0].length,u=Array(s);for(r=0;r<s;r++)u[r]=Array(o);for(t=o-1;t>=1;t-=2){for(i=e[t],n=e[t-1],r=s-1;r>=1;--r)a=u[r],a[t]=i[r],a[t-1]=n[r],--r,a=u[r],a[t]=i[r],a[t-1]=n[r];0===r&&(a=u[0],a[t]=i[0],a[t-1]=n[0])}if(0===t){for(n=e[0],r=s-1;r>=1;--r)u[r][0]=n[r],--r,u[r][0]=n[r];0===r&&(u[0][0]=n[0])}return u},numeric.negtranspose=function(e){var t,r,n,i,a,o=e.length,s=e[0].length,u=Array(s);for(r=0;r<s;r++)u[r]=Array(o);for(t=o-1;t>=1;t-=2){for(i=e[t],n=e[t-1],r=s-1;r>=1;--r)a=u[r],a[t]=-i[r],a[t-1]=-n[r],--r,a=u[r],a[t]=-i[r],a[t-1]=-n[r];0===r&&(a=u[0],a[t]=-i[0],a[t-1]=-n[0])}if(0===t){for(n=e[0],r=s-1;r>=1;--r)u[r][0]=-n[r],--r,u[r][0]=-n[r];0===r&&(u[0][0]=-n[0])}return u},numeric._random=function e(t,r){var n,i,a=t[r],o=Array(a);if(r===t.length-1){for(i=Math.random,n=a-1;n>=1;n-=2)o[n]=i(),o[n-1]=i();return 0===n&&(o[0]=i()),o}for(n=a-1;n>=0;n--)o[n]=e(t,r+1);return o},numeric.random=function(e){return numeric._random(e,0)},numeric.norm2=function(e){return Math.sqrt(numeric.norm2Squared(e))},numeric.linspace=function(e,t,r){if("undefined"==typeof r&&(r=Math.max(Math.round(t-e)+1,1)),r<2)return 1===r?[e]:[];var n,i=Array(r);for(r--,n=r;n>=0;n--)i[n]=(n*t+(r-n)*e)/r;return i},numeric.getBlock=function(e,t,r){function n(e,a){var o,s=t[a],u=r[a]-s,c=Array(u);if(a===i.length-1){for(o=u;o>=0;o--)c[o]=e[o+s];return c}for(o=u;o>=0;o--)c[o]=n(e[o+s],a+1);return c}var i=numeric.dim(e);return n(e,0)},numeric.setBlock=function(e,t,r,n){function i(e,n,o){var s,u=t[o],c=r[o]-u;if(o===a.length-1)for(s=c;s>=0;s--)e[s+u]=n[s];for(s=c;s>=0;s--)i(e[s+u],n[s],o+1)}var a=numeric.dim(e);return i(e,n,0),e},numeric.getRange=function(e,t,r){var n,i,a,o,s=t.length,u=r.length,c=Array(s);for(n=s-1;n!==-1;--n)for(c[n]=Array(u),a=c[n],o=e[t[n]],i=u-1;i!==-1;--i)a[i]=o[r[i]];return c},numeric.blockMatrix=function(e){var t=numeric.dim(e);if(t.length<4)return numeric.blockMatrix([e]);var r,n,i,a,o,s=t[0],u=t[1];for(r=0,n=0,i=0;i<s;++i)r+=e[i][0].length;for(a=0;a<u;++a)n+=e[0][a][0].length;var c=Array(r);for(i=0;i<r;++i)c[i]=Array(n);var l,h,f,p,m,d=0;for(i=0;i<s;++i){for(l=n,a=u-1;a!==-1;--a)for(o=e[i][a],l-=o[0].length,f=o.length-1;f!==-1;--f)for(m=o[f],h=c[d+f],p=m.length-1;p!==-1;--p)h[l+p]=m[p];d+=e[i][0].length}return c},numeric.tensor=function(e,t){if("number"==typeof e||"number"==typeof t)return numeric.mul(e,t);var r=numeric.dim(e),n=numeric.dim(t);if(1!==r.length||1!==n.length)throw new Error("numeric: tensor product is only defined for vectors");var i,a,o,s,u=r[0],c=n[0],l=Array(u);for(a=u-1;a>=0;a--){for(i=Array(c),s=e[a],o=c-1;o>=3;--o)i[o]=s*t[o],--o,i[o]=s*t[o],--o,i[o]=s*t[o],--o,i[o]=s*t[o];for(;o>=0;)i[o]=s*t[o],--o;l[a]=i}return l},numeric.T=function(e,t){this.x=e,this.y=t},numeric.t=function(e,t){return new numeric.T(e,t)},numeric.Tbinop=function(e,t,r,n,i){numeric.indexOf;if("string"!=typeof i){var a;i="";for(a in numeric)numeric.hasOwnProperty(a)&&(e.indexOf(a)>=0||t.indexOf(a)>=0||r.indexOf(a)>=0||n.indexOf(a)>=0)&&a.length>1&&(i+="var "+a+" = numeric."+a+";\\n")}return numeric.compile(["y"],"var x = this;\\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\\n"+i+"\\nif(x.y) {  if(y.y) {    return new numeric.T("+n+");\\n  }\\n  return new numeric.T("+r+");\\n}\\nif(y.y) {\\n  return new numeric.T("+t+");\\n}\\nreturn new numeric.T("+e+");\\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var e=numeric.mul,t=numeric.div;if(this.y){var r=numeric.add(e(this.x,this.x),e(this.y,this.y));return new numeric.T(t(this.x,r),t(numeric.neg(this.y),r))}return new T(t(1,this.x))},numeric.T.prototype.div=function e(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var e=numeric.div;return this.y?new numeric.T(e(this.x,t.x),e(this.y,t.x)):new numeric.T(e(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var e=numeric.transpose,t=this.x,r=this.y;return r?new numeric.T(e(t),e(r)):new numeric.T(e(t))},numeric.T.prototype.transjugate=function(){var e=numeric.transpose,t=this.x,r=this.y;return r?new numeric.T(e(t),numeric.negtranspose(r)):new numeric.T(e(t))},numeric.Tunop=function(e,t,r){return"string"!=typeof r&&(r=""),numeric.compile("var x = this;\\n"+r+"\\nif(x.y) {  "+t+"\\n}\\n"+e+"\\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex);","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex));","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x));","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x));","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var e=this;if("undefined"==typeof e.y)return new numeric.T(numeric.inv(e.x));var t,r,n,i,a,o,s,u,c,l,h,t,r,n,f,p,m,d,g,y,v,b=e.x.length,x=numeric.identity(b),_=numeric.rep([b,b],0),w=numeric.clone(e.x),M=numeric.clone(e.y);for(t=0;t<b;t++){for(m=w[t][t],d=M[t][t],f=m*m+d*d,n=t,r=t+1;r<b;r++)m=w[r][t],d=M[r][t],p=m*m+d*d,p>f&&(n=r,f=p);for(n!==t&&(v=w[t],w[t]=w[n],w[n]=v,v=M[t],M[t]=M[n],M[n]=v,v=x[t],x[t]=x[n],x[n]=v,v=_[t],_[t]=_[n],_[n]=v),i=w[t],a=M[t],u=x[t],c=_[t],m=i[t],d=a[t],r=t+1;r<b;r++)g=i[r],y=a[r],i[r]=(g*m+y*d)/f,a[r]=(y*m-g*d)/f;for(r=0;r<b;r++)g=u[r],y=c[r],u[r]=(g*m+y*d)/f,c[r]=(y*m-g*d)/f;for(r=t+1;r<b;r++){for(o=w[r],s=M[r],l=x[r],h=_[r],m=o[t],d=s[t],n=t+1;n<b;n++)g=i[n],y=a[n],o[n]-=g*m-y*d,s[n]-=y*m+g*d;for(n=0;n<b;n++)g=u[n],y=c[n],l[n]-=g*m-y*d,h[n]-=y*m+g*d}}for(t=b-1;t>0;t--)for(u=x[t],c=_[t],r=t-1;r>=0;r--)for(l=x[r],h=_[r],m=w[r][t],d=M[r][t],n=b-1;n>=0;n--)g=u[n],y=c[n],l[n]-=m*g-d*y,h[n]-=m*y+d*g;return new numeric.T(x,_)},numeric.T.prototype.get=function(e){var t,r=this.x,n=this.y,i=0,a=e.length;if(n){for(;i<a;)t=e[i],r=r[t],n=n[t],i++;return new numeric.T(r,n)}for(;i<a;)t=e[i],r=r[t],i++;return new numeric.T(r)},numeric.T.prototype.set=function(e,t){var r,n=this.x,i=this.y,a=0,o=e.length,s=t.x,u=t.y;if(0===o)return u?this.y=u:i&&(this.y=void 0),this.x=n,this;if(u){for(i||(i=numeric.rep(numeric.dim(n),0),this.y=i);a<o-1;)r=e[a],n=n[r],i=i[r],a++;return r=e[a],n[r]=s,i[r]=u,this}if(i){for(;a<o-1;)r=e[a],n=n[r],i=i[r],a++;return r=e[a],n[r]=s,s instanceof Array?i[r]=numeric.rep(numeric.dim(s),0):i[r]=0,this}for(;a<o-1;)r=e[a],n=n[r],a++;return r=e[a],n[r]=s,this},numeric.T.prototype.getRows=function(e,t){var r,n,i=t-e+1,a=Array(i),o=this.x,s=this.y;for(r=e;r<=t;r++)a[r-e]=o[r];if(s){for(n=Array(i),r=e;r<=t;r++)n[r-e]=s[r];return new numeric.T(a,n)}return new numeric.T(a)},numeric.T.prototype.setRows=function(e,t,r){var n,i=this.x,a=this.y,o=r.x,s=r.y;for(n=e;n<=t;n++)i[n]=o[n-e];if(s)for(a||(a=numeric.rep(numeric.dim(i),0),this.y=a),n=e;n<=t;n++)a[n]=s[n-e];else if(a)for(n=e;n<=t;n++)a[n]=numeric.rep([o[n-e].length],0);return this},numeric.T.prototype.getRow=function(e){var t=this.x,r=this.y;return r?new numeric.T(t[e],r[e]):new numeric.T(t[e])},numeric.T.prototype.setRow=function(e,t){var r=this.x,n=this.y,i=t.x,a=t.y;return r[e]=i,a?(n||(n=numeric.rep(numeric.dim(r),0),this.y=n),n[e]=a):n&&(n=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(e,t){var r=this.x,n=this.y,i=numeric.getBlock;return n?new numeric.T(i(r,e,t),i(n,e,t)):new numeric.T(i(r,e,t))},numeric.T.prototype.setBlock=function(e,t,r){r instanceof numeric.T||(r=new numeric.T(r));var n=this.x,i=this.y,a=numeric.setBlock,o=r.x,s=r.y;return s?(i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),a(n,e,t,o),a(i,e,t,s),this):(a(n,e,t,o),void(i&&a(i,e,t,numeric.rep(numeric.dim(o),0))))},numeric.T.rep=function(e,t){var r=numeric.T;t instanceof r||(t=new r(t));var n=t.x,i=t.y,a=numeric.rep;return i?new r(a(e,n),a(e,i)):new r(a(e,n))},numeric.T.diag=function e(t){t instanceof numeric.T||(t=new numeric.T(t));var r=t.x,n=t.y,e=numeric.diag;return n?new numeric.T(e(r),e(n)):new numeric.T(e(r))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(e){return new numeric.T(numeric.identity(e))},numeric.T.prototype.getDiag=function(){var e=numeric,t=this.x,r=this.y;return r?new e.T(e.getDiag(t),e.getDiag(r)):new e.T(e.getDiag(t))},numeric.house=function(e){var t=numeric.clone(e),r=e[0]>=0?1:-1,n=r*numeric.norm2(e);t[0]+=n;var i=numeric.norm2(t);if(0===i)throw new Error("eig: internal error");return numeric.div(t,i)},numeric.toUpperHessenberg=function(e){var t=numeric.dim(e);if(2!==t.length||t[0]!==t[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var r,n,i,a,o,s,u,c,l,h,f=t[0],p=numeric.clone(e),m=numeric.identity(f);for(n=0;n<f-2;n++){for(a=Array(f-n-1),r=n+1;r<f;r++)a[r-n-1]=p[r][n];if(numeric.norm2(a)>0){for(o=numeric.house(a),s=numeric.getBlock(p,[n+1,n],[f-1,f-1]),u=numeric.tensor(o,numeric.dot(o,s)),r=n+1;r<f;r++)for(c=p[r],l=u[r-n-1],i=n;i<f;i++)c[i]-=2*l[i-n];for(s=numeric.getBlock(p,[0,n+1],[f-1,f-1]),u=numeric.tensor(numeric.dot(s,o),o),r=0;r<f;r++)for(c=p[r],l=u[r],i=n+1;i<f;i++)c[i]-=2*l[i-n-1];for(s=Array(f-n-1),r=n+1;r<f;r++)s[r-n-1]=m[r];for(u=numeric.tensor(o,numeric.dot(o,s)),r=n+1;r<f;r++)for(h=m[r],l=u[r-n-1],i=0;i<f;i++)h[i]-=2*l[i]}}return{H:p,Q:m}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(e,t){"undefined"==typeof t&&(t=1e4),e=numeric.clone(e);var r,n,i,a,o,s,u,c,l,h,f,p,m,d,g,y,v,b,x=(numeric.clone(e),numeric.dim(e)),_=x[0],w=numeric.identity(_);if(_<3)return{Q:w,B:[[0,_-1]]};var M=numeric.epsilon;for(b=0;b<t;b++){for(y=0;y<_-1;y++)if(Math.abs(e[y+1][y])<M*(Math.abs(e[y][y])+Math.abs(e[y+1][y+1]))){var E=numeric.QRFrancis(numeric.getBlock(e,[0,0],[y,y]),t),T=numeric.QRFrancis(numeric.getBlock(e,[y+1,y+1],[_-1,_-1]),t);for(p=Array(y+1),g=0;g<=y;g++)p[g]=w[g];for(m=numeric.dot(E.Q,p),g=0;g<=y;g++)w[g]=m[g];for(p=Array(_-y-1),g=y+1;g<_;g++)p[g-y-1]=w[g];for(m=numeric.dot(T.Q,p),g=y+1;g<_;g++)w[g]=m[g-y-1];return{Q:w,B:E.B.concat(numeric.add(T.B,y+1))}}if(i=e[_-2][_-2],a=e[_-2][_-1],o=e[_-1][_-2],s=e[_-1][_-1],c=i+s,u=i*s-a*o,l=numeric.getBlock(e,[0,0],[2,2]),c*c>=4*u){var S,I;S=.5*(c+Math.sqrt(c*c-4*u)),I=.5*(c-Math.sqrt(c*c-4*u)),l=numeric.add(numeric.sub(numeric.dot(l,l),numeric.mul(l,S+I)),numeric.diag(numeric.rep([3],S*I)))}else l=numeric.add(numeric.sub(numeric.dot(l,l),numeric.mul(l,c)),numeric.diag(numeric.rep([3],u)));for(r=[l[0][0],l[1][0],l[2][0]],n=numeric.house(r),p=[e[0],e[1],e[2]],m=numeric.tensor(n,numeric.dot(n,p)),g=0;g<3;g++)for(f=e[g],d=m[g],v=0;v<_;v++)f[v]-=2*d[v];for(p=numeric.getBlock(e,[0,0],[_-1,2]),m=numeric.tensor(numeric.dot(p,n),n),g=0;g<_;g++)for(f=e[g],d=m[g],v=0;v<3;v++)f[v]-=2*d[v];for(p=[w[0],w[1],w[2]],m=numeric.tensor(n,numeric.dot(n,p)),g=0;g<3;g++)for(h=w[g],d=m[g],v=0;v<_;v++)h[v]-=2*d[v];var N;for(y=0;y<_-2;y++){for(v=y;v<=y+1;v++)if(Math.abs(e[v+1][v])<M*(Math.abs(e[v][v])+Math.abs(e[v+1][v+1]))){var E=numeric.QRFrancis(numeric.getBlock(e,[0,0],[v,v]),t),T=numeric.QRFrancis(numeric.getBlock(e,[v+1,v+1],[_-1,_-1]),t);for(p=Array(v+1),g=0;g<=v;g++)p[g]=w[g];for(m=numeric.dot(E.Q,p),g=0;g<=v;g++)w[g]=m[g];for(p=Array(_-v-1),g=v+1;g<_;g++)p[g-v-1]=w[g];for(m=numeric.dot(T.Q,p),g=v+1;g<_;g++)w[g]=m[g-v-1];return{Q:w,B:E.B.concat(numeric.add(T.B,v+1))}}for(N=Math.min(_-1,y+3),r=Array(N-y),g=y+1;g<=N;g++)r[g-y-1]=e[g][y];for(n=numeric.house(r),p=numeric.getBlock(e,[y+1,y],[N,_-1]),m=numeric.tensor(n,numeric.dot(n,p)),g=y+1;g<=N;g++)for(f=e[g],d=m[g-y-1],v=y;v<_;v++)f[v]-=2*d[v-y];for(p=numeric.getBlock(e,[0,y+1],[_-1,N]),m=numeric.tensor(numeric.dot(p,n),n),g=0;g<_;g++)for(f=e[g],d=m[g],v=y+1;v<=N;v++)f[v]-=2*d[v-y-1];for(p=Array(N-y),g=y+1;g<=N;g++)p[g-y-1]=w[g];for(m=numeric.tensor(n,numeric.dot(n,p)),g=y+1;g<=N;g++)for(h=w[g],d=m[g-y-1],v=0;v<_;v++)h[v]-=2*d[v]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(e,t){var r,n,i,a,o,s,u,c,l,h,f,p,m,d,g,y,v,b=numeric.toUpperHessenberg(e),x=numeric.QRFrancis(b.H,t),_=numeric.T,w=e.length,M=x.B,E=numeric.dot(x.Q,numeric.dot(b.H,numeric.transpose(x.Q))),T=new _(numeric.dot(x.Q,b.Q)),S=M.length,I=Math.sqrt;for(n=0;n<S;n++)if(r=M[n][0],r===M[n][1]);else{if(a=r+1,o=E[r][r],s=E[r][a],u=E[a][r],c=E[a][a],0===s&&0===u)continue;l=-o-c,h=o*c-s*u,f=l*l-4*h,f>=0?(p=l<0?-.5*(l-I(f)):-.5*(l+I(f)),y=(o-p)*(o-p)+s*s,v=u*u+(c-p)*(c-p),y>v?(y=I(y),d=(o-p)/y,g=s/y):(v=I(v),d=u/v,g=(c-p)/v),i=new _([[g,-d],[d,g]]),T.setRows(r,a,i.dot(T.getRows(r,a)))):(p=-.5*l,m=.5*I(-f),y=(o-p)*(o-p)+s*s,v=u*u+(c-p)*(c-p),y>v?(y=I(y+m*m),d=(o-p)/y,g=s/y,p=0,m/=y):(v=I(v+m*m),d=u/v,g=(c-p)/v,p=m/v,m=0),i=new _([[g,-d],[d,g]],[[p,m],[m,-p]]),T.setRows(r,a,i.dot(T.getRows(r,a))))}var N=T.dot(e).dot(T.transjugate()),w=e.length,D=numeric.T.identity(w);for(a=0;a<w;a++)if(a>0)for(n=a-1;n>=0;n--){var C=N.get([n,n]),A=N.get([a,a]);numeric.neq(C.x,A.x)||numeric.neq(C.y,A.y)?(p=N.getRow(n).getBlock([n],[a-1]),m=D.getRow(a).getBlock([n],[a-1]),D.set([a,n],N.get([n,a]).neg().sub(p.dot(m)).div(C.sub(A)))):D.setRow(a,D.getRow(n))}for(a=0;a<w;a++)p=D.getRow(a),D.setRow(a,p.div(p.norm2()));return D=D.transpose(),D=T.transjugate().dot(D),{lambda:N.getDiag(),E:D}},numeric.ccsSparse=function(e){var t,r,n,i,a=e.length,o=[];for(n=a-1;n!==-1;--n){r=e[n];for(i in r){for(i=parseInt(i);i>=o.length;)o[o.length]=0;0!==r[i]&&o[i]++}}var t=o.length,s=Array(t+1);for(s[0]=0,n=0;n<t;++n)s[n+1]=s[n]+o[n];var u=Array(s[t]),c=Array(s[t]);for(n=a-1;n!==-1;--n){r=e[n];for(i in r)0!==r[i]&&(o[i]--,u[s[i]+o[i]]=n,c[s[i]+o[i]]=r[i])}return[s,u,c]},numeric.ccsFull=function(e){var t,r,n,i,a=e[0],o=e[1],s=e[2],u=numeric.ccsDim(e),c=u[0],l=u[1],h=numeric.rep([c,l],0);for(t=0;t<l;t++)for(n=a[t],i=a[t+1],r=n;r<i;++r)h[o[r]][t]=s[r];return h},numeric.ccsTSolve=function(e,t,r,n,i){function a(e){var t;if(0===r[e]){for(r[e]=1,t=o[e];t<o[e+1];++t)a(s[t]);i[h]=e,++h}}var o=e[0],s=e[1],u=e[2],c=o.length-1,l=Math.max,h=0;"undefined"==typeof n&&(r=numeric.rep([c],0)),"undefined"==typeof n&&(n=numeric.linspace(0,r.length-1)),"undefined"==typeof i&&(i=[]);var f,p,m,d,g,y,v;for(f=n.length-1;f!==-1;--f)a(n[f]);for(i.length=h,f=i.length-1;f!==-1;--f)r[i[f]]=0;for(f=n.length-1;f!==-1;--f)p=n[f],r[p]=t[p];for(f=i.length-1;f!==-1;--f){for(p=i[f],m=o[p],d=l(o[p+1],m),g=m;g!==d;++g)if(s[g]===p){r[p]/=u[g];break}for(v=r[p],g=m;g!==d;++g)y=s[g],y!==p&&(r[y]-=v*u[g])}return r},numeric.ccsDFS=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS.prototype.dfs=function(e,t,r,n,i,a){var o,s,u,c=0,l=i.length,h=this.k,f=this.k1,p=this.j;if(0===n[e])for(n[e]=1,p[0]=e,h[0]=s=t[e],f[0]=u=t[e+1];;)if(s>=u){if(i[l]=p[c],0===c)return;++l,--c,s=h[c],u=f[c]}else o=a[r[s]],0===n[o]?(n[o]=1,h[c]=s,++c,p[c]=o,s=t[o],f[c]=u=t[o+1]):++s},numeric.ccsLPSolve=function(e,t,r,n,i,a,o){var s,u,c,l,h,f,p,m,d,g=e[0],y=e[1],v=e[2],b=(g.length-1,t[0]),x=t[1],_=t[2];for(u=b[i],c=b[i+1],n.length=0,s=u;s<c;++s)o.dfs(a[x[s]],g,y,r,n,a);for(s=n.length-1;s!==-1;--s)r[n[s]]=0;for(s=u;s!==c;++s)l=a[x[s]],r[l]=_[s];for(s=n.length-1;s!==-1;--s){for(l=n[s],h=g[l],f=g[l+1],p=h;p<f;++p)if(a[y[p]]===l){r[l]/=v[p];break}for(d=r[l],p=h;p<f;++p)m=a[y[p]],m!==l&&(r[m]-=d*v[p])}return r},numeric.ccsLUP1=function(e,t){var r,n,i,a,o,s,u,c=e[0].length-1,l=[numeric.rep([c+1],0),[],[]],h=[numeric.rep([c+1],0),[],[]],f=l[0],p=l[1],m=l[2],d=h[0],g=h[1],y=h[2],v=numeric.rep([c],0),b=numeric.rep([c],0),x=numeric.ccsLPSolve,_=(Math.max,Math.abs),w=numeric.linspace(0,c-1),M=numeric.linspace(0,c-1),E=new numeric.ccsDFS(c);for("undefined"==typeof t&&(t=1),r=0;r<c;++r){for(x(l,e,v,b,r,M,E),a=-1,o=-1,n=b.length-1;n!==-1;--n)i=b[n],i<=r||(s=_(v[i]),s>a&&(o=i,a=s));for(_(v[r])<t*a&&(n=w[r],a=w[o],w[r]=a,M[a]=r,w[o]=n,M[n]=o,a=v[r],v[r]=v[o],v[o]=a),a=f[r],o=d[r],u=v[r],p[a]=w[r],m[a]=1,++a,n=b.length-1;n!==-1;--n)i=b[n],s=v[i],b[n]=0,v[i]=0,i<=r?(g[o]=i,y[o]=s,++o):(p[a]=w[i],m[a]=s/u,++a);f[r+1]=a,d[r+1]=o}for(n=p.length-1;n!==-1;--n)p[n]=M[p[n]];return{L:l,U:h,P:w,Pinv:M}},numeric.ccsDFS0=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS0.prototype.dfs=function(e,t,r,n,i,a,o){var s,u,c,l=0,h=i.length,f=this.k,p=this.k1,m=this.j;if(0===n[e])for(n[e]=1,m[0]=e,f[0]=u=t[a[e]],p[0]=c=t[a[e]+1];;){if(isNaN(u))throw new Error("Ow!");if(u>=c){if(i[h]=a[m[l]],0===l)return;++h,--l,u=f[l],c=p[l]}else s=r[u],0===n[s]?(n[s]=1,f[l]=u,++l,m[l]=s,s=a[s],u=t[s],p[l]=c=t[s+1]):++u}},numeric.ccsLPSolve0=function(e,t,r,n,i,a,o,s){var u,c,l,h,f,p,m,d,g,y=e[0],v=e[1],b=e[2],x=(y.length-1,t[0]),_=t[1],w=t[2];for(c=x[i],l=x[i+1],n.length=0,u=c;u<l;++u)s.dfs(_[u],y,v,r,n,a,o);for(u=n.length-1;u!==-1;--u)h=n[u],r[o[h]]=0;for(u=c;u!==l;++u)h=_[u],r[h]=w[u];for(u=n.length-1;u!==-1;--u){for(h=n[u],d=o[h],f=y[h],p=y[h+1],m=f;m<p;++m)if(v[m]===d){r[d]/=b[m];break}for(g=r[d],m=f;m<p;++m)r[v[m]]-=g*b[m];r[d]=g}},numeric.ccsLUP0=function(e,t){var r,n,i,a,o,s,u,c=e[0].length-1,l=[numeric.rep([c+1],0),[],[]],h=[numeric.rep([c+1],0),[],[]],f=l[0],p=l[1],m=l[2],d=h[0],g=h[1],y=h[2],v=numeric.rep([c],0),b=numeric.rep([c],0),x=numeric.ccsLPSolve0,_=(Math.max,Math.abs),w=numeric.linspace(0,c-1),M=numeric.linspace(0,c-1),E=new numeric.ccsDFS0(c);for("undefined"==typeof t&&(t=1),r=0;r<c;++r){for(x(l,e,v,b,r,M,w,E),a=-1,o=-1,n=b.length-1;n!==-1;--n)i=b[n],i<=r||(s=_(v[w[i]]),s>a&&(o=i,a=s));for(_(v[w[r]])<t*a&&(n=w[r],a=w[o],w[r]=a,M[a]=r,w[o]=n,M[n]=o),a=f[r],o=d[r],u=v[w[r]],p[a]=w[r],m[a]=1,++a,n=b.length-1;n!==-1;--n)i=b[n],s=v[w[i]],b[n]=0,v[w[i]]=0,i<=r?(g[o]=i,y[o]=s,++o):(p[a]=w[i],m[a]=s/u,++a);f[r+1]=a,d[r+1]=o}for(n=p.length-1;n!==-1;--n)p[n]=M[p[n]];return{L:l,U:h,P:w,Pinv:M}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(e){return[numeric.sup(e[1])+1,e[0].length-1]},numeric.ccsGetBlock=function(e,t,r){var n=numeric.ccsDim(e),i=n[0],a=n[1];"undefined"==typeof t?t=numeric.linspace(0,i-1):"number"==typeof t&&(t=[t]),"undefined"==typeof r?r=numeric.linspace(0,a-1):"number"==typeof r&&(r=[r]);var o,s,u,c,l,h=t.length,f=r.length,p=numeric.rep([a],0),m=[],d=[],g=[p,m,d],y=e[0],v=e[1],b=e[2],x=numeric.rep([i],0),_=0,w=numeric.rep([i],0);for(s=0;s<f;++s){c=r[s];var M=y[c],E=y[c+1];for(o=M;o<E;++o)u=v[o],w[u]=1,x[u]=b[o];for(o=0;o<h;++o)l=t[o],w[l]&&(m[_]=o,d[_]=x[t[o]],++_);for(o=M;o<E;++o)u=v[o],w[u]=0;p[s+1]=_}return g},numeric.ccsDot=function(e,t){var r,n,i,a,o,s,u,c,l,h,f,p=e[0],m=e[1],d=e[2],g=t[0],y=t[1],v=t[2],b=numeric.ccsDim(e),x=numeric.ccsDim(t),_=b[0],w=(b[1],x[1]),M=numeric.rep([_],0),E=numeric.rep([_],0),T=Array(_),S=numeric.rep([w],0),I=[],N=[],D=[S,I,N];for(i=0;i!==w;++i){for(a=g[i],o=g[i+1],l=0,n=a;n<o;++n)for(h=y[n],f=v[n],s=p[h],u=p[h+1],r=s;r<u;++r)c=m[r],0===E[c]&&(T[l]=c,E[c]=1,l+=1),M[c]=M[c]+d[r]*f;for(a=S[i],o=a+l,S[i+1]=o,n=l-1;n!==-1;--n)f=a+n,r=T[n],I[f]=r,N[f]=M[r],E[r]=0,M[r]=0;S[i+1]=S[i]+l}return D},numeric.ccsLUPSolve=function(e,t){var r=e.L,n=e.U,i=(e.P,t[0]),a=!1;"object"!=typeof i&&(t=[[0,t.length],numeric.linspace(0,t.length-1),t],i=t[0],a=!0);var o,s,u,c,l,h,f=t[1],p=t[2],m=r[0].length-1,d=i.length-1,g=numeric.rep([m],0),y=Array(m),v=numeric.rep([m],0),b=Array(m),x=numeric.rep([d+1],0),_=[],w=[],M=numeric.ccsTSolve,E=0;for(o=0;o<d;++o){for(l=0,u=i[o],c=i[o+1],s=u;s<c;++s)h=e.Pinv[f[s]],b[l]=h,v[h]=p[s],++l;for(b.length=l,M(r,v,g,b,y),s=b.length-1;s!==-1;--s)v[b[s]]=0;if(M(n,g,v,y,b),a)return v;for(s=y.length-1;s!==-1;--s)g[y[s]]=0;for(s=b.length-1;s!==-1;--s)h=b[s],_[E]=h,w[E]=v[h],v[h]=0,++E;x[o+1]=E}return[x,_,w]},numeric.ccsbinop=function(e,t){return"undefined"==typeof t&&(t=""),numeric.compile("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\\nvar xk,yk,zk;\\nvar i,j,j0,j1,k,p=0;\\n"+t+"for(i=0;i<n;++i) {\\n  j0 = Xi[i]; j1 = Xi[i+1];\\n  for(j=j0;j!==j1;++j) {\\n    k = Xj[j];\\n    x[k] = 1;\\n    Zj[p] = k;\\n    ++p;\\n  }\\n  j0 = Yi[i]; j1 = Yi[i+1];\\n  for(j=j0;j!==j1;++j) {\\n    k = Yj[j];\\n    y[k] = Yv[j];\\n    if(x[k] === 0) {\\n      Zj[p] = k;\\n      ++p;\\n    }\\n  }\\n  Zi[i+1] = p;\\n  j0 = Xi[i]; j1 = Xi[i+1];\\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\\n  j0 = Zi[i]; j1 = Zi[i+1];\\n  for(j=j0;j!==j1;++j) {\\n    k = Zj[j];\\n    xk = x[k];\\n    yk = y[k];\\n"+e+"\\n    Zv[j] = zk;\\n  }\\n  j0 = Xi[i]; j1 = Xi[i+1];\\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\\n  j0 = Yi[i]; j1 = Yi[i+1];\\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\\n}\\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=numeric.compile("X","Y",\'if(typeof X === "number") return \'+A+\';\\nif(typeof Y === "number") return \'+B+";\\nreturn "+C+";\\n")}(),numeric.ccsScatter=function(e){var t,r=e[0],n=e[1],i=e[2],a=numeric.sup(n)+1,o=r.length,s=numeric.rep([a],0),u=Array(o),c=Array(o),l=numeric.rep([a],0);for(t=0;t<o;++t)l[n[t]]++;for(t=0;t<a;++t)s[t+1]=s[t]+l[t];var h,f,p=s.slice(0);for(t=0;t<o;++t)f=n[t],h=p[f],u[h]=r[t],c[h]=i[t],p[f]=p[f]+1;return[s,u,c]},numeric.ccsGather=function(e){var t,r,n,i,a,o=e[0],s=e[1],u=e[2],c=o.length-1,l=s.length,h=Array(l),f=Array(l),p=Array(l);for(a=0,t=0;t<c;++t)for(n=o[t],i=o[t+1],r=n;r!==i;++r)f[a]=t,h[a]=s[r],p[a]=u[r],++a;return[h,f,p]},numeric.sdim=function e(t,r,n){if("undefined"==typeof r&&(r=[]),"object"!=typeof t)return r;"undefined"==typeof n&&(n=0),n in r||(r[n]=0),t.length>r[n]&&(r[n]=t.length);var i;for(i in t)t.hasOwnProperty(i)&&e(t[i],r,n+1);return r},numeric.sclone=function e(t,r,n){"undefined"==typeof r&&(r=0),"undefined"==typeof n&&(n=numeric.sdim(t).length);var i,a=Array(t.length);if(r===n-1){for(i in t)t.hasOwnProperty(i)&&(a[i]=t[i]);return a}for(i in t)t.hasOwnProperty(i)&&(a[i]=e(t[i],r+1,n));return a},numeric.sdiag=function(e){var t,r,n=e.length,i=Array(n);for(t=n-1;t>=1;t-=2)r=t-1,i[t]=[],i[t][t]=e[t],i[r]=[],i[r][r]=e[r];return 0===t&&(i[0]=[],i[0][0]=e[t]),i},numeric.sidentity=function(e){return numeric.sdiag(numeric.rep([e],1))},numeric.stranspose=function(e){var t,r,n,i=[];e.length;for(t in e)if(e.hasOwnProperty(t)){n=e[t];for(r in n)n.hasOwnProperty(r)&&("object"!=typeof i[r]&&(i[r]=[]),i[r][t]=n[r])}return i},numeric.sLUP=function(e,t){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(e,t){var r,n,i,a,o,s,u,c=e.length,l=(t.length,numeric.stranspose(t)),h=l.length,f=Array(c);\nfor(i=c-1;i>=0;i--){for(u=[],r=e[i],o=h-1;o>=0;o--){s=0,n=l[o];for(a in r)r.hasOwnProperty(a)&&a in n&&(s+=r[a]*n[a]);s&&(u[o]=s)}f[i]=u}return f},numeric.sdotMV=function(e,t){var r,n,i,a,o=e.length,s=Array(o);for(n=o-1;n>=0;n--){r=e[n],a=0;for(i in r)r.hasOwnProperty(i)&&t[i]&&(a+=r[i]*t[i]);a&&(s[n]=a)}return s},numeric.sdotVM=function(e,t){var r,n,i,a,o=[];for(r in e)if(e.hasOwnProperty(r)){i=t[r],a=e[r];for(n in i)i.hasOwnProperty(n)&&(o[n]||(o[n]=0),o[n]+=a*i[n])}return o},numeric.sdotVV=function(e,t){var r,n=0;for(r in e)e[r]&&t[r]&&(n+=e[r]*t[r]);return n},numeric.sdot=function(e,t){var r=numeric.sdim(e).length,n=numeric.sdim(t).length,i=1e3*r+n;switch(i){case 0:return e*t;case 1001:return numeric.sdotVV(e,t);case 2001:return numeric.sdotMV(e,t);case 1002:return numeric.sdotVM(e,t);case 2002:return numeric.sdotMM(e,t);default:throw new Error("numeric.sdot not implemented for tensors of order "+r+" and "+n)}},numeric.sscatter=function(e){var t,r,n,i,a=e[0].length,o=e.length,s=[];for(r=a-1;r>=0;--r)if(e[o-1][r]){for(i=s,n=0;n<o-2;n++)t=e[n][r],i[t]||(i[t]=[]),i=i[t];i[e[n][r]]=e[n+1][r]}return s},numeric.sgather=function e(t,r,n){"undefined"==typeof r&&(r=[]),"undefined"==typeof n&&(n=[]);var i,a,o;i=n.length;for(a in t)if(t.hasOwnProperty(a))if(n[i]=parseInt(a),o=t[a],"number"==typeof o){if(o){if(0===r.length)for(a=i+1;a>=0;--a)r[a]=[];for(a=i;a>=0;--a)r[a].push(n[a]);r[i+1].push(o)}}else e(o,r,n);return n.length>i&&n.pop(),r},numeric.cLU=function(e){var t,r,n,i,a,o,s=e[0],u=e[1],c=e[2],l=s.length,h=0;for(t=0;t<l;t++)s[t]>h&&(h=s[t]);h++;var f,p,m,d=Array(h),g=Array(h),y=numeric.rep([h],1/0),v=numeric.rep([h],-(1/0));for(n=0;n<l;n++)t=s[n],r=u[n],r<y[t]&&(y[t]=r),r>v[t]&&(v[t]=r);for(t=0;t<h-1;t++)v[t]>v[t+1]&&(v[t+1]=v[t]);for(t=h-1;t>=1;t--)y[t]<y[t-1]&&(y[t-1]=y[t]);var b=0,x=0;for(t=0;t<h;t++)g[t]=numeric.rep([v[t]-y[t]+1],0),d[t]=numeric.rep([t-y[t]],0),b+=t-y[t]+1,x+=v[t]-t+1;for(n=0;n<l;n++)t=s[n],g[t][u[n]-y[t]]=c[n];for(t=0;t<h-1;t++)for(i=t-y[t],f=g[t],r=t+1;y[r]<=t&&r<h;r++)if(a=t-y[r],o=v[t]-t,p=g[r],m=p[a]/f[i]){for(n=1;n<=o;n++)p[n+a]-=m*f[n+i];d[r][t-y[r]]=m}var l,_,w,f=[],p=[],M=[],E=[],T=[],S=[];for(l=0,_=0,t=0;t<h;t++){for(i=y[t],a=v[t],w=g[t],r=t;r<=a;r++)w[r-i]&&(f[l]=t,p[l]=r,M[l]=w[r-i],l++);for(w=d[t],r=i;r<t;r++)w[r-i]&&(E[_]=t,T[_]=r,S[_]=w[r-i],_++);E[_]=t,T[_]=t,S[_]=1,_++}return{U:[f,p,M],L:[E,T,S]}},numeric.cLUsolve=function(e,t){var r,n,i=e.L,a=e.U,o=numeric.clone(t),s=i[0],u=i[1],c=i[2],l=a[0],h=a[1],f=a[2],p=l.length,m=(s.length,o.length);for(n=0,r=0;r<m;r++){for(;u[n]<r;)o[r]-=c[n]*o[u[n]],n++;n++}for(n=p-1,r=m-1;r>=0;r--){for(;h[n]>r;)o[r]-=f[n]*o[h[n]],n--;o[r]/=f[n],n--}return o},numeric.cgrid=function(e,t){"number"==typeof e&&(e=[e,e]);var r,n,i,a=numeric.rep(e,-1);if("function"!=typeof t)switch(t){case"L":t=function(t,r){return t>=e[0]/2||r<e[1]/2};break;default:t=function(e,t){return!0}}for(i=0,r=1;r<e[0]-1;r++)for(n=1;n<e[1]-1;n++)t(r,n)&&(a[r][n]=i,i++);return a},numeric.cdelsq=function(e){var t,r,n,i,a,o=[[-1,0],[0,-1],[0,1],[1,0]],s=numeric.dim(e),u=s[0],c=s[1],l=[],h=[],f=[];for(t=1;t<u-1;t++)for(r=1;r<c-1;r++)if(!(e[t][r]<0)){for(n=0;n<4;n++)i=t+o[n][0],a=r+o[n][1],e[i][a]<0||(l.push(e[t][r]),h.push(e[i][a]),f.push(-1));l.push(e[t][r]),h.push(e[t][r]),f.push(4)}return[l,h,f]},numeric.cdotMV=function(e,t){var r,n,i,a=e[0],o=e[1],s=e[2],u=a.length;for(i=0,n=0;n<u;n++)a[n]>i&&(i=a[n]);for(i++,r=numeric.rep([i],0),n=0;n<u;n++)r[a[n]]+=s[n]*t[o[n]];return r},numeric.Spline=function(e,t,r,n,i){this.x=e,this.yl=t,this.yr=r,this.kl=n,this.kr=i},numeric.Spline.prototype._at=function(e,t){var e,r,n,i,a=this.x,o=this.yl,s=this.yr,u=this.kl,c=this.kr,l=numeric.add,h=numeric.sub,f=numeric.mul;r=h(f(u[t],a[t+1]-a[t]),h(s[t+1],o[t])),n=l(f(c[t+1],a[t]-a[t+1]),h(s[t+1],o[t])),i=(e-a[t])/(a[t+1]-a[t]);var p=i*(1-i);return l(l(l(f(1-i,o[t]),f(i,s[t+1])),f(r,p*(1-i))),f(n,p*i))},numeric.Spline.prototype.at=function(e){if("number"==typeof e){var t,r,n,i=this.x,a=i.length,o=Math.floor;for(t=0,r=a-1;r-t>1;)n=o((t+r)/2),i[n]<=e?t=n:r=n;return this._at(e,t)}var s,a=e.length,u=Array(a);for(s=a-1;s!==-1;--s)u[s]=this.at(e[s]);return u},numeric.Spline.prototype.diff=function(){var e,t,r,n=this.x,i=this.yl,a=this.yr,o=this.kl,s=this.kr,u=i.length,c=o,l=s,h=Array(u),f=Array(u),p=numeric.add,m=numeric.mul,d=numeric.div,g=numeric.sub;for(e=u-1;e!==-1;--e)t=n[e+1]-n[e],r=g(a[e+1],i[e]),h[e]=d(p(m(r,6),m(o[e],-4*t),m(s[e+1],-2*t)),t*t),f[e+1]=d(p(m(r,-6),m(o[e],2*t),m(s[e+1],4*t)),t*t);return new numeric.Spline(n,c,l,h,f)},numeric.Spline.prototype.roots=function(){function e(e){return e*e}var t=[],r=this.x,n=this.yl,i=this.yr,a=this.kl,o=this.kr;"number"==typeof n[0]&&(n=[n],i=[i],a=[a],o=[o]);var s,u,c,l,h,f,p,m,d,g,y,v,b,x,_,w,M,E,T,S,I,N,D,C,A=n.length,k=r.length-1,t=Array(A),F=Math.sqrt;for(s=0;s!==A;++s){for(l=n[s],h=i[s],f=a[s],p=o[s],m=[],u=0;u!==k;u++){for(u>0&&h[u]*l[u]<0&&m.push(r[u]),w=r[u+1]-r[u],M=r[u],y=l[u],v=h[u+1],d=f[u]/w,g=p[u+1]/w,_=e(d-g+3*(y-v))+12*g*y,b=g+3*y+2*d-3*v,x=3*(g+d+2*(y-v)),_<=0?(T=b/x,E=T>r[u]&&T<r[u+1]?[r[u],T,r[u+1]]:[r[u],r[u+1]]):(T=(b-F(_))/x,S=(b+F(_))/x,E=[r[u]],T>r[u]&&T<r[u+1]&&E.push(T),S>r[u]&&S<r[u+1]&&E.push(S),E.push(r[u+1])),N=E[0],T=this._at(N,u),c=0;c<E.length-1;c++)if(D=E[c+1],S=this._at(D,u),0!==T)if(0===S||T*S>0)N=D,T=S;else{for(var O=0;;){if(C=(T*D-S*N)/(T-S),C<=N||C>=D)break;if(I=this._at(C,u),I*S>0)D=C,S=I,O===-1&&(T*=.5),O=-1;else{if(!(I*T>0))break;N=C,T=I,1===O&&(S*=.5),O=1}}m.push(C),N=E[c+1],T=this._at(N,u)}else m.push(N),N=D,T=S;0===S&&m.push(D)}t[s]=m}return"number"==typeof this.yl[0]?t[0]:t},numeric.spline=function(e,t,r,n){var i,a=e.length,o=[],s=[],u=[],c=numeric.sub,l=numeric.mul,h=numeric.add;for(i=a-2;i>=0;i--)s[i]=e[i+1]-e[i],u[i]=c(t[i+1],t[i]);"string"!=typeof r&&"string"!=typeof n||(r=n="periodic");var f=[[],[],[]];switch(typeof r){case"undefined":o[0]=l(3/(s[0]*s[0]),u[0]),f[0].push(0,0),f[1].push(0,1),f[2].push(2/s[0],1/s[0]);break;case"string":o[0]=h(l(3/(s[a-2]*s[a-2]),u[a-2]),l(3/(s[0]*s[0]),u[0])),f[0].push(0,0,0),f[1].push(a-2,0,1),f[2].push(1/s[a-2],2/s[a-2]+2/s[0],1/s[0]);break;default:o[0]=r,f[0].push(0),f[1].push(0),f[2].push(1)}for(i=1;i<a-1;i++)o[i]=h(l(3/(s[i-1]*s[i-1]),u[i-1]),l(3/(s[i]*s[i]),u[i])),f[0].push(i,i,i),f[1].push(i-1,i,i+1),f[2].push(1/s[i-1],2/s[i-1]+2/s[i],1/s[i]);switch(typeof n){case"undefined":o[a-1]=l(3/(s[a-2]*s[a-2]),u[a-2]),f[0].push(a-1,a-1),f[1].push(a-2,a-1),f[2].push(1/s[a-2],2/s[a-2]);break;case"string":f[1][f[1].length-1]=0;break;default:o[a-1]=n,f[0].push(a-1),f[1].push(a-1),f[2].push(1)}o="number"!=typeof o[0]?numeric.transpose(o):[o];var p=Array(o.length);if("string"==typeof r)for(i=p.length-1;i!==-1;--i)p[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(f)),o[i]),p[i][a-1]=p[i][0];else for(i=p.length-1;i!==-1;--i)p[i]=numeric.cLUsolve(numeric.cLU(f),o[i]);return p="number"==typeof t[0]?p[0]:numeric.transpose(p),new numeric.Spline(e,t,t,p,p)},numeric.fftpow2=function e(t,r){var n=t.length;if(1!==n){var i,a,o=Math.cos,s=Math.sin,u=Array(n/2),c=Array(n/2),l=Array(n/2),h=Array(n/2);for(a=n/2,i=n-1;i!==-1;--i)--a,l[a]=t[i],h[a]=r[i],--i,u[a]=t[i],c[a]=r[i];e(u,c),e(l,h),a=n/2;var f,p,m,d=-6.283185307179586/n;for(i=n-1;i!==-1;--i)--a,a===-1&&(a=n/2-1),f=d*i,p=o(f),m=s(f),t[i]=u[a]+p*l[a]-m*h[a],r[i]=c[a]+p*h[a]+m*l[a]}},numeric._ifftpow2=function e(t,r){var n=t.length;if(1!==n){var i,a,o=Math.cos,s=Math.sin,u=Array(n/2),c=Array(n/2),l=Array(n/2),h=Array(n/2);for(a=n/2,i=n-1;i!==-1;--i)--a,l[a]=t[i],h[a]=r[i],--i,u[a]=t[i],c[a]=r[i];e(u,c),e(l,h),a=n/2;var f,p,m,d=6.283185307179586/n;for(i=n-1;i!==-1;--i)--a,a===-1&&(a=n/2-1),f=d*i,p=o(f),m=s(f),t[i]=u[a]+p*l[a]-m*h[a],r[i]=c[a]+p*h[a]+m*l[a]}},numeric.ifftpow2=function(e,t){numeric._ifftpow2(e,t),numeric.diveq(e,e.length),numeric.diveq(t,t.length)},numeric.convpow2=function(e,t,r,n){numeric.fftpow2(e,t),numeric.fftpow2(r,n);var i,a,o,s,u,c=e.length;for(i=c-1;i!==-1;--i)a=e[i],s=t[i],o=r[i],u=n[i],e[i]=a*o-s*u,t[i]=a*u+s*o;numeric.ifftpow2(e,t)},numeric.T.prototype.fft=function(){var e,t,r=this.x,n=this.y,i=r.length,a=Math.log,o=a(2),s=Math.ceil(a(2*i-1)/o),u=Math.pow(2,s),c=numeric.rep([u],0),l=numeric.rep([u],0),h=Math.cos,f=Math.sin,p=-3.141592653589793/i,m=numeric.rep([u],0),d=numeric.rep([u],0);Math.floor(i/2);for(e=0;e<i;e++)m[e]=r[e];if("undefined"!=typeof n)for(e=0;e<i;e++)d[e]=n[e];for(c[0]=1,e=1;e<=u/2;e++)t=p*e*e,c[e]=h(t),l[e]=f(t),c[u-e]=h(t),l[u-e]=f(t);var g=new numeric.T(m,d),y=new numeric.T(c,l);return g=g.mul(y),numeric.convpow2(g.x,g.y,numeric.clone(y.x),numeric.neg(y.y)),g=g.mul(y),g.x.length=i,g.y.length=i,g},numeric.T.prototype.ifft=function(){var e,t,r=this.x,n=this.y,i=r.length,a=Math.log,o=a(2),s=Math.ceil(a(2*i-1)/o),u=Math.pow(2,s),c=numeric.rep([u],0),l=numeric.rep([u],0),h=Math.cos,f=Math.sin,p=3.141592653589793/i,m=numeric.rep([u],0),d=numeric.rep([u],0);Math.floor(i/2);for(e=0;e<i;e++)m[e]=r[e];if("undefined"!=typeof n)for(e=0;e<i;e++)d[e]=n[e];for(c[0]=1,e=1;e<=u/2;e++)t=p*e*e,c[e]=h(t),l[e]=f(t),c[u-e]=h(t),l[u-e]=f(t);var g=new numeric.T(m,d),y=new numeric.T(c,l);return g=g.mul(y),numeric.convpow2(g.x,g.y,numeric.clone(y.x),numeric.neg(y.y)),g=g.mul(y),g.x.length=i,g.y.length=i,g.div(i)},numeric.gradient=function(e,t){var r=t.length,n=e(t);if(isNaN(n))throw new Error("gradient: f(x) is a NaN!");var i,a,o,s,u,c,l,h,f,p,m=Math.max,d=numeric.clone(t),g=Array(r),m=(numeric.div,numeric.sub,Math.max),y=.001,v=Math.abs,b=Math.min,x=0;for(i=0;i<r;i++)for(var _=m(1e-6*n,1e-8);;){if(++x,x>20)throw new Error("Numerical gradient fails");if(d[i]=t[i]+_,a=e(d),d[i]=t[i]-_,o=e(d),d[i]=t[i],isNaN(a)||isNaN(o))_/=16;else{if(g[i]=(a-o)/(2*_),u=t[i]-_,c=t[i],l=t[i]+_,h=(a-n)/_,f=(n-o)/_,p=m(v(g[i]),v(n),v(a),v(o),v(u),v(c),v(l),1e-8),s=b(m(v(h-g[i]),v(f-g[i]),v(h-f))/p,_/p),!(s>y))break;_/=16}}return g},numeric.uncmin=function(e,t,r,n,i,a,o){var s=numeric.gradient;"undefined"==typeof o&&(o={}),"undefined"==typeof r&&(r=1e-8),"undefined"==typeof n&&(n=function(t){return s(e,t)}),"undefined"==typeof i&&(i=1e3),t=numeric.clone(t);var u,c,l=t.length,h=e(t);if(isNaN(h))throw new Error("uncmin: f(x0) is a NaN!");var f=Math.max,p=numeric.norm2;r=f(r,numeric.epsilon);var m,d,g,y,v,b,x,_,w,M,E=o.Hinv||numeric.identity(l),T=numeric.dot,S=(numeric.inv,numeric.sub),I=numeric.add,N=numeric.tensor,D=numeric.div,C=numeric.mul,A=numeric.all,k=numeric.isFinite,F=numeric.neg,O=0,P="";for(d=n(t);O<i;){if("function"==typeof a&&a(O,t,h,d,E)){P="Callback returned true";break}if(!A(k(d))){P="Gradient has Infinity or NaN";break}if(m=F(T(E,d)),!A(k(m))){P="Search direction has Infinity or NaN";break}if(M=p(m),M<r){P="Newton step smaller than tol";break}for(w=1,c=T(d,m),v=t;O<i&&!(w*M<r)&&(y=C(m,w),v=I(t,y),u=e(v),u-h>=.1*w*c||isNaN(u));)w*=.5,++O;if(w*M<r){P="Line search step size smaller than tol";break}if(O===i){P="maxit reached during line search";break}g=n(v),b=S(g,d),_=T(b,y),x=T(E,b),E=S(I(E,C((_+T(b,x))/(_*_),N(y,y))),D(I(N(x,y),N(y,x)),_)),t=v,h=u,d=g,++O}return{solution:t,f:h,gradient:d,invHessian:E,iterations:O,message:P}},numeric.Dopri=function(e,t,r,n,i,a,o){this.x=e,this.y=t,this.f=r,this.ymid=n,this.iterations=i,this.events=o,this.message=a},numeric.Dopri.prototype._at=function(e,t){function r(e){return e*e}var n,i,a,o,s,u,e,c,l,h,f,p=this,m=p.x,d=p.y,g=p.f,y=p.ymid,v=(m.length,Math.floor,.5),b=numeric.add,x=numeric.mul,_=numeric.sub;return n=m[t],i=m[t+1],o=d[t],s=d[t+1],c=i-n,a=n+v*c,u=y[t],l=_(g[t],x(o,1/(n-a)+2/(n-i))),h=_(g[t+1],x(s,1/(i-a)+2/(i-n))),f=[r(e-i)*(e-a)/r(n-i)/(n-a),r(e-n)*r(e-i)/r(n-a)/r(i-a),r(e-n)*(e-a)/r(i-n)/(i-a),(e-n)*r(e-i)*(e-a)/r(n-i)/(n-a),(e-i)*r(e-n)*(e-a)/r(n-i)/(i-a)],b(b(b(b(x(o,f[0]),x(u,f[1])),x(s,f[2])),x(l,f[3])),x(h,f[4]))},numeric.Dopri.prototype.at=function(e){var t,r,n,i=Math.floor;if("number"!=typeof e){var a=e.length,o=Array(a);for(t=a-1;t!==-1;--t)o[t]=this.at(e[t]);return o}var s=this.x;for(t=0,r=s.length-1;r-t>1;)n=i(.5*(t+r)),s[n]<=e?t=n:r=n;return this._at(e,t)},numeric.dopri=function(e,t,r,n,i,a,o){"undefined"==typeof i&&(i=1e-6),"undefined"==typeof a&&(a=1e3);var s,u,c,l,h,f,p,m,d,g,y,v,b,x=[e],_=[r],w=[n(e,r)],M=[],E=.2,T=[.075,.225],S=[44/45,-56/15,32/9],I=[19372/6561,-25360/2187,64448/6561,-212/729],N=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],D=[35/384,0,500/1113,125/192,-2187/6784,11/84],C=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],A=[.2,.3,.8,8/9,1,1],k=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],F=0,O=(t-e)/10,P=0,L=numeric.add,q=numeric.mul,V=(Math.max,Math.min),j=Math.abs,z=numeric.norminf,R=Math.pow,B=numeric.any,$=numeric.lt,G=numeric.and,U=(numeric.sub,new numeric.Dopri(x,_,w,M,-1,""));for("function"==typeof o&&(y=o(e,r));e<t&&P<a;)if(++P,e+O>t&&(O=t-e),s=n(e+A[0]*O,L(r,q(E*O,w[F]))),u=n(e+A[1]*O,L(L(r,q(T[0]*O,w[F])),q(T[1]*O,s))),c=n(e+A[2]*O,L(L(L(r,q(S[0]*O,w[F])),q(S[1]*O,s)),q(S[2]*O,u))),l=n(e+A[3]*O,L(L(L(L(r,q(I[0]*O,w[F])),q(I[1]*O,s)),q(I[2]*O,u)),q(I[3]*O,c))),h=n(e+A[4]*O,L(L(L(L(L(r,q(N[0]*O,w[F])),q(N[1]*O,s)),q(N[2]*O,u)),q(N[3]*O,c)),q(N[4]*O,l))),d=L(L(L(L(L(r,q(w[F],O*D[0])),q(u,O*D[2])),q(c,O*D[3])),q(l,O*D[4])),q(h,O*D[5])),f=n(e+O,d),p=L(L(L(L(L(q(w[F],O*k[0]),q(u,O*k[2])),q(c,O*k[3])),q(l,O*k[4])),q(h,O*k[5])),q(f,O*k[6])),g="number"==typeof p?j(p):z(p),g>i){if(O=.2*O*R(i/g,.25),e+O===e){U.msg="Step size became too small";break}}else{if(M[F]=L(L(L(L(L(L(r,q(w[F],O*C[0])),q(u,O*C[2])),q(c,O*C[3])),q(l,O*C[4])),q(h,O*C[5])),q(f,O*C[6])),++F,x[F]=e+O,_[F]=d,w[F]=f,"function"==typeof o){var Y,X,Z=e,Q=e+.5*O;if(v=o(Q,M[F-1]),b=G($(y,0),$(0,v)),B(b)||(Z=Q,Q=e+O,y=v,v=o(Q,d),b=G($(y,0),$(0,v))),B(b)){for(var W,H,J=0,K=1,ee=1;;){if("number"==typeof y)X=(ee*v*Z-K*y*Q)/(ee*v-K*y);else for(X=Q,m=y.length-1;m!==-1;--m)y[m]<0&&v[m]>0&&(X=V(X,(ee*v[m]*Z-K*y[m]*Q)/(ee*v[m]-K*y[m])));if(X<=Z||X>=Q)break;Y=U._at(X,F-1),H=o(X,Y),W=G($(y,0),$(0,H)),B(W)?(Q=X,v=H,b=W,ee=1,J===-1?K*=.5:K=1,J=-1):(Z=X,y=H,K=1,1===J?ee*=.5:ee=1,J=1)}return d=U._at(.5*(e+X),F-1),U.f[F]=n(X,Y),U.x[F]=X,U.y[F]=Y,U.ymid[F-1]=d,U.events=b,U.iterations=P,U}}e+=O,r=d,y=v,O=V(.8*O*R(i/g,.25),4*O)}return U.iterations=P,U},numeric.LU=function(e,t){t=t||!1;var r,n,i,a,o,s,u,c,l,h=Math.abs,f=e.length,p=f-1,m=new Array(f);for(t||(e=numeric.clone(e)),i=0;i<f;++i){for(u=i,s=e[i],l=h(s[i]),n=i+1;n<f;++n)a=h(e[n][i]),l<a&&(l=a,u=n);for(m[i]=u,u!=i&&(e[i]=e[u],e[u]=s,s=e[i]),o=s[i],r=i+1;r<f;++r)e[r][i]/=o;for(r=i+1;r<f;++r){for(c=e[r],n=i+1;n<p;++n)c[n]-=c[i]*s[n],++n,c[n]-=c[i]*s[n];n===p&&(c[n]-=c[i]*s[n])}}return{LU:e,P:m}},numeric.LUsolve=function(e,t){var r,n,i,a,o,s=e.LU,u=s.length,c=numeric.clone(t),l=e.P;for(r=u-1;r!==-1;--r)c[r]=t[r];for(r=0;r<u;++r)for(i=l[r],l[r]!==r&&(o=c[r],c[r]=c[i],c[i]=o),a=s[r],n=0;n<r;++n)c[r]-=c[n]*a[n];for(r=u-1;r>=0;--r){for(a=s[r],n=r+1;n<u;++n)c[r]-=c[n]*a[n];c[r]/=a[r]}return c},numeric.solve=function(e,t,r){return numeric.LUsolve(numeric.LU(e,r),t)},numeric.echelonize=function(e){var t,r,n,i,a,o,s,u,c=numeric.dim(e),l=c[0],h=c[1],f=numeric.identity(l),p=Array(l),m=Math.abs,d=numeric.diveq;for(e=numeric.clone(e),t=0;t<l;++t){for(n=0,a=e[t],o=f[t],r=1;r<h;++r)m(a[n])<m(a[r])&&(n=r);for(p[t]=n,d(o,a[n]),d(a,a[n]),r=0;r<l;++r)if(r!==t){for(s=e[r],u=s[n],i=h-1;i!==-1;--i)s[i]-=a[i]*u;for(s=f[r],i=l-1;i!==-1;--i)s[i]-=o[i]*u}}return{I:f,A:e,P:p}},numeric.__solveLP=function(e,t,r,n,i,a,o){var s,u,c,l,h=numeric.sum,f=(numeric.log,numeric.mul),p=numeric.sub,m=numeric.dot,d=numeric.div,g=numeric.add,y=e.length,v=r.length,b=!1,x=0,_=1,w=(numeric.transpose(t),numeric.svd,numeric.transpose),M=(numeric.leq,Math.sqrt),E=Math.abs,T=(numeric.muleq,numeric.norminf,numeric.any,Math.min),S=numeric.all,I=numeric.gt,N=Array(y),D=Array(v),C=(numeric.rep([v],1),numeric.solve),A=p(r,m(t,a)),k=m(e,e);for(c=x;c<i;++c){var F,O;for(F=v-1;F!==-1;--F)D[F]=d(t[F],A[F]);var P=w(D);for(F=y-1;F!==-1;--F)N[F]=h(P[F]);_=.25*E(k/m(e,N));var L=100*M(k/m(N,N));for((!isFinite(_)||_>L)&&(_=L),l=g(e,f(_,N)),u=m(P,D),F=y-1;F!==-1;--F)u[F][F]+=1;O=C(u,d(l,_),!0);var q=d(A,m(t,O)),V=1;for(F=v-1;F!==-1;--F)q[F]<0&&(V=T(V,-.999*q[F]));if(s=p(a,f(O,V)),A=p(r,m(t,s)),!S(I(A,0)))return{solution:a,message:"",iterations:c};if(a=s,_<n)return{solution:s,message:"",iterations:c};if(o){var j=m(e,l),z=m(t,l);for(b=!0,F=v-1;F!==-1;--F)if(j*z[F]<0){b=!1;break}}else b=!(a[y-1]>=0);if(b)return{solution:s,message:"Unbounded",iterations:c}}return{solution:a,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(e,t,r,n,i){var a,o=e.length,s=r.length,u=(numeric.sum,numeric.log,numeric.mul,numeric.sub),c=numeric.dot,l=(numeric.div,numeric.add,numeric.rep([o],0).concat([1])),h=numeric.rep([s,1],-1),f=numeric.blockMatrix([[t,h]]),p=r,a=numeric.rep([o],0).concat(Math.max(0,numeric.sup(numeric.neg(r)))+1),m=numeric.__solveLP(l,f,p,n,i,a,!1),d=numeric.clone(m.solution);d.length=o;var g=numeric.inf(u(r,c(t,d)));if(g<0)return{solution:NaN,message:"Infeasible",iterations:m.iterations};var y=numeric.__solveLP(e,t,r,n,i-m.iterations,d,!0);return y.iterations+=m.iterations,y},numeric.solveLP=function(e,t,r,n,i,a,o){if("undefined"==typeof o&&(o=1e3),"undefined"==typeof a&&(a=numeric.epsilon),"undefined"==typeof n)return numeric._solveLP(e,t,r,a,o);var s,u=n.length,c=n[0].length,l=t.length,h=numeric.echelonize(n),f=numeric.rep([c],0),p=h.P,m=[];for(s=p.length-1;s!==-1;--s)f[p[s]]=1;for(s=c-1;s!==-1;--s)0===f[s]&&m.push(s);var d=numeric.getRange,g=numeric.linspace(0,u-1),y=numeric.linspace(0,l-1),v=d(n,g,m),b=d(t,y,p),x=d(t,y,m),_=numeric.dot,w=numeric.sub,M=_(b,h.I),E=w(x,_(M,v)),T=w(r,_(M,i)),S=Array(p.length),I=Array(m.length);for(s=p.length-1;s!==-1;--s)S[s]=e[p[s]];for(s=m.length-1;s!==-1;--s)I[s]=e[m[s]];var N=w(I,_(S,_(h.I,v))),D=numeric._solveLP(N,E,T,a,o),C=D.solution;if(C!==C)return D;var A=_(h.I,w(i,_(v,C))),k=Array(e.length);for(s=p.length-1;s!==-1;--s)k[p[s]]=A[s];for(s=m.length-1;s!==-1;--s)k[m[s]]=C[s];return{solution:k,message:D.message,iterations:D.iterations}},numeric.MPStoLP=function(e){function t(t){throw new Error("MPStoLP: "+t+"\\nLine "+r+": "+e[r]+"\\nCurrent state: "+s[o]+"\\n")}e instanceof String&&e.split("\\n");var r,n,i,a,o=0,s=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],u=e.length,c=0,l={},h=[],f=0,p={},m=0,d=[],g=[],y=[];for(r=0;r<u;++r){i=e[r];var v=i.match(/\\S*/g),b=[];for(n=0;n<v.length;++n)""!==v[n]&&b.push(v[n]);if(0!==b.length){for(n=0;n<s.length&&i.substr(0,s[n].length)!==s[n];++n);if(n<s.length){if(o=n,1===n&&(a=b[1]),6===n)return{name:a,c:d,A:numeric.transpose(g),b:y,rows:l,vars:p}}else switch(o){case 0:case 1:t("Unexpected line");case 2:switch(b[0]){case"N":0===c?c=b[1]:t("Two or more N rows");break;case"L":l[b[1]]=f,h[f]=1,y[f]=0,++f;break;case"G":l[b[1]]=f,h[f]=-1,y[f]=0,++f;break;case"E":l[b[1]]=f,h[f]=0,y[f]=0,++f;break;default:t("Parse error "+numeric.prettyPrint(b))}break;case 3:p.hasOwnProperty(b[0])||(p[b[0]]=m,d[m]=0,g[m]=numeric.rep([f],0),++m);var x=p[b[0]];for(n=1;n<b.length;n+=2)if(b[n]!==c){var _=l[b[n]];g[x][_]=(h[_]<0?-1:1)*parseFloat(b[n+1])}else d[x]=parseFloat(b[n+1]);break;case 4:for(n=1;n<b.length;n+=2)y[l[b[n]]]=(h[l[b[n]]]<0?-1:1)*parseFloat(b[n+1]);break;case 5:break;case 6:t("Internal error")}}}t("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(e,t,r,n,i,a,o){function s(e){var t,n,i=this,a=e.length,o=0,s=i.i=i.j=i.m=0;for(i.S=[],i.c=[],a||(e=[a++]);o<r;)i.S[o]=o++;for(o=0;o<r;o++)t=i.S[o],s=l(s+t+e[o%a]),n=i.S[s],i.S[o]=n,i.S[s]=t;i.g=function(e){var t=i.S,n=l(i.i+1),a=t[n],o=l(i.j+a),s=t[o];t[n]=s,t[o]=a;for(var u=t[l(a+s)];--e;)n=l(n+1),a=t[n],o=l(o+a),s=t[o],t[n]=s,t[o]=a,u=u*r+t[l(a+s)];return i.i=n,i.j=o,u},i.g(r)}function u(e,t,r,n,i){if(r=[],i=typeof e,t&&"object"==i)for(n in e)if(n.indexOf("S")<5)try{r.push(u(e[n],t-1))}catch(e){}return r.length?r:e+("string"!=i?"\\0":"")}function c(e,t,r,n){for(e+="",r=0,n=0;n<e.length;n++)t[l(n)]=l((r^=19*t[l(n)])+e.charCodeAt(n));e="";for(n in t)e+=String.fromCharCode(t[n]);return e}function l(e){return e&r-1}t.seedrandom=function(l,h){var f,p=[];return l=c(u(h?[l,e]:arguments.length?l:[(new Date).getTime(),e,window],3),p),f=new s(p),c(f.S,e),t.random=function(){for(var e=f.g(n),t=o,s=0;e<i;)e=(e+s)*r,t*=r,s=f.g(1);for(;e>=a;)e/=2,t/=2,s>>>=1;return(e+s)/t},l},o=t.pow(r,n),i=t.pow(2,i),a=2*i,c(t.random(),e)}([],numeric.seedrandom,256,6,52),function(e){function t(e){if("object"!=typeof e)return e;var r,n=[],i=e.length;for(r=0;r<i;r++)n[r+1]=t(e[r]);return n}function r(e){if("object"!=typeof e)return e;var t,n=[],i=e.length;for(t=1;t<i;t++)n[t-1]=r(e[t]);return n}function n(e,t,r){var n,i,a,o,s;for(a=1;a<=r;a+=1){for(e[a][a]=1/e[a][a],s=-e[a][a],n=1;n<a;n+=1)e[n][a]=s*e[n][a];if(o=a+1,r<o)break;for(i=o;i<=r;i+=1)for(s=e[a][i],e[a][i]=0,n=1;n<=a;n+=1)e[n][i]=e[n][i]+s*e[n][a]}}function i(e,t,r,n){var i,a,o,s;for(a=1;a<=r;a+=1){for(s=0,i=1;i<a;i+=1)s+=e[i][a]*n[i];n[a]=(n[a]-s)/e[a][a]}for(o=1;o<=r;o+=1)for(a=r+1-o,n[a]=n[a]/e[a][a],s=-n[a],i=1;i<a;i+=1)n[i]=n[i]+s*e[i][a]}function a(e,t,r,n){var i,a,o,s,u,c;for(a=1;a<=r;a+=1){if(n[1]=a,c=0,o=a-1,o<1){if(c=e[a][a]-c,c<=0)break;e[a][a]=Math.sqrt(c)}else{for(s=1;s<=o;s+=1){for(u=e[s][a],i=1;i<s;i+=1)u-=e[i][a]*e[i][s];u/=e[s][s],e[s][a]=u,c+=u*u}if(c=e[a][a]-c,c<=0)break;e[a][a]=Math.sqrt(c)}n[1]=0}}function o(e,t,r,o,s,u,c,l,h,f,p,m,d,g,y,v){function b(){for(g[1]=g[1]+1,S=F,E=1;E<=f;E+=1){for(S+=1,j=-l[E],T=1;T<=o;T+=1)j+=c[T][E]*s[T];if(Math.abs(j)<X&&(j=0),E>p)y[S]=j;else if(y[S]=-Math.abs(j),j>0){for(T=1;T<=o;T+=1)c[T][E]=-c[T][E];l[E]=-l[E]}}for(E=1;E<=d;E+=1)y[F+m[E]]=0;for(P=0,V=0,E=1;E<=f;E+=1)y[F+E]<V*y[q+E]&&(P=E,V=y[F+E]/y[q+E]);return 0===P?999:0}function x(){for(E=1;E<=o;E+=1){for(j=0,T=1;T<=o;T+=1)j+=e[T][E]*c[T][P];y[E]=j}for(I=C,E=1;E<=o;E+=1)y[I+E]=0;for(T=d+1;T<=o;T+=1)for(E=1;E<=o;E+=1)y[I+E]=y[I+E]+e[E][T]*y[T];for(U=!0,E=d;E>=1;E-=1){for(j=y[E],S=k+E*(E+3)/2,I=S-E,T=E+1;T<=d;T+=1)j-=y[S]*y[A+T],S+=T;if(j/=y[I],y[A+E]=j,m[E]<p)break;if(j<0)break;U=!1,D=E}if(!U)for(z=y[O+D]/y[A+D],E=1;E<=d&&!(m[E]<p)&&!(y[A+E]<0);E+=1)V=y[O+E]/y[A+E],V<z&&(z=V,D=E);for(j=0,E=C+1;E<=C+o;E+=1)j+=y[E]*y[E];if(Math.abs(j)<=X){if(U)return v[1]=1,999;for(E=1;E<=d;E+=1)y[O+E]=y[O+E]-z*y[A+E];return y[O+d+1]=y[O+d+1]+z,700}for(j=0,E=1;E<=o;E+=1)j+=y[C+E]*c[E][P];for(R=-y[F+P]/j,Y=!0,U||z<R&&(R=z,Y=!1),E=1;E<=o;E+=1)s[E]=s[E]+R*y[C+E],Math.abs(s[E])<X&&(s[E]=0);for(u[1]=u[1]+R*j*(R/2+y[O+d+1]),E=1;E<=d;E+=1)y[O+E]=y[O+E]-R*y[A+E];if(y[O+d+1]=y[O+d+1]+R,!Y){for(j=-l[P],T=1;T<=o;T+=1)j+=s[T]*c[T][P];if(P>p)y[F+P]=j;else if(y[F+P]=-Math.abs(j),j>0){for(T=1;T<=o;T+=1)c[T][P]=-c[T][P];l[P]=-l[P]}return 700}for(d+=1,m[d]=P,S=k+(d-1)*d/2+1,E=1;E<=d-1;E+=1)y[S]=y[E],S+=1;if(d===o)y[S]=y[o];else{for(E=o;E>=d+1&&0!==y[E]&&(B=Math.max(Math.abs(y[E-1]),Math.abs(y[E])),$=Math.min(Math.abs(y[E-1]),Math.abs(y[E])),V=y[E-1]>=0?Math.abs(B*Math.sqrt(1+$*$/(B*B))):-Math.abs(B*Math.sqrt(1+$*$/(B*B))),B=y[E-1]/V,$=y[E]/V,1!==B);E-=1)if(0===B)for(y[E-1]=$*V,T=1;T<=o;T+=1)V=e[T][E-1],e[T][E-1]=e[T][E],e[T][E]=V;else for(y[E-1]=V,G=$/(1+B),T=1;T<=o;T+=1)V=B*e[T][E-1]+$*e[T][E],e[T][E]=G*(e[T][E-1]+V)-e[T][E],e[T][E-1]=V;y[S]=y[d]}return 0}function _(){if(S=k+D*(D+1)/2+1,I=S+D,0===y[I])return 798;if(B=Math.max(Math.abs(y[I-1]),Math.abs(y[I])),$=Math.min(Math.abs(y[I-1]),Math.abs(y[I])),V=y[I-1]>=0?Math.abs(B*Math.sqrt(1+$*$/(B*B))):-Math.abs(B*Math.sqrt(1+$*$/(B*B))),B=y[I-1]/V,$=y[I]/V,1===B)return 798;if(0===B){for(E=D+1;E<=d;E+=1)V=y[I-1],y[I-1]=y[I],y[I]=V,I+=E;for(E=1;E<=o;E+=1)V=e[E][D],e[E][D]=e[E][D+1],e[E][D+1]=V}else{for(G=$/(1+B),E=D+1;E<=d;E+=1)V=B*y[I-1]+$*y[I],y[I]=G*(y[I-1]+V)-y[I],y[I-1]=V,I+=E;for(E=1;E<=o;E+=1)V=B*e[E][D]+$*e[E][D+1],e[E][D+1]=G*(e[E][D]+V)-e[E][D+1],e[E][D]=V}return 0}function w(){for(I=S-D,E=1;E<=D;E+=1)y[I]=y[S],S+=1,I+=1;return y[O+D]=y[O+D+1],m[D]=m[D+1],D+=1,D<d?797:0}function M(){return y[O+d]=y[O+d+1],y[O+d+1]=0,m[d]=0,d-=1,g[2]=g[2]+1,0}var E,T,S,I,N,D,C,A,k,F,O,P,L,q,V,j,z,R,B,$,G,U,Y,X,Z,Q,W;L=Math.min(o,f),S=2*o+L*(L+5)/2+2*f+1,X=1e-60;do X+=X,Z=1+.1*X,Q=1+.2*X;while(Z<=1||Q<=1);for(E=1;E<=o;E+=1)y[E]=t[E];for(E=o+1;E<=S;E+=1)y[E]=0;for(E=1;E<=f;E+=1)m[E]=0;if(N=[],0===v[1]){if(a(e,r,o,N),0!==N[1])return void(v[1]=2);i(e,r,o,t),n(e,r,o)}else{for(T=1;T<=o;T+=1)for(s[T]=0,E=1;E<=T;E+=1)s[T]=s[T]+e[E][T]*t[E];for(T=1;T<=o;T+=1)for(t[T]=0,E=T;E<=o;E+=1)t[T]=t[T]+e[T][E]*s[E]}for(u[1]=0,T=1;T<=o;T+=1)for(s[T]=t[T],u[1]=u[1]+y[T]*s[T],y[T]=0,E=T+1;E<=o;E+=1)e[E][T]=0;for(u[1]=-u[1]/2,v[1]=0,C=o,A=C+o,O=A+L,k=O+L+1,F=k+L*(L+1)/2,q=F+f,E=1;E<=f;E+=1){for(j=0,T=1;T<=o;T+=1)j+=c[T][E]*c[T][E];y[q+E]=Math.sqrt(j)}for(d=0,g[1]=0,g[2]=0,W=0;;){if(W=b(),999===W)return;for(;;){if(W=x(),0===W)break;if(999===W)return;if(700===W)if(D===d)M();else{for(;;)if(_(),W=w(),797!==W)break;M()}}}}function s(e,n,i,a,s,u){e=t(e),n=t(n),i=t(i);var c,l,h,f,p,m,d=[],g=[],y=[],v=[],b=[];if(s=s||0,u=u?t(u):[void 0,0],a=a?t(a):[],l=e.length-1,h=i[1].length-1,!a)for(c=1;c<=h;c+=1)a[c]=0;for(c=1;c<=h;c+=1)g[c]=0;for(f=0,p=Math.min(l,h),c=1;c<=l;c+=1)y[c]=0;for(d[1]=0,c=1;c<=2*l+p*(p+5)/2+2*h+1;c+=1)v[c]=0;for(c=1;c<=2;c+=1)b[c]=0;return o(e,n,l,l,y,d,i,a,l,h,s,g,f,b,v,u),m="",1===u[1]&&(m="constraints are inconsistent, no solution!"),2===u[1]&&(m="matrix D in quadratic function is not positive definite!"),{solution:r(y),value:r(d),unconstrained_solution:r(n),iterations:r(b),iact:r(g),message:m}}e.solveQP=s}(numeric),numeric.svd=function(e){function t(e,t){return e=Math.abs(e),t=Math.abs(t),e>t?e*Math.sqrt(1+t*t/e/e):0==t?e:t*Math.sqrt(1+e*e/t/t)}var r,n=numeric.epsilon,i=1e-64/n,a=50,o=0,s=0,u=0,c=0,l=0,h=numeric.clone(e),f=h.length,p=h[0].length;if(f<p)throw"Need more rows than columns";var m=new Array(p),d=new Array(p);for(s=0;s<p;s++)m[s]=d[s]=0;var g=numeric.rep([p,p],0),y=0,v=0,b=0,x=0,_=0,w=0,M=0;for(s=0;s<p;s++){for(m[s]=v,M=0,l=s+1,u=s;u<f;u++)M+=h[u][s]*h[u][s];if(M<=i)v=0;else for(y=h[s][s],v=Math.sqrt(M),y>=0&&(v=-v),b=y*v-M,h[s][s]=y-v,u=l;u<p;u++){for(M=0,c=s;c<f;c++)M+=h[c][s]*h[c][u];for(y=M/b,c=s;c<f;c++)h[c][u]+=y*h[c][s]}for(d[s]=v,M=0,u=l;u<p;u++)M+=h[s][u]*h[s][u];if(M<=i)v=0;else{for(y=h[s][s+1],v=Math.sqrt(M),y>=0&&(v=-v),b=y*v-M,h[s][s+1]=y-v,u=l;u<p;u++)m[u]=h[s][u]/b;for(u=l;u<f;u++){for(M=0,c=l;c<p;c++)M+=h[u][c]*h[s][c];for(c=l;c<p;c++)h[u][c]+=M*m[c]}}_=Math.abs(d[s])+Math.abs(m[s]),_>x&&(x=_)}for(s=p-1;s!=-1;s+=-1){if(0!=v){for(b=v*h[s][s+1],u=l;u<p;u++)g[u][s]=h[s][u]/b;for(u=l;u<p;u++){for(M=0,c=l;c<p;c++)M+=h[s][c]*g[c][u];for(c=l;c<p;c++)g[c][u]+=M*g[c][s]}}for(u=l;u<p;u++)g[s][u]=0,g[u][s]=0;g[s][s]=1,v=m[s],l=s}for(s=p-1;s!=-1;s+=-1){for(l=s+1,v=d[s],u=l;u<p;u++)h[s][u]=0;if(0!=v){for(b=h[s][s]*v,u=l;u<p;u++){for(M=0,c=l;c<f;c++)M+=h[c][s]*h[c][u];for(y=M/b,c=s;c<f;c++)h[c][u]+=y*h[c][s]}for(u=s;u<f;u++)h[u][s]=h[u][s]/v}else for(u=s;u<f;u++)h[u][s]=0;h[s][s]+=1}for(n*=x,c=p-1;c!=-1;c+=-1)for(var E=0;E<a;E++){var T=!1;for(l=c;l!=-1;l+=-1){if(Math.abs(m[l])<=n){T=!0;break}if(Math.abs(d[l-1])<=n)break}if(!T){o=0,M=1;var S=l-1;for(s=l;s<c+1&&(y=M*m[s],m[s]=o*m[s],!(Math.abs(y)<=n));s++)for(v=d[s],b=t(y,v),d[s]=b,o=v/b,M=-y/b,u=0;u<f;u++)_=h[u][S],w=h[u][s],h[u][S]=_*o+w*M,h[u][s]=-_*M+w*o}if(w=d[c],l==c){if(w<0)for(d[c]=-w,u=0;u<p;u++)g[u][c]=-g[u][c];break}if(E>=a-1)throw"Error: no convergence.";for(x=d[l],_=d[c-1],v=m[c-1],b=m[c],y=((_-w)*(_+w)+(v-b)*(v+b))/(2*b*_),v=t(y,1),y=y<0?((x-w)*(x+w)+b*(_/(y-v)-b))/x:((x-w)*(x+w)+b*(_/(y+v)-b))/x,o=1,M=1,s=l+1;s<c+1;s++){for(v=m[s],_=d[s],b=M*v,v*=o,w=t(y,b),m[s-1]=w,o=y/w,M=b/w,y=x*o+v*M,v=-x*M+v*o,b=_*M,_*=o,u=0;u<p;u++)x=g[u][s-1],w=g[u][s],g[u][s-1]=x*o+w*M,g[u][s]=-x*M+w*o;for(w=t(y,b),d[s-1]=w,o=y/w,M=b/w,y=o*v+M*_,x=-M*v+o*_,u=0;u<f;u++)_=h[u][s-1],w=h[u][s],h[u][s-1]=_*o+w*M,h[u][s]=-_*M+w*o}m[l]=0,m[c]=y,d[c]=x}for(s=0;s<d.length;s++)d[s]<n&&(d[s]=0);for(s=0;s<p;s++)for(u=s-1;u>=0;u--)if(d[u]<d[s]){for(o=d[u],d[u]=d[s],d[s]=o,c=0;c<h.length;c++)r=h[c][s],h[c][s]=h[c][u],h[c][u]=r;for(c=0;c<g.length;c++)r=g[c][s],g[c][s]=g[c][u],g[c][u]=r;s=u}return{U:h,S:d,V:g}},numeric}),define("math/parsenode/optimizedregression",["require","pjs","./base"],function(e){var t=e("pjs"),r=e("./base");return t(r,function(e,t){e.init=function(e,r,n,i,a){t.init.call(this),this.parameters=e,this.residuals=r,this.statistics=n,this.model=i,this.isModelValid=a.isModelValid,this.residualVariable=a.residualVariable,this.residualSuggestionId=a.residualSuggestionId,this.shouldSuggestLogMode=a.shouldSuggestLogMode,this._exports=[this.residualVariable];for(var o in e)e.hasOwnProperty(o)&&this._exports.push(o);this.mergeDependencies(i)},e.getCompiledFunction=function(){return this.model.getCompiledFunction.apply(this.model,arguments)},e.getCompiledDerivative=function(){return this.model.getCompiledDerivative.apply(this.model,arguments)},e.evaluate=function(){return this.model.evaluate.apply(this.model,arguments)}})}),define("math/parsenode/regression",["require","pjs","./base","numeric","math/distance","math/builtin","graphing/label","math/errormsg","./error","./optimizedregression","./list","./functioncall","./identifier","./constant","./freevariable","./expressionTypes","math/types"],function(e){var t=e("pjs"),r=e("./base"),n=e("numeric"),i=e("math/distance"),a=e("math/builtin"),o=e("graphing/label"),s=e("math/errormsg"),u=e("./error"),c=e("./optimizedregression"),l=e("./list"),h=e("./functioncall"),f=e("./identifier"),p=e("./constant"),m=e("./freevariable"),d=e("./expressionTypes"),g=e("math/types"),y=d.Subtract;return t(r,function(e,t,r){function d(e,t){for(var r=0,n=e.fn.apply(void 0,t),i=0;i<n.length;i++){var a=n[i];r+=a*a}return r/n.length}function v(e,t){return e.fn.apply(void 0,t)}function b(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n].fn.apply(void 0,t);r.push(i)}return r}function x(e,t,r,i,a){for(var o=[],s=0;s<t.length;s++)o.push(0);for(var u=b(t,o),c=n.LU(n.dot(u,n.transpose(u)),!0),l=o,h=0;h<2;h++){var f=v(e,o),p=n.neg(n.LUsolve(c,n.dot(u,f)));if(!n.all(n.isFinite(p)))return w(e,t,r,i,a);o=n.add(l,p),l=o}return{solution:o,MSE:d(e,o)}}function _(e,t,r,i){for(var a=r,o=d(e,a),s=.001,u=2,c=.1,l=[],h=0;h<t.length;h++)l.push(1);for(var f=0,p=!1,m=b(t,a),g=a,y=o;f<i&&!p;){var x=v(e,a),_=n.transpose(m),w=n.dot(m,_);if(!n.all(n.isFinite(x)))break;if(!n.all(n.isFinite(w)))break;for(var M=!1;f<i&&!p&&!M;){f+=1;var E=n.LU(n.add(w,n.diag(n.mul(s,l))),!0),T=n.neg(n.LUsolve(E,n.dot(m,x))),S=T;if(a=n.add(g,S),o=d(e,a),p=n.all(n.eq(a,g))){g=a,y=o;break}var I;if(isFinite(o)&&o<=y&&(I=b(t,a),M=n.all(n.isFinite(I))),M){m=I,g=a,y=o,s*=c,s=Math.max(1e-64,s);break}s*=u}}return{solution:g,MSE:d(e,g)}}function w(e,t,r,n,a){var o,s=[];for(n||(n={}),a||(a={}),o=0;o<r.length;o++){var u=r[o];a[u]&&isFinite(a[u].constantValue)?s.push(+a[u].constantValue):n.hasOwnProperty(u)&&isFinite(n[u])?s.push(+n[u]):s.push(1)}var c=N(30,r),l=D(e,t,c,3,5),h=D(e,t,l,60,1),f=_(e,t,h[0],250),p=_(e,t,s,100);return isFinite(p.MSE)?p.MSE<f.MSE?p:i.approx(p.MSE,f.MSE,8)?p:f:f}function M(e,t,r,n){var i,a,o=t.getDependencies();for(a=0;a<o.length;a++)if(!e.validRegressionParameter(o[a]))throw s.invalidRegressionParameter(o[a]);var u=t.getCompiledFunction(o);if(o.length){var c={};for(a=1;a<o.length;a++)c[o[a]]=m(o[0]);var l=t.substitute(c).isLinear(o[0]),h=[];for(a=0;a<o.length;a++)h.push(t.takeDerivative(o[a]).getCompiledFunction(o));i=l?x(u,h,o,r,n):w(u,h,o,r,n)}else i={solution:[],MSE:d(u,[])};var f={};for(a=0;a<o.length;a++)f[o[a]]=p(i.solution[a]);return f}function E(e,t){var r=e.length,n=e[0],a=t[0],o=e[r-1],s=t[r-1];if(!(isFinite(n)&&isFinite(o)&&isFinite(a)&&isFinite(s)))return!1;if(s-a===0)return!1;var u=o-n;if(0===u)return!1;for(var c=1;c<r-1;c++){var l=e[c],h=t[c],f=(s*(l-n)+a*(o-l))/u;if(!i.approx(h,f,5))return!1}return!0}function T(e,t,r){var n=Object.create(t);for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);return l.wrap(e.getConcreteTree(n))}e.init=function(e,r){t.init.call(this),this._lhs=e,this.isLhsSimple=e instanceof f||e instanceof l,this._logLhs=h("ln",[e]),this._rhs=r,this._difference=y([e,r]),this._logDifference=y([h("ln",[e]),h("ln",[r])]),this.mergeDependencies(e,r)},e.isRegression=!0,e.chooseResidualVariable=function(e){if(this.userData&&this.userData.residualVariable){\nvar t=o.latexToIdentifier(this.userData.residualVariable);if(!e[t])return t}for(var r,n=this.getDependencies(),i=0;i<n.length;i++){var a=n[i].match(/_(.*)/);if(a&&(r="e_"+a[1],!e[r]))return r}for(var s=1;;){if(r="e_"+s,!e[r])return r;s++}},e.getRHSModel=function(e,t){function r(e,t){for(var r=0;r<n.length;r++)if(n[r].node===this)return n[r].tmpVar;var a=m(this.tmpVar()),o=this.getConcreteTree(e);return o.getDependencies().length&&(i=!1),n.push({node:this,tmpVar:a,symbol:a._symbol,concrete:o}),a}var n=[],i=!0,a={List:r,TableColumn:r,Range:r},o=this._rhs.tryGetConcreteTree(e,a);return{node:o,substituted:o.isError?o:o.substitute(t),replacedNodes:n,isValid:i}};var S=[18.9,.105,.0113,.089,4.414,34.32,8.61,.373,.06,.149,1.84,9.26,5,.7,.2,1.13,2.61,1.89,1,.007,30,120,1500,4e-4,7.23,-1,-.0081,-.03,-28.6,-1.71,-.4,-6.94,-.777],I=function(e){var t=503*e%S.length;return S[t]},N=function(e,t){for(var r,n=[],i=t.length,a=0;a<e;a++){r=[];for(var o=0;o<i;o++)0===a?r[o]=0:1===a?r[o]=1:r[o]=I(a*i+o);n.push(r)}return n},D=function(e,t,r,n,i){for(var a=[],o=0;o<r.length;o++)a.push({soln:_(e,t,r[o],n),startingVals:r[o]});a.sort(function(e,t){return isNaN(e.soln.MSE)?1:isNaN(t.soln.MSE)?-1:e.soln.MSE-t.soln.MSE});for(var s=[],u=0;u<i;u++)s.push(a[u].startingVals);return s};e.computeStatistics=function(e,t,r,n,o){if(r.getDependencies().length)throw s.optimizationError();var u=0;r.eachElement(function(e){var t=e.constantValue;u+=t*t});var c=u/r.length;if(!isFinite(c))throw s.optimizationError();if(e.getDependencies().length>0)return{RMSE:Math.sqrt(c)};var h=g.isList(e.valueType)?a.varp(e.asValue()):0;if(e.getDependencies().length||!isFinite(h)||h<=0||!this.isLhsSimple)return{RMSE:Math.sqrt(c)};var f=1-c/h;if(t.isValid&&1===t.replacedNodes.length){var p=[],m=[],d=n&&(o===C.LINLOG||o===C.LOGLOG);l.eachArgs([t.replacedNodes[0].concrete,e],function(e){p.push(d?Math.log(e[0].constantValue):+e[0].constantValue),m.push(+e[1].constantValue)});var y=a.corr(p,m);if(i.approx(y*y,f,8))return{r:y,rsquared:y*y}}return{Rsquared:f}},e.getResidualSuggestionId=function(e,t){var r,n=this._rhs.getDependencies();for(var i in t)if(t.hasOwnProperty(i)&&t[i].concreteTree.isTable&&t[i].concreteTree.columns[0]){var a=t[i].rawTree.columns;if(a&&a.length){var o=a[0].getExports();if(1===o.length&&n.indexOf(o[0])!==-1){for(var s=1;s<a.length;s++)if(a[s].getDependencies().indexOf(e)!==-1)return;r=r?r:i}}}return r?r:void 0};var C={NONE:0,LOGLIN:1,LOGLOG:2,LINLOG:3};e.linearizingTransformation=function(e,t){if(!this.isLhsSimple)return C.NONE;var r=t.substituted;if(r.isError)return C.NONE;if(r.valueType!==g.Number)return C.NONE;var n=r.getDependencies();if(1!==n.length)return C.NONE;if(isFinite(t.node.polynomialOrder(n[0])))return C.NONE;var i=r.getCompiledFunction(n).fn,a=t.replacedNodes[0].concrete;if(r.valueType!==g.Number)return C.NONE;var o=a.mapElements(function(e){return+e.constantValue});if(o.length<3)return C.NONE;o.sort(function(e,t){return e-t});var s=o.map(i),u=s.map(Math.log),c=o.map(Math.log),h=!0;return l.wrap(e).eachElement(function(e){isFinite(Math.log(+e.constantValue))||(h=!1)}),E(o,u)&&h?C.LOGLIN:E(c,u)&&h?C.LOGLOG:E(c,s)?C.LINLOG:C.NONE},e.optimize=function(e,t,r,n,i){var a=this._lhs.getConcreteTree(t),s=this._rhs.getConcreteTree(t);this.typeCheck([a,s]);var u,h=l.wrap(this._difference.getConcreteTree(t)),f=M(e,h,this.userData.regressionParameters,n),p=this.getRHSModel(t,f),m=T(this._difference,t,f),d=this.linearizingTransformation(a,p);if(!this.userData.isLogModeRegression||d!==C.LOGLIN&&d!==C.LOGLOG)u=this.computeStatistics(a,p,m,this.userData.isLogModeRegression,d);else{var g=this._logDifference.getConcreteTree(t),y=this._logLhs.getConcreteTree(t);f=M(e,g,this.userData.regressionParamters,n),p=this.getRHSModel(t,f),m=T(this._difference,t,f);var v=T(this._logDifference,t,f);u=this.computeStatistics(y,p,v,this.userData.isLogModeRegression,d)}var b=this.chooseResidualVariable(r),x=this.getResidualSuggestionId(b,i);return this.userData.residualVariable=o.identifierToLatex(b),c(f,m,u,p.substituted,{isModelValid:p.isValid,residualVariable:b,residualSuggestionId:x,shouldSuggestLogMode:d!==C.NONE})},e.tryOptimize=function(){try{return this.optimize.apply(this,arguments)}catch(e){if(e instanceof u)return e;throw e}},e.exportTo=function(e,t,r){if(!t.isError){for(var n in t.parameters)t.parameters.hasOwnProperty(n)&&(e.assignmentForbidden(n)||(r[n]=r[n]?s.multiplyDefined(n):t.parameters[n]));e.assignmentForbidden(t.residualVariable)||(r[t.residualVariable]=t.residuals)}},e.getSliderVariables=function(){return[]}})}),define("math/parsenode/image",["require","pjs","./base"],function(e){var t=e("pjs"),r=e("./base");return t(r,function(e,t,r){e.isImage=!0,e.init=function(e,r){t.init.call(this),this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this.moveStrategy=r,this.mergeDependencies(this.x,this.y,this.width,this.height)}})}),define("math/parsenode/table",["require","pjs","./base"],function(e){var t=e("pjs"),r=e("./base");return t(r,function(e,t){e.init=function(e){t.init.call(this),this.columns=e,this._exports=[],this.mergeDependencies.apply(this,e);for(var r=0;r<e.length;r++)Array.prototype.push.apply(this._exports,e[r].getExports())},e.exportPenalty=1,e.isTable=!0,e.exportTo=function(e,t,r){for(var n=0;n<this.columns.length;n++){var i=this.columns[n].getExports();if(i.length){var a=i[0];e.assignmentForbidden(a)||r[a]||(t.isError?r[a]=t:this.columns[n].exportTo(e,t.columns[n],r))}}},e.getAllIds=function(){return this.columns.map(function(e){return e.header.userData.id})}})}),define("math/parsenode/tablecolumn",["require","pjs","./base","./list","./constant","./identifier"],function(e){var t=e("pjs"),r=e("./base"),n=e("./list"),i=e("./constant"),a=e("./identifier");return t(r,function(e,t){function o(e){return e.isError?i(NaN):e}e.init=function(e,r,n){t.init.call(this),this.header=e,this.length=r,this.values=n,this.isIndependent=!1,this.registerDependencies(),this._exports=this.computeExports()},e.registerDependencies=function(){this.mergeDependencies(this.header),this.mergeDependencies.apply(this,this.values)},e.computeExports=function(){return this.header instanceof a?[this.header._symbol]:[]},e.isDiscrete=function(e){return 1!==this.header.getDependencies().length||1!==e.header.getDependencies().length||this.header.getDependencies()[0]!==e.header.getDependencies()[0]},e._exportSymbolsTo=function(e,t,i){if(e.length){var a=e[0];if(t.isError)i[a]=t;else try{i[a]=n(t.values.map(o))}catch(e){if(!(e instanceof r))throw e;i[a]=e}}},e.exportTo=function(e,t,r){var n=this.getLegalExports(e);this._exportSymbolsTo(n,t,r)},e.exportToLocal=function(e,t){this._exportSymbolsTo(this.getExports(),e,t)}})}),define("math/parsenode/solvedequation",["require","pjs","./base"],function(e){var t=e("pjs"),r=e("./base");return t(r,function(e,t){e.init=function(e,r){t.init.call(this),this._symbol=e,this._expression=r,this.mergeDependencies(r)},e.getCompiledFunction=function(){return this._expression.getCompiledFunction.apply(this._expression,arguments)},e.getCompiledDerivative=function(){return this._expression.getCompiledDerivative.apply(this._expression,arguments)},e.evaluate=function(){return this._expression.evaluate.apply(this._expression,arguments)}})}),define("parsenodes",["require","math/parsenode/expressionTypes","math/parsenode/base","math/parsenode/expression","math/parsenode/scalarexpression","math/parsenode/error","math/parsenode/constant","math/parsenode/identifier","math/parsenode/ans","math/parsenode/freevariable","math/parsenode/dummyindex","math/parsenode/list","math/parsenode/range","math/parsenode/broadcast","math/parsenode/listaccess","math/parsenode/orderedpair","math/parsenode/movablepoint","math/parsenode/orderedpairaccess","math/parsenode/basecomparator","math/parsenode/comparator","math/parsenode/doubleinequality","math/parsenode/repeatedoperator","math/parsenode/sum","math/parsenode/product","math/parsenode/integral","math/parsenode/functioncall","math/parsenode/functionexponent","math/parsenode/prime","math/parsenode/piecewise","math/parsenode/derivative","math/parsenode/builtinfunction","math/parsenode/nativefunction","math/parsenode/typedfunction","math/parsenode/reducerfunction","math/parsenode/parametrizedreducerfunction","math/parsenode/doublereducerfunction","math/parsenode/assignment","math/parsenode/functiondefinition","math/parsenode/equation","math/parsenode/regression","math/parsenode/image","math/parsenode/table","math/parsenode/tablecolumn","math/parsenode/solvedequation","math/parsenode/optimizedregression"],function(e){var t=e("math/parsenode/expressionTypes"),r={Base:e("math/parsenode/base"),Expression:e("math/parsenode/expression"),ScalarExpression:e("math/parsenode/scalarexpression"),Error:e("math/parsenode/error"),Constant:e("math/parsenode/constant"),Identifier:e("math/parsenode/identifier"),Ans:e("math/parsenode/ans"),FreeVariable:e("math/parsenode/freevariable"),DummyIndex:e("math/parsenode/dummyindex"),List:e("math/parsenode/list"),Range:e("math/parsenode/range"),Broadcast:e("math/parsenode/broadcast"),ListAccess:e("math/parsenode/listaccess"),OrderedPair:e("math/parsenode/orderedpair"),MovablePoint:e("math/parsenode/movablepoint"),OrderedPairAccess:e("math/parsenode/orderedpairaccess"),BaseComparator:e("math/parsenode/basecomparator"),Comparator:e("math/parsenode/comparator"),DoubleInequality:e("math/parsenode/doubleinequality"),RepeatedOperator:e("math/parsenode/repeatedoperator"),Sum:e("math/parsenode/sum"),Product:e("math/parsenode/product"),Integral:e("math/parsenode/integral"),FunctionCall:e("math/parsenode/functioncall"),FunctionExponent:e("math/parsenode/functionexponent"),Prime:e("math/parsenode/prime"),Piecewise:e("math/parsenode/piecewise"),Derivative:e("math/parsenode/derivative"),BuiltInFunction:e("math/parsenode/builtinfunction"),NativeFunction:e("math/parsenode/nativefunction"),TypedFunction:e("math/parsenode/typedfunction"),ReducerFunction:e("math/parsenode/reducerfunction"),ParametrizedReducerFunction:e("math/parsenode/parametrizedreducerfunction"),DoubleReducerFunction:e("math/parsenode/doublereducerfunction"),Assignment:e("math/parsenode/assignment"),FunctionDefinition:e("math/parsenode/functiondefinition"),Equation:e("math/parsenode/equation"),Regression:e("math/parsenode/regression"),Image:e("math/parsenode/image"),Table:e("math/parsenode/table"),TableColumn:e("math/parsenode/tablecolumn"),SolvedEquation:e("math/parsenode/solvedequation"),OptimizedRegression:e("math/parsenode/optimizedregression")};for(var n in t)r[n]=t[n];for(var i in r)r.hasOwnProperty(i)&&"Comparator"!==i&&"BuiltInFunction"!==i&&(r[i].prototype.type=i);for(var a in r.Comparator)r.Comparator.hasOwnProperty(a)&&(r.Comparator[a].prototype.type="Comparator[\'"+a+"\']");for(var o in r.BuiltInFunction)r.BuiltInFunction.hasOwnProperty(o)&&(r.BuiltInFunction[o].prototype.type="BuiltInFunction[\'"+o+"\']");return r}),define("math/inverses",[],function(){var e={},t=["sin","cos","tan","cot","sec","csc","sinh","cosh","tanh","coth","sech","csch"];return t.forEach(function(t){e[t]="arc"+t,e["arc"+t]=t}),e}),define("math/baseparser",["require","jison","parsenodes","math/inverses","math/errormsg"],function(e){function t(){throw u.featureUnavailable()}function r(e){e=e||[];for(var r in o)a[r]=e.indexOf(r)<0?o[r]:t}function n(e){var t="\\\\operatorname";return e.slice(0,t.length)===t?"\\\\"+e.slice(t.length+1,e.length-1):e}var i=e("jison"),a=i.yy,o=e("parsenodes"),s=e("math/inverses"),u=e("math/errormsg"),c=function(e,t){t=t||{};var n,s,c=void 0!==t.index;try{return c&&(n=a.currentIndex,a.currentIndex=t.index),r(t.disabledFeatures),s=i.parse("###"+e),c&&(a.currentIndex=n),s}catch(e){return e instanceof o.Error?e:u.parseError()}};return a.ErrorMsg=u,a.setInput=function(e,t){e.setInputString(a.lexer.matched.slice(Math.max(3,t.first_column),t.last_column))},r(),a.inverses=s,a.parseFunctionDeclaration=function(e){e=e.replace("###","");var t="(?:\\\\s|\\\\\\\\space|\\\\\\\\ |\\\\\\\\\\\\:)*",r="(?:\\\\\\\\operatorname\\\\{[a-zA-Z]+\\\\}|[a-zA-Z]|\\\\\\\\[a-zA-Z]+)",i="(?:_[a-zA-Z0-9]|_{[a-zA-Z0-9]+})?",a=r+i,s="(?:"+a+"(?:\\\\,"+a+")*)",u="("+a+")(?:\\\\\\\\left)?\\\\(("+s+")(?:\\\\\\\\right)?\\\\)=",c=new RegExp(u),l=new RegExp(t,"g");e=e.replace(l,"");var h=c.exec(e);return{identifier:o.Identifier(n(h[1])),args:h[2].split(",").map(function(e){return o.Identifier(e)})}},{parse:c}}),define("math/rational-arithmetic-sequence",["require","math/distance","math/builtin"],function(e){function t(e,t){var i=n.toFraction(e),a=n.toFraction(t);if(r.approx(i.n/i.d,e)&&r.approx(a.n/a.d,t)){var o=n.lcm(i.d,a.d),s=i.n*(o/i.d),u=a.n*(o/a.d),c=u-s;return{nstart:s,nstep:c,lcm:o}}}var r=e("math/distance"),n=e("math/builtin");return t}),define("math/features/getConcreteTree",["require","parsenodes","math/errormsg","math/types","graphing/label","math/distance","math/rational-arithmetic-sequence"],function(e){function t(e,t,r,n,i){if(r<e.length&&!u.approx(i,e.elementAt(r).constantValue,10))throw a.nonArithmeticRange();if(n-r<=t.length&&n-r>1&&!u.approx(i,t.elementAt(t.length-n+r).constantValue,10))throw a.nonArithmeticRange()}function r(e,t){for(var r=!1,n=!1,i=0;i<e.length;i++){var a=e[i];(a.isList||a.isBroadcast)&&(n=!0);for(var o=a.getDependencies(),s=0;s<o.length;s++)if(t.indexOf(o[s])!==-1){if(a.isList||a.isBroadcast)return"list"}else r=!0}return n?r?"broadcast":"list":"none"}function n(e){var t,r=[],n=[],a=[];for(t=0;t<e.length;t++){var s,u=e[t];if(u.isList){for(var c=!1,l=0;l<a.length;l++)if(u===a[l]){c=!0,s=i.DummyIndex(n[l]),s.valueType=o.elementType(u.valueType),r.push(s);break}if(!c){var h=i.Base.prototype.tmpVar();n.push(h),a.push(u),s=i.DummyIndex(h),s.valueType=o.elementType(u.valueType),r.push(s)}}else u.isBroadcast?(Array.prototype.push.apply(n,u._replacedSymbols),Array.prototype.push.apply(a,u._lists),r.push(u._expression)):r.push(u)}return{replacedArgs:a,concreteArgs:r,replacedSymbols:n}}var i=e("parsenodes"),a=e("math/errormsg"),o=e("math/types"),s=e("graphing/label"),u=e("math/distance"),c=e("math/rational-arithmetic-sequence"),l=i.List,h=i.ScalarExpression,f=i.Constant,p=i.Multiply,m=i.Identifier,d=i.DummyIndex,g=i.BuiltInFunction;i.Base.prototype.getConcreteTree=function(e,t){if(t)return this._getConcreteTree(e,t);if(this.isConcreteTreeCacheValid(e))return this.__cachedConcreteTree.value;for(var r=this._getConcreteTree(e,t),n={},i=this.getCacheKeys().slice();;){if(!i.length)break;var a=i.pop();if(!n.hasOwnProperty(a)){var o=e[a];n[a]=o,o&&Array.prototype.push.apply(i,o.getCacheKeys())}}return this.__cachedConcreteTree={keys:n,value:r},r},i.Base.prototype.getCacheKeys=function(){return this.getDependencies()},i.Base.prototype.isConcreteTreeCacheValid=function(e){if(!this.__cachedConcreteTree)return!1;for(var t in this.__cachedConcreteTree.keys)if(this.__cachedConcreteTree.keys.hasOwnProperty(t)&&e[t]!==this.__cachedConcreteTree.keys[t])return!1;return!0},i.Assignment.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):this._expression.getConcreteTree(e,t)},i.Identifier.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=e[this._symbol];if(r){if(r.isError)throw r;return r.isFunction?r.getConcreteInvocationTree(e,[],t):r.getConcreteTree(e,t)}if(g.hasOwnProperty(this._symbol))throw a.functionUnsupported(s.latexToIdentifier(this.getInputString()));return i.FreeVariable(this._symbol)},i.Ans.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(void 0===e[this._symbol])throw a.ansUndefined();return m.prototype._getConcreteTree.call(this,e,t)},i.Equation.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):this.asComparator().getConcreteTree(e,t)},i.Constant.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):new this.constructor(this.constantValue)},i.Derivative.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r;if(e[this._symbol]){var n=Object.create(e);n[this._symbol]=i.FreeVariable(this._symbol);var s=e[this._symbol].getConcreteTree(e,t);if(s.valueType!==o.Number&&s.valueType!==o.ListOfNumber)throw a.derivativeVariableTypeError(this._symbol,[o.prettyPrint(s.valueType)]);var u={};return u[this._symbol]=s,r=this.args[0].getConcreteTree(n,t),this.typeCheck([r]),r.takeDerivative(this._symbol).substitute(u).getConcreteTree(e,t)}return r=this.args[0].getConcreteTree(e,t),this.typeCheck([r]),r.takeDerivative(this._symbol).getConcreteTree(e,t)},i.DoubleInequality.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):new this.constructor([i.Piecewise([this._indicator,this._expressions[0],f(NaN)]).getConcreteTree(e,t),this._operators[0],m(this._symbol),this._operators[1],i.Piecewise([this._indicator,this._expressions[1],f(NaN)]).getConcreteTree(e,t)])},i.Expression.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);for(var r=[],n=0;n<this.args.length;n++)r.push(this.args[n].getConcreteTree(e,t));return this.typeCheck(r),this._constantCollapsedCopy(r)},i.Error.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):this},i.FreeVariable.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):this},i.FunctionCall.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=e[this._symbol];if(r&&r.isError)throw r;if(!r||!r.isFunction){if(g.hasOwnProperty(this._symbol))throw a.functionUnsupported(s.latexToIdentifier(this._identifier.getInputString()));if(1==this.args.length){var n=[m(this._symbol),this.args[0]];return p(n).getConcreteTree(e,t)}if(r)throw a.variableAsFunction(this._symbol);throw a.functionNotDefined(this._symbol)}for(var i=[],o=0;o<this.args.length;o++){var u=this.args[o].getConcreteTree(e,t);i.push(u)}return r.getConcreteInvocationTree(e,i,t)},i.FunctionExponent.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=this.args[0]._symbol;return e[r]&&e[r].isFunction?i.Exponent([i.FunctionCall(r,[this.args[1]]),this.args[2]]).getConcreteTree(e,t):p([this.args[0],i.Exponent([this.args[1],this.args[2]])]).getConcreteTree(e,t)},i.FunctionDefinition.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);for(var r=0;r<this._argSymbols.length;r++){if(e[this._argSymbols[r]])throw a.parameterAlreadyDefined(this._argSymbols[r]);if(this._argSymbols[r]===this._symbol)throw a.parameterAlreadyDefined(this._argSymbols[r])}return this._expression.getConcreteTree(e,t)},i.Image.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):i.Image({x:this.x.tryGetConcreteTree(e,t),y:this.y.tryGetConcreteTree(e,t),width:this.width.tryGetConcreteTree(e,t),height:this.height.tryGetConcreteTree(e,t)},this.moveStrategy)},i.Integral.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(e[this._differential._symbol])throw a.shadowedIntegrationVariable(this._differential._symbol);var r=this.args[0],n=this.args[1],i=this.args[2];if(n.dependsOn(r._symbol)||i.dependsOn(r._symbol))throw a.badIntegralBoundDependency(r._symbol);var o=Object.create(e);o[this._differential._symbol]=d(this._differential._symbol);var s=h.prototype._getConcreteTree.call(this,o,t);return s},i.ListAccess.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=this.index.getConcreteTree(e,t),n=this.list.getConcreteTree(e,t),i=[n,r];return this.typeCheck(i),this._constantCollapsedCopy(i)},i.List.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);for(var r=[],n=0;n<this.args.length;n++){var i=this.args[n].getConcreteTree(e,t);r.push(i)}return this.typeCheck(r),new this.constructor(r)},i.ParametrizedReducerFunction.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);for(var a=[],o=0;o<this.args.length;o++)a.push(this.args[o].getConcreteTree(e,t));switch(r([a[1]],this.getDummyDependencies())){case"none":return this.typeCheck(a),this._constantCollapsedCopy(a);case"list":return i.List(i.List.mapArgs([a[1]],function(e){return e=[a[0]].concat(e),this.typeCheck(e),this._constantCollapsedCopy(e)}.bind(this)));case"broadcast":var s=n([a[1]]),u=[a[0]].concat(s.concreteArgs);return this.typeCheck(u),i.Broadcast(s.replacedSymbols,[this.copyWithArgs(u)].concat(s.replacedArgs))}},i.Prime.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);var r=this.args[0],n=r.args[0];if(!e[r._symbol])throw a.functionNotDefined(r._symbol);var i,o=this.tmpVar();if("logbase"===r._symbol){if(2!==r.args.length)throw a.primedFunctionArity();i=[m(o),r.args[1]]}else{if(1!==r.args.length)throw a.primedFunctionArity();i=[m(o)]}for(var s=r.copyWithArgs(i).getConcreteTree(e,t),u=0;u<this.order;u++)s=s.takeDerivative(o);var c={};return c[o]=n,s.substitute(c).getConcreteTree(e,t)},i.Range.prototype._getConcreteTree=function(e,r){if(r&&r[this.type])return r[this.type].call(this,e,r);var n=this.beginning.getConcreteTree(e,r),i=this.end.getConcreteTree(e,r);if(n.getDependencies().length)throw a.variableRange(n.getDependencies());if(i.getDependencies().length)throw a.variableRange(i.getDependencies());if(!n.isList||!i.isList)throw new Error("Programming Error: range bounds must be List nodes.");var o,s,u=n.elementAt(0).constantValue,h=i.elementAt(i.length-1).constantValue,p=h-u;if(1===n.length)o=p>=0?1:-1;else{var m=n.elementAt(1).constantValue;s=c(u,m),o=n.elementAt(1).constantValue-u}var d=Math.round(p/o)+1;if(!isFinite(d)||d<n.length||d<i.length)throw a.nonArithmeticRange();var g,y,v=[];if(s){var b=s.nstart;for(g=0;g<d;g++)y=b/s.lcm,t(n,i,g,d,y),v.push(f(y)),b+=s.nstep}else for(v.push(f(u)),g=1;g<d;g++)y=u+g*o,t(n,i,g,d,y),v.push(f(y));return l(v)},i.ReducerFunction.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(0===this.args.length)throw a.zeroArgReducer(this._symbol);for(var o=[],s=0;s<this.args.length;s++)o.push(this.args[s].getConcreteTree(e,t));if(1===this.args.length)return o=[i.List.wrap(o[0])],this.typeCheck(o),this._constantCollapsedCopy(o);switch(r(o,this.getDummyDependencies())){case"none":return o=[i.List(o)],this.typeCheck(o),this._constantCollapsedCopy(o);case"list":return i.List(i.List.mapArgs(o,function(e){return e=[i.List(e)],this.typeCheck(e),this._constantCollapsedCopy(e)}.bind(this)));case"broadcast":var u=n(o);return o=[i.List(u.concreteArgs)],this.typeCheck(o),i.Broadcast(u.replacedSymbols,[this.copyWithArgs(o)].concat(u.replacedArgs))}},i.RepeatedOperator.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);if(e[this._index._symbol])throw a.shadowedIndex(this._index._symbol);var r=Object.create(e);r[this._index._symbol]=d(this._index._symbol);var n=h.prototype._getConcreteTree.call(this,r,t);return n},i.ScalarExpression.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);for(var a=[],o=0;o<this.args.length;o++)a.push(this.args[o].getConcreteTree(e,t));switch(r(a,this.getDummyDependencies())){case"none":return this.typeCheck(a),this._constantCollapsedCopy(a);case"list":return i.List(i.List.mapArgs(a,function(e){return this.typeCheck(e),this._constantCollapsedCopy(e)}.bind(this)));case"broadcast":var s=n(a);return this.typeCheck(s.concreteArgs),i.Broadcast(s.replacedSymbols,[this.copyWithArgs(s.concreteArgs)].concat(s.replacedArgs))}},i.Regression.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):new this.constructor(this._lhs,this._rhs)},i.SolvedEquation.prototype._getConcreteTree=function(e,t){return t&&t[this.type]?t[this.type].call(this,e,t):new this.constructor(this._symbol,this._expression.getConcreteTree(e,t))},i.Table.prototype._getConcreteTree=function(e,t){if(t&&t[this.type])return t[this.type].call(this,e,t);for(var r=[],n=Object.create(e),i=0;i<this.columns.length;i++){var a=this.columns[i].getConcreteTree(n,e,t);a.isIndependent&&this.columns[i].exportToLocal(a,n),r.push(a)}return new this.constructor(r)},i.TableColumn.prototype._getConcreteTree=function(e,t){var r,n,i=this.header.getConcreteTree(e);if(i.isFreeVariable){r=[];for(var s=0;s<this.values.length;s++)if(this.values[s].tableError())r.push(a.invalidTableEntry(this.values[s].tableError()));else{var u=this.values[s].tryGetConcreteTree(e);u.isError?r.push(u):u.tableError()?r.push(a.invalidTableEntry(u.tableError())):u.valueType===o.Number?r.push(u):r.push(a.tableEntryTypeError([o.prettyPrint(u.valueType)]))}return n=new this.constructor(i,this.length,r),n.isIndependent=!0,n}if(i.isConstant){for(var c=[],l=0;l<this.length;l++)c.push(i);r=c}else r=i.isList?i.args:[];return i=this.header.getConcreteTree(t),i.isError||i.valueType===o.Number||i.valueType===o.ListOfNumber||(i=a.tableHeaderTypeError([o.prettyPrint(i.valueType)])),n=new this.constructor(i,this.length,r)}}),define("math/features/getValueType",["require","parsenodes","math/types"],function(e){function t(){return o.Number}function r(){return o.Bool}function n(){return o.Point}function i(){return o.Any}var a=e("parsenodes"),o=e("math/types"),s={Add:t,Multiply:t,Divide:t,Subtract:t,Exponent:t,Negative:t,And:r,Piecewise:function(e){return e[1].valueType},BaseComparator:r,RepeatedOperator:t,List:function(e){if(0===e.length)return o.ListOfAny;for(var t=e[0].valueType,r=1;r<e.length;r++)if(e[r].valueType!==t)return o.ListOfAny;return o.listType(t)},ListAccess:function(e){return o.elementType(e[0].valueType)},Broadcast:function(e){return o.listType(e[0].valueType)},OrderedPairAccess:t,OrderedPair:n,NativeFunction:t,ReducerFunction:t,DoubleReducerFunction:t,ParametrizedReducerFunction:t,DummyIndex:t,FreeVariable:t,Constant:function(){switch(typeof this.constantValue){case"number":return o.Number;case"boolean":return o.Bool;default:throw new Error("Constant node expects value of type number or boolean, but saw "+typeof value)}},TypedFunction:function(){return this._outputType},Derivative:t,Integral:t,Identifier:i};for(var u in s)a[u].prototype._getValueType=s[u]}),define("math/features/typeCheck",["require","parsenodes","math/types","math/errormsg"],function(e){function t(e){for(var t=[],r=0;r<e.length;r++)t.push(i.prettyPrint(e[r].valueType));return t}function r(e,r){return function(n){for(var i=0;i<n.length;i++)if(n[i].valueType!==e[i])throw r(t(n))}}var n=e("parsenodes"),i=e("math/types"),a=e("math/errormsg"),o={Add:r([i.Number,i.Number],a.addTypeError),Multiply:r([i.Number,i.Number],a.multiplyTypeError),Divide:r([i.Number,i.Number],a.divideTypeError),Subtract:r([i.Number,i.Number],a.subtractTypeError),Exponent:r([i.Number,i.Number],a.exponentTypeError),Negative:r([i.Number],a.negativeTypeError),BaseComparator:r([i.Number,i.Number],a.comparatorTypeError),And:r([i.Bool,i.Bool],a.andTypeError),List:function(e){if(0!==e.length){var t=e[0].valueType;if(!i.hasListType(t))throw a.listTypeError([i.prettyPrint(t)]);for(var r=0;r<e.length;r++){var n=e[r].valueType;if(!i.hasListType(n))throw a.listTypeError([i.prettyPrint(n)]);if(n!==t)throw a.heterogeneousList()}}},Broadcast:function(e){},OrderedPair:r([i.Number,i.Number],a.pointTypeError),Piecewise:function(e){if(e[0].valueType!==i.Bool)throw a.piecewiseConditionTypeError(t(e));if(e[1].valueType!==i.Number)throw a.piecewiseBranchTypeError([i.prettyPrint(e[1].valueType)]);if(e[2].valueType!==i.Number)throw a.piecewiseBranchTypeError([i.prettyPrint(e[2].valueType)])},ListAccess:function(e){if(!i.isList(e[0].valueType)||e[1].valueType!==i.Number)throw a.indexTypeError(t(e))},OrderedPairAccess:r([i.Point,i.Number],a.indexTypeError),Sum:function(e){if(e[1].valueType!==i.Number)throw a.sumLowerBoundTypeError([i.prettyPrint(e[1].valueType)]);if(e[2].valueType!==i.Number)throw a.sumUpperBoundTypeError([i.prettyPrint(e[2].valueType)]);if(e[3].valueType!==i.Number)throw a.sumArgumentTypeError([i.prettyPrint(e[3].valueType)])},Product:function(e){if(e[1].valueType!==i.Number)throw a.productLowerBoundTypeError([i.prettyPrint(e[1].valueType)]);if(e[2].valueType!==i.Number)throw a.productUpperBoundTypeError([i.prettyPrint(e[2].valueType)]);if(e[3].valueType!==i.Number)throw a.productArgumentTypeError([i.prettyPrint(e[3].valueType)])},Integral:function(e){if(e[1].valueType!==i.Number)throw a.integralLowerBoundTypeError([i.prettyPrint(e[1].valueType)]);if(e[2].valueType!==i.Number)throw a.integralUpperBoundTypeError([i.prettyPrint(e[2].valueType)]);if(e[3].valueType!==i.Number)throw a.integralArgumentTypeError([i.prettyPrint(e[3].valueType)])},NativeFunction:function(e){for(var r=0;r<e.length;r++)if(e[r].valueType!==i.Number)throw a.functionTypeError(this._symbol,t(e))},ReducerFunction:function(e){if(e[0].valueType!==i.ListOfNumber)throw a.functionTypeError(this._symbol,t(e))},DoubleReducerFunction:function(e){if(!i.isList(e[0].valueType)||!i.isList(e[1].valueType))throw a.nonListDoubleReducer(this._symbol);if(e[0].valueType!==i.ListOfNumber||e[1].valueType!==i.ListOfNumber)throw a.functionTypeError(this._symbol,t(e))},ParametrizedReducerFunction:function(e){if(e[0].valueType!==i.ListOfNumber)throw a.nonListParametrizedReducer(this._symbol);if(e[1].valueType!==i.Number)throw a.functionTypeError(this._symbol,t(e))},TypedFunction:function(e){for(var r=0;r<e.length;r++)if(e[r].valueType!==this._inputTypes[r])throw a.functionTypeError(this._symbol,t(e))},Derivative:function(e){if(e[0].valueType!==i.Number&&e[0].valueType!==i.ListOfNumber)throw a.derivativeTypeError(t(e))},Regression:function(e){if(e[0].valueType!==i.Number&&e[0].valueType!==i.ListOfNumber||e[1].valueType!==i.Number&&e[1].valueType!==i.ListOfNumber)throw a.regressionTypeError(t(e))}};for(var s in o)n[s].prototype.typeCheck=o[s]}),define("math/features/repr",["require","parsenodes"],function(e){var t=e("parsenodes"),r=function(e,t,r){r=r||0;var n=Array(r+1).join("  "),i=n+"  ";return"[\\n"+i+e.map(function(e){return e.repr(t,r+1)}).join(",\\n"+i)+"\\n"+n+"]"},n=function(e,t){return t=t||"",""+t+e};t.Expression.prototype.repr=function(e,t){return n(this.type,e)+"("+r(this.args,e,t)+")"},t.DoubleInequality.prototype.repr=function(e,t){t=t||0;var r=Array(t+1).join("  "),i=r+"  ";return n(this.type,e)+"([\\n"+i+this.args[0].repr(e,t+1)+",\\n"+i+"\'"+this.args[1]+"\',\\n"+i+this.args[2].repr(e,t+1)+",\\n"+i+"\'"+this.args[3]+"\',\\n"+i+this.args[4].repr(e,t+1)+"\\n"+r+"])"},t.Identifier.prototype.repr=t.FreeVariable.prototype.repr=function(e){return n(this.type,e)+"(\'"+this._symbol+"\')"},t.Constant.prototype.repr=function(e){return n(this.type,e)+"("+this.constantValue+")"},t.FunctionCall.prototype.repr=function(e,t){return n(this.type,e)+"(\'"+this._symbol+"\', "+r(this.args,e,t)+")"},t.Assignment.prototype.repr=function(e,r){return n(this.type,e)+"("+t.Identifier(this._symbol).repr(e,r)+", "+this._expression.repr(e,r)+")"},t.Regression.prototype.repr=t.Equation.prototype.repr=function(e,t){return n(this.type,e)+"("+this._lhs.repr(e,t)+", "+this._rhs.repr(e,t)+")"},t.FunctionDefinition.prototype.repr=function(e,i){return n(this.type,e)+"("+t.Identifier(this._symbol).repr(e,i)+", "+r(this._argSymbols.map(function(e){return t.Identifier(e)}),e,i)+", "+this._expression.repr(e,i)+")"},t.Error.prototype.repr=function(e,t){return n(this.type,e)+"(\'"+this._msg+"\')"},t.Derivative.prototype.repr=function(e,t){return n(this.type,e)+"(\'"+this._symbol+"\', "+r(this.args,e,t)+")"},t.SolvedEquation.prototype.repr=function(e,t){return n(this.type,e)+"(\'"+this._symbol+"\', "+this._expression.repr(e,t)+")"},t.OptimizedRegression.prototype.repr=function(e,t){return n(this.type,e)+"("+JSON.stringify(this.parameters)+", "+JSON.stringify(this.residuals)+", "+JSON.stringify(this.statistics)+", "+this.model.repr(e,t+1)+", "+JSON.stringify({isModelValid:this.isModelValid,residualVariable:this.residualVariable,residualSuggestionId:this.residualSuggestionId,\nshouldSuggestLogMode:this.shouldSuggestLogMode})+")"},t.Table.prototype.repr=function(e,t){return n(this.type,e)+"("+r(this.columns,e,t)+")"},t.TableColumn.prototype.repr=function(e,t){return n(this.type,e)+"("+this.header.repr(e,t)+", "+this.length+", "+r(this.values,e,t)+")"},t.Image.prototype.repr=function(e,t){var r=Array(t+1).join("  "),i=r+"  ";return n(this.type,e)+"({\\n"+i+"x: "+this.x.repr(e,t+1)+",\\n"+i+"y: "+this.y.repr(e,t+1)+",\\n"+i+"width: "+this.width.repr(e,t+1)+",\\n"+i+"height: "+this.height.repr(e,t+1)+"},\\n"+i+JSON.stringify(this.moveStrategy)+"\\n"+r+")"},t.Broadcast.prototype.repr=function(e,t){return n(this.type,e)+"([\'"+this._replacedSymbols.join("\', ")+"\'], "+r(this.args,e,t)+")"}}),define("math/features/scalarEvalExpression",["require","parsenodes","math/functions"],function(e){var t=e("parsenodes"),r=e("math/functions"),n={Add:function(e){return"("+e.join("+")+")"},Multiply:function(e){return"("+e.join("*")+")"},Divide:function(e){return"("+e.join("/")+")"},Subtract:function(e){return"("+e.join("-")+")"},Exponent:function(e){return"BuiltIn.pow("+e.join(",")+")"},RawExponent:function(e){return"Math.pow("+e.join(",")+")"},Negative:function(e){return"(-"+e[0]+")"},And:function(e){return e.join("&&")},Piecewise:function(e){return"("+e[0]+"?"+e[1]+":"+e[2]+")"}},i={Add:2,Multiply:2,Divide:2,Subtract:2,Exponent:2,RawExponent:2,Negative:1,And:2,Piecewise:3};for(var a in n){var o=t[a].prototype;o.scalarEvalExpression=n[a],o.evaluate=r.createEvaluateFunction(o.scalarEvalExpression,i[a])}}),define("math/features/okForImplicitFunction",["require","parsenodes"],function(e){var t=e("parsenodes");t.Add.prototype.okForImplicitFunction=t.Subtract.prototype.okForImplicitFunction=t.Add.prototype.okForImplicitFunction=t.Multiply.prototype.okForImplicitFunction=t.Divide.prototype.okForImplicitFunction=t.Exponent.prototype.okForImplicitFunction=function(){for(var e=0;e<this.args.length;e++)if(!this.args[e].okForImplicitFunction())return!1;return!0},t.Piecewise.prototype.okForImplicitFunction=function(){return this.args[1].isConstant&&1===this.args[1].constantValue&&this.args[2].isConstant&&this.args[2].isNaN()}}),define("math/reconstitute-node",["require","parsenodes","math/types"],function(e){function t(e,i){if(n.isList(e)){for(var a=[],o=0;o<i.length;o++)a.push(t(n.elementType(e),i[o]));var s=r.List(a);return s.valueType=e,s}switch(e){case n.Number:case n.Bool:return r.Constant(i);case n.Point:return r.OrderedPair([r.Constant(i[0]),r.Constant(i[1])]);default:throw new Error("Cannot reconstitute value of a "+n.prettyPrint(e)+".")}}var r=e("parsenodes"),n=e("math/types");return t}),define("math/features/constantcollapsedcopy",["require","parsenodes","math/builtin","math/distance","math/reconstitute-node"],function(e){var t=e("parsenodes"),r=t.Constant,n=t.Multiply,i=t.Subtract,a=t.RawExponent,o=t.BuiltInFunction,s=e("math/builtin"),u=e("math/distance"),c=e("math/reconstitute-node"),l={Expression:function(e){return this.copyWithArgs(e)},FreeVariable:function(e){return this},ScalarExpression:function(e){for(var t=[],n=0;n<e.length;n++){if(!e[n].isConstant)return this.copyWithArgs(e);t.push(e[n].constantValue)}return r(this.evaluate(t))},OrderedPair:function(e){return this.copyWithArgs(e)},Add:function(e){return e[0].isConstant&&e[1].isConstant?r(this.evaluate([e[0].constantValue,e[1].constantValue])):0===e[0].constantValue?e[1]:0===e[1].constantValue?e[0]:this.copyWithArgs(e)},Multiply:function(e){return e[0].isConstant&&e[1].isConstant?r(this.evaluate([e[0].constantValue,e[1].constantValue])):1===e[0].constantValue?e[1]:1===e[1].constantValue?e[0]:this.copyWithArgs(e)},Subtract:function(e){return e[0].isConstant&&e[1].isConstant?r(this.evaluate([e[0].constantValue,e[1].constantValue])):0===e[0].constantValue?t.Negative([e[1]]):0===e[1].constantValue?e[0]:this.copyWithArgs(e)},Divide:function(e){return e[0].isConstant&&e[1].isConstant?r(this.evaluate([e[0].constantValue,e[1].constantValue])):1===e[1].constantValue?e[0]:this.copyWithArgs(e)},Exponent:function(e){if(e[0].isConstant&&e[1].isConstant)return r(this.evaluate([e[0].constantValue,e[1].constantValue]));if(e[0].isConstant){if(e[0].constantValue===Math.E)return o.exp([e[1]]);if(e[0].constantValue>0)return a(e)}if(e[1].isConstant){var t=e[1].constantValue;if(1===t)return e[0];if(t===Math.floor(t))return a(e);var i=s.toFraction(t,100);return u.approx(i.n/i.d,t,2)&&i.d%2===1?n([i.n%2===0?r(1):o.sign([e[0]]),a([o.abs([e[0]]),e[1]])]):a(e)}return this.copyWithArgs(e)},RawExponent:function(e){return e[0].isConstant&&e[1].isConstant?r(this.evaluate([e[0].constantValue,e[1].constantValue])):this.copyWithArgs(e)},Negative:function(e){return e[0].isConstant?r(-e[0].constantValue):e[0]instanceof t.Negative?e[0].args[0]:this.copyWithArgs(e)},And:function(e){return e[0].isConstant&&e[1].isConstant?r(e[0].constantValue&&e[1].constantValue):e[0].isConstant&&e[0]===!0?e[1]:e[0].isConstant&&e[0]===!1?r(!1):e[1].isConstant&&e[1]===!0?e[0]:e[1].isConstant&&e[1]===!1?r(!1):this.copyWithArgs(e)},Piecewise:function(e){return e[0].isConstant&&e[0].constantValue===!0?e[1]:e[0].isConstant&&e[0].constantValue===!1?e[2]:this.copyWithArgs(e)},Integral:function(e){var t=e[0],a=e[1],o=e[2],s=e[3],u=s.getDependencies();if(a.isConstant&&o.isConstant){var c=o.constantValue-a.constantValue;if(s.isConstant)return r(s.constantValue*c);if(!s.dependsOn(t._symbol))return n([s,r(c)]);if(1===u.length&&u[0]===t._symbol)return r(this.evaluate(a.constantValue,o.constantValue,s))}else if(!s.dependsOn(t._symbol))return n([s,i([o,a])]);return this.copyWithArgs(e)},ListAccess:function(e){return e[1].isConstant?e[0].elementAt(e[1].constantValue-1):this.copyWithArgs(e)},OrderedPairAccess:function(e){return e[1].isConstant&&e[0]instanceof t.OrderedPair?e[0].elementAt(e[1].constantValue-1):this.copyWithArgs(e)},Broadcast:function(e){var t=e[0].getDependencies();for(r=0;r<t.length;r++)if(this._replacedSymbols.indexOf(t[r])===-1)return this.copyWithArgs(e);for(var r=1;r<e.length;r++)if(0!==e[r].getDependencies().length)return this.copyWithArgs(e);return c(this.valueType,this.evaluate(e.slice(1).map(function(e){return e.asValue()})))},ReducerFunction:function(e){return 0===e[0].getDependencies().length?c(this.valueType,this.evaluate([e[0].asValue()])):this.copyWithArgs(e)},DoubleReducerFunction:function(e){if(0===e[0].getDependencies().length&&0===e[1].getDependencies().length){var t=Math.min(e[0].length,e[1].length);return c(this.valueType,this.evaluate([e[0].asValue().slice(0,t),e[1].asValue().slice(0,t)]))}return this.copyWithArgs(e)},ParametrizedReducerFunction:function(e){var t=e[0],r=e[1];return r.isConstant&&0===t.getDependencies().length?c(this.valueType,this.evaluate([t.asValue(),r.asValue()])):this.copyWithArgs(e)},RepeatedOperator:function(e){if(e[1].isConstant&&e[2].isConstant){var t=e[1].constantValue,n=e[2].constantValue,i=e[3];if(i.isConstant)return r(this.evaluateConstant([t,n,i.constantValue]));var a=i.getDependencies();if(0===a.length||1===a.length&&a[0]===e[0]._symbol)return r(this.evaluate(t,n,i))}return this.copyWithArgs(e)}};for(var h in l)t[h].prototype._constantCollapsedCopy=l[h];o.distance.prototype._constantCollapsedCopy=function(e){return 0===e[0].getDependencies().length&&0===e[1].getDependencies().length?r(this.evaluate([e[0].asArray(),e[1].asArray()])):this.copyWithArgs(e)},o.midpoint.prototype._constantCollapsedCopy=function(e){if(0===e[0].getDependencies().length&&0===e[1].getDependencies().length){var n=this.evaluate([e[0].asArray(),e[1].asArray()]);return t.OrderedPair([r(n[0]),r(n[1])])}return this.copyWithArgs(e)}}),define("math/features/polynomialorder",["require","parsenodes"],function(e){var t=e("parsenodes"),r={Expression:"this.dependsOn(symbol) ? Infinity : 0",FreeVariable:"(symbol === this._symbol ? 1 : 0)",Constant:"0",Add:"Math.max(order0, order1)",Subtract:"Math.max(order0, order1)",Multiply:"order0 + order1",Negative:"order0",Divide:"order1 > 0 ? Infinity : order0"},n=function(e){return e=e.replace("order0","this.args[0].polynomialOrder(symbol)"),e=e.replace("order1","this.args[1].polynomialOrder(symbol)"),new Function(["symbol"],"return "+e)};for(var i in r){var a=r[i];t[i].prototype.polynomialOrder=n(a)}t.Exponent.prototype.polynomialOrder=function(e){var t=this.args[0].polynomialOrder(e),r=this.args[1].polynomialOrder(e);if(0===t&&0===r)return 0;var n=this.args[1];return n.isConstant&&n.constantValue===Math.round(n.constantValue)&&n.constantValue>0?t*n.constantValue:1/0},t.Piecewise.prototype.polynomialOrder=function(e){return this.dependsOn(e)?this.args[2].isConstant&&this.args[2].isNaN()?this.args[1].polynomialOrder(e):1/0:0},t.List.prototype.polynomialOrder=function(e){return 1/0}}),define("math/features/polynomialcoefficients",["require","parsenodes"],function(e){var t=e("parsenodes"),r=t.Constant(0),n=t.Constant(1);t.FreeVariable.prototype.getPolynomialCoefficients=function(e){return e===this._symbol?[r,n]:[this]},t.Constant.prototype.getPolynomialCoefficients=function(e){return[this]},t.Add.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=r.length-1,a=n.length-1,o=[],s=0;s<=Math.max(i,a);s++)i>=s&&a>=s?o.push(t.Add([r[s],n[s]])):o.push(i>a?r[s]:n[s]);return o},t.Subtract.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=r.length-1,a=n.length-1,o=[],s=0;s<=Math.max(i,a);s++)i>=s&&a>=s?o.push(t.Subtract([r[s],n[s]])):o.push(i>a?r[s]:t.Negative([n[s]]));return o},t.Negative.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=[],i=0;i<r.length;i++)n.push(t.Negative([r[i]]));return n},t.Exponent.prototype.getPolynomialCoefficients=function(e){var n=this.args[0].getPolynomialCoefficients(e),i=this.args[1].getPolynomialCoefficients(e),a=n.length-1,o=i.length-1;if(o>0)throw"can\'t solve for variable in exponent";if(0===a)return[t.Exponent([n[0],i[0]])];if(this.args[1].isConstant){var s=this.args[1].constantValue;switch(s){case 0:return[r];case 1:return n;case 2:return t.Multiply([this.args[0],this.args[0]]).getPolynomialCoefficients(e)}}throw"Unable to compile polynomial representation"},t.Multiply.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=r.length-1,a=n.length-1,o=[],s=0;s<=i;s++)for(var u=0;u<=a;u++){var c=t.Multiply([r[s],n[u]]),l=o[s+u];void 0===l?o[s+u]=c:o[s+u]=t.Add([l,c])}return o},t.Divide.prototype.getPolynomialCoefficients=function(e){var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=n.length-1,a=[];if(i>0)throw"Can\'t solve for variable in denominator";for(var o=0;o<r.length;o++)a.push(t.Divide([r[o],n[0]]));return a},t.Expression.prototype.getPolynomialCoefficients=function(e){if(this.dependsOn(e))throw"Unimplemented polynomialCoefficient call";return[this]},t.Piecewise.prototype.getPolynomialCoefficients=function(e){if(!this.dependsOn(e))return[this];var t=this.args[1].getPolynomialCoefficients(e);return t}}),define("math/features/extractconditions",["require","parsenodes"],function(e){var t=e("parsenodes");t.Expression.prototype.extractConditions=function(e,t){for(var r=0;r<this.args.length;r++){var n=this.args[r];t=n.extractConditions(e,t)}return t},t.Constant.prototype.extractConditions=function(e,t){return t},t.Piecewise.prototype.extractConditions=function(e,r){if(!this.dependsOn(e))return r;if(!this.args[0].dependsOn(e))return r=this.args[1].extractConditions(e,r),r=this.args[2].extractConditions(e,r);var n={};return n[e]=r,t.Piecewise([this.args[0].substitute(n),r,t.Constant(NaN)])}}),define("math/builtinconstants",["require","math/parsenode/constant"],function(e){var t=e("math/parsenode/constant");return{pi:t(Math.PI),tau:t(2*Math.PI),e:t(Math.E),trigAngleMultiplier:t(1)}}),define("math/builtinframe",["require","math/builtinconstants","math/parsenode/builtinfunction"],function(e){var t,r=e("math/builtinconstants"),n=e("math/parsenode/builtinfunction"),i={};for(t in r)r.hasOwnProperty(t)&&(i[t]=r[t]);for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}),define("math/features/bounddomain",["require","parsenodes","math/builtinframe","math/domaintypes"],function(e){var t=e("parsenodes"),r=e("math/builtinframe"),n=e("math/domaintypes"),i=t.Constant(0);t.Base.prototype.boundDomain=function(e){return n.unknownDomain()},t.List.prototype.boundDomain=function(e){return n.unknownDomain()},t.Expression.prototype.boundDomain=function(e){for(var t=n.allReals(),r=0;r<this.args.length;r++)t=n.intersectDomains(t,this.args[r].boundDomain(e));return t},t.Constant.prototype.boundDomain=function(e){return this.isNaN()?n.emptyDomain():n.allReals()},t.Piecewise.prototype.boundDomain=function(e){return this.args[2].isConstant&&isNaN(this.args[2].constantValue)?n.intersectDomains(this.args[0].boundDomain(e),this.args[1].boundDomain(e)):n.unknownDomain()},t.OrderedPair.prototype.boundDomain=function(e){return n.intersectDomains(this.args[0].boundDomain(e),this.args[1].boundDomain(e))},t.BaseComparator.prototype.boundDomain=function(e){if("="===this.operator)return n.unknownDomain();var t=this._difference,a=this._difference.boundDomain(e),o=t.polynomialOrder(e);if(o>1)return n.unknownDomain();var s=t.getPolynomialCoefficients(e),u=s[1]?s[1].getConcreteTree(r):i,c=s[0]?s[0].getConcreteTree(r):i;if(!u.isConstant||!c.isConstant)return n.unknownDomain();if(isNaN(u.constantValue)||isNaN(c.constantValue))return n.emptyDomain();if(0===u.constantValue)return c.constantValue>=0?a:n.emptyDomain();var l=-c.constantValue/u.constantValue,h=u.constantValue<0?[-(1/0),l]:[l,1/0];return n.intersectDomains(a,n.knownDomain(h))}}),define("math/features/derivative",["require","parsenodes","math/baseparser","math/builtinframe","math/parsenode/builtinfunction"],function(e){var t=e("parsenodes"),r=e("math/baseparser"),n=e("math/builtinframe"),i=e("math/parsenode/builtinfunction"),a=t.Constant(0),o=t.Constant(1),s=t.Constant(2),u={FreeVariable:function(e){return e===this._symbol?o:a},Constant:function(e){return isFinite(this.constantValue)?a:t.Constant(this.constantValue)},Negative:function(e){return t.Negative([this.args[0].takeDerivative(e)])},Add:function(e){return t.Add([this.args[0].takeDerivative(e),this.args[1].takeDerivative(e)])},Subtract:function(e){return t.Subtract([this.args[0].takeDerivative(e),this.args[1].takeDerivative(e)])},Multiply:function(e){return t.Add([g(e,this.args[0],t.Multiply([this.args[0].takeDerivative(e),this.args[1]])),g(e,this.args[1],t.Multiply([this.args[0],this.args[1].takeDerivative(e)]))])},Divide:function(e){return t.Subtract([g(e,this.args[0],t.Divide([this.args[0].takeDerivative(e),this.args[1]])),g(e,this.args[1],t.Divide([t.Multiply([this.args[0],this.args[1].takeDerivative(e)]),t.Exponent([this.args[1],s])]))])},Exponent:function(e){return t.Add([g(e,this.args[0],t.Multiply([t.Multiply([this.args[1],t.Exponent([this.args[0],t.Subtract([this.args[1],o])])]),this.args[0].takeDerivative(e)])),g(e,this.args[1],t.Multiply([t.Piecewise([t.Comparator["="]([this.args[0],a]),t.Piecewise([t.Comparator[">"]([this.args[1],a]),a,t.Constant(NaN)]),t.Multiply([t.FunctionCall("\\\\ln",[this.args[0]]),t.Exponent([this.args[0],this.args[1]])])]),this.args[1].takeDerivative(e)]))]).getConcreteTree(n)},Sum:function(e){return this.copyWithArgs([this.args[0],this.args[1],this.args[2],this.args[3].takeDerivative(e)])},Product:function(e){var r=t.Sum([this.args[0],this.args[1],this.args[2],t.Piecewise([t.Comparator["="]([a,this.args[3]]),o,a])]),n=t.Multiply([t.Sum([this.args[0],this.args[1],this.args[2],t.Divide([this.args[3].takeDerivative(e),this.args[3]])]),t.Product(this.args)]),i=t.Product([this.args[0],this.args[1],this.args[2],t.Piecewise([t.Comparator["="]([a,this.args[3]]),this.args[3].takeDerivative(e),this.args[3]])]);return t.Piecewise([t.Comparator["="]([a,r]),n,t.Piecewise([t.Comparator["="]([o,r]),i,a])])},Piecewise:function(e){return 2===this.args.length?t.Piecewise([this.args[0],this.args[1].takeDerivative(e)]):3===this.args.length?t.Piecewise([this.args[0],this.args[1].takeDerivative(e),this.args[2].takeDerivative(e)]):void 0},List:function(e){return t.List(this.args.map(function(t){return t.takeDerivative(e)}))},ListAccess:function(e){return new this.constructor([this.args[0].takeDerivative(e),this.args[1]])},OrderedPair:function(e){return new this.constructor([this.args[0].takeDerivative(e),this.args[1].takeDerivative(e)])},OrderedPairAccess:function(e){return new this.constructor([this.args[0].takeDerivative(e),this.args[1]])},Integral:function(e){var r=this.args[0],n=this.args[1],i=this.args[2],a=this.args[3],o={};o[r._symbol]=i;var s={};return s[r._symbol]=n,t.Add([g(e,a,this.copyWithArgs([r,n,i,a.takeDerivative(e)])),t.Subtract([g(e,i,t.Multiply([a.substitute(o),i.takeDerivative(e)])),g(e,n,t.Multiply([a.substitute(s),n.takeDerivative(e)]))])])},SolvedEquation:function(e){return this._expression.takeDerivative(e)},OptimizedRegression:function(e){return this.model.takeDerivative(e)},Broadcast:function(e){for(var r=this._replacedSymbols.slice(),n=this.args.slice(1),i=this._expression.takeDerivative(e),a=0;a<this._replacedSymbols.length;a++){var o=this._replacedSymbols[a],s=this.args[a+1];if(s.dependsOn(e)){var u=this.tmpVar(),c=t.DummyIndex(u);r.push(u),n.push(s.takeDerivative(e)),i=t.Add([i,t.Multiply([this._expression.takeDerivative(o),c])])}}return t.Broadcast(r,[i].concat(n))}},c={exp:"\\\\exp(x)*x_1",ln:"\\\\{x >= 0: x_1/x \\\\}",log:"\\\\{ x >= 0: x_1/(x*\\\\ln(10)) \\\\}",sqrt:"x_1/(2*\\\\sqrt{x})",rtxsqpone:"x*x_1/\\\\rtxsqpone(x)",rtxsqmone:"x*x_1/\\\\rtxsqmone(x)",sin:"\\\\cos(x)*x_1",cos:"-\\\\sin(x)*x_1",tan:"\\\\sec(x)^2*x_1",arcsin:"x_1/\\\\sqrt{1 - x^2}",arccos:"-x_1/\\\\sqrt{1 - x^2}",sinh:"\\\\cosh(x)*x_1",cosh:"\\\\sinh(x)*x_1",tanh:"(\\\\sech(x))^2*x_1",arcsinh:"x_1/\\\\sqrt{x^2 + 1}",arccosh:"\\\\{ x > 0: x_1/\\\\rtxsqmone(x) \\\\}",arctanh:"\\\\{ \\\\abs(x) < 1: x_1/(1 - x^2) \\\\}",csc:"-\\\\cot(x)*\\\\csc(x)*x_1",sec:"\\\\tan(x)*\\\\sec(x)*x_1",cot:"-\\\\csc(x)^2*x_1",arccsc:"-x_1/(\\\\abs(x)*\\\\rtxsqmone(x))",arcsec:"x_1/(\\\\abs(x)*\\\\rtxsqmone(x))",arccot:"-x_1/(1+x^2)",csch:"-\\\\coth(x)*\\\\csch(x)*x_1",sech:"-\\\\tanh(x)*\\\\sech(x)*x_1",coth:"-(\\\\csch(x))^2*x_1",arccsch:"-x_1/(\\\\abs(x)*\\\\rtxsqpone(x))",arcsech:"\\\\{ x >= 0: -x_1/(x*\\\\sqrt{1 - x^2}) \\\\}",arccoth:"\\\\{ \\\\abs(x) > 1 : x_1/(1 - x^2) \\\\}",factorial:"(x)!*\\\\polyGamma(0, x + 1)*x_1",floor:"\\\\{ \\\\mod(x, 1) > 0: 0*x_1 \\\\}",ceil:"\\\\{ \\\\mod(x, 1) > 0: 0*x_1 \\\\}",round:"\\\\{ \\\\abs(\\\\mod(x, 1) - 0.5) > 0: 0*x_1 \\\\}",abs:"\\\\{ \\\\abs(x) > 0: \\\\sign(x)*x_1 \\\\}",sign:"\\\\{ \\\\abs(x) > 0: 0*x_1 \\\\}",mean:"\\\\mean(x_1)",total:"\\\\total(x_1)",length:"0",var:"2*\\\\cov(x, x_1)",varp:"2*\\\\cov(x, x_1)*(\\\\length(x)-1)/\\\\length(x)",stdev:"\\\\cov(x, x_1)/\\\\stdev(x)",stdevp:"\\\\covp(x, x_1)/\\\\stdevp(x)",mad:"\\\\mean(\\\\sign(x-\\\\mean(x))*(x_1 - \\\\mean(x_1)))",min:"x_1[\\\\argmin(x)]",max:"x_1[\\\\argmax(x)]",median:"0.5*(x_1[\\\\lowerQuantileIndex(x, 0.5)] + x_1[\\\\upperQuantileIndex(x, 0.5)])",argmin:"0/0",argmax:"0/0",gcd:"0/0",lcm:"0/0",erf:"\\\\frac{2}{\\\\sqrt{\\\\pi }}e^{-x^2}",invNorm:"\\\\frac{1}{\\\\normalpdf(\\\\invNorm(x))}"},l={logbase:["\\\\{x > 0: \\\\frac{x_1}{x*\\\\ln(y)}\\\\}","\\\\frac{-\\\\log_{y}(x)*y_1}{y*\\\\ln(y)}"],nthroot:["x^{1/y - 1}/y*x_1","-\\\\frac{x^{1/y}*\\\\ln(x)*y_1}{y^2}"],polyGamma:["0/0","\\\\polyGamma(1 + x, y)*y_1"],mod:["\\\\{ \\\\abs(\\\\mod(x, y)) > 0: x_1 \\\\}","\\\\{ \\\\mod(x/y, 1) > 0: -\\\\floor(x/y)*y_1 \\\\}"],cov:["\\\\cov(x_1, y)","\\\\cov(x, y_1)"],covp:["\\\\covp(x_1, y)","\\\\covp(x, y_1)"],corr:["(\\\\cov(x_1, y) - (\\\\cov(x, y)*\\\\cov(x, x_1)/\\\\var(x)))/(\\\\stdevp(x)\\\\stdevp(y))","(\\\\cov(x, y_1) - (\\\\cov(x, y)*\\\\cov(y, y_1)/\\\\var(y)))/(\\\\stdevp(x)\\\\stdevp(y))"],quantile:["\\\\{ \\\\floor(y*(\\\\length(x)-1)) = y*(\\\\length(x)-1) :   x_1[\\\\upperQuantileIndex(x, y)],  (\\\\ceil(y*(\\\\length(x)-1)) - y*(\\\\length(x)-1))*x_1[\\\\lowerQuantileIndex(x, y)] +   (y*(\\\\length(x)-1) - \\\\floor(y*(\\\\length(x)-1)))*x_1[\\\\upperQuantileIndex(x, y)]\\\\}","\\\\{ \\\\floor(y*(\\\\length(x)-1)) < y*(\\\\length(x)-1) :   (x[\\\\upperQuantileIndex(x, y)] - x[\\\\lowerQuantileIndex(x, y)])*y_1\\\\}"],TScore:["\\\\frac{\\\\sqrt{\\\\length(x)}(\\\\stdev(x)*\\\\mean(x_1)-(\\\\mean(x)-y)*\\\\frac{\\\\cov(x,x_1)}{\\\\stdev(x)})}{\\\\stdev(x)^2}","-y_1*\\\\sqrt{\\\\length(x)}/\\\\stdev(x)"],TTest:["\\\\tpdf(\\\\TScore(x,y),\\\\length(x))\\\\frac{\\\\sqrt{\\\\length(x)}(\\\\stdev(x)*\\\\mean(x_1)-(\\\\mean(x)-y)*\\\\frac{\\\\cov(x,x_1)}{\\\\stdev(x)})}{\\\\stdev(x)^2}","-y_1*\\\\tpdf(\\\\TScore(x,y),\\\\length(x))*\\\\sqrt{\\\\length(x)}/\\\\stdev(x)"],upperQuantileIndex:["0/0","0/0"],lowerQuantileIndex:["0/0","0/0"],nCr:["0/0","0/0"],nPr:["0/0","0/0"],arctan:["x_1*y/(y^2+x^2)","-y_1*x/(y^2+x^2)"],poissonpdf:["0/0","y_1\\\\frac{e^{-y}(\\\\floor(x)-y)y^{(\\\\floor(x)-1)}}{\\\\floor(x)!}"],poissoncdf:["0/0","y_1\\\\sum _{n=0}^{\\\\floor(x)}\\\\frac{e^{-y}(n-y)y^{(n-1)}}{n!}"],tcdf:["x_1*\\\\tpdf(x,y)","0/0"],tpdf:["x_1*\\\\tpdf(x,y)*\\\\frac{-(y+1)*x}{y+x^2}","0/0"]},h={normalcdf:["x_1\\\\normalpdf(x,y,z)","-y_1\\\\normalpdf(x,y,z)","z_1*\\\\frac{y-x}{z}\\\\normalpdf(x,y,z)"],normalpdf:["-x_1*\\\\frac{x-y}{z^2} \\\\normalpdf(x,y,z)","y_1*\\\\frac{x-y}{z^2} \\\\normalpdf(x,y,z)","z_1*(\\\\frac{(x-y-z)*(x-y+z)}{z^3}) \\\\normalpdf(x,y,z)"],binompdf:["0/0","0/0","z_1*\\\\binompdf(x,y,z)*(\\\\frac{\\\\round(x)}{z}-\\\\frac{\\\\round(y)-\\\\round(x)}{1-z})"],binomcdf:["0/0","0/0","z_1*\\\\sum _{n=0}^{\\\\round(x)}\\\\binompdf(n,y,z)*(\\\\frac{n}{z}-\\\\frac{\\\\round(y)-n}{1-z})"]},f=function(e){return function(t){var r=this.args,i={x:r[0],x_1:r[0].takeDerivative(t)};return g(t,r[0],e.substitute(i)).getConcreteTree(n)}},p=function(e,r){return function(i){var a=this.args,o={x:a[0],x_1:a[0].takeDerivative(i),y:a[1],y_1:a[1].takeDerivative(i)};return t.Add([g(i,a[0],e.substitute(o)),g(i,a[1],r.substitute(o))]).getConcreteTree(n)}},m=function(e,r,i){return function(a){var o=this.args,s={x:o[0],x_1:o[0].takeDerivative(a),y:o[1],y_1:o[1].takeDerivative(a),z:o[2],z_1:o[2].takeDerivative(a)};return t.Add([t.Add([g(a,o[0],e.substitute(s)),g(a,o[1],r.substitute(s))]),g(a,o[2],i.substitute(s))]).getConcreteTree(n)}};for(var d in c)i[d].prototype.takeDerivative=f(r.parse(c[d]));for(d in l)i[d].prototype.takeDerivative=p(r.parse(l[d][0]),r.parse(l[d][1]));for(d in h)i[d].prototype.takeDerivative=m(r.parse(h[d][0]),r.parse(h[d][1]),r.parse(h[d][2]));i.distance.prototype.takeDerivative=function(e){var r=this.args[0],a=this.args[1],u=t.OrderedPairAccess([r,o]),c=t.OrderedPairAccess([r,s]),l=t.OrderedPairAccess([a,o]),h=t.OrderedPairAccess([a,s]),f=g(e,u,u.takeDerivative(e)),p=g(e,c,c.takeDerivative(e)),m=g(e,l,l.takeDerivative(e)),d=g(e,h,h.takeDerivative(e));return g(e,this,t.Divide([t.Add([t.Add([t.Subtract([t.Multiply([f,u]),t.Multiply([f,l])]),t.Subtract([t.Multiply([m,l]),t.Multiply([m,u])])]),t.Add([t.Subtract([t.Multiply([p,c]),t.Multiply([p,h])]),t.Subtract([t.Multiply([d,h]),t.Multiply([d,c])])])]),i.distance([this.args[0],this.args[1]])])).getConcreteTree(n)},i.midpoint.prototype.takeDerivative=function(e){var r=this.args[0],a=this.args[1],u=t.OrderedPairAccess([r,o]),c=t.OrderedPairAccess([r,s]),l=t.OrderedPairAccess([a,o]),h=t.OrderedPairAccess([a,s]),f=g(e,u,u.takeDerivative(e)),p=g(e,c,c.takeDerivative(e)),m=g(e,l,l.takeDerivative(e)),d=g(e,h,h.takeDerivative(e));return t.OrderedPair([i.mean([f,m]),i.mean([p,d])]).getConcreteTree(n)};var g=function(e,t,r){return t.dependsOn(e)?r:a};for(var y in u){var v=u[y];t[y].prototype.takeDerivative=v}}),define("math/features/substitute",["require","parsenodes"],function(e){var t=e("parsenodes"),r={Identifier:function(e){return e[this._symbol]?e[this._symbol]:this},FreeVariable:function(e){return e[this._symbol]?e[this._symbol]:this},Constant:function(e){return this},Expression:function(e){return this.copyWithArgs(this.args.map(function(t){return t.substitute(e)}))},List:function(e){return t.List(this.args.map(function(t){return t.substitute(e)}))},SolvedEquation:function(e){return new this.constructor(this._symbol,this._expression.substitute(e))},OptimizedRegression:function(e){return new this.constructor(this.model.substitute(e),this.parameters,this.residualVariables,this.residuals,this.statistics)}};for(var n in r)t[n].prototype.substitute=r[n]}),define("math/features/solve",["require","math/baseparser","parsenodes","math/errormsg","math/builtinframe","worker/workerconfig"],function(e){function t(e){var t=Object.create(d);return t.a=e[2]?e[2].tryGetConcreteTree(d):y,t.b=e[1]?e[1].tryGetConcreteTree(d):y,t.c=e[0]?e[0].tryGetConcreteTree(d):y,t}function r(e){return 0===e.a.constantValue?0===e.b.constantValue?0:1:2}function n(e,n,i,a){for(var o,s,u=[],c=[],l=0;l<i.length;l++){var h=i[l],f=0;p.eachArgs([n],function(e){var t=e[0];f=Math.max(f,t.polynomialOrder(h))});var m=f>2,d=i.length>1&&!e.validSolvedVariable(h),g=a&&n.extractConditions(h,y)!==y;m||d||g?(c[l]={},u[l]=1/0):(c[l]=[],u[l]=0,p.eachArgs([n],function(e){var n=e[0];s=t(n.getPolynomialCoefficients(h)),c[l].push(s),u[l]=Math.max(u[l],r(s))}))}var v;if(1===i.length)s=c[0],o=i[0],v=u[0];else{var b;b=0===u[0]?1:0===u[1]?0:u[0]<u[1]?0:1,s=c[b],o=i[b],v=u[b]}return{localFrame:s,variableOfInterest:o,effectiveOrder:v}}function i(e,t){return t?S.inequality:S.generalEquation}function a(e){e.f=v.getConcreteTree(e),e.g=b.getConcreteTree(e),e.p=x.getConcreteTree(e),e.q=_.getConcreteTree(e),e.m=c(1e305)}var o=e("math/baseparser"),s=e("parsenodes"),u=s.Base,c=s.Constant,l=s.Equation,h=s.SolvedEquation,f=s.BaseComparator,p=s.List,m=e("math/errormsg"),d=e("math/builtinframe"),g=e("worker/workerconfig"),y=c(0),v=o.parse("b*b"),b=o.parse("4*a*c"),x=o.parse("(-b+\\\\sqrt{b*b-4*a*c})/(2*a)"),_=o.parse("(-b-\\\\sqrt{b*b-4*a*c})/(2*a)"),w=o.parse("[\\\\{\\\\abs(b)>0:-c/b\\\\}]"),M=o.parse("[\\\\{\\\\abs(a)>0:-b/(2*a)\\\\}]"),E=o.parse("[\\\\{a=0:\\\\{b<0:-c/b\\\\},q\\\\},\\\\{a=0:\\\\{b>0:-c/b\\\\},p\\\\}]"),T=o.parse("[\\\\{a=0:\\\\{b<0:-c/b\\\\},a>0:q\\\\},\\\\{a=0:\\\\{b=0:\\\\{c>0:-m\\\\}\\\\},a>0:\\\\{f<g:-m\\\\},p\\\\},\\\\{a=0:\\\\{b=0:\\\\{c>0:m\\\\}\\\\},a>0:\\\\{f<g:m\\\\},q\\\\},\\\\{a=0:\\\\{b>0:-c/b\\\\},a>0:p\\\\}]"),S={inequality:function(e){return a(e),T.getConcreteTree(e)},generalEquation:function(e){return a(e),e.a.isConstant&&0===e.a.constantValue?w.getConcreteTree(e):e.f.isConstant&&e.g.isConstant&&e.f.constantValue-e.g.constantValue===0?M.getConcreteTree(e):E.getConcreteTree(e)}};u.prototype.trySolve=function(e,t){try{return this.solve(e,t)}catch(e){if(e instanceof s.Error)return e;throw e}},l.prototype.solve=function(e,t){return this.asComparator().solve(e,t)},f.prototype.solve=function(e,t){var r=this.tryGetConcreteTree(t);if(r.isError)return r;if(r.isConstant)return r;var a="="!==this.getOperator(),o=this._difference.tryGetConcreteTree(t);o.isBroadcast&&(o=p(o.mapElements(function(e){return e})));var s=o.getDependencies();if(0===s.length)return o.isList?p(o.args.map(function(e){return c(0===e.constantValue)})):c(0===o.constantValue);if(1===s.length&&o.isList&&!a)return o;if(1===s.length&&!a&&!g.plotSingleVariableImplicitEquations)return m.singleVariableImplicitEquationsDisabled();var u=p.wrap(o);if(s.length>2)return m.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(s);if(a&&!e.validInequalityVariables(s))return m.invalidInequalityVariables().setDependencies(s);var l=n(e,u,s,a),f=l.localFrame,d=l.effectiveOrder,y=l.variableOfInterest;if(e.complicatedPolarImplicit(y,d))return m.complicatedPolarImplicit().setDependencies(s);if(!e.validImplicitVariables(s))return m.invalidImplicitVariables();if(d>2)return o;for(var v=i(s,a),b=[],x=0;x<f.length;x++){var _=v(f[x]);if(_.isError)return _;if(_.isConstant)b.push(_);else for(var w=0;w<_.args.length;w++){var M=_.args[w],E=u.args[x].extractConditions(y,M).getConcreteTree(t);b.push(E)}}return h(y,p(b))}}),define("math/evaluationstate",["require","graphing/graphmode","parsenodes","graphing/label"],function(e){function t(e){return e.isError?e.getError():void 0===e.constantValue?"":+e.constantValue}function r(e,r,n){for(var i=[],a=0;a<r.columns.length;a++){var o=n.columns[a],s={dependent:!o.isIndependent,discrete:o.isIndependent};o.isError?(s.error=o.getError(),s.values=[]):s.values=o.values.map(t),i.push(s)}return{column_data:i}}function n(e,t,r){var n={variables:[],errorMap:{},dimensions:{}};if(r.x.isError&&(n.errorMap.x=!0),r.y.isError&&(n.errorMap.y=!0),r.width.isError&&(n.errorMap.width=!0),r.height.isError&&(n.errorMap.height=!0),r.x.isError||r.y.isError||r.width.isError||r.height.isError)return n.variables=t.getSliderVariables(e,r),n;n.dimensions.x=[],n.dimensions.y=[],n.dimensions.width=[],n.dimensions.height=[],a.List.eachArgs([r.x,r.y,r.width,r.height],function(e){n.dimensions.x.push(+e[0].constantValue),n.dimensions.y.push(+e[1].constantValue),n.dimensions.width.push(+e[2].constantValue),n.dimensions.height.push(+e[3].constantValue)});var o=e.graphingEnabled()?t.getGraphMode(e,r):i.NONE;return o!==i.NONE&&(n.is_graphable=!0),r.moveStrategy&&(n.move_strategy=r.moveStrategy),n}var i=e("graphing/graphmode"),a=e("parsenodes"),o=e("graphing/label"),s=function(){return{operator:"=",variables:[]}},u=function(e,t,u){if(t.isTable)return r(e,t,u);if(t.isImage)return n(e,t,u);var c=s();if(u.isError&&(!(t instanceof a.FunctionDefinition)||u.blocksExport))return c.error=u.getError(),c.variables=t.getSliderVariables(e,u),c.is_single_identifier=t instanceof a.Identifier,c;u.moveStrategy&&(c.move_strategy=u.moveStrategy,c.default_drag_mode=u.defaultDragMode),t.isInequality()&&(c.is_inequality=!0),c.operator=t.getOperator(),u instanceof a.SolvedEquation?u._expression.constantValue!==!0&&u._expression.constantValue!==!1&&(c.assignment=u._symbol):t instanceof a.Assignment&&(c.assignment=t._symbol);var l=e.graphingEnabled()?t.getGraphMode(e,u):i.NONE;if(l!==i.NONE){c.is_graphable=!0,l===i.XYPOINT&&(c.is_point_list=!0),l===i.XYPOINT_MOVABLE&&(c.is_point_list=!0),l===i.PARAMETRIC&&(c.is_parametric=!0),u.isShadeBetween()&&(c.is_shade_between=!0);var h=t.tableInfo(e,u);h&&(c.is_tableable=!0,c.table_info=h)}c.variables=c.is_graphable?[]:t.getSliderVariables(e,u),c.is_single_identifier=t instanceof a.Identifier;var f=t.getSliderInfo();f?(c.is_slidable=!0,c.is_animatable=!c.is_graphable,c.constant_value=f.value):u.isConstant&&(c.constant_value=u.constantValue);var p=u.getEvaluationInfo();if(!p||"="!==c.operator||t.isConstant||t.isFunction||c.is_slidable||(c.is_evaluable=!0,c.zero_values=p),u instanceof a.OptimizedRegression){var m={};for(var d in u.parameters)u.parameters.hasOwnProperty(d)&&(m[o.identifierToLatex(d)]=+u.parameters[d].constantValue);c.is_regression=!0,c.regression={parameters:m,residualVariable:o.identifierToLatex(u.residualVariable),residualSuggestionId:u.residualSuggestionId,shouldSuggestLogMode:u.shouldSuggestLogMode,statistics:u.statistics}}return c};return u.default=s,u}),define("math/statementanalysis",["require","math/evaluationstate","pjs","graphing/graphmode","worker/workerconfig"],function(e){var t=e("math/evaluationstate"),r=e("pjs"),n=e("graphing/graphmode"),i=e("worker/workerconfig");return r(function(e){e.init=function(e,r,n){this.policy=e,this.rawTree=r,this.concreteTree=n,this.evaluationState=t(e,r,n)},e.exportTo=function(e,t){this.rawTree.exportTo(e,this.concreteTree,t)},e.graph=function(e){return this.rawTree.graph(this.policy,this.concreteTree,e)},e.getGraphMode=function(){return this.rawTree.getGraphMode(this.policy,this.concreteTree)},e.getGraphInfo=function(){return this.rawTree.getGraphInfo(this.policy,this.concreteTree)},e.shouldIntersect=function(){if(!this.evaluationState.is_graphable)return!1;if(!this.rawTree.userData.shouldGraph)return!1;if(!i.pointsOfInterest)return!1;var e=this.getGraphMode();return e===n.X||e===n.Y}})}),define("math/features/analyze",["require","parsenodes","math/statementanalysis","math/builtinframe","math/parsenode/builtinfunction","math/errormsg","math/comparators","math/types","graphing/graphmode"],function(e){function t(e,t,r,n){var a=n.getDependencies();switch(n.valueType){case c.Point:case c.ListOfPoint:return a.length?e.validParametricVariables(a)?i(e,r,n):i(e,r,s.tooManyVariables(r.getSliderVariables(e,n)).setDependencies(a)):i(e,r,n);\ncase c.Number:case c.ListOfNumber:switch(a.length){case 0:return i(e,r,n);case 1:return e.validExpressionVariable(a[0])?i(e,r,n):i(e,r,s.equationRequired(e.implicitDependency(a[0])).setDependencies(a));default:return e.validImplicitVariables(a)?i(e,r,s.equationRequired().setDependencies(a)):i(e,r,s.tooManyVariables(r.getSliderVariables(e,n)).setDependencies(a))}}}function r(e,t){return e.filter(function(e){return!t[e]})}var n=e("parsenodes"),i=e("math/statementanalysis"),a=e("math/builtinframe"),o=e("math/parsenode/builtinfunction"),s=e("math/errormsg"),u=e("math/comparators"),c=e("math/types"),l=e("graphing/graphmode");n.Base.prototype.analyze=function(e,t){return i(e,this,this.tryGetConcreteTree(t))},n.Expression.prototype.analyze=function(e,r){var n=this.tryGetConcreteTree(r);return n.isError?i(e,this,n):t(e,r,this,n)},n.Identifier.prototype.analyze=function(e,t){return i(e,this,this.tryGetConcreteTree(t))},n.FunctionDefinition.prototype.analyze=function(e,t){var r=/^log_[\\d|e]/;if(a[this._symbol]||r.test(this._symbol))return i(e,this,s.cannotRedefine(this._symbol));var n=this._symbol.split("_")[0];if(o[n])return i(e,this,s.cannotRedefine(this._symbol,n));var u=this.tryGetConcreteTree(t);if(u.isError)return i(e,this,u);var c=this._argSymbols,l=u.getDependencies();if(l.indexOf(this._symbol)!==-1)return i(e,this,s.selfReferentialFunction(this._symbol));var h=l.filter(function(e){return c.indexOf(e)===-1});return e.unplottablePolarFunction(this._symbol,l)?i(e,this,s.unplottablePolarFunction()):h.some(e.assignmentForbidden)?i(e,this,s.addArgumentsToDefinition(h,this._symbol,c).setDependencies(l)):h.length?i(e,this,s.tooManyVariables(this.getSliderVariables(e,u)).setDependencies(l)):i(e,this,u)},n.Assignment.prototype.analyze=function(e,t,r){var o=this._symbol;if(!e.validLHS(o))return i(e,this,s.invalidLHS(o));if(a[o])return i(e,this,s.cannotRedefine(o));var u=this.tryGetConcreteTree(t);if(u.isError)return i(e,this,u);var c=u.getDependencies();if(this.isEquation(u)){var l=this.asEquation().analyze(e,t);return i(e,this,l.concreteTree)}if(c.length>1){var h=this.getSliderVariables(e,u);return h.length?i(e,this,s.tooManyVariables(h).allowExport().setDependencies(c)):i(e,this,u)}var f=this.getMoveStrategy(t,u,r);if(f){var p=this.getDefaultDragMode(f);return i(e,this,n.MovablePoint(u.args,f,p))}return i(e,this,u)},n.Regression.prototype.analyze=function(e,t,r,n,a){return i(e,this,this.tryOptimize(e,t,r,n,a))},n.Equation.prototype.analyze=n.BaseComparator.prototype.analyze=function(e,t){var r=this.trySolve(e,t);if(r.isError)return i(e,this,r);if(r instanceof n.SolvedEquation&&r.getDependencies().length){var a=r.getDependencies().concat(r._symbol);if(!e.validImplicitVariables(a))return i(e,this,s.invalidImplicitVariables().setDependencies(a))}return this.getGraphMode(e,r)!==l.IMPLICIT||e.validImplicitVariables(r.getDependencies())?i(e,this,r):i(e,this,s.invalidImplicitVariables().setDependencies(r.getDependencies()))},n.DoubleInequality.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(t);if(r.isError)return i(e,this,r);var n=r.getDependencies();return u.table[this._operators[0]].direction!==u.table[this._operators[1]].direction?i(e,this,s.mismatchedDoubleInequality()):e.validDoubleInequalitySymbol(r._symbol)&&e.validDoubleInequalityVariables(n)?n.length>2?i(e,this,s.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):r._expressions[0].getDependencies().indexOf(r._symbol)!==-1||r._expressions[1].getDependencies().indexOf(r._symbol)!==-1?i(e,this,s.complicatedDoubleInequality().setDependencies(n)):i(e,this,r):i(e,this,s.invalidDoubleInequalityVariables().setDependencies(n))},n.And.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(t);if(r.isError)return i(e,this,r);var n=r.getDependencies();return n.length?e.validDoubleInequalityVariables(n)?i(e,this,s.complicatedDoubleInequality().setDependencies(n)):i(e,this,s.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):i(e,this,r)},n.OrderedPair.prototype.analyze=function(e,r,a){var o=this.tryGetConcreteTree(r);if(o.isError)return i(e,this,o);var s=this.getMoveStrategy(r,o,a);if(s){var u=this.getDefaultDragMode(s);return i(e,this,n.MovablePoint(o.args,s,u))}return t(e,r,this,o)},n.Table.prototype.analyze=function(e,t){for(var a,o=Object.create(t),u=[],c=0;c<this.columns.length;c++){var l=this.columns[c].analyze(e,o,t);if(0===c&&(l.concreteTree.isIndependent?e.validFirstColumnVariable(l.concreteTree.header._symbol)?a=l.concreteTree.header._symbol:l=i(e,this.columns[c],s.invalidFirstTableColumn()):l=i(e,this.columns[c],s.invalidDependentFirstTableColumn())),l.concreteTree.isIndependent)l.rawTree.exportToLocal(l.concreteTree,o);else if(!l.concreteTree.isError){var h=l.concreteTree.header.getDependencies(),f=r(h,o);f.length&&(l=i(e,this.columns[c],s.tooManyVariables(f).setDependencies(f)))}u.push(l.concreteTree)}var p=n.Table(u),m=i(e,this,p);return m.evaluationState.is_graphable=!0,m},n.TableColumn.prototype.analyze=function(e,t,r){var n=this.header.tableError();if(n)return i(e,this,s.invalidTableHeader(n));var a=this.tryGetConcreteTree(t,r);if(a.isError)return i(e,this,a);if(a.header.isError)return i(e,this,a.header);if(a.values.isError)return i(e,this,a.values);for(var o=0;o<a.values.length;o++)if(!a.values[o].isError){var u=this.values[o]&&this.values[o].tableError();if(u)a.values[o]=s.invalidTableEntry(u);else{var c=a.values[o].getDependencies();c.length&&(a.values[o]=s.tooManyVariables(c).setDependencies(c))}}return i(e,this,a)},n.Image.prototype.analyze=function(e,t,r){var a=this.tryGetConcreteTree(t);if(a.x.isError||a.y.isError||a.width.isError||a.height.isError)return i(e,this,a);var o=a.x.getDependencies(),u=a.y.getDependencies(),c=a.width.getDependencies(),l=a.height.getDependencies();return o.length||u.length||c.length||l.length?i(e,this,n.Image({x:o.length?s.tooManyVariables(o).setDependencies(o):a.x,y:u.length?s.tooManyVariables(u).setDependencies(u):a.y,width:c.length?s.tooManyVariables(c).setDependencies(c):a.width,height:l.length?s.tooManyVariables(l).setDependencies(l):a.height})):(a.moveStrategy=this.getMoveStrategy(t,a,r),i(e,this,a))}}),define("math/features/analyzeFourFunction",["require","parsenodes","math/statementanalysis","math/errormsg","math/parsenode/builtinfunction","math/builtinconstants"],function(e){var t=e("parsenodes"),r=e("math/statementanalysis"),n=e("math/errormsg"),i=e("math/parsenode/builtinfunction"),a=e("math/builtinconstants");t.Base.prototype.analyzeFourFunction=function(e,t){var i=this.tryGetConcreteTree(t);return i.isError?r(e,this,i):r(e,this,n.parseError())},t.Expression.prototype.analyzeFourFunction=function(e,t){var o=this.tryGetConcreteTree(t);if(o.isError)return r(e,this,o);var s=o.getDependencies();if(s.length>0){var u,c=s[0];return u=i.hasOwnProperty(c)?n.functionUnsupported(c):a.hasOwnProperty(c)?n.constantUnsupported(c):n.variablesUnsupported(c),r(e,this,u)}return r(e,this,o)},t.Assignment.prototype.analyzeFourFunction=function(e,t){return r(e,this,n.assignmentsUnsupported())},t.FunctionDefinition.prototype.analyzeFourFunction=function(e,t){return r(e,this,n.functionDefinitionsUnsupported())},t.Equation.prototype.analyzeFourFunction=function(e,t){return r(e,this,n.equationsUnsupported())},t.And.prototype.analyzeFourFunction=t.DoubleInequality.prototype.analyzeFourFunction=t.BaseComparator.prototype.analyzeFourFunction=function(e,t){return r(e,this,n.inequalitiesUnsupported())},t.Regression.prototype.analyzeFourFunction=function(e,t){return r(e,this,n.regressionsUnsupported())},t.OrderedPair.prototype.analyzeFourFunction=function(e,t){return r(e,this,n.pointsUnsupported())}}),define("math/features/analyzeScientific",["require","parsenodes","math/statementanalysis","math/errormsg","math/builtinframe"],function(e){var t=e("parsenodes"),r=e("math/statementanalysis"),n=e("math/errormsg"),i=e("math/builtinframe");t.Base.prototype.analyzeScientific=function(e,t){var i=this.tryGetConcreteTree(t);return i.isError?r(e,this,i):r(e,this,n.parseError())},t.Expression.prototype.analyzeScientific=function(e,t){var i=this.tryGetConcreteTree(t);if(i.isError)return r(e,this,i);var a=i.getDependencies();return a.length>0?r(e,this,n.tooManyVariables(a)):r(e,this,i)},t.Assignment.prototype.analyzeScientific=function(e,t){var a=this._symbol;if(i[a])return r(e,this,n.cannotRedefine(a));var o=this.tryGetConcreteTree(t);if(o.isError)return r(e,this,o);var s=o.getDependencies();return this.isEquation(o)?r(e,this,n.equationsUnsupported()):s.length>0?r(e,this,n.tooManyVariables(s)):r(e,this,o)},t.FunctionDefinition.prototype.analyzeScientific=function(e,t){if(i[this._symbol])return r(e,this,n.cannotRedefine(this._symbol));var a=this.tryGetConcreteTree(t);if(a.isError)return r(e,this,a);var o=this._argSymbols,s=a.getDependencies();if(s.indexOf(this._symbol)!==-1)return r(e,this,n.selfReferentialFunction(this._symbol));var u=s.filter(function(e){return o.indexOf(e)===-1});return u.length?r(e,this,n.addArgumentsToDefinition(u,this._symbol,o)):r(e,this,a)},t.Equation.prototype.analyzeScientific=function(e,t){return r(e,this,n.equationsUnsupported())},t.And.prototype.analyzeScientific=t.DoubleInequality.prototype.analyzeScientific=t.BaseComparator.prototype.analyzeScientific=function(e,t){return r(e,this,n.inequalitiesUnsupported())},t.Regression.prototype.analyzeScientific=function(e,t){return r(e,this,n.regressionsUnsupported())},t.OrderedPair.prototype.analyzeScientific=function(e,t){return r(e,this,n.pointsUnsupported())}}),define("math/features/analyzeNeuteredScientific",["require","parsenodes","math/statementanalysis","math/errormsg","math/parsenode/builtinfunction","math/builtinconstants"],function(e){var t=e("parsenodes"),r=e("math/statementanalysis"),n=e("math/errormsg"),i=e("math/parsenode/builtinfunction"),a=e("math/builtinconstants");t.Base.prototype.analyzeNeuteredScientific=function(e,t){var i=this.tryGetConcreteTree(t);return i.isError?r(e,this,i):r(e,this,n.parseError())},t.Expression.prototype.analyzeNeuteredScientific=function(e,t){var o=this.tryGetConcreteTree(t);if(o.isError)return r(e,this,o);var s=o.getDependencies();if(s.length>0){var u,c=s[0];return u=i.hasOwnProperty(c)?n.functionUnsupported(c):a.hasOwnProperty(c)?n.constantUnsupported(c):n.variablesUnsupported(c),r(e,this,u)}return r(e,this,o)},t.Assignment.prototype.analyzeNeuteredScientific=function(e,t){return r(e,this,n.assignmentsUnsupported())},t.FunctionDefinition.prototype.analyzeNeuteredScientific=function(e,t){return r(e,this,n.functionDefinitionsUnsupported())},t.Equation.prototype.analyzeNeuteredScientific=function(e,t){return r(e,this,n.equationsUnsupported())},t.And.prototype.analyzeNeuteredScientific=t.DoubleInequality.prototype.analyzeNeuteredScientific=t.BaseComparator.prototype.analyzeNeuteredScientific=function(e,t){return r(e,this,n.inequalitiesUnsupported())},t.Regression.prototype.analyzeNeuteredScientific=function(e,t){return r(e,this,n.regressionsUnsupported())},t.OrderedPair.prototype.analyzeNeuteredScientific=function(e,t){return r(e,this,n.pointsUnsupported())}}),define("graphing/dragmode",{NONE:"NONE",X:"X",Y:"Y",XY:"XY",AUTO:"AUTO"}),define("graphing/reconcileDragMode",["require","graphing/dragmode"],function(e){function t(e){return e?"none"===e[0].type&&"none"===e[1].type?n.NONE:"none"===e[1].type?n.X:"none"===e[0].type?n.Y:n.XY:n.NONE}function r(e,r){var i=t(r);switch(e){case n.NONE:return n.NONE;case n.AUTO:return i;case n.XY:return i;case n.X:return i===n.X||i===n.XY?n.X:n.NONE;case n.Y:return i===n.Y||i===n.XY?n.Y:n.NONE;default:return n.NONE}}var n=e("graphing/dragmode");return r}),define("math/features/getgraphmode",["require","parsenodes","graphing/graphmode","graphing/reconcileDragMode","graphing/dragmode","math/types"],function(e){function t(e,t){var r;return r=e&&e.hasOwnProperty("dragMode")?e.dragMode===s.AUTO?t.defaultDragMode:e.dragMode:t.defaultDragMode,o(r,t.moveStrategy)}function r(e,r){var n=r.getDependencies();switch(r.valueType){case u.Point:case u.ListOfPoint:return r.isMovablePoint&&t(this.userData,r)!==s.NONE?a.XYPOINT_MOVABLE:0===n.length?a.XYPOINT:e.validParametricVariables(n)?a.PARAMETRIC:a.NONE;case u.Number:case u.ListOfNumber:return 1===n.length?a.Y:a.NONE;default:return a.NONE}}function n(e,t){var r=t._expression.getDependencies();if(r.length>1)return a.NONE;if(t._expression.valueType!==u.Number&&t._expression.valueType!==u.ListOfNumber)return a.NONE;var n=t._symbol,i=r[0];return e.graphMode(n,i)}var i=e("parsenodes"),a=e("graphing/graphmode"),o=e("graphing/reconcileDragMode"),s=e("graphing/dragmode"),u=e("math/types");i.Base.prototype.getGraphMode=function(e,t){return a.NONE},i.Identifier.prototype.getGraphMode=function(e,t){return e.graphableAsBareIdentifier(this._symbol)?a.Y:a.NONE},i.Expression.prototype.getGraphMode=r,i.Equation.prototype.getGraphMode=i.BaseComparator.prototype.getGraphMode=function(e,t){var r=t.getDependencies();return t.isConstant?a.NONE:t instanceof i.SolvedEquation?0===r.length?e.graphableAsConstant(t._symbol)?e.constantGraphMode(t._symbol):a.NONE:n(e,t):r.length<=2?a.IMPLICIT:a.NONE},i.DoubleInequality.prototype.getGraphMode=function(e,t){return e.constantGraphMode(t._symbol)},i.Assignment.prototype.getGraphMode=function(e,t){if(t instanceof i.SolvedEquation)return n(e,t);if(this.isEquation(t))return this.asEquation().getGraphMode(e,t);var o=t.getDependencies();switch(t.valueType){case u.Number:case u.ListOfNumber:switch(o.length){case 0:return e.graphableAsConstant(this._symbol)?e.constantGraphMode(this._symbol):a.NONE;case 1:return t.valueType!==u.ListOfNumber||e.graphableListVariables(this._symbol,o[0])?e.graphMode(this._symbol,o[0]):a.NONE;default:return a.NONE}break;default:return r.call(this,e,t)}},i.FunctionDefinition.prototype.getGraphMode=function(e,t){if(1!==this._argSymbols.length)return a.NONE;var r=e.graphMode(this._symbol,this._argSymbols[0]),n=t.getDependencies();switch(t.valueType){case u.Number:case u.ListOfNumber:switch(n.length){case 0:return r;case 1:return n[0]!==this._argSymbols[0]?a.NONE:r;default:return a.NONE}break;default:return a.NONE}},i.Regression.prototype.getGraphMode=function(e,t){return this.isLhsSimple&&t.isModelValid?1!==t.model.getDependencies().length?a.NONE:a.Y:a.NONE},i.Image.prototype.getGraphMode=function(e,t){return this.userData.showPoints?this.x.isError||this.y.isError||this.width.isError||this.height.isError?a.NONE:a.XYPOINT:a.NONE}}),define("math/features/getgraphinfo",["require","parsenodes","math/builtinframe","math/domaintypes"],function(e){var t=e("parsenodes"),r=e("math/builtinframe"),n=e("math/domaintypes");t.Base.prototype.getGraphInfo=function(e,t){var r,i,a=t.getDependencies();switch(a.length){case 0:r=!0,i=t.boundDomain("x");break;case 1:i=t.boundDomain(a[0]),r="known"===i.type&&t.isLinear(a[0]);break;case 2:r=!1,i=n.unknownDomain()}return{graphMode:this.getGraphMode(e,t),color:this.userData.color,style:this.userData.style,operator:this.getOperator(),isLinear:r,linearCoefficients:r?t.getLinearCoefficients():void 0,domainBound:i}},t.Base.prototype.getLinearCoefficients=function(){var e=this.getDependencies();switch(e.length){case 0:return[+this.constantValue,0];case 1:var t=this.getPolynomialCoefficients(e[0]);return[t[0]?+t[0].getConcreteTree(r).constantValue:0,t[1]?+t[1].getConcreteTree(r).constantValue:0];default:return[NaN,NaN]}},t.OrderedPair.prototype.getLinearCoefficients=function(){return[this.args[0].getLinearCoefficients(),this.args[1].getLinearCoefficients()]}}),define("math/features/getMoveStrategy",["require","parsenodes","math/types"],function(e){function t(e){return{type:"none",inputString:e}}function r(e){return{type:"updateCoordinate",inputString:e}}function n(e,t,r){return{type:"updateSlider",inputString:e,id:t,coefficients:r}}function i(e,t){for(var r in t)if(t[r].evaluationState.assignment===e&&t[r].evaluationState.is_slidable)return r}function a(e,t,r,n){for(var a=e.getDependencies(),s=0;s<a.length;s++)if(n[a[s]])return!1;for(var c=a.length-1;c>=0;c--){var l=a[c],h=i(l,r);if(void 0!==h){var f=Object.create(t);f[l]=o.FreeVariable(l);var p=e.tryGetConcreteTree(f);if(!p.isError){var m=p.polynomialOrder(l);if(1===m){var d=p.getPolynomialCoefficients(l),g=d[1]?d[1].getConcreteTree(f):u,y=d[0]?d[0].getConcreteTree(f):u;if(y.isConstant&&g.isConstant&&isFinite(y.constantValue)&&isFinite(g.constantValue)&&0!==g.constantValue){var v=[-y.constantValue/g.constantValue,1/g.constantValue];return{symbol:l,id:h,coefficients:v}}}}}}return!1}var o=e("parsenodes"),s=e("math/types"),u=o.Constant(0);o.Base.prototype.getMoveStrategy=function(){},o.Assignment.prototype.getMoveStrategy=function(e,t,r){if(this._expression instanceof o.OrderedPair&&(!this.userData||this.userData.shouldGraph!==!1))return this._expression.getMoveStrategy(e,t,r)},o.OrderedPair.prototype.getMoveStrategy=function(e,i,o){if(i.valueType===s.Point&&0===i.getDependencies().length&&(!this.userData||this.userData.shouldGraph!==!1)){for(var u=[],c={},l=0;l<2;l++){var h=this.args[l],f=h.getInputString();if(h.isConstant)u[l]=r(f);else{var p=a(h,e,o,c);p&&(u[l]=n(f,p.id,p.coefficients),c[p.symbol]=!0),u[l]||(u[l]=t(f))}}if("none"!==u[0].type||"none"!==u[1].type)return u}},o.Image.prototype.getMoveStrategy=function(e,i,o){if((!this.userData||this.userData.shouldGraph!==!1)&&i.x.isConstant&&i.y.isConstant&&i.width.isConstant&&i.height.isConstant){for(var s=["x","y","width","height"],u=[],c={},l=0;l<s.length;l++){var h=this[s[l]],f=h.getInputString();if(h.isConstant)u[l]=r(f);else{var p=a(h,e,o,c);p&&(u[l]=n(f,p.id,p.coefficients),c[p.symbol]=!0),u[l]||(u[l]=t(f))}}if("none"!==u[0].type||"none"!==u[1].type||"none"!==u[2].type||"none"!==u[3].type)return u}}}),define("math/features/getDefaultDragMode",["require","parsenodes","graphing/dragmode"],function(e){var t=e("parsenodes"),r=e("graphing/dragmode");t.Base.prototype.getMoveStrategy=function(){return r.NONE},t.Assignment.prototype.getDefaultDragMode=function(e){return"none"!==e[0].type&&"none"!==e[1].type?r.XY:"none"!==e[0].type?r.X:"none"!==e[1].type?r.Y:r.NONE},t.OrderedPair.prototype.getDefaultDragMode=function(e){return"updateSlider"===e[0].type&&"updateSlider"===e[1].type?r.XY:"updateSlider"===e[0].type?r.X:"updateSlider"===e[1].type?r.Y:r.NONE}}),define("math/features/tableinfo",["require","parsenodes","math/types"],function(e){var t=e("parsenodes"),r=t.List,n=e("math/types"),i=function(e){return e.replace(/^(\\\\ | |\\\\space)+/,"").replace(/(\\\\ | |\\\\space)+$/,"")};t.Base.prototype.tableInfo=function(e,t){return!1},t.Identifier.prototype.tableInfo=function(e,t){return!!e.graphableAsBareIdentifier(this._symbol)&&(!!e.validFirstColumnVariable(this._symbol)&&{independent_variable:this._symbol,dependent_column:this._inputString,by_reference:!1})},t.Expression.prototype.tableInfo=function(e,t){var i=t.getDependencies();switch(t.valueType){case n.Point:case n.ListOfPoint:if(0!==i.length)return!1;if(t.isMovablePoint&&("updateSlider"===t.moveStrategy[0].type||"updateSlider"===t.moveStrategy[1].type))return!1;var a=r.wrap(t).mapElements(function(e){return e.asArray()});return{independent_variable:"x",dependent_column:"y",by_reference:!1,values:a};case n.Number:if(1!==i.length)return!1;var o=i[0];return!!e.validFirstColumnVariable(o)&&{independent_variable:o,dependent_column:this._inputString,by_reference:!1};default:return!1}},t.Assignment.prototype.tableInfo=function(e,r){if(r instanceof t.SolvedEquation)return!1;if(!this._inputString.length)return!1;var n=r.getDependencies();if(n.length>1)return!1;var a;if(0===n.length){if(!e.tableableAsConstant(this._symbol))return!1;a=e.implicitIndependent(this._symbol)}else a=n[0];if(!e.validFirstColumnVariable(a))return!1;var o=i(e.assignmentForbidden(this._symbol)?this._inputString.replace(/[^=]*=/,""):this._inputString.split("=")[0]);return{independent_variable:a,dependent_column:o,by_reference:!e.assignmentForbidden(this._symbol)}},t.FunctionDefinition.prototype.tableInfo=function(e,t){if(1!==this._argSymbols.length)return!1;if(!this._inputString.length)return!1;var r=t.getDependencies();if(r.length>1)return!1;var n=this._argSymbols[0];if(!e.validFirstColumnVariable(n))return!1;var a=e.assignmentForbidden(this._symbol),o=i(a?this._inputString.replace(/[^=]*=/,""):this._inputString.split("=")[0]);return{independent_variable:n,dependent_column:o,by_reference:!a}},t.BaseComparator.prototype.tableInfo=function(e,t){return!1},t.DoubleInequality.prototype.tableInfo=function(e,t){return!1},t.Equation.prototype.tableInfo=function(e,t){return!1}}),define("math/features/tableerror",["require","parsenodes","lib/worker-i18n"],function(e){var t=e("parsenodes"),r=e("lib/worker-i18n");t.Base.prototype.tableError=function(){return this.isInequality()?r.t("Inequalities are not allowed."):!(this instanceof t.Expression)&&r.t("This type of expression is not allowed.")},t.List.prototype.tableError=function(){return r.t("Lists are not allowed.")},t.Equation.prototype.tableError=t.Assignment.prototype.tableError=function(){return r.t("Equations are not allowed.")},t.FunctionDefinition.prototype.tableError=function(){return r.t("Function definitions are not allowed.")},t.Regression.prototype.tableError=function(){return r.t("Regressions are not allowed.")}}),define("math/features/islinear",["require","parsenodes"],function(e){var t=e("parsenodes");t.Base.prototype.isLinear=function(e){return!1},t.Expression.prototype.isLinear=function(e){return this.polynomialOrder(e)<=1},t.SolvedEquation.prototype.isLinear=function(e){return this._expression.isLinear(e)},t.OptimizedRegression.prototype.isLinear=function(e){return this.model.isLinear(e)},t.OrderedPair.prototype.isLinear=function(e){return this.args[0].isLinear(e)&&this.args[1].isLinear(e)},t.List.prototype.isLinear=function(e){return this.args.every(function(t){return t.isLinear(e)})},t.Broadcast.prototype.isLinear=function(e){return this._expression.dependsOn(e)?!!this._expression.isLinear(e)&&!this._lists.some(function(t){return t.dependsOn(e)}):this._lists.every(function(t){return t.isLinear(e)})}}),define("graphing/columnmode",{POINTS:"POINTS",LINES:"LINES",POINTS_AND_LINES:"POINTS_AND_LINES"}),define("math/features/graph",["require","underscore","parsenodes","math/plotter","graphing/graphmode","math/comparators","graphing/columnmode","graphing/dragmode"],function(e){function t(e){for(var t=[],r=[],n=e.length,i=0;i<n;i++)t.push(e[i][0]),r.push(e[i][1]);return{defined:{x:t,y:r}}}function r(e){return Array.prototype.concat.apply([],e)}function n(e,t,r){return!!e&&(0===t&&0===r?"none"!==e[0].type||"none"!==e[1].type:0!==t&&0!==r?"none"!==e[2].type&&"none"!==e[3].type:0!==t?"none"!==e[2].type:0!==r&&"none"!==e[3].type)}var i=e("underscore"),a=e("parsenodes"),o=e("math/plotter").default,s=e("graphing/graphmode"),u=e("math/comparators"),c=e("graphing/columnmode"),l=e("graphing/dragmode"),h=a.List;a.Base.prototype._graph=function(e,r,n,u){if(r instanceof a.SolvedEquation)return this._graph(e,r._expression,n,u);var c,l,f=this;switch(u.graphMode){case s.XYPOINT_MOVABLE:return c=[r.asArray()],[{segments:[c],graphMode:u.graphMode,color:this.userData.color,style:this.userData.style,showLabel:!!this.userData.showLabel,label:this.computedLabel||"",poi:t(c)}];case s.XYPOINT:return c=h.wrap(r).mapElements(function(e){return e.asArray()}),[{segments:[c],graphMode:u.graphMode,color:this.userData.color,style:this.userData.style,showLabel:!!this.userData.showLabel,nakedLabel:this.userData.showLabel&&!this.userData.shouldGraph,label:this.computedLabel||"",poi:t(c)}];case s.PARAMETRIC:var p=this.userData;return l=h.wrap(r).mapElements(function(r){var i=r.getDependencies();if(0===i.length)return c=[r.asArray()],{segments:[c],graphMode:s.XYPOINT,color:p.color,style:p.style,poi:t(c)};var a=r.getCompiledFunction().fn,l=f.getGraphInfo(e,r);return l.graphMode=u.graphMode,l.domain=f.userData.domain,o.computeGraphData(n,l,a)});case s.X:case s.Y:case s.IMPLICIT:case s.POLAR:return l=[],h.wrap(r).eachElement(function(t){var r,a=u.graphMode===s.IMPLICIT?t.getCompiledFunction(["x","y"]):t.getCompiledFunction();try{r=t.getCompiledDerivative()}catch(e){}var c=f.getGraphInfo(e,t);c.graphMode=u.graphMode;var h=r?o.computeGraphData(n,c,a.fn,r.fn):o.computeGraphData(n,c,a.fn);h.compiled=a,h.fillSegments?l.push(i.omit(h,"fillSegments")):l.push(h),c.graphMode===s.IMPLICIT&&"="!==c.operator&&l.push({graphMode:s.POLYGONFILL,segments:h.fillSegments,poi:{}})}),l;default:return!1}},a.Base.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);return this._graph(e,t,r,n)},a.BaseComparator.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t),i=n.graphMode;if(i===s.IMPLICIT)return this._graph(e,t,r,n);if(i===s.NONE)return!1;if(!(t instanceof a.SolvedEquation))return!1;var c=this.getOperator(),l=[],h=[],f=!0;t._expression.eachElement(function(e){l.push(e.getCompiledFunction());try{h.push(e.getCompiledDerivative())}catch(e){f=!1}}),f||(h=void 0);var p,m,d=[],g=[-1,0,0,1],y=l.length;for(m=0;m<y;m++){var v=this.getGraphInfo(e,t._expression.args[m]);v.graphMode=i,p=h?o.computeGraphData(r,v,l[m].fn,h[m].fn):o.computeGraphData(r,v,l[m].fn),p.compiled=l[m],p.operator=u.get(u.table[c].inclusive,g[m%4]),d.push(p)}for(m=0;m<y;m+=4){var b=o.polygonsFromSegments(d[m+1].segments,d[m+2].segments,i);d.push({graphMode:s.POLYGONFILL,segments:b,poi:{}})}return d},a.DoubleInequality.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);if(n.graphMode===s.NONE)return!1;var i=[],a=u.get(u.table[this._operators[0]].inclusive,0),c=u.get(u.table[this._operators[1]].inclusive,0),l=this.userData,f=this;return h.eachArgs(t._expressions,function(t){var u,h;t[0].userData=t[1].userData=l,u=f._graph(e,t[0],r,n)[0],u.operator=a,i.push(u),h=f._graph(e,t[1],r,n)[0],h.operator=c,i.push(h);var p=o.polygonsFromSegments(u.segments,h.segments,u.graphMode);i.push({graphMode:s.POLYGONFILL,segments:p,poi:{}})}),i},a.Regression.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);return this._graph(e,t.model,r,n)},a.Table.prototype.isValueDraggable=function(e,t,r){if(!e.columns[t].isIndependent)return!1;var n=this.columns[t],i=n.values,a=i&&i[r];return!(!a||!isFinite(a.constantValue)||0!==a._dependencies.length)},a.Table.prototype.graph=function(e,n,i){var a=[];if(n.columns[0].isError)return a;for(var o=n.columns[0],u=o.values,h=1;h<this.columns.length;h++){var f=n.columns[h];if(!f.isError){var p=this.columns[h].header.userData;if(!p.hidden){for(var m=p.columnMode,d=p.dragMode,g=d===l.X||d===l.XY,y=d===l.Y||d===l.XY,v=m===c.POINTS||m===c.POINTS_AND_LINES,b=m===c.LINES||m===c.POINTS_AND_LINES,x=f.isDiscrete(o),_=b&&x,w=b&&!x,M=[],E=[],T=[],S=[],I=[],N=[],D=0;D<u.length;D++){var C=u[D],A=f.values[D];if(C&&A&&isFinite(C.constantValue)&&isFinite(A.constantValue)){if(v){var k=g&&this.isValueDraggable(n,0,D),F=y&&this.isValueDraggable(n,h,D);k||F?(T.push([C.constantValue,A.constantValue]),S.push({index:D,dragX:k,dragY:F})):E.push([C.constantValue,A.constantValue])}_&&N.push([C.constantValue,A.constantValue])}else _&&(N.length>1&&I.push(N),N=[])}if(T.length&&M.push({graphMode:s.XYPOINT_MOVABLE,segments:[T],color:p.color,tableId:p.tableId,poi:t(T),movablePointInfo:S}),E.length&&M.push({segments:[E],graphMode:s.XYPOINT,poi:t(E),color:p.color,style:p.style}),(I.length||N.length)&&(I.push(N),M.push({segments:I.map(r),graphMode:s.PARAMETRIC,poi:[],color:p.color,style:p.style})),w){var O=this.columns[h].header.graph(e,n.columns[h].header,i);O.length&&Array.prototype.push.apply(M,O)}M.length&&(a[p.id]=M)}}}return a},a.Image.prototype.graph=function(e,r,i){for(var a=[],o=[],u=[],c=[],l=-1;l<=1;l++)for(var h=-1;h<=1;h++){var f=[r.x.constantValue+l*r.width.constantValue/2,r.y.constantValue+h*r.height.constantValue/2],p=n(r.moveStrategy,l,h);p?(o.push(f),c.push([l,h])):u.push(f)}return a.push({segments:[o],scaleFactors:[c],graphMode:s.XYPOINT_MOVABLE,color:this.userData.color,style:this.userData.style,poi:t(o)}),a.push({segments:[u],graphMode:s.XYPOINT,color:this.userData.color,style:this.userData.style,poi:t(u)}),a}}),define("math/features/elementAt",["require","parsenodes","math/builtinframe"],function(e){function t(e){for(var t=0;t<this.length;t++)e(this.elementAt(t))}function r(e){for(var t=[],r=0;r<this.length;r++)t.push(e(this.elementAt(r)));return t}var n=e("parsenodes"),i=e("math/builtinframe");n.List.prototype.elementAt=function(e){return e=Math.floor(e),e>=0&&e<this.args.length?this.args[e]:n.Constant(NaN)},n.Broadcast.prototype.elementAt=function(e){if(e=Math.floor(e),e<0||e>=this.length)return n.Constant(NaN);for(var t={},r=0;r<this._replacedSymbols.length;r++)t[this._replacedSymbols[r]]=this._lists[r].elementAt(e);return this._expression.substitute(t).getConcreteTree(i)},n.List.prototype.eachElement=t,n.Broadcast.prototype.eachElement=t,n.List.prototype.mapElements=r,n.Broadcast.prototype.mapElements=r,n.OrderedPair.prototype.elementAt=function(e){switch(e){case 0:return this.args[0];case 1:return this.args[1];default:return n.Constant(NaN)}}}),define("math/features/printLatex",["require","parsenodes","graphing/label"],function(e){function t(e){switch(e){case">":return"\\\\gt";case"<":return"\\\\lt";case">=":return"\\\\ge";case"<=":return"\\\\le";case"=":return"="}}function r(e){return e.printLatex()}function n(e){return e.isConstant&&e.constantValue===!0}function i(e){return e.isConstant&&e.isNaN()}var a=e("parsenodes"),o=e("graphing/label");a.Identifier.prototype.printLatex=a.FreeVariable.prototype.printLatex=function(){return o.identifierToLatex(this._symbol)},a.Constant.prototype.printLatex=function(){return o.numberToLatex(this.constantValue)},a.Negative.prototype.printLatex=function(){return"-\\\\left("+this.args[0].printLatex()+"\\\\right)"},a.Add.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)+\\\\left("+this.args[1].printLatex()+"\\\\right)"},a.Subtract.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)-\\\\left("+this.args[1].printLatex()+"\\\\right)"},a.Multiply.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)*\\\\left("+this.args[1].printLatex()+"\\\\right)"},a.Divide.prototype.printLatex=function(){return"\\\\frac{"+this.args[0].printLatex()+"}{"+this.args[1].printLatex()+"}"},a.Exponent.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)^{"+this.args[1].printLatex()+"}"},a.Assignment.prototype.printLatex=function(){return o.identifierToLatex(this._symbol)+"="+this._expression.printLatex()},a.Equation.prototype.printLatex=function(){return this._lhs.printLatex()+"="+this._rhs.printLatex()},a.BaseComparator.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+t(this.operator)+"\\\\left("+this.args[1].printLatex()+"\\\\right)"},a.DoubleInequality.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+t(this.args[1])+this.args[2].printLatex()+t(this.args[3])+"\\\\left("+this.args[4].printLatex()+"\\\\right)"},a.And.prototype.printLatex=function(){if(!(this.args[0]instanceof a.BaseComparator&&this.args[1]instanceof a.BaseComparator))throw new Error("Not implemented");if(this.args[0].args[1].printLatex()!==this.args[1].args[0].printLatex())throw new Error("Not implemented");return"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)"+t(this.args[0].operator)+"\\\\left("+this.args[0].args[1].printLatex()+"\\\\right)"+t(this.args[1].operator)+"\\\\left("+this.args[1].args[1].printLatex()+"\\\\right)"},a.NativeFunction.prototype.printLatex=a.TypedFunction.prototype.printLatex=a.ReducerFunction.prototype.printLatex=a.ParametrizedReducerFunction.prototype.printLatex=a.DoubleReducerFunction.prototype.printLatex=a.FunctionCall.prototype.printLatex=function(){switch(this._symbol){case"sqrt":return"\\\\sqrt{"+this.args[0].printLatex()+"}";case"nthroot":return"\\\\sqrt["+this.args[1].printLatex()+"]{"+this.args[0].printLatex()+"}";case"logbase":return"\\\\log_{"+this.args[1].printLatex()+"}\\\\left("+this.args[0].printLatex()+"\\\\right)";default:return o.identifierToLatex(this._symbol)+"\\\\left("+this.args.map(r).join(", ")+"\\\\right)";\n}},a.Prime.prototype.printLatex=function(){switch(this.args[0]._symbol){case"logbase":return"\\\\log_{"+this.args[0].args[1].printLatex()+"}"+Array(this.order+1).join("\'")+"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)";default:return o.identifierToLatex(this.args[0]._symbol)+Array(this.order+1).join("\'")+"\\\\left("+this.args[0].args.map(r).join(", ")+"\\\\right)"}},a.List.prototype.printLatex=function(){return"\\\\left["+this.args.map(r).join(", ")+"\\\\right]"},a.Range.prototype.printLatex=function(){return"\\\\left["+this.args[0].args.map(r).join(", ")+" ... "+this.args[1].args.map(r).join(", ")+"\\\\right]"},a.ListAccess.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)\\\\left["+this.args[1].printLatex()+"\\\\right]"},a.OrderedPair.prototype.printLatex=function(){return"\\\\left("+this.args.map(r).join(", ")+"\\\\right)"},a.Sum.prototype.printLatex=function(){return"\\\\sum_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"},a.Product.prototype.printLatex=function(){return"\\\\prod_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"},a.Integral.prototype.printLatex=function(){return"\\\\int_{"+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)d"+this.args[0].printLatex()},a.FunctionExponent.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)^{"+this.args[2].printLatex()+"}"},a.Piecewise.prototype.printLatex=function(){var e=this;if(n(e.args[0]))return e.args[1].printLatex();for(var t=["\\\\left\\\\{"];;){if(n(e.args[0])){t.push(e.args[1].printLatex());break}if(t.push(e.args[0].printLatex(),": "),i(e.args[2])){t.push(e.args[1].printLatex());break}if(t.push(e.args[1].printLatex(),", "),!(e.args[2]instanceof a.Piecewise)){t.push(e.args[2].printLatex());break}e=e.args[2]}return t.push("\\\\right\\\\}"),t.join("")},a.FunctionDefinition.prototype.printLatex=function(){return o.identifierToLatex(this._symbol)+"\\\\left("+this._argSymbols.map(o.identifierToLatex).join(", ")+"\\\\right) = "+this._expression.printLatex()},a.Derivative.prototype.printLatex=function(){return"\\\\frac{d}{d"+o.identifierToLatex(this._symbol)+"}\\\\left("+this.args[0].printLatex()+"\\\\right)"},a.Regression.prototype.printLatex=function(){return"\\\\left("+this._lhs.printLatex()+"\\\\right)\\\\sim\\\\left("+this._rhs.printLatex()+"\\\\right)"}}),define("parser",["require","math/baseparser","math/features/getConcreteTree","math/features/getValueType","math/features/typeCheck","math/features/repr","math/features/scalarEvalExpression","math/features/okForImplicitFunction","math/features/constantcollapsedcopy","math/features/polynomialorder","math/features/polynomialcoefficients","math/features/extractconditions","math/features/bounddomain","math/features/derivative","math/features/substitute","math/features/solve","math/features/analyze","math/features/analyzeFourFunction","math/features/analyzeScientific","math/features/analyzeNeuteredScientific","math/features/getgraphmode","math/features/getgraphinfo","math/features/getMoveStrategy","math/features/getDefaultDragMode","math/features/tableinfo","math/features/tableerror","math/features/islinear","math/features/graph","math/features/elementAt","math/features/printLatex"],function(e){var t=e("math/baseparser");return e("math/features/getConcreteTree"),e("math/features/getValueType"),e("math/features/typeCheck"),e("math/features/repr"),e("math/features/scalarEvalExpression"),e("math/features/okForImplicitFunction"),e("math/features/constantcollapsedcopy"),e("math/features/polynomialorder"),e("math/features/polynomialcoefficients"),e("math/features/extractconditions"),e("math/features/bounddomain"),e("math/features/derivative"),e("math/features/substitute"),e("math/features/solve"),e("math/features/analyze"),e("math/features/analyzeFourFunction"),e("math/features/analyzeScientific"),e("math/features/analyzeNeuteredScientific"),e("math/features/getgraphmode"),e("math/features/getgraphinfo"),e("math/features/getMoveStrategy"),e("math/features/getDefaultDragMode"),e("math/features/tableinfo"),e("math/features/tableerror"),e("math/features/islinear"),e("math/features/graph"),e("math/features/elementAt"),e("math/features/printLatex"),t}),define("math/finddependencyorder",["require","math/builtinframe","underscore"],function(e){function t(e,t,i){function a(e){y[e]=y[e]||{};var r,n=y[e];n.id=e,n.index=v,n.lowlink=v,b.push(n),n.instack=!0,v++;for(var i=t[e].getDependencies(),u=0;u<i.length;u++){var c=i[u];if(m.hasOwnProperty(c))for(var l=m[c],h=0;h<l.length;h++){var f=l[h];y.hasOwnProperty(f)?(r=y[f],r.instack&&(n.lowlink=Math.min(n.lowlink,r.index))):(a(f),r=y[f],n.lowlink=Math.min(n.lowlink,r.lowlink))}}if(n.lowlink===n.index)if(r=b.pop(),r.instack=!1,r===n)o(n);else{for(var p=[r];;)if(r=b.pop(),r.instack=!1,p.push(r),r===n)break;s(p)}}function o(e){x.push(e.id)}function s(r){var i,a,o=[];for(a=r.length-1;a>=0;a--){i=r[a];var s=t[i.id].getLegalExports(e);Array.prototype.push.apply(o,s),o.push(s[0]),x.push(i.id)}for(o=n.unique(o),o.sort(),a=0;a<o.length;a++)g[o[a]]=o}var u,c,l,h,f,p=[],m={},d={},g={},y={},v=0,b=[],x=[];if(!i){i=[];for(u in t)t.hasOwnProperty(u)&&i.push(u)}for(u in t)if(t.hasOwnProperty(u)){for(f=t[u].exportPenalty||0;p.length<f+1;)p.push([]);p[f].push(u)}for(f=0;f<p.length;f++){var _={};for(c=0;c<p[f].length;c++){u=p[f][c];var w=t[u].getLegalExports(e);for(l=0;l<w.length;l++)h=w[l],r[h]||m[h]||(_[h]=_[h]||[],_[h].push(u),_[h].length>1&&(d[h]=!0))}for(h in _)m[h]=_[h]}for(c=0;c<i.length;c++)y.hasOwnProperty(i[c])||a(i[c]);return{resolved:x,multiplyDefined:d,cyclicallyDefined:g}}var r=e("math/builtinframe"),n=e("underscore");return t}),define("math/findIntersections",["require","graphing/graphmode","./plotter","parsenodes","./distance"],function(e){function t(e){for(var t=[],r=0;r<e;r++)t[r]={x:[],y:[],intersects:[]};return t}function r(e,t,r,n){return r===l.X&&n===l.X||r===l.Y&&n===l.Y?function(r){return t(r)-e(r)}:(r===l.X&&n===l.Y||r===l.Y&&n===l.X)&&function(r){return r-t(e(r))}}function n(e){e instanceof f.SolvedEquation?e=e._expression:e instanceof f.OptimizedRegression&&(e=e.model);var t=[],r=[];return e instanceof f.DoubleInequality?f.List.eachArgs(e._expressions,function(e){t.push(e[0].getCompiledFunction()),r.push(e[0].isConstant&&e[1].isNaN()),t.push(e[1].getCompiledFunction()),r.push(e[1].isConstant&&e[1].isNaN())}):f.List.wrap(e).eachElement(function(e){t.push(e.getCompiledFunction()),r.push(e.isConstant&&e.isNaN())}),{functions:t,skipIntersecting:r}}function i(e,t){var r=[];for(var i in e)if(e.hasOwnProperty(i)&&String(i)!==String(t)&&e[i].shouldIntersect()){var a=e[i],o=n(a.concreteTree);r.push({id:i,graphMode:a.getGraphMode(),functions:o.functions,skipIntersecting:o.skipIntersecting})}return r}function a(e,t){e.intersects=Array(e.x.length);for(var r=0;r<e.x.length;r++)e.intersects[r]=t}function o(e,t){if(t===l.X){var r=e.y;e.y=e.x,e.x=r}}function s(e,t){Array.prototype.push.apply(e.x,t.x),Array.prototype.push.apply(e.y,t.y),Array.prototype.push.apply(e.intersects,t.intersects)}function u(e,t,r){var n=h.sampleXY(e,t),i=n.poi.zeros,a=n.poi.extrema,o=[],s=0,u=0;for(s=0;s<i.x.length;s++){for(;u<a.x.length&&a.x[u]<i.x[s];u++)p.approx(a.y[u],0)&&o.push(a.x[u]);o.push(i.x[s])}for(;u<a.x.length;u++)p.approx(a.y[u],0)&&o.push(a.x[u]);return{x:o,y:o.map(r)}}function c(e,c,l){var f=e[l],p=f.getGraphInfo(),d=f.getGraphMode(),g=n(f.concreteTree),y=t(g.functions.length),v=i(e,l);if(!v)return y;for(var b=0,x=0;x<v.length;x++)for(var _=v[x],w=0;w<g.functions.length;w++)if(!g.skipIntersecting[w])for(var M=g.functions[w].fn,E=h.computeDomain(c,p,M),T=0;T<_.functions.length;T++)if(!v[x].skipIntersecting[T]){var S=_.functions[T].fn,I=r(M,S,d,_.graphMode);if(I){var N=u(I,E,M);if(b+=N.x.length,b>m)return t(g.functions.length);a(N,_.id),o(N,d),s(y[w],N)}}return y}var l=e("graphing/graphmode"),h=e("./plotter").default,f=e("parsenodes"),p=e("./distance"),m=100;return{findIntersections:c,findIndicatorZeros:u}}),define("math/interpolatedlabel",["require","exports","parsenodes","graphing/label"],function(e,t,r,n){"use strict";function i(e){return!(e.length<2)&&("`"===e[0]&&"`"===e[e.length-1])}function a(e){if(i(e))return{raw:e,parts:[e]};for(var t,r=["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\\\{[a-zA-Z0-9]+\\\\}"],n="({"+r.join("})|({")+"})",a=new RegExp(n,"g"),o=[],s=0,u=0;t=a.exec(e);){u=t.index,u>s&&o.push(e.substr(s,u-s));var c=t[0],l=c.replace(/[{}]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");o.push({symbol:l,str:c}),s=t.index+c.length}return s<e.length&&o.push(e.substr(s)),{raw:e,parts:o}}function o(e,t){for(var i=[],a=0,o=e.parts;a<o.length;a++){var s=o[a];if("string"==typeof s)i.push(s);else{var u=r.Identifier(s.symbol).tryGetConcreteTree(t),c=u&&u.constantValue;"number"==typeof c?i.push(n.truncatedPlainmathLabel(c,{bigCutoff:1e8,digits:8})):i.push(s.str)}}return i.join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.isMathLabel=i,t.parse=a,t.interpolate=o}),define("math/policyFourFunction",["require"],function(e){var t={assignmentForbidden:function(e){return"ans"!==e.slice(0,3)},sliderForbidden:function(e){return!0},sliderVariables:function(){return[]},graphingEnabled:function(){return!1},ansEnabled:function(){return!0},disabledFeatures:function(){return["Sum","Product","Integral","List","Derivative","Piecewise"]}};return t}),define("math/policyScientific",["require"],function(e){var t={assignmentForbidden:function(e){return"tmp"===e.slice(0,3)},sliderForbidden:function(e){return!0},sliderVariables:function(){return[]},graphingEnabled:function(){return!1},ansEnabled:function(){return!0},disabledFeatures:function(){return["Sum","Product","Integral","Derivative","Piecewise"]}};return t}),define("math/policyNeuteredScientific",["require"],function(e){var t={assignmentForbidden:function(e){return"ans"!==e.slice(0,3)},sliderForbidden:function(e){return!0},sliderVariables:function(){return[]},graphingEnabled:function(){return!1},ansEnabled:function(){return!0},disabledFeatures:function(){return["Sum","Product","Integral","Derivative","Piecewise"]}};return t}),define("math/policyGraphing",["require","graphing/graphmode","math/parsenode/builtinfunction"],function(e){var t=e("graphing/graphmode"),r=e("math/parsenode/builtinfunction"),n={assignmentForbidden:function(e){return"x"===e||"y"===e||"theta"===e||"tmp"===e.slice(0,3)||r.hasOwnProperty(e)},sliderForbidden:function(e){return n.assignmentForbidden(e)||"ans"===e.slice(0,3)},sliderVariables:function(e){return e.indexOf("theta")!==-1&&(e=e.filter(function(e){return"r"!==e})),e.filter(function(e){return!n.sliderForbidden(e)})},graphingEnabled:function(){return!0},ansEnabled:function(){return!1},validRegressionParameter:function(e){return"x"!==e&&"y"!==e},validLHS:function(e){return"theta"!==e},unplottablePolarFunction:function(e,t){return"theta"===e&&t.indexOf("r")!==-1},validDoubleInequalitySymbol:function(e){return"x"===e||"y"===e},validDoubleInequalityVariables:function(e){return!(e.length>2)&&e.every(n.validDoubleInequalitySymbol)},validExpressionVariable:function(e){return"x"===e},validSolvedVariable:function(e){return"x"===e||"y"===e||"r"===e},validImplicitVariables:function(e){switch(e.length){case 1:return"x"===e[0]||"y"===e[0]||"r"===e[0];case 2:return"x"===e[0]&&"y"===e[1]||"y"===e[0]&&"x"===e[1]||"r"===e[0]&&"theta"===e[1]||"theta"===e[0]&&"r"===e[1];default:return!1}},graphableListVariables:function(e,t){return"x"===e||"y"===e||"r"===e||"x"===t||"y"===t},validParametricVariable:function(e){return"t"===e},validParametricVariables:function(e){return 1===e.length&&n.validParametricVariable(e[0])},validInequalityVariables:function(e){switch(e.length){case 1:return"x"===e[0]||"y"===e[0]||"r"===e[0];case 2:return n.validImplicitVariables(e);default:return!1}},validFirstColumnVariable:function(e){return"y"!==e&&"r"!==e&&"theta"!==e&&!e.match(/y_(\\d+)/)},complicatedPolarImplicit:function(e,t){return"theta"===e||"r"===e&&1!==t},constantGraphMode:function(e){return"x"===e?t.X:"r"===e?t.POLAR:t.Y},graphMode:function(e,r){return"y"===r?t.X:"x"===e?t.X:"r"===e&&"theta"===r?t.POLAR:t.Y},tableableAsConstant:function(e){return"x"!==e&&("r"!==e&&"theta"!==e)},implicitIndependent:function(e){return"x"},implicitDependency:function(e){return"y"===e?"x":"theta"===e?"r":"y"},graphableAsConstant:function(e){return"y"===e||"x"===e||"r"===e},graphableAsBareIdentifier:function(e){return"x"===e},disabledFeatures:function(){return[]}};return n}),define("math/frameFourFunction",["require","math/parsenode/builtinfunction"],function(e){var t=e("math/parsenode/builtinfunction");return{frame:{sqrt:t.sqrt},restrictedFunctionsFrame:{sqrt:t.sqrt}}}),define("math/frameScientific",["require","math/builtinconstants","math/parsenode/builtinfunction"],function(e){function t(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key \'"+n+"\' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}function r(e,r,n,i){t(r,i),t(n,i);for(var a=0;a<r.length;a++){var o=r[a];n.indexOf(o)===-1&&(e[o]=i[o])}}var n=e("math/builtinconstants"),i=e("math/parsenode/builtinfunction"),a={},o=["pi","e","trigAngleMultiplier"],s=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","mean","round","stdev","stdevp","nCr","nPr","exp","factorial"];return r(a,o,[],n),r(a,s,[],i),{frame:a,restrictedFunctionsFrame:a}}),define("math/frameNeuteredScientific",["require","math/builtinconstants","math/parsenode/builtinfunction"],function(e){function t(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key \'"+n+"\' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}function r(e,r,n,i){t(r,i),t(n,i);for(var a=0;a<r.length;a++){var o=r[a];n.indexOf(o)===-1&&(e[o]=i[o])}}var n=e("math/builtinconstants"),i=e("math/parsenode/builtinfunction"),a={},o=["pi","e","trigAngleMultiplier"],s=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","exp","factorial"];return r(a,o,[],n),r(a,s,[],i),{frame:a,restrictedFunctionsFrame:a}}),define("math/frameGraphing",["require","math/builtinconstants","math/parsenode/builtinfunction"],function(e){var t,r=e("math/builtinconstants"),n=e("math/parsenode/builtinfunction"),i=["csc","sec","cot","arccsc","arcsec","arccot","csch","sech","coth","arccsch","arcsech","arccoth","mad","cov"],a={},o={};for(t in r)r.hasOwnProperty(t)&&(a[t]=r[t],o[t]=r[t]);for(t in n)n.hasOwnProperty(t)&&(a[t]=n[t],i.indexOf(t)===-1&&(o[t]=n[t]));return{frame:a,restrictedFunctionsFrame:o}}),define("math/context",["require","console","pjs","underscore","./plotter","parser","math/parsenode/constant","math/parsenode/image","math/parsenode/table","math/parsenode/tablecolumn","math/parsenode/freevariable","math/finddependencyorder","math/errormsg","graphing/graphmode","worker/workerconfig","./findIntersections","./interpolatedlabel","math/policyFourFunction","math/policyScientific","math/policyNeuteredScientific","math/policyGraphing","math/frameFourFunction","math/frameScientific","math/frameNeuteredScientific","math/frameGraphing"],function(e){function t(e,t){return t?b[e].restrictedFunctionsFrame:b[e].frame}var r=e("console"),n=e("pjs"),i=e("underscore"),a=e("./plotter").default,o=e("parser"),s=e("math/parsenode/constant"),u=e("math/parsenode/image"),c=e("math/parsenode/table"),l=e("math/parsenode/tablecolumn"),h=e("math/parsenode/freevariable"),f=e("math/finddependencyorder"),p=e("math/errormsg"),m=e("graphing/graphmode"),d=e("worker/workerconfig"),g=e("./findIntersections").findIntersections,y=e("./interpolatedlabel"),v={fourFunction:e("math/policyFourFunction"),scientific:e("math/policyScientific"),neuteredScientific:e("math/policyNeuteredScientific"),graphing:e("math/policyGraphing")},b={fourFunction:e("math/frameFourFunction"),scientific:e("math/frameScientific"),neuteredScientific:e("math/frameNeuteredScientific"),graphing:e("math/frameGraphing")};return n(function(e){function n(e){return"ans"!==e.slice(0,3)}function b(e,t){var r,i=e.multiplyDefined,a=e.cyclicallyDefined;for(r in i)i.hasOwnProperty(r)&&(t[r]=p.multiplyDefined(r));for(r in a)a.hasOwnProperty(r)&&(t[r]=p.cycle(a[r].filter(n)))}e.triggerGraphComputed=function(){},e.triggerStatusChange=function(){},e.triggerRemoveGraph=function(){},e.triggerRender=function(){},e.triggerRenderSlowly=function(){},e.triggerDidAddStatement=function(){},e.triggerDidRemoveStatement=function(){},e.triggerDidUpdateIntersections=function(){},e.init=function(){this.statements={},this.analysis={},this.currentStatus={},this.currentLabel={},this.unanalyzedIds={},this.unpublishedIds={},this.intersectIds={},this.setEvaluationMode("graphing"),this.setRestrictedFunctions(!1),this.setFunctionDefinition(!0),this.invalidate()},e.processChangeSet=function(e){e.isCompleteState&&(this.invalidate(),this.statements={},this.currentLabel={}),e.viewState&&this.setViewState(e.viewState),e.hasOwnProperty("degreeMode")&&this.setDegreeMode(e.degreeMode),e.hasOwnProperty("evaluationMode")&&this.setEvaluationMode(e.evaluationMode),e.hasOwnProperty("restrictedFunctions")&&this.setRestrictedFunctions(e.restrictedFunctions),e.hasOwnProperty("functionDefinition")&&this.setFunctionDefinition(e.functionDefinition),e.hasOwnProperty("pointsOfInterest")&&this.setPointsOfInterest(e.pointsOfInterest),e.hasOwnProperty("plotSingleVariableImplicitEquations")&&this.setPlotSingleVariableImplicitEquations(e.plotSingleVariableImplicitEquations),e.hasOwnProperty("intersectIds")&&(this.intersectIds=e.intersectIds),this.processStatements(e),this.updateAnalysis(),e.hasOwnProperty("intersectId")&&this._updateIntersections(e.intersectId),this._publishAllStatuses(),this._computeAllLabels(),this._graphAllChanged(),this.unpublishedIds={},e.isCompleteState?this.triggerRenderSlowly():this.triggerRender()},e.processStatements=function(e){var t;if(e.statements)for(var r in e.statements){var n=e.statements[r];if(null===n){if(!e.isCompleteState&&this.statements.hasOwnProperty(r)&&(t=this.statements[r].getAllIds()),this.removeStatement(r),!e.isCompleteState&&t){for(var i=0;i<t.length;i++)this.triggerRemoveGraph(t[i]);this.triggerDidRemoveStatement(r)}}else this.addStatement(n),e.isCompleteState||this.triggerDidAddStatement(n)}},e.setViewState=function(e){if(!i.isEqual(e,this.viewState)){this.viewState=e;for(var t in this.statements)this.statements.hasOwnProperty(t)&&(this.unpublishedIds[t]=!0)}},e.getViewState=function(){if(this.viewState){var e=Object.create(this.viewState);return this.parent_frame&&this.parent_frame.trigAngleMultiplier?e.trigAngleMultiplier=this.parent_frame.trigAngleMultiplier.constantValue:e.trigAngleMultiplier=1,e}},e.setDegreeMode=function(e){this.use_degrees=e,this.invalidate()},e.setEvaluationMode=function(e){this.evaluationMode=e,this.policy=v[e],this.invalidate()},e.setRestrictedFunctions=function(e){this.restrictedFunctions=e,this.invalidate()},e.setFunctionDefinition=function(e){this.functionDefinition=e,this.invalidate()},e.setPointsOfInterest=function(e){e!==d.pointsOfInterest&&(d.pointsOfInterest=e,this.invalidate())},e.setPlotSingleVariableImplicitEquations=function(e){e!==d.plotSingleVariableImplicitEquations&&(d.plotSingleVariableImplicitEquations=e,this.invalidate())},e._publishAllStatuses=function(){var e={},t=this.currentStatus;this.currentStatus={};for(var r in this.unpublishedIds)if(this.analysis.hasOwnProperty(r)){var n=this.analysis[r].evaluationState;JSON.stringify(n)!==JSON.stringify(t[r])&&(e[r]=n),this.currentStatus[r]=n}this.triggerStatusChange(e)},e._computeAllLabels=function(){for(var e in this.currentLabel){var t=this.statements[e];if(t){var r=y.interpolate(this.currentLabel[e],this.frame);r!==t.computedLabel&&(t.computedLabel=r,this.unpublishedIds[e]=!0)}}},e._graphAllChanged=function(){var e=this.getViewState();if(a.validateViewState(e)){for(var t in this.unpublishedIds)if(this.analysis.hasOwnProperty(t)){var r=this.analysis[t];if(r.rawTree.isTable)for(var n=r.graph(e),o=r.rawTree.getAllIds(),s=0;s<o.length;s++)n[o[s]]?this.triggerGraphComputed(o[s],n[o[s]]):this.triggerRemoveGraph(o[s]);else r.evaluationState.is_graphable&&(r.rawTree.userData.shouldGraph||r.rawTree.userData.showLabel)?(this.triggerGraphComputed(t,r.graph(e)),this.intersectIds.hasOwnProperty(t)&&this._updateIntersections(t)):this.triggerRemoveGraph(t)}if(i.keys(this.unpublishedIds).length)for(var u in this.intersectIds)this.unpublishedIds.hasOwnProperty(u)||this.intersectIds.hasOwnProperty(u)&&this._updateIntersections(u)}},e._updateIntersections=function(e){if(this.viewState){if(!this.analysis[e]||!this.analysis[e].shouldIntersect())return void this.triggerDidUpdateIntersections(e,[]);var t=g(this.analysis,this.viewState,e);this.triggerDidUpdateIntersections(e,t)}},e.addStatement=function(e){if(e){var t=e.id;this.markDirty(t);var r,n=this.policy.disabledFeatures();r=this.functionDefinition===!1?n.concat("FunctionDefinition"):n;var i={index:this.policy.ansEnabled()?e.index:void 0,disabledFeatures:r};switch(e.type){case"table":var a=[];this.statements.hasOwnProperty(t)&&(a=this.statements[t].getAllIds()),e.shouldGraph=!0;for(var h,f,p,m=e.columns,d=[],g=0,v=0;v<m.length;v++)g=Math.max(m[v].values.length,g);for(var b=0;b<m.length;b++){h=o.parse(m[b].latex,i),f=[];for(var x=-1,_=0;_<m[b].values.length;_++)m[b].values[_].replace(/\\\\space/g,"").match(/\\S/)?(f.push(o.parse(m[b].values[_],i)),x=_):f.push(s(NaN));f=f.slice(0,x+1),p=l(h,g,f),p.id=m[b].id,p.header&&(p.header.userData=m[b]),d.push(p)}this.statements[t]=c(d);var w=this,M=this.statements[t].getAllIds();a.forEach(function(e){M.indexOf(e)===-1&&w.triggerRemoveGraph(e)});break;case"image":this.statements[t]=u({x:o.parse(e.x,i),y:o.parse(e.y,i),width:o.parse(e.width,i),height:o.parse(e.height,i)});break;default:this.statements[t]=o.parse(e.latex,i)}if(this.statements[t].userData=e,e.label){var E=this.currentLabel[t];E&&E.raw===e.label||(this.currentLabel[t]=y.parse(e.label))}else delete this.currentLabel[t];this.markClean(e.id),this.markDirty(e.id)}},e.removeStatement=function(e){if(this.statements.hasOwnProperty(e)){var t=this.statements[e];if(this.markDirty(e),t.isTable){var r=this;t.getAllIds().forEach(function(e){r.triggerRemoveGraph(e)})}else this.triggerRemoveGraph(e);delete this.currentLabel[e],delete this.statements[e]}},e.invalidate=function(){for(var e in this.statements)this.statements.hasOwnProperty(e)&&this.markDirty(e,{});this.currentStatus={},this.parent_frame=Object.create(t(this.evaluationMode,this.restrictedFunctions)),this.parent_frame.trigAngleMultiplier=s(this.use_degrees?Math.PI/180:1),this.frame=Object.create(this.parent_frame),this.lastFrame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame)},e.buildSymbolToExpressionDirtyMap=function(){var e,t,r={};for(var n in this.statements)if(this.statements.hasOwnProperty(n)){var i=this.statements[n].getDependencies();for(e=0;e<i.length;e++)t=i[e],r[t]||(r[t]=[]),r[t].push(n);var a=this.statements[n].getExports();for(e=0;e<a.length;e++)t=a[e],r[t]||(r[t]=[]),r[t].push(n)}return r},e.markDirty=function(e,t){if(this.statements[e]&&!this.unanalyzedIds[e]){t||(t=this.buildSymbolToExpressionDirtyMap()),this.unanalyzedIds[e]=!0,this.unpublishedIds[e]=!0,delete this.analysis[e];for(var r=this.statements[e],n=r.getLegalExports(this.policy),i=0;i<n.length;i++)this.markSymbolDirty(n[i],t);if(r.isRegression){var a=this.lastFrame;this.invalidate(),this.lastFrame=a}}},e.markSymbolDirty=function(e,t){delete this.frame[e],delete this.regressionFrame[e];var r=t[e];if(r)for(var n=0;n<r.length;n++)this.markDirty(r[n],t)},e.markClean=function(e){delete this.unanalyzedIds[e]},e.getFrame=function(){return this.updateAnalysis(),this.frame},e.getAnalysis=function(){return this.updateAnalysis(),this.analysis},e.getStatus=function(e){if(this.updateAnalysis(),this.analysis[e])return this.analysis[e].status},e.getEvaluationState=function(e){if(this.updateAnalysis(),this.analysis[e])return this.analysis[e].evaluationState},e._updateRegressions=function(e){var t,r=this.frame,n=this.lastFrame,i=this.regressionFrame,a=[];for(t in e)e.hasOwnProperty(t)&&e[t].isRegression&&a.push(t);var o=this;a.sort(function(e,t){var r=o.statements[e].userData&&o.statements[e].userData.residualVariable,n=o.statements[t].userData&&o.statements[t].userData.residualVariable;return r&&!n?-1:n&&!r?1:0});var s=f(this.policy,e,a);b(s,i);for(var u=s.resolved,c={},l=0;l<u.length;l++)if(t=u[l],this.statements[t].isRegression)this.analysis[t]=e[t].analyze(this.policy,i,r,n,c),this.analysis[t].exportTo(this.policy,r),delete e[t];else{var h=e[t].tryGetConcreteTree(i);e[t].exportTo(this.policy,h,i),c[t]={rawTree:e[t],concreteTree:h}}},e.updateAnalysis=function(){var e,t={};for(e in this.unanalyzedIds)this.unanalyzedIds.hasOwnProperty(e)&&this.statements[e]&&(t[e]=this.statements[e]);"graphing"===this.evaluationMode&&this._updateRegressions(t);var r=this.analysis,n=this.frame,i=f(this.policy,t);b(i,n);for(var a=i.resolved,o=0;o<a.length;o++)switch(e=a[o],this.evaluationMode){case"fourFunction":r[e]=this.statements[e].analyzeFourFunction(this.policy,n,r),r[e].exportTo(this.policy,n);break;case"scientific":r[e]=this.statements[e].analyzeScientific(this.policy,n,r),r[e].exportTo(this.policy,n);break;case"neuteredScientific":r[e]=this.statements[e].analyzeNeuteredScientific(this.policy,n,r),r[e].exportTo(this.policy,n);break;case"graphing":if(n.r){var s=Object.create(n);if(s.r=h("r"),r[e]=this.statements[e].analyze(this.policy,s,r),r[e].getGraphMode()===m.POLAR){r[e].exportTo(this.policy,n);continue}}r[e]=this.statements[e].analyze(this.policy,n,r),r[e].exportTo(this.policy,n)}this.unanalyzedIds={},this.lastFrame=Object.create(this.parent_frame);for(var u in n)n.hasOwnProperty(u)&&(this.lastFrame[u]=n[u])},e.evaluateOnce=function(e){return r.log("Deprecated console.evaluateOnce - this should not run in production code"),this.analysis[e].concreteTree.constantValue},e.compile=function(e){return r.log("Deprecated console.compile - this should not run in production code"),this.analysis[e].concreteTree.getCompiledFunction()},e.evalStrings=function(e){return r.log("Deprecated console.evalStrings - this should not run in production code"),this.analysis[e].concreteTree.getEvalStrings()}})}),define("worker/workercore",["require","math/context","math/functions"],function(e){var t=e("math/context"),r=e("math/functions");return function(e){var n=t();return n.triggerGraphComputed=function(t,n){r.dehydrateGraphData(n),e("graphComputed",{id:t,graphData:n})},n.triggerDidUpdateIntersections=function(t,r){e("updateIntersections",{id:t,intersections:r})},n.triggerRender=function(){e("render")},n.triggerRenderSlowly=function(){e("renderSlowly")},n.triggerRemoveGraph=function(t){e("removeGraph",t)},n.triggerStatusChange=function(t){e("statusChange",t)},{processChangeSet:function(t){n.processChangeSet(t),e("processChangeSet",t)}}}}),define("worker/worker",["require","worker/workercore","console"],function(e){var t=e("worker/workercore"),r={},n=e("console");n.log=function(e){self.postMessage({log:JSON.stringify(e)})};var i=self;i.window=i,i.onmessage=function(e){var n=e.data&&e.data.connectionId;if(n)if("destroy"===e.data.originalMessage.type)delete r[n];else{var a=r[n];a||(a=t(function(e,t){i.postMessage({connectionId:n,originalMessage:{type:e,payload:t}})}),r[n]=a),a.processChangeSet(e.data.originalMessage)}},i.loadMessageQueue&&(i.loadMessageQueue.forEach(function(e){i.onmessage(e)}),delete i.loadMessageQueue)}),"undefined"==typeof window&&("undefined"==typeof requirejs&&(importScripts("../vendor/require.js"),importScripts("config.js")),self.loadMessageQueue=[],self.onmessage=function(e){self.loadMessageQueue.push(e)},requirejs(["worker/worker"])),define("toplevel/worker",function(){});';
    }),define("worker_src",["require","text!worker_src_underlying"],function(e){return e("text!worker_src_underlying")}),define("worker/create_worker_url",["require","worker_src"],function(e){var t=e("worker_src");return function(){if(window.MSBlobBuilder)return null;if(!t.length)return"/assets/generated/combined/toplevel/worker.js";var e;try{e=new Blob([t],{type:"application/javascript"})}catch(r){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,n=new i;n.append(t),e=n.getBlob("application/javascript")}catch(e){return null}}var r=window.URL||window.webkitURL;return r.createObjectURL(e)}}),define("underscore_model",["require","underscore","pjs"],function(e){var t=e("underscore"),i=e("pjs"),n=i(function(e){var i=0,n="guid_"+Math.round(1e6*Math.random())+"_"+(new Date).getTime()+"_";e.init=function(){this.__observers={},this.__eventObservers={},this.__oldProperties={},this.__propertyComparators={},this.guid=n+ ++i},e.unobserveAll=function(){this.__observers={},this.__eventObservers={}},e.getProperty=function(e){return this[e]},e.getOldProperty=function(e){return this.__oldProperties[e]},e.setProperty=function(e,i){var n=this[e];this[e]=i;var r=this.__propertyComparators[e];if(r){if(r(n,i))return}else if(t.isEqual(n,i))return;this.__oldProperties[e]=n,this.notifyPropertyChange(e)},e.setProperties=function(e){for(var t in e)e.hasOwnProperty(t)&&this.setProperty(t,e[t])},e.setPropertyComparator=function(e,t){this.__propertyComparators[e]=t},e.notifyPropertyChange=function(e){this.__callObservers(this.__observers,e,this)},e.observe=function(e,t){this.__addObservers(this.__observers,e,t)},e.unobserve=function(e){this.__removeObservers(this.__observers,e)},e.observeAndSync=function(e,t){this.observe(e,t);for(var i=e.split(" "),n=0;n<i.length;n++){var r=i[n].split("."),s=r[0];this.hasOwnProperty(s)&&t(s,this)}},e.triggerEvent=function(e,t){this.__callObservers(this.__eventObservers,e,t)},e.observeEvent=function(e,t){this.__addObservers(this.__eventObservers,e,t)},e.unobserveEvent=function(e){this.__removeObservers(this.__eventObservers,e)},e.__callObservers=function(e,t,i){var n=e[t];if(n)for(var r=0;r<n.length;r++)n[r].callback(t,i)},e.__removeObservers=function(e,t){for(var i=t.split(" "),n=0;n<i.length;n++){var r=i[n].split("."),s=r[0],o=r[1];if(s&&o){var a=e[s],l=[];if(!a)continue;for(var c=0;c<a.length;c++){var u=a[c];u.namespace!==o&&l.push(u)}e[s]=l}else if(s)delete e[s];else if(o)for(s in e)e.hasOwnProperty(s)&&this.__removeObservers(e,s+"."+o)}},e.__addObservers=function(e,t,i){for(var n=t.split(" "),r=0;r<n.length;r++){var s=n[r].split("."),o=s[0];if(!o)throw"Must supply a property to observe";var a=s[1],l={namespace:a,callback:i},c=e[o];c?c.push(l):e[o]=[l]}}});return n}),define("worker/fakeworker",["require","worker/workercore"],function(e){var t=e("worker/workercore");return function(e){function i(t,i){e({type:t,payload:i})}var n={},r=t(i);return n.postMessage=function(e){setTimeout(function(){r.processChangeSet(e)},0)},n}}),define("lib/urlparser",["require"],function(e){var t={getParameter:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[void 0,""])[1].replace(/\+/g,"%20"))||null}};return t}),define("worker/workerpool",["require","console","./create_worker_url","pjs","underscore_model","./fakeworker","underscore","lib/urlparser"],function(e){function t(e){return u?function(t){h=Math.max(Date.now(),h)+u,setTimeout(e,h-Date.now(),t)}:e}var i=e("console"),n=e("./create_worker_url"),r=e("pjs"),s=e("underscore_model"),o=e("./fakeworker"),a=e("underscore"),l=e("lib/urlparser"),c=l.getParameter("workerThrottle"),u=parseInt(c,10),h=0,d=r(s,function(e,r){e.init=function(e){r.init.call(this),this.workers=[],this.maxWorkers=e,this.workerURL=n()},e.allowedToSpawnWorker=function(){return this.workerURL&&this.workers.length<this.maxWorkers},e.killWorker=function(e){var t=a.indexOf(this.workers,e);t!==-1&&(e.terminate(),this.workers=a.without(this.workers,e),a.shuffle(a.values(e.__connections)).forEach(function(e){e&&e.onWorkerKilled&&e.onWorkerKilled()}))},e.spawnWorker=function(){try{var e=new Worker(this.workerURL);return e.__connections={},e.__isFake=!1,e.onerror=function(e){i.log(e)},e.addEventListener("message",t(function(t){var i=t.data;if((!i||!i.log)&&i&&i.connectionId){var n=e.__connections[i.connectionId];n&&n.onResponse(i.originalMessage)}})),this.workers.push(e),e}catch(e){return null}},e.spawnFakeWorker=function(){var e=o(t(function(t){a.values(e.__connections)[0].onResponse(t)}));return e.__isFake=!0,e.__connections={},e},e.findLeastUsedWorker=function(){var e=function(e){return a.size(e.__connections)},t=a.sortBy(this.workers,e)[0];return t},e.allocateWorker=function(){var e=null;return this.allowedToSpawnWorker()&&(e=this.spawnWorker()),e||(e=this.findLeastUsedWorker()),e||(e=this.spawnFakeWorker()),e}});return d}),define("worker/workerpoolconnection",["require","pjs","underscore_model"],function(e){var t=e("pjs"),i=e("underscore_model"),n=t(i,function(e,t){e.init=function(e){t.init.call(this),this.workerPool=e,this.worker=e.allocateWorker(),this.worker.__connections[this.guid]=this},e.destroy=function(){this.sendMessage({type:"destroy"}),delete this.worker.__connections[this.guid]},e.killWorker=function(){this.worker.__isFake||this.workerPool.killWorker(this.worker)},e.onWorkerKilled=function(){},e.onResponse=function(e){},e.sendMessage=function(e){this.worker.__isFake?this.worker.postMessage(e):this.worker.postMessage({connectionId:this.guid,originalMessage:e})}});return n}),define("main/evaluator",["require","math/functions","worker/workerpool","worker/workerpoolconnection","pjs","underscore_model","lib/deepCopy"],function(e){var t=e("math/functions"),i=e("worker/workerpool"),n=e("worker/workerpoolconnection"),r=e("pjs"),s=e("underscore_model"),o=e("lib/deepCopy").default,a=4e3,l=r(s,function(e,r){e.triggerStatusChange=function(e){},e.triggerRemove=function(e){},e.triggerGraphComputed=function(e,t){},e.triggerUpdateIntersections=function(e,t){},e.triggerRender=function(){},e.triggerRenderSlowly=function(){},e.init=function(e,t){r.init.call(this),this.__state={},this.changeSet=null,this.cumulativeChangeSet={},this.clearJobTimer(),this.syncId=1,this.undoRedo=t,e||(e=i()),this.workerPool=e,this.createWorkerPoolConnection(),this.syncRequests=[];var n=this;this.observeEvent("graphComputed",function(e,t){n.triggerGraphComputed(t.id,t.graphData)})},e.destroy=function(){this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){},this.workerPoolConnection.destroy())},e.createWorkerPoolConnection=function(){this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){}),this.workerPoolConnection=n(this.workerPool);var e=this;this.workerPoolConnection.onResponse=function(t){e.isSuspended()&&"processChangeSet"!==t.type||e.undoRedo.silent(function(){e.listeners[t.type].call(e,t.payload)})},this.workerPoolConnection.onWorkerKilled=function(){e.createWorkerPoolConnection(),e.resume(),e.hasJobInWorker()?(e.changeSet=o(e.cumulativeChangeSet),e.__state.changed=!0,e.__state.droppedMessage=!0,e.clearJobTimer()):(e.changeSet=o(e.cumulativeChangeSet),e.__state.changed=!1),e.processChangeSet()}},e.listeners={},e.listeners.processChangeSet=function(e){for(var t=e.syncId;this.syncRequests.length&&this.syncRequests[0].id<=t;){var i=this.syncRequests.shift();i.callback()}this.resume(),this.__state.droppedMessage=!1,this.clearJobTimer(),this.processChangeSet()},e.listeners.removeGraph=function(e){this.triggerRemove(e)},e.listeners.graphComputed=function(e){t.rehydrateGraphData(e.graphData),this.triggerEvent("graphComputed",e)},e.listeners.updateIntersections=function(e){this.triggerUpdateIntersections(e.id,e.intersections)},e.listeners.statusChange=function(e){this.triggerStatusChange(e)},e.listeners.render=function(){this.triggerRender()},e.listeners.renderSlowly=function(){this.triggerRenderSlowly()},e.isSuspended=function(){return this.__isSuspended},e.suspend=function(){this.__isSuspended=!0},e.resume=function(){this.__isSuspended=!1},e.clearJobTimer=function(){this.__jobStartTime=-1},e.startJobTimer=function(){this.__jobStartTime=(new Date).getTime()},e.hasJobInWorker=function(){return this.__jobStartTime!==-1},e.getJobElapsedTime=function(){return this.hasJobInWorker()?(new Date).getTime()-this.__jobStartTime:NaN},e.processChangeSet=function(){this.__state.changed&&this.changeSet&&this.changeSet.isCompleteState&&this.hasJobInWorker()&&this.suspend(),this.__processChangeSetRequested=!0},e.tick=function(){this.__processChangeSetRequested&&this._processChangeSet()},e._processChangeSet=function(){var e=this.getJobElapsedTime()>=a;if(this.__state.droppedMessage&&e)return void this.workerPoolConnection.killWorker();if(this.__state.changed&&this.changeSet)if(this.hasJobInWorker())this.changeSet.isCompleteState&&e&&this.workerPoolConnection.killWorker();else{var t=this.changeSet;this.changeSet=null,this.__state.changed=!1,this.startJobTimer(),this.workerPoolConnection.sendMessage(t),this.__processChangeSetRequested=!1}},e.applyToChangeSets=function(e){this.__state.changed=!0,this.changeSet||(this.changeSet={}),this.cumulativeChangeSet||(this.cumulativeChangeSet={}),e(this.changeSet),e(this.cumulativeChangeSet),this.processChangeSet()},e.setViewState=function(e){this.applyToChangeSets(function(t){t.viewState=o(e)})},e.markAsCompleteState=function(){this.applyToChangeSets(function(e){e.isCompleteState=!0})},e.addStatement=function(e){this.applyToChangeSets(function(t){t.statements||(t.statements={}),t.statements[e.id]=o(e)})},e.addStatements=function(e){for(var t=0;t<e.length;t++)this.addStatement(e[t])},e.removeStatement=function(e){this.applyToChangeSets(function(t){t.statements||(t.statements={}),t.statements[e]=null})},e.removeStatements=function(e){for(var t=0;t<e.length;t++)this.removeStatement(e[t])},e.setIntersectIds=function(e){this.applyToChangeSets(function(t){t.intersectIds=o(e)})},e.updateIntersections=function(e){this.applyToChangeSets(function(t){t.intersectId=e})},e.setDegreeMode=function(e){this.applyToChangeSets(function(t){t.degreeMode=e})},e.setEvaluationMode=function(e){this.applyToChangeSets(function(t){t.evaluationMode=e})},e.setRestrictedFunctions=function(e){this.applyToChangeSets(function(t){t.restrictedFunctions=e})},e.setFunctionDefinition=function(e){this.applyToChangeSets(function(t){t.functionDefinition=e})},e.setPointsOfInterest=function(e){this.applyToChangeSets(function(t){t.pointsOfInterest=e})},e.setPlotSingleVariableImplicitEquations=function(e){this.applyToChangeSets(function(t){t.plotSingleVariableImplicitEquations=e})},e.notifyWhenSynced=function(e){this.syncId++,this.syncRequests.push({id:this.syncId,callback:e});var t=this;this.applyToChangeSets(function(e){e.syncId=t.syncId})}});return l}),define("browser",["require","jquery"],function(e){var t=e("jquery"),i={IS_IE8:null!==navigator.userAgent.match(/MSIE 8.0/i),IS_IE9:null!==navigator.userAgent.match(/MSIE 9.0/i),IS_IE:null!==navigator.userAgent.match(/MSIE/i),IS_EDGE:null!==navigator.userAgent.match(/Edge/i),IS_IPAD:null!==navigator.userAgent.match(/iPad/i),IS_MOBILE:null!==navigator.userAgent.match(/Mobile|Android/i),IS_ANDROID:null!==navigator.userAgent.match(/Android/i),IS_IOS:null!==navigator.userAgent.match(/(iPad|iPhone|iPod)/i),IS_CHROME:null!==navigator.userAgent.match(/Chrome/i),IS_FIREFOX:null!==navigator.userAgent.match(/Firefox/i),IS_SAFARI:null!==navigator.userAgent.match(/^((?!chrome|android).)*safari/i),IS_APPLE:null!==navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),IS_WINDOWS:null!==navigator.platform.match(/(Win32)/i),IS_TOUCH:null!==navigator.userAgent.match(/Touch/i),IS_KINDLE:null!==navigator.userAgent.match(/Kindle/i)||null!==navigator.userAgent.match(/Silk/i),IS_BRAILLENOTE:null!==navigator.userAgent.match(/KeyWeb/i),IS_IN_IFRAME:window.parent!==window};return i.IS_TABLET=i.IS_IPAD||i.IS_ANDROID||i.IS_KINDLE,i.IS_TOUCH_DEVICE=i.SHOULD_NOT_AUTOFOCUS=i.IS_IOS||i.IS_ANDROID||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),i.IOS_VERSION=function(){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return e?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]:null}(),i.SUPPORTS_TRANSLATE3D=!1,t(document).ready(function(){var e,t,n=document.createElement("p"),r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(n,null);for(var s in r)if(void 0!==n.style[s]){if(n.style[s]="translate3d(1px,1px,1px)",t=window.getComputedStyle(n),!t)return;e=t.getPropertyValue(r[s])}document.body.removeChild(n),i.SUPPORTS_TRANSLATE3D=void 0!==e&&e.length>0&&"none"!==e}),i.translateRule=function(e,t){return i.SUPPORTS_TRANSLATE3D?"translate3d("+e+(e?"px":"")+","+t+(t?"px":"")+",0)":"translate("+e+(e?"px":"")+","+t+(t?"px":"")+")"},i.SUPPORTS_CANVAS=function(){var e=document.createElement("canvas"),t=!(!e.getContext||!e.getContext("2d"));return t}(),i}),define("graphing/viewport",["require"],function(e){function t(e,t,i,n){this.xmin=void 0!==e?e:-10,this.xmax=void 0!==t?t:10,this.ymin=void 0!==i?i:-10,this.ymax=void 0!==n?n:10}return t.prototype.toObject=function(){return{xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax}},t.fromObject=function(e){return new t(e.xmin,e.xmax,e.ymin,e.ymax)},t.prototype.equals=function(e){return this.xmin===e.xmin&&(this.ymin===e.ymin&&(this.xmax===e.xmax&&this.ymax===e.ymax))},t.prototype.isXValid=function(){return this.xmin*(1-1e-8)+1e-8*this.xmax>this.xmin},t.prototype.isYValid=function(){return this.ymin*(1-1e-8)+1e-8*this.ymax>this.ymin},t.prototype.isValid=function(){return this.isXValid()&&this.isYValid()},t.prototype.isSquare=function(e){return Math.abs(e.height-e.width*this.aspectRatio())<1},t.prototype.aspectRatio=function(){return(this.ymax-this.ymin)/(this.xmax-this.xmin)},t.prototype.squareXAxis=function(e){var i=this.xmax-this.xmin,n=this.ymax-this.ymin,r=this.xmin+i/2,s=n/e.height*e.width;return new t(r-s/2,r+s/2,this.ymin,this.ymax)},t.prototype.squareYAxis=function(e){var i=this.xmax-this.xmin,n=this.ymax-this.ymin,r=this.ymin+n/2,s=i/e.width*e.height;return new t(this.xmin,this.xmax,r-s/2,r+s/2)},t.prototype.squareCrop=function(e){var t=this.aspectRatio()>e.height/e.width;return t?this.squareYAxis(e):this.squareXAxis(e)},t.prototype.polarDiameter=function(){var e=Math.abs(this.xmax),t=Math.abs(this.xmin),i=Math.abs(this.ymax),n=Math.abs(this.ymin);return 1.5*Math.max(e,t,i,n)},t.prototype.largestR=function(){return Math.sqrt(Math.pow(Math.max(-this.xmin,this.xmax),2)+Math.pow(Math.max(-this.ymin,this.ymax),2))},t.prototype.smallestR=function(){return this.xmin<=0&&this.xmax>=0&&this.ymin<=0&&this.ymax>=0?0:this.xmin<=0&&this.xmax>=0?Math.min(Math.abs(this.ymin),Math.abs(this.ymax)):this.ymin<=0&&this.ymax>=0?Math.min(Math.abs(this.xmin),Math.abs(this.xmax)):Math.sqrt(Math.pow(Math.max(this.xmin,-this.xmax),2)+Math.pow(Math.max(this.ymin,-this.ymax),2))},t}),define("graphing/screen",["require"],function(e){function t(e,t){return this.width=e,this.height=t,this}return t}),define("graphing/axisarrowmode",{NONE:"NONE",POSITIVE:"POSITIVE",BOTH:"BOTH"}),define("main/font_sizes",{VERY_SMALL:9,SMALL:12,MEDIUM:16,LARGE:20,VERY_LARGE:24}),define("graphing/graph-defaults",["require","./axisarrowmode"],function(e){var t=e("./axisarrowmode"),i={showGrid:!0,showXAxis:!0,showYAxis:!0,xAxisStep:0,yAxisStep:0,xAxisMinorSubdivisions:0,yAxisMinorSubdivisions:0,xAxisArrowMode:t.NONE,yAxisArrowMode:t.NONE,xAxisLabel:"",yAxisLabel:"",xAxisNumbers:!0,yAxisNumbers:!0,polarMode:!1,polarNumbers:!0,degreeMode:!1,squareAxes:!0};return i}),define("main/graph_settings",["require","pjs","underscore","underscore_model","graphing/axisarrowmode","main/font_sizes","console","graphing/graph-defaults"],function(e){var t=e("pjs"),i=e("underscore"),n=e("underscore_model"),r=e("graphing/axisarrowmode"),s=e("main/font_sizes"),o=e("console"),a=e("graphing/graph-defaults"),l=t(n,function(e,t,c){e.init=function(){function e(e,t,i){function n(){o.setProperty(e,o.projectorMode?i:t)}o.cloneProperties.push(e),o.observe("projectorMode",n),n()}function i(e,t,i,n,r){function s(){var s;s=o.projectorMode?o.highlight?r:n:o.highlight?i:t,o.setProperty(e,s)}o.cloneProperties.push(e),o.observe("projectorMode highlight",s),s()}t.init.call(this),this.stateProperties=[],this.cloneProperties=[],this.config=new n;for(var r in a)a.hasOwnProperty(r)&&this.addStateProperty(r,a[r]);this.computedStepSizes={},this.instanceProperties=[],this.addInstanceProperty("fontSize",s.MEDIUM),this.addInstanceProperty("language","en"),this.addInstanceProperty("projectorMode",!1),this.addInstanceProperty("invertedColors",!1),this.addInstanceProperty("enableTabindex",!0),this.labelHangingColor="rgba(150,150,150,1)",this.labelNormalColor="rgba(0,0,0,1)",this.lastChangedAxis="x";var o=this;e("labelSize",14,19),e("majorAxisOpacity",.4,1),e("minorAxisOpacity",.12,.25),e("axisOpacity",1,1),e("axisLineWidth",1.5,2),e("axisLineOffset",.25,0),e("pixelsPerLabel",80,120),i("graphLineWidth",2.5,3,5,6),i("pointLineWidth",9,11,15,17)},e.addStateProperty=function(e,t){this[e]=t,this.stateProperties.push(e),this.cloneProperties.push(e)},e.addInstanceProperty=function(e,t){this[e]=t,this.instanceProperties.push(e)},c.fromObject=function(e){var t=l();return t.cloneProperties.forEach(function(i){e.hasOwnProperty(i)&&t.setProperty(i,e[i])}),t},e.registerCallbacks=function(e,t,i,n,r){var s=this;this.stateProperties.forEach(function(t){s.observe(t,function(){e.redrawAllLayers()}),s.observe(t,function(){var e=s.getProperty(t),i=s.getOldProperty(t);r.addTransaction({undo:function(){s.setProperty(t,i)},redo:function(){s.setProperty(t,e)}})})}),this.observe("squareAxes",function(){e.viewportController.enforceSquareAxes()}),this.observe("projectorMode",function(){i.toggleClass("dcg-PROJECTOR-MODE",!!s.projectorMode),t&&t.onProjectorModeChange(),e.redrawAllLayers()}),this.observe("degreeMode",function(){n.setDegreeMode(s.degreeMode)}),this.observe("fontSize",function(){i.css("fontSize",s.fontSize+"px")}),this.observe("invertedColors",function(){i.toggleClass("dcg-inverted-colors",!!s.invertedColors)}),this.observe("enableTabindex",function(){e.redrawAllLayers()}),this.config.observeAndSync("restrictedFunctions",function(){n.setRestrictedFunctions(s.config.restrictedFunctions)}),this.config.observeAndSync("pointsOfInterest",function(){n.setPointsOfInterest(s.config.pointsOfInterest)}),this.config.observeAndSync("plotSingleVariableImplicitEquations",function(){n.setPlotSingleVariableImplicitEquations(s.config.plotSingleVariableImplicitEquations)})};var u=function(e,t){var n;switch(e){case"xAxisMinorSubdivisions":case"yAxisMinorSubdivisions":n=Math.round(Math.min(Math.max(0,t),5)),t!==n&&o.warn("minorSubdivisions must be an integer between 0 and 5. You provided "+t+", which we changed to "+n+".");break;case"degreeMode":case"projectorMode":case"showGrid":case"showXAxis":case"showYAxis":case"xAxisNumbers":case"yAxisNumbers":case"polarNumbers":case"enableTabindex":case"invertedColors":n="false"!==t&&!!t,t!==n&&o.warn(e+" must be a Boolean. You provided "+t+" ("+typeof t+"), which we changed to "+n+" ("+typeof n+").");break;case"xAxisStep":case"yAxisStep":n=parseFloat(t),isFinite(t)||(n=0,o.warn(e+" must be a number. You provided "+t+", which we changed to "+n+"."));break;case"yAxisMinorSubdivisions":n=Math.round(Math.min(Math.max(0,t),5)),t!==n&&o.warn("minorSubdivisions must be an integer between 0 and 5. You provided "+t+", which we changed to "+n+".");break;case"xAxisArrowMode":case"yAxisArrowMode":n=r[t],n!==t&&(n=r.NONE,o.warn("unknown AxisArrowMode. Allowed values are: \n"+i.keys(r).join("\n")));break;case"xAxisLabel":case"yAxisLabel":n=t,"string"!=typeof t&&(n="",o.warn(e+" must be a string. you provided a "+typeof t+"."));break;case"fontSize":n=t,"number"!=typeof t&&(n=parseInt(n,10),o.warn("fontSize must be a number. Attempted to convert "+t+" to "+n+"."));break;case"language":n=t,"string"!=typeof t&&(n="",o.warn(e+" must be a string. you provided a "+typeof t+".")),window.Desmos.supportedLanguages.indexOf(t)<0&&"en"!==t&&(n="en",o.warn(t+" is not currently an available language."));break;default:n=t}return n};e._validateSettings=function(e){var t={},i=!1;for(var n in e)this.stateProperties.indexOf(n)>=0||this.instanceProperties.indexOf(n)>=0?t[n]=u(n,e[n]):(o.warn('Invalid graph setting "'+n+'".'),i=!0);return i&&o.warn("Available graph settings are: \n"+this.stateProperties.join("\n")),t},e.setGraphSettings=function(e){var t=this._validateSettings(e);for(var i in t)t.hasOwnProperty(i)&&this.setProperty(i,t[i])}});return l}),define("jquery.disabletextselection",["require","jquery"],function(e){var t=e("jquery");t.fn.disableTextSelection=function(e){return e&&this.each(function(){t(this).bind("mousedown touchstart",function(){t(document.activeElement).focusout()})}),this.each(function(){t(this).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}}),define("graphing/canvaslayer",["require","jquery","pjs","browser","i18n","jquery.disabletextselection"],function(e){var t=e("jquery"),i=e("pjs"),n=e("browser"),r=e("i18n");e("jquery.disabletextselection");var s=i(function(e){e.init=function(e){this.grapher=e,this.$=t("<div class='dcg-graph-outer' role='img'></div>").css("position","absolute").css("overflow","hidden").disableTextSelection(n.IS_IE),this.canvas_node=t("<canvas class='dcg-graph-inner'></canvas>").css("position","relative").css("display","block").disableTextSelection(n.IS_IE),this.devicePixelRatio=window.devicePixelRatio||1,this.ctx=this.canvas_node[0].getContext("2d"),this.resize(0,0),this.$.append(this.canvas_node)},e.resize=function(e,t,i){i=i||this.devicePixelRatio,e===this.width&&t===this.height||(this.width=e,this.height=t,this.$.css("width",e+"px").css("height",t+"px"),this.canvas_node.css("width",e+"px").css("height",t+"px").attr("width",e*i).attr("height",t*i),this.ctx=this.canvas_node[0].getContext("2d"),this.ctx.scale(i,i))},e.t=function(e,t){return r.t(e,t,this.grapher.settings.language)},e.getAriaLabel=function(e){var t="";if(0===e)return this.t("Empty graph paper.");t=1===e?this.t("Graph paper showing 1 graph."):this.t("Graph paper showing __count__ graphs.",{count:e});var i=this.grapher.getAudioTrace();if(i){var r=i.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!1});null!==r&&(t+=n.IS_APPLE?this.t(" Press OPTION+T for audio trace."):this.t(" Press ALT+T for audio trace."))}return t},e.updateAria=function(e,t){this.$.attr("aria-hidden",!e||!this.grapher.settings.config.graphpaper).attr("tabindex",e&&this.grapher.settings.config.graphpaper&&this.grapher.settings.enableTabindex&&t>0?0:-1).attr("aria-label",this.getAriaLabel(t))},e.redraw=function(){}});return s}),define("lib/inject-css",["require","underscore"],function(e){function t(e,t){var s=n[e];if(!s){s=document.createElement("style"),n[e]=s;var o=i.sortedIndex(r,e),a=n[r[o]];a?document.head.insertBefore(s,a):document.head.appendChild(s),r.splice(o,0,e)}s.textContent=t}var i=e("underscore"),n={},r=[];return t}),define("underscore-plugins",{}),define("loadcss",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("loadcss!poi",function(){}),define("graphing/clipping",[],function(){function e(e){return Math.max(-1e40,Math.min(1e40,e))}var t={TOP:1,BOTTOM:2,LEFT:4,RIGHT:8,ALL:15,X:12,Y:3,POLAR_RADIAN_EQUALITY:1,POLAR_RADIAN_INEQUALITY:2,POLAR_DEGREE_EQUALITY:3,POLAR_DEGREE_INEQUALITY:4,Y_EQUALS:5,X_EQUALS:6,mapSegmentToCanvas:function(e,i,n,r){var s,o,a,l,c,u=[],h=i.xmin,d=i.ymin,p=i.xmax-i.xmin,f=i.ymax-i.ymin,g=n.width,m=n.height,v=g/p,y=-m/f,b=e.length;if(r===t.Y_EQUALS)for(s=0;s<b;s+=2)o=(e[s]-h)*v-.5,a=(e[s+1]-d)*y+m-.5,u.push(o,a);else if(r===t.X_EQUALS)for(s=0;s<b;s+=2)o=(e[s+1]-h)*v-.5,a=(e[s]-d)*y+m-.5,u.push(o,a);else if(r===t.POLAR_RADIAN_EQUALITY)for(s=0;s<e.length;s+=2)l=e[s],c=e[s+1],o=(c*Math.cos(l)-h)*v-.5,a=(c*Math.sin(l)-d)*y+m-.5,u.push(o,a);else if(r===t.POLAR_RADIAN_INEQUALITY)for(s=0;s<e.length;s+=2)l=e[s],c=e[s+1],c<0&&(c=0),o=(c*Math.cos(l)-h)*v-.5,a=(c*Math.sin(l)-d)*y+m-.5,u.push(o,a);else if(r===t.POLAR_DEGREE_EQUALITY)for(s=0;s<e.length;s+=2)l=e[s]*Math.PI/180,c=e[s+1],o=(c*Math.cos(l)-h)*v-.5,a=(c*Math.sin(l)-d)*y+m-.5,u.push(o,a);else if(r===t.POLAR_DEGREE_INEQUALITY)for(s=0;s<e.length;s+=2)l=e[s]*Math.PI/180,c=e[s+1],c<0&&(c=0),o=(c*Math.cos(l)-h)*v-.5,a=(c*Math.sin(l)-d)*y+m-.5,u.push(o,a);return u},clipStrokeEdges:function(e,i){return t.clipFillEdges(e,i,t.ALL,!0)},clipFillEdge:function(e,t,i,n){var r,s,o,a,l=[],c=[].push;n?(s=e[0],o=e[1],r=2,a=t(s,o),a&&l.push(s,o)):(s=e[e.length-2],o=e[e.length-1],r=0,a=t(s,o));for(var u=r;u<e.length;u+=2){var h=s,d=o,p=a;s=e[u],o=e[u+1],a=t(s,o),(a||p)&&(a&&p&&l.push(s,o),a&&!p&&(c.apply(l,i(s,o,h,d)),l.push(s,o)),!a&&p&&c.apply(l,i(h,d,s,o)))}return l},clipFillEdges:function(i,n,r,s){var o=n.xmin,a=n.xmax,l=n.ymin,c=n.ymax,u=function(e,t){return e>=o},h=function(e,t){return e<=a},d=function(e,t){return t>=l},p=function(e,t){return t<=c},f=function(t,i,n,r){t=e(t),i=e(i),n=e(n),r=e(r);var s=r-i;return[o,i+s*(o-t)/(n-t)]},g=function(t,i,n,r){t=e(t),i=e(i),n=e(n),r=e(r);var s=r-i;return[a,i+s*(a-t)/(n-t)]},m=function(t,i,n,r){t=e(t),i=e(i),n=e(n),r=e(r);var s=n-t;return[t+s*(l-i)/(r-i),l]},v=function(t,i,n,r){t=e(t),i=e(i),n=e(n),r=e(r);var s=n-t;return[t+s*(c-i)/(r-i),c]},y=i;return r&t.LEFT&&(y=t.clipFillEdge(i,u,f,s)),r&t.BOTTOM&&(y=t.clipFillEdge(y,d,m,s)),r&t.RIGHT&&(y=t.clipFillEdge(y,h,g,s)),r&t.TOP&&(y=t.clipFillEdge(y,p,v,s)),y},clipAllFillEdges:function(e,i){return t.clipFillEdges(e,i,t.ALL,!1)},computePolarFill:function(e,t,i){var n,r=[],s=e[0],o=s+i,a=[];r.push(a);for(var l=0;l<e.length;l+=2){n=e[l];var c=e[l+1];if(c<0&&(c=0),n>=o){for(a=[],r.push(a),s=e[l-2],o=s;n>=o;)o+=i;l-=4}else a.push(n,c)}if(0===t)for(l=0;l<r.length;l++)r[l].push(0,0);else{var u=i/16,h=t;for(l=0;l<r.length;l++){var d=r[l];for(s=d[0],o=d[d.length-2],n=o;n>s;n-=u)d.push(n,h);d.push(s,h)}}return r},computeCartesianFill:function(e,t){return e=e.slice(),e.push(e[e.length-2],t),e.push(e[0],t),[e]}};return t}),define("graphing/constants",[],function(){return{ANIMATE_ZOOM_DURATION:500,DOUBLETAP_ZOOM:2,ZOOM_FACTOR:1.0625,MAX_DOTTED_SEGMENTS:1e3,STROKE_ALPHA:.7,HIGHLIGHTED_STROKE_ALPHA:1,FILL_ALPHA:.4,POINT_ALPHA:.9,HIGHLIGHTED_POINT_ALPHA:.6,POLAR_ALPHA:.2,POI_ALPHA:.01,OFFSCREEN_RENDER_MARGIN:20}}),define("graphing/dasheddrawer",["require","./constants","math/distance"],function(e){function t(e,t,n){return this.pattern=n,this.replen=this.pattern[0]+this.pattern[1],null!==t&&t/this.replen>i.MAX_DOTTED_SEGMENTS&&(this.pattern[0]=t*this.pattern[0]/this.replen/i.MAX_DOTTED_SEGMENTS,this.pattern[1]=t*this.pattern[1]/this.replen/i.MAX_DOTTED_SEGMENTS),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null,this.ctx=e,this}var i=e("./constants"),n=e("math/distance");return t.getTotalSegmentLength=function(e){if(e.length<4)return 0;for(var t=0,i=e[0],r=e[1],s=2;s<e.length;s+=2){var o=e[s],a=e[s+1];t+=n.hypot(o-i,a-r),i=o,r=a}return t},t.prototype.start=function(e,t){this.ctx.desmos_batching||this.ctx.beginPath(),this.px=e,this.py=t},t.prototype.next=function(e,t){var i=this.pattern[this.pstate],n=Math.sqrt(Math.pow(e-this.px,2)+Math.pow(t-this.py,2));if(n>1e-5){for(;n+this.dstaccum>=i;){var r=e-this.px,s=t-this.py,o=i-this.dstaccum;r*=o/n,s*=o/n,0===this.pstate&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(this.px+r,this.py+s)),this.dstaccum=0,this.px+=r,this.py+=s,this.pstate=1-this.pstate,i=this.pattern[this.pstate],n-=o}0===this.pstate&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(e,t))}this.px=e,this.py=t,this.dstaccum+=n},t.prototype.skip=function(e,t){this.px=e,this.py=t},t.prototype.close=function(){this.ctx.desmos_batching||this.ctx.stroke(),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null},t}),define("lib/color-helpers",["require","exports"],function(e,t){"use strict";function i(e,t){if(e.match(/^#([A-Fa-f0-9]{3})$/g)&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),!e.match(/^#([A-Fa-f0-9]{6})$/g))return e;t>1&&(t=1),t<-1&&(t=-1);var i=parseInt(e.slice(1),16),n=t<0?0:255,r=t<0?t*-1:t,s=i>>16,o=i>>8&255,a=255&i;return"#"+(16777216+65536*(Math.round((n-s)*r)+s)+256*(Math.round((n-o)*r)+o)+(Math.round((n-a)*r)+a)).toString(16).slice(1)}function n(e,t){var i=/(rgba\([\d]+\,\ ?[\d]+\,\ ?[\d]+\,\ ?)[\d.]+(\))/;return e.match(i)?e.replace(i,"$1"+t+"$2"):e}Object.defineProperty(t,"__esModule",{value:!0}),t.shadeColor=i,t.mutateOpacity=n,t.colors={RED:"#c74440",BLUE:"#2d70b3",GREEN:"#388c46",PURPLE:"#6042a6",ORANGE:"#fa7e19",BLACK:"#000000",GRAY:"#aaaaaa"}}),define("expressions/colors",["require","lib/color-helpers"],function(e){var t=e("lib/color-helpers").colors,i=[t.RED,t.BLUE,t.GREEN,t.PURPLE,t.ORANGE,t.BLACK];return{all:i,RED:t.RED,BLUE:t.BLUE,GREEN:t.GREEN,PURPLE:t.PURPLE,ORANGE:t.ORANGE,BLACK:t.BLACK}}),define("expressions/styles",["require"],function(e){return{POINT:"POINT",OPEN:"OPEN",CROSS:"CROSS",SOLID:"SOLID",DASHED:"DASHED",DOTTED:"DOTTED"}}),define("graphing/graphslayer",["require","pjs","./clipping","./dasheddrawer","./constants","./viewport","graphing/graphmode","expressions/colors","expressions/styles"],function(e){var t=e("pjs"),i=e("./clipping"),n=e("./dasheddrawer"),r=e("./constants"),s=e("./viewport"),o=e("graphing/graphmode"),a=e("expressions/colors"),l=e("expressions/styles"),c={},u=function(e){return new s(-3,e.width+3,-3,e.height+3)},h=t(function(e){e.init=function(e){if(e.config.plaidMode)for(var t in a)a.hasOwnProperty(t)&&"string"==typeof a[t]&&(c[a[t]]=document.createElement("img"),c[a[t]].setAttribute("src","/assets/img/april-fools/"+t.toLowerCase()+".png"))},e.redrawToCtx=function(e,t,i,n){if(void 0===n)throw new Error("Programming Error: missing drawOrder argument to redrawToCtx");n.forEach(function(n){var r=i[n];void 0!==r&&r.visible&&h.drawSketchToCtx(i[n],e,t)})}});return h.eachSegment=function(e,t){for(var i=0;i<e.branches.length;i++)for(var n=e.branches[i],r=0;r<n.segments.length;r++){var s=n.segments[r];t(n,s)}},h.drawSketchToCtx=function(e,t,i){if(e.branches&&e.branches.length){var n=t.lineWidth,s=c[e.color];if(s&&s.complete&&s.naturalWidth>0){var a=t.createPattern(s,"repeat");t.fillStyle=a}else t.fillStyle=e.color;t.strokeStyle=e.color,t.lineJoin="round",t.lineCap="round";var u=!!i.settings.takingScreenshot;h.eachSegment(e,function(e,n){!e.nakedLabel&&(e.graphMode===o.XYPOINT||e.graphMode===o.XYPOINT_MOVABLE&&u)&&h.drawPointsToCtx(t,i,n,e.style)});for(var d=0;d<e.branches.length;d++){var p=e.branches[d];if(p.graphMode!==o.XYPOINT&&p.graphMode!==o.XYPOINT_MOVABLE){t.desmos_batching=!0,t.beginPath();for(var f=0;f<p.segments.length;f++){var g=p.segments[f],m=o.Y;if(p.flip&&(m=o.X),p.graphMode&&(m=p.graphMode),m===o.POLYGONFILL)h.fillPolygonToCtx(t,i,g);else if(m!==o.IMPLICIT){var v=p.operator,y="<"==v||">"==v||"<="==v||">="==v||"\\leq"==v||"\\le"==v||"\\geq"==v||"\\ge"==v,b="<="==v||"<"==v||"\\leq"==v||"\\le"==v;y&&h.fillGraphStrokeToCtx(t,i,g,b,m)}}t.globalAlpha=r.FILL_ALPHA,t.fill(),t.globalAlpha=1,t.desmos_batching=!1}}t.lineWidth=i.settings.graphLineWidth,e.style===l.DOTTED&&(t.lineWidth=2*i.settings.graphLineWidth),h.eachSegment(e,function(n,r){if(n.graphMode!==o.XYPOINT&&n.graphMode!==o.XYPOINT_MOVABLE){var s=o.Y;n.flip&&(s=o.X),n.graphMode&&(s=n.graphMode);var a=n.operator,c="default";"<"==a||">"==a||"!="==a||e.style===l.DASHED?c=l.DASHED:e.style===l.DOTTED&&(c=l.DOTTED),h.drawGraphStrokeToCtx(t,i,r,c,s,a)}}),t.lineWidth=n}},h.drawGraphStrokeToCtx=function(e,t,s,o,a,c){e.globalAlpha=t.settings.highlight?r.HIGHLIGHTED_STROKE_ALPHA:r.STROKE_ALPHA;var d,p,f=h.getClippingGraphType(a,"="!==c,t.settings),g=i.mapSegmentToCanvas(s,t.viewport,t.screen,f),m=i.clipStrokeEdges(g,u(t.screen));
    if(o==l.DASHED){for(p=new n(e,n.getTotalSegmentLength(m),[11,7]),p.start(m[0],m[1]),d=2;d<m.length;d+=2)p.next(m[d],m[d+1]);p.close()}else if(o==l.DOTTED){for(p=t.settings.projectorMode?new n(e,n.getTotalSegmentLength(m),[.1,16]):new n(e,n.getTotalSegmentLength(m),[.1,8]),p.start(m[0],m[1]),d=2;d<m.length;d+=2)p.next(m[d],m[d+1]);p.close()}else{for(e.desmos_batching||e.beginPath(),e.moveTo(m[0],m[1]),d=0;d<m.length;d+=2)e.lineTo(m[d],m[d+1]);e.desmos_batching||e.stroke()}e.globalAlpha=1},h.mapPointToScreen=function(e,t,i){var n=20,r=e.mapx(t)-.5;if(r<-n||r>e.screen.width+n)return null;var s=e.mapy(i)-.5;return s<-n||s>e.screen.height+n?null:{x:r,y:s}},h.drawPointToCtx=function(e,t,i,n,s,o){var a,c=e.lineWidth,u=h.mapPointToScreen(t,i,n);return!!u&&(e.globalAlpha=t.settings.highlight?r.HIGHLIGHTED_POINT_ALPHA:r.POINT_ALPHA,s&&(e.globalAlpha=s),e.globalAlpha=r.POINT_ALPHA,e.desmos_batching||e.beginPath(),o===l.CROSS?(a=.4*t.settings.pointLineWidth,e.moveTo(u.x-a,u.y-a),e.lineTo(u.x+a,u.y+a),e.moveTo(u.x+a,u.y-a),e.lineTo(u.x-a,u.y+a),e.lineWidth=.3*t.settings.pointLineWidth):o===l.OPEN?(a=.42*t.settings.pointLineWidth,e.moveTo(u.x+a,u.y),e.arc(u.x,u.y,a,0,2*Math.PI,!0),e.closePath(),e.fillStyle="white",e.lineWidth=.25*t.settings.pointLineWidth,e.fill()):(e.moveTo(u.x-.1,u.y-.1),e.lineTo(u.x-.1,u.y+.1),e.lineTo(u.x+.1,u.y+.1),e.lineTo(u.x+.1,u.y-.1)),e.desmos_batching||e.stroke(),e.globalAlpha=1,e.lineWidth=c,!0)},h.drawPointsToCtx=function(e,t,i,n){var r=e.lineWidth;e.lineWidth=t.settings.pointLineWidth;for(var s=0;s<i.length;s++)h.drawPointToCtx(e,t,i[s][0],i[s][1],!1,n);e.lineWidth=r},h.fillGraphStrokeToCtx=function(e,t,n,s,a){e.globalAlpha=a===o.POLAR?r.POLAR_ALPHA:r.FILL_ALPHA;var l,c=null,d=null;if(a===o.POLAR){d=i.ALL;var p=s?0:t.viewport.polarDiameter(),f=t.settings.degreeMode?180:2*Math.PI;c=i.computePolarFill(n,p,f)}else a===o.Y?(d=i.Y,l=s?t.viewport.ymin:t.viewport.ymax,c=i.computeCartesianFill(n,l)):a===o.X&&(d=i.X,l=s?t.viewport.xmin:t.viewport.xmax,c=i.computeCartesianFill(n,l));for(var g=u(t.screen),m=0;m<c.length;m++){var v=h.getClippingGraphType(a,!0,t.settings),y=i.mapSegmentToCanvas(c[m],t.viewport,t.screen,v),b=i.clipFillEdges(y,g,d);if(b.length>=6){e.desmos_batching||e.beginPath(),e.moveTo(b[0],b[1]);for(var x=2;x<b.length;x+=2)e.lineTo(b[x],b[x+1]);e.lineTo(b[0],b[1]),e.desmos_batching||e.fill()}}e.globalAlpha=1},h.fillPolygonToCtx=function(e,t,n){e.globalAlpha=r.FILL_ALPHA;var s=u(t.screen),o=i.mapSegmentToCanvas(n,t.viewport,t.screen,i.Y_EQUALS),a=i.clipFillEdges(o,s,i.ALL);if(a.length>=6){e.desmos_batching||e.beginPath(),e.moveTo(a[0],a[1]);for(var l=2;l<a.length;l+=2)e.lineTo(a[l],a[l+1]);e.desmos_batching||e.fill()}e.globalAlpha=1},h.getClippingGraphType=function(e,t,n){switch(e){case o.X:return i.X_EQUALS;case o.IMPLICIT:case o.PARAMETRIC:case o.Y:return i.Y_EQUALS;case o.POLAR:return n.degreeMode?t?i.POLAR_DEGREE_INEQUALITY:i.POLAR_DEGREE_EQUALITY:t?i.POLAR_RADIAN_INEQUALITY:i.POLAR_RADIAN_EQUALITY}},h}),define("graphing/poidotslayer",["require","loadcss!poi","pjs","./graphslayer","./constants"],function(e){e("loadcss!poi");var t=e("pjs"),i=e("./graphslayer"),n=e("./constants"),r=t(function(e){e.init=function(){this.savedPOI=[]},e.redrawToCtx=function(e,t,i){var n=[];for(var s in i){var o=i[s];if(o.visible){o.showHighlight&&r.drawSketchHighlight(o,e,t);var a=o.getPOI();(o.showPOI||a.length&&a[0].isAttachedToPlottedPoint())&&n.push.apply(n,r.drawPOIs(a,e,"#AAAAAA",t))}}this.savedPOI=n},e.getDrawnPOI=function(){return this.savedPOI}});return r.drawSketchHighlight=function(e,t,n){n.settings.setProperty("highlight",!0),i.drawSketchToCtx(e,t,n),n.settings.setProperty("highlight",!1)},r.drawPOIs=function(e,t,r,s){t.lineWidth=s.settings.pointLineWidth,t.strokeStyle=r||"#AAAAAA",t.fillStyle=r||"#AAAAAA",t.lineJoin="round",t.lineCap="round";var o=t.globalAlpha;t.globalAlpha=n.POI_ALPHA;var a,l,c=[],u=e.length;if(u&&e[0].isAttachedToPlottedPoint())for(a=0;a<u;a++)l=e[a],i.mapPointToScreen(s,l.x,l.y)&&c.push(l);else for(a=0;a<u;a++)l=e[a],i.drawPointToCtx(t,s,l.x,l.y,n.POI_ALPHA)&&c.push(l);return t.globalAlpha=o,c},r}),define("graphing/domlayer",["require","pjs","jquery","browser","jquery.disabletextselection"],function(e){var t=e("pjs"),i=e("jquery"),n=e("browser");e("jquery.disabletextselection");var r=t(function(e){e.init=function(e){this.$=i("<div class='dcg-graph-outer'></div>").css("position","absolute").css("overflow","hidden").disableTextSelection(n.IS_IE),this.dom_node=i("<div></div>").css("position","relative").css("display","block").disableTextSelection(n.IS_IE),this.$root=e,this.$.append(this.dom_node)},e.addGlobalClass=function(e){this.$root.hasClass(e)||this.$root.addClass(e)},e.removeGlobalClass=function(e){this.$root.hasClass(e)&&this.$root.removeClass(e)},e.resize=function(e,t){e===this.width&&t===this.height||(this.width=e,this.height=t,this.$.css("width",e+"px").css("height",t+"px"),this.dom_node.css("width",e+"px").css("height",t+"px"))},e.redraw=function(){}});return r}),define("graphing/poi",["require","math/poi","./graphmode"],function(e){function t(e,t,i,n,s,o,a){this.x=e,this.y=t,this.type=i,this.sketch=n,this.branch=s,this.movablePointIdx=o,this.bareLabel=void 0!==a&&a,this.id=r++}var i=e("math/poi").default,n=e("./graphmode"),r=1;return t.prototype.getLabel=function(){var e=this.sketch&&this.sketch.branches[this.branch];return this.type===i.LABEL&&e?e.label||"":""},t.prototype.getGraphMode=function(){return this.sketch.branches[this.branch].graphMode},t.prototype.getCompiledFunction=function(){return this.sketch.branches[this.branch].compiled.fn},t.prototype.isAttachedToPlottedPoint=function(){return this.type===i.DEFINITION||this.type===i.LABEL},t.prototype.isMovable=function(){return this.getGraphMode()===n.XYPOINT_MOVABLE},t.prototype.isPersistent=function(){return this.type===i.LABEL},t.prototype.isBareLabel=function(){return this.bareLabel},t.prototype.getMovablePoint=function(){return this.sketch.getMovablePoints()[this.movablePointIdx]},t}),define("graphing/integral-image",["require","exports"],function(e,t){"use strict";function i(e,t,i){return Math.max(t,Math.min(i,e))}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=e.data,i=e.width,n=e.height;this.imageData=e;for(var r=1;r<i;r++)t[r]+=t[r-1];for(var s=1;s<n;s++)t[s*i]+=t[s*i-i];for(var o=i*n-i-n+1,a=i-1,l=0;l<o;l++){var r=1+l%a,s=1+Math.floor(l/a),c=s*i,u=r-1+c,h=r+c-i,d=r-1+c-i;t[c+r]+=t[u]+t[h]-t[d]}}return e.prototype.getSumForValidRect=function(e){var t=e.left-1,i=e.right-1,n=e.top-1,r=e.bottom-1,s=this.imageData.width,o=this.imageData.data,a=o[t+n*s],l=o[i+n*s],c=o[t+r*s],u=o[i+r*s];return t>=0&&n>=0?u-l-c+a:t>=0?u-c:n>=0?u-l:u},e.prototype.getSum=function(e){var t={left:i(Math.floor(e.left),0,this.imageData.width),right:i(Math.ceil(e.right),0,this.imageData.width),top:i(Math.floor(e.top),0,this.imageData.height),bottom:i(Math.ceil(e.bottom),0,this.imageData.height)};return t.left>=t.right||t.top>=t.bottom?0:this.getSumForValidRect(t)},e}();t.default=n}),define("graphing/automatic-label-placer",["require","exports","graphing/integral-image","underscore"],function(e,t,i,n){"use strict";function r(e,t){var n=t.width*t.height>0;if(!n)return new i.default({width:0,height:0,data:[]});y.width=0,y.width=Math.round(t.width*v),y.height=Math.round(t.height*v);var r=y.getContext("2d");r.save(),r.scale(y.width/e.canvas.width,y.height/e.canvas.height),r.drawImage(e.canvas,0,0),r.restore();var s=r.getImageData(0,0,y.width,y.height),o=s.data;o.length/4!==b.length,b=new Array(o.length/4);for(var a=b,l=0;l<a.length;l++)a[l]=o[4*l+3];var c=new i.default({width:s.width,height:s.height,data:a});return c}function s(e){for(var t=0;t<e.length;t++){var i=o(t,e);e[t]=[i]}return e.map(function(e){return e[0]})}function o(e,t){var i=1/0,n=-1,r=t[e];if(1===r.length)return r[0];for(var s=0;s<r.length;s++){var o=t[e][s].staticScore,l=a(e,s,t),c=o+l;(n===-1||c<i)&&(i=c,n=s)}return r[n]}function a(e,t,i){for(var n=0,r=i[e][t],s=0;s<i.length;s++)if(s!==e){for(var o=0,a=i[s],l=a.length-1;l>=0;l--){var c=a[l],u=Math.max(0,Math.min(r.right,c.right)-Math.max(r.left,c.left)),h=Math.max(0,Math.min(r.bottom,c.bottom)-Math.max(r.top,c.top));o+=u*h}n+=o/a.length}return n}function l(e,t){var i=t.getSum({left:e.left*v,right:e.right*v,top:e.top*v,bottom:e.bottom*v});return i/=200,i/=v*v}function c(e,t){var i=0;return t.forEach(function(t){i+=h(e,t)}),i}function u(e,t){var i=h(e,t);return 10*(e.width*e.height-i)}function h(e,t){var i=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left)),n=Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return i*n}function d(e,t,i){var n;return function(){return n||(n={domObstructions:i,viewport:{left:0,right:t.width,top:0,bottom:t.height},integralImage:r(e,t)}),n}}function p(e,t){if(!(t.length<=1))for(var i=e(),n=0,r=t;n<r.length;n++){var s=r[n];s.staticScore+=u(s,i.viewport),s.staticScore+=c(s,i.domObstructions),s.staticScore+=l(s,i.integralImage)}}function f(e,t){var i=t.pt_radius,r=Math.round(i/Math.sqrt(2)),s=[],o=t.pt_x,a=t.pt_y,l=t.width,c=t.height,u=0,h=400,d=1/0;s.push({left:o-l/2,top:a-c/2,staticScore:t.nakedLabel?u:d,orientation:"center"}),s.push({left:o+i+3,top:a-c/2,staticScore:h,orientation:"right"}),s.push({left:o-(i+l)-3,top:a-c/2,staticScore:h,orientation:"left"}),s.push({left:o-l/2,top:a-(c+i),staticScore:h,orientation:"top"}),s.push({left:o-(l+r),top:a-(c+r),staticScore:h,orientation:"tl"}),s.push({left:o+r,top:a-(c+r),staticScore:h,orientation:"tr"}),s.push({left:o-l/2,top:a+i,staticScore:h,orientation:"bottom"}),s.push({left:o-(l+r),top:a+r,staticScore:h,orientation:"bl"}),s.push({left:o+r,top:a+r,staticScore:h,orientation:"br"});var f=s.map(function(e){var i=Math.round(e.left),n=Math.round(e.left+l),r=Math.round(e.top),s=Math.round(e.top+c);return{pt_x:Math.round(o),pt_y:Math.round(a),left:i,right:n,top:r,bottom:s,width:n-i,height:s-r,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation}});return t.keepOrientation&&t.priorOrientation&&(f=n.filter(f,function(e){return e.orientation===t.priorOrientation})),p(e,f),f}function g(e,t){for(var i=[],r=t.width,s=t.height,o=r/2,a=s/2,l=t.pt_x1,c=t.pt_y1,u=t.pt_x2,h=t.pt_y2,d=5,f=(h-c)/(u-l),g=Math.atan2(h-c,u-l)+Math.PI/2,m=d*Math.cos(g),v=d*Math.sin(g),y=Math.min(c,h)-Math.abs(v)-s,b=Math.max(c,h)+Math.abs(v),x=[.5,.33,.66,0,1],_=[],w=0,S=x;w<S.length;w++){var E=S[w];_.push({x:l*(1-E)+u*E,y:c*(1-E)+h*E})}for(var k=0;k<_.length;k++){var T,C,I,P,A=_[k];if(f>=2||f<=-2){I=P=A.y-a;var M=Math.abs((u-l)/(h-c)*a)+Math.abs(m);T=A.x+M,C=A.x-M-r}else if(f<=.05&&f>=-.05){T=C=A.x-o;var O=Math.abs(f*o)+Math.abs(v);I=A.y-O-s,P=A.y+O}else m>0?(T=A.x+m,C=A.x-m-r):(T=A.x+m-r,C=A.x-m),v>0?(I=A.y+v,P=A.y-v-s):(I=A.y+v-s,P=A.y-v);I<y?I=y:I>b&&(I=b),P<y?P=y:P>b&&(P=b);var L=(u-l)*(I-c)-(h-c)*(T-l)>0;i.push({pt_x:A.x,pt_y:A.y,left:T,top:I,staticScore:0,orientation:k.toString()+(L?"-a":"-b")}),i.push({pt_x:A.x,pt_y:A.y,left:C,top:P,staticScore:0,orientation:k.toString()+(L?"-b":"-a")})}var D=i.map(function(e){var i=Math.round(e.left),n=Math.round(e.left+r),o=Math.round(e.top),a=Math.round(e.top+s);return{pt_x:Math.round(e.pt_x),pt_y:Math.round(e.pt_y),left:i,right:n,top:o,bottom:a,width:n-i,height:a-o,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation}});return t.keepOrientation&&t.priorOrientation&&(D=n.filter(D,function(e){return e.orientation===t.priorOrientation})),p(e,D),D}function m(e,t){var i=[],r=t.pt_x,s=t.pt_y,o=t.width,a=t.height,l=t.startAngle,c=t.endAngle;c<l&&(c+=2*Math.PI);var u=(l+c)/2,h=t.isRightAngle?t.radius*Math.sqrt(2):t.radius+4,d=h+Math.sqrt(t.width*t.width/4+t.height*t.height/4),f=[],g=d*Math.sin(u);g>h+.5*a&&(g=h+.5*a),g<-h-.5*a&&(g=-h-.5*a),f.push({x:r+d*Math.cos(u)-o/2,y:s+g-a/2});for(var m=0;m<f.length;m++){var v=f[m];i.push({pt_x:v.x,pt_y:v.y,left:v.x,top:v.y,staticScore:0,orientation:m.toString()+"-a"})}var y=i.map(function(e){var i=Math.round(e.left),n=Math.round(e.left+o),r=Math.round(e.top),s=Math.round(e.top+a);return{pt_x:Math.round(e.pt_x),pt_y:Math.round(e.pt_y),left:i,right:n,top:r,bottom:s,width:n-i,height:s-r,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation}});return t.keepOrientation&&t.priorOrientation&&(y=n.filter(y,function(e){return e.orientation===t.priorOrientation})),p(e,y),y}Object.defineProperty(t,"__esModule",{value:!0});var v=.5,y=document.createElement("canvas"),b=[];t.getIntegralImage=r,t.computePositions=s,t.buildStaticEnvGetter=d,t.generateCandidatesForPoint=f,t.generateCandidatesForSegment=g,t.generateCandidatesForAngle=m}),function(){function e(){}function t(e){var t=x.call(arguments,1);return function(){return e.apply(this,t)}}function i(e,t){if(!t)throw new Error("prayer failed: "+e)}function n(e){i("a direction was passed",e===w||e===S)}function r(){C||(C=!0,setTimeout(s))}function s(){C=!1,T={}}function o(e,t){var i=e[w];if(i)for(;i!==e[S][S];i=i[S]){var n=t(i);if(n===!1)break}}function a(e,t,i){var n=e[w];if(!n)return t;for(;n!==e[S][S];n=n[S])t=i(t,n);return t}function l(e,t,n){i("a parent is always present",e),i("leftward is properly set up",function(){return t?t[S]===n&&t.parent===e:e.ends[w]===n}()),i("rightward is properly set up",function(){return n?n[w]===t&&n.parent===e:e.ends[S]===t}())}function c(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')}function u(e){return c(),Ne(e)}function h(t){function i(e){if(!e||!e.nodeType)return null;var t=I.getNodeOfElement(E(e).children(".dcg-mq-root-block")[0]),i=t&&t.controller;return i?r[i.KIND_OF_MQ](i):null}function n(e,t){t&&t.handlers&&(t.handlers={fns:t.handlers,APIClasses:r});for(var i in t)if(t.hasOwnProperty(i)){var n=t[i],s=F[i];e[i]=s?s(n):n}}if(!(j<=t&&t<=$))throw"Only interface versions between "+j+" and "+$+" supported. You specified: "+t;var r={};i.L=w,i.R=S,i.saneKeyboardEvents=U,i.config=function(e){return n(N.p,e),this},i.registerEmbed=function(e,t){if(!/^[a-z][a-z0-9]*$/i.test(e))throw"Embed name must start with letter and be only letters and digits";V[e]=t};var s=r.AbstractMathQuill=_(R,function(e){e.init=function(e){this.__controller=e,this.__options=e.options,this.id=e.id,this.data=e.data},e.__mathquillify=function(e){var t=this.__controller,i=t.root,n=t.container;t.createTextarea();var r=n.addClass(e).contents().detach();i.jQ=E('<span class="dcg-mq-root-block"/>').appendTo(n),I.linkElementByBlockId(i.jQ[0],i.id),this.latex(r.text()),this.revert=function(){return n.empty().unbind(".mathquill").removeClass("dcg-mq-editable-field dcg-mq-math-mode dcg-mq-text-mode").append(r)}},e.config=function(e){return n(this.__options,e),this},e.el=function(){return this.__controller.container[0]},e.text=function(){return this.__controller.exportText()},e.mathspeak=function(){return this.__controller.exportMathSpeak()},e.latex=function(e){return arguments.length>0?(this.__controller.renderLatexMath(e),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},e.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?dcg-mq-cursor( dcg-mq-blink)?"?>.?<\/span>/i,"").replace(/ dcg-mq-hasCursor|dcg-mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},e.reflow=function(){return this.__controller.root.postOrder(function(e){e.reflow()}),this}});i.prototype=s.prototype,r.EditableField=_(s,function(t,i){t.__mathquillify=function(){return i.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},t.focus=function(){return this.__controller.textarea.focus(),this},t.blur=function(){return this.__controller.textarea.blur(),this},t.write=function(e){return this.__controller.writeLatex(e),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},t.cmd=function(e){var t=this.__controller.notify(),i=t.cursor;if(/^\\[a-z]+$/i.test(e)){e=e.slice(1);var n=A[e];n&&(e=n(e),i.selection&&e.replaces(i.replaceSelection()),e.createLeftOf(i.show()),this.__controller.scrollHoriz())}else i.parent.write(i,e);return t.blurred&&i.hide().parent.blur(),this},t.select=function(){var e=this.__controller;for(e.notify("move").cursor.insAtRightEnd(e.root);e.cursor[w];)e.selectLeft();return this},t.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},t.moveToDirEnd=function(e){return this.__controller.notify("move").cursor.insAtDirEnd(e,this.__controller.root),this},t.moveToLeftEnd=function(){return this.moveToDirEnd(w)},t.moveToRightEnd=function(){return this.moveToDirEnd(S)},t.keystroke=function(t){for(var t=t.replace(/^\s+|\s+$/g,"").split(/\s+/),i=0;i<t.length;i+=1)this.__controller.keystroke(t[i],{preventDefault:e});return this},t.typedText=function(e){for(var t=0;t<e.length;t+=1)this.__controller.typedText(e.charAt(t));return this},t.dropEmbedded=function(e,t,i){var n=e-E(window).scrollLeft(),r=t-E(window).scrollTop(),s=document.elementFromPoint(n,r);this.__controller.seek(E(s),e,t);var o=qe().setOptions(i);o.createLeftOf(this.__controller.cursor)},t.setAriaLabel=function(e){return e&&"string"==typeof e&&""!=e?this.__controller.ariaLabel=e:this.__controller.ariaLabel="MathQuill Input",this},t.getAriaLabel=function(){return this.__controller.ariaLabel||"MathQuill Input"},t.setAriaPostLabel=function(e){return e&&"string"==typeof e&&""!=e?this.__controller.ariaPostLabel=e:this.__controller.ariaPostLabel="",this},t.getAriaPostLabel=function(){return this.__controller.ariaPostLabel||""},t.clickAt=function(e,t,i){i=i||document.elementFromPoint(e,t);var n=this.__controller,r=n.root;return v.contains(r.jQ[0],i)||(i=r.jQ[0]),n.seek(E(i),e+pageXOffset,t+pageYOffset),n.blurred&&this.focus(),this},t.ignoreNextMousedown=function(e){return this.__controller.cursor.options.ignoreNextMousedown=e,this}}),i.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"},i.EditableField.prototype=r.EditableField.prototype;for(var o in q)(function(e,n){var s=r[e]=n(r);i[e]=function(n,r){var o=i(n);if(o instanceof s||!n||!n.nodeType)return o;var a=D(s.RootBlock(),E(n),N());return a.KIND_OF_MQ=e,s(a).__mathquillify(r,t)},i[e].prototype=s.prototype})(o,q[o]);return i}function d(e){for(var t="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "),i=0;i<t.length;i+=1)(function(t){e[t]=function(e){this.controller.handle(t,e)}})(t[i]);e.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}function p(e){var t=this.parent,i=e;do{if(i[S])return e.insLeftOf(t);i=i.parent.parent}while(i!==t);e.insRightOf(t)}function f(e,t){e.jQadd=function(){t.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")},e.reflow=function(){var e=this.contentjQ.outerHeight()/parseFloat(this.contentjQ.css("fontSize"));me(this.delimjQs,y(1+.2*(e-1),1.2),1.2*e)}}function g(e,i,n){var i=i||e,r=Oe[e],s=Oe[i];M[e]=t(Me,w,e,r,i,s),M[r]=t(Me,S,e,r,i,s),Le[e]=Le[r]=n}var m,v=window.jQuery,y=Math.min,b=Math.max;if(!v)throw"MathQuill requires jQuery 1.5.2+ to be loaded first";var x=[].slice,_=function(e,t,i){function n(e){return"object"==typeof e}function r(e){return"function"==typeof e}function s(){}return function o(a,l){function c(){var e=new u;return r(e.init)&&e.init.apply(e,arguments),e}function u(){}l===i&&(l=a,a=Object),c.Bare=u;var h,d=s[e]=a[e],p=u[e]=c[e]=c.p=new s;return p.constructor=c,c.extend=function(e){return o(c,e)},(c.open=function(e){if(h={},r(e)?h=e.call(c,p,d,c,a):n(e)&&(h=e),n(h))for(var i in h)t.call(h,i)&&(p[i]=h[i]);return r(p.init)||(p.init=a),c})(l)}}("prototype",{}.hasOwnProperty),w=-1,S=1,E=_(v,function(e){e.insDirOf=function(e,t){return e===w?this.insertBefore(t.first()):this.insertAfter(t.last())},e.insAtDirEnd=function(e,t){return e===w?this.prependTo(t):this.appendTo(t)}}),k=_(function(e){e.parent=0,e[w]=0,e[S]=0,e.init=function(e,t,i){this.parent=e,this[w]=t,this[S]=i},this.copy=function(e){return k(e.parent,e[w],e[S])}}),T={},C=!1,I=_(function(e){function t(){return i+=1}e[w]=0,e[S]=0,e.parent=0;var i=0;this.getNodeOfElement=function(e){if(e){if(!e.nodeType)throw new Error("must pass an HTMLElement to Node.getNodeOfElement");return e.mqBlockNode||e.mqCmdNode}},this.linkElementByBlockId=function(e,t){I.linkElementByBlockNode(e,T[t])},this.linkElementByBlockNode=function(e,t){e.mqBlockNode=t},this.linkElementByCmdNode=function(e,t){e.mqCmdNode=t},e.init=function(){this.id=t(),T[i]=this,r(i,this),this.ends={},this.ends[w]=0,this.ends[S]=0},e.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},e.jQ=E(),e.jQadd=function(e){return this.jQ=this.jQ.add(e)},e.jQize=function(e){function t(e){if(e.getAttribute){var i=e.getAttribute("mathquill-command-id");if(i){e.removeAttribute("mathquill-command-id");var n=T[i];n.jQadd(e),I.linkElementByCmdNode(e,n)}var r=e.getAttribute("mathquill-block-id");if(r){e.removeAttribute("mathquill-block-id");var s=T[r];s.jQadd(e),I.linkElementByBlockNode(e,s)}}for(e=e.firstChild;e;e=e.nextSibling)t(e)}for(var e=E(e||this.html()),i=0;i<e.length;i+=1)t(e[i]);return e},e.createDir=function(e,t){n(e);var i=this;return i.jQize(),i.jQ.insDirOf(e,t.jQ),t[e]=i.adopt(t.parent,t[w],t[S]),i},e.createLeftOf=function(e){return this.createDir(w,e)},e.selectChildren=function(e,t){return L(e,t)},e.bubble=function(e){for(var t=this;t;t=t.parent){var i=e(t);if(i===!1)break}return this},e.postOrder=function(e){return function t(i){i.eachChild(t),e(i)}(this),this},e.isEmpty=function(){return 0===this.ends[w]&&0===this.ends[S]},e.isStyleBlock=function(){return!1},e.children=function(){return P(this.ends[w],this.ends[S])},e.eachChild=function(e){return o(this.ends,e),this},e.foldChildren=function(e,t){return a(this.ends,e,t)},e.withDirAdopt=function(e,t,i,n){return P(this,this).withDirAdopt(e,t,i,n),this},e.adopt=function(e,t,i){return P(this,this).adopt(e,t,i),this},e.disown=function(){return P(this,this).disown(),this},e.remove=function(){return this.jQ.remove(),this.disown()},e.finalizeTree=function(){},e.contactWeld=function(){},e.blur=function(){},e.intentionalBlur=function(){},e.reflow=function(){},e.dispose=function(){},e.registerInnerField=function(){}}),P=_(function(e){e.init=function(e,t,r){if(r===m&&(r=w),n(r),i("no half-empty fragments",!e==!t),this.ends={},e){i("withDir is passed to Fragment",e instanceof I),i("oppDir is passed to Fragment",t instanceof I),i("withDir and oppDir have the same parent",e.parent===t.parent),this.ends[r]=e,this.ends[-r]=t;var s=this.fold([],function(e,t){return e.push.apply(e,t.jQ.get()),e});this.jQ=this.jQ.add(s)}},e.jQ=E(),e.withDirAdopt=function(e,t,i,n){return e===w?this.adopt(t,i,n):this.adopt(t,n,i)},e.adopt=function(e,t,i){l(e,t,i);var n=this;n.disowned=!1;var r=n.ends[w];if(!r)return this;var s=n.ends[S];return t||(e.ends[w]=r),i?i[w]=s:e.ends[S]=s,n.ends[S][S]=i,n.each(function(i){i[w]=t,i.parent=e,t&&(t[S]=i),t=i}),n},e.disown=function(){var e=this,t=e.ends[w];if(!t||e.disowned)return e;e.disowned=!0;var i=e.ends[S],n=t.parent;return l(n,t[w],t),l(n,i,i[S]),t[w]?t[w][S]=i[S]:n.ends[w]=i[S],i[S]?i[S][w]=t[w]:n.ends[S]=t[w],e},e.remove=function(){return this.jQ.remove(),this.disown()},e.each=function(e){return o(this.ends,e),this},e.fold=function(e,t){return a(this.ends,e,t)}}),A={},M={},O=_(k,function(e){e.init=function(e,t){this.parent=e,this.options=t;var i=this.jQ=this._jQ=E('<span class="dcg-mq-cursor">&#8203;</span>');this.blink=function(){i.toggleClass("dcg-mq-blink")},this.upDownCache={}},e.show=function(){return this.jQ=this._jQ.removeClass("dcg-mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[S]?this.selection&&this.selection.ends[w][w]===this[w]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[S].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},e.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=E(),this},e.withDirInsertAt=function(e,t,i,n){var r=this.parent;this.parent=t,this[e]=i,this[-e]=n,r!==t&&r.blur&&r.blur(this)},e.insDirOf=function(e,t){return n(e),this.jQ.insDirOf(e,t.jQ),this.withDirInsertAt(e,t.parent,t[e],t),this.parent.jQ.addClass("dcg-mq-hasCursor"),this},e.insLeftOf=function(e){return this.insDirOf(w,e)},e.insRightOf=function(e){return this.insDirOf(S,e)},e.insAtDirEnd=function(e,t){return n(e),this.jQ.insAtDirEnd(e,t.jQ),this.withDirInsertAt(e,t,0,t.ends[e]),t.focus(),this},e.insAtLeftEnd=function(e){return this.insAtDirEnd(w,e)},e.insAtRightEnd=function(e){return this.insAtDirEnd(S,e)},e.jumpUpDown=function(e,t){var i=this;i.upDownCache[e.id]=k.copy(i);var n=i.upDownCache[t.id];if(n)n[S]?i.insLeftOf(n[S]):i.insAtRightEnd(n.parent);else{var r=i.offset().left;t.seek(r,i)}W.queue(t,!0)},e.offset=function(){var e=this,t=e.jQ.removeClass("dcg-mq-cursor").offset();return e.jQ.addClass("dcg-mq-cursor"),t},e.unwrapGramp=function(){var e=this.parent.parent,t=e.parent,i=e[S],n=this,r=e[w];if(e.disown().eachChild(function(n){n.isEmpty()||(n.children().adopt(t,r,i).each(function(t){t.jQ.insertBefore(e.jQ.first())}),r=n.ends[S])}),!this[S])if(this[w])this[S]=this[w][S];else for(;!this[S];){if(this.parent=this.parent[S],!this.parent){this[S]=e[S],this.parent=t;break}this[S]=this.parent.ends[w]}this[S]?this.insLeftOf(this[S]):this.insAtRightEnd(t),e.jQ.remove(),e[w].siblingDeleted&&e[w].siblingDeleted(n.options,S),e[S].siblingDeleted&&e[S].siblingDeleted(n.options,w)},e.startSelection=function(){for(var e=this.anticursor=k.copy(this),t=e.ancestors={},i=e;i.parent;i=i.parent)t[i.parent.id]=i},e.endSelection=function(){delete this.anticursor},e.select=function(){var e=this.anticursor;if(this[w]===e[w]&&this.parent===e.parent)return!1;for(var t=this;t.parent;t=t.parent)if(t.parent.id in e.ancestors){var n=t.parent;break}i("cursor and anticursor in the same tree",n);var r,s,o=e.ancestors[n.id],a=S;if(t[w]!==o)for(var l=t;l;l=l[S])if(l[S]===o[S]){a=w,r=t,s=o;break}return a===S&&(r=o,s=t),r instanceof k&&(r=r[S]),s instanceof k&&(s=s[w]),this.hide().selection=n.selectChildren(r,s),this.insDirOf(a,this.selection.ends[a]),this.selectionChanged(),!0},e.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},e.deleteSelection=function(){this.selection&&(this[w]=this.selection.ends[w][w],this[S]=this.selection.ends[S][S],this.selection.remove(),this.selectionChanged(),delete this.selection)},e.replaceSelection=function(){var e=this.selection;return e&&(this[w]=e.ends[w][w],this[S]=e.ends[S][S],delete this.selection),e}}),L=_(P,function(e,t){e.init=function(){t.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="dcg-mq-selection"></span>').parent()},e.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),t.adopt.apply(this,arguments)},e.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},e.join=function(e,t){var i=t||"";return this.fold("",function(t,n){return t+i+n[e]()})}}),D=_(function(e){e.init=function(e,t,i){this.id=e.id,this.data={},this.root=e,this.container=t,this.options=i,this.ariaLabel="MathQuill Input",this.ariaPostLabel="",e.controller=this,this.cursor=e.cursor=O(e,i)},e.handle=function(e,t){var i=this.options.handlers;if(i&&i.fns[e]){var n=i.APIClasses[this.KIND_OF_MQ](this);t===w||t===S?i.fns[e](t,n):i.fns[e](n)}};var t=[];this.onNotify=function(e){t.push(e)},e.notify=function(){for(var e=0;e<t.length;e+=1)t[e].apply(this.cursor,arguments);return this}}),q={},N=_(),F={},R=_(),V={};u.prototype=R.p,u.VERSION="v0.10.1",u.interfaceVersion=function(e){if(1!==e)throw"Only interface version 1 supported. You specified: "+e;return c=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')},c(),u},u.getInterface=h;var j=h.MIN=1,$=h.MAX=2;u.noConflict=function(){return window.MathQuill=B,u};var B=window.MathQuill;window.MathQuill=u;var U=function(){function t(e){var t,n=e.which||e.keyCode,r=i[n],s=[];return e.ctrlKey&&s.push("Ctrl"),e.originalEvent&&e.originalEvent.metaKey&&s.push("Meta"),e.altKey&&s.push("Alt"),e.shiftKey&&s.push("Shift"),t=r||String.fromCharCode(n),s.length||r?(s.push(t),s.join("-")):t}var i={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"};return function(i,n){function r(e){w=e,clearTimeout(m),m=setTimeout(e)}function s(t){r(function(i){w=e,clearTimeout(m),t(i)})}function o(t){w(),w=e,clearTimeout(m),x.val(t),t&&x[0].select&&x[0].select(),S=!!t}function a(){var e=x[0];return"selectionStart"in e&&e.selectionStart!==e.selectionEnd}function l(){n.keystroke(t(y),y)}function c(e){y=e,b=null,S&&s(function(e){e&&"focusout"===e.type||!x[0].select||x[0].select()}),l()}function u(e){y&&b&&l(),b=e,r(d)}function h(e){y&&!b&&r(d)}function d(){if(!a()){var e=x.val();1===e.length?(x.val(""),n.typedText(e)):e&&x[0].select&&x[0].select()}}function p(){y=b=null}function f(e){x.focus(),r(g)}function g(){var e=x.val();x.val(""),e&&n.paste(e)}var m,y=null,b=null,x=v(i),_=v(n.container||x),w=e;_.bind("keydown keypress input keyup focusout paste",function(e){w(e)});var S=!1;return _.bind({keydown:c,keypress:u,keyup:h,focusout:p,cut:function(){s(function(){n.cut()})},copy:function(){s(function(){n.copy()})},paste:f}),{select:o}}}(),G=_(function(e,t,n){function r(e,t){throw e=e?"'"+e+"'":"EOF","Parse Error: "+t+" at "+e}e.init=function(e){this._=e},e.parse=function(e){function t(e,t){return t}return this.skip(a)._(""+e,t,r)},e.or=function(e){i("or is passed a parser",e instanceof n);var t=this;return n(function(i,n,r){function s(t){return e._(i,n,r)}return t._(i,n,s)})},e.then=function(e){var t=this;return n(function(r,s,o){function a(t,r){var a=e instanceof n?e:e(r);return i("a parser is returned",a instanceof n),a._(t,s,o)}return t._(r,a,o)})},e.many=function(){var e=this;return n(function(t,i,n){function r(e,i){return t=e,o.push(i),!0}function s(){return!1}for(var o=[];e._(t,r,s););return i(t,o)})},e.times=function(e,t){arguments.length<2&&(t=e);var i=this;return n(function(n,r,s){function o(e,t){return u.push(t),n=e,!0}function a(e,t){return c=t,n=e,!1}function l(e,t){return!1}for(var c,u=[],h=!0,d=0;d<e;d+=1)if(h=i._(n,o,a),!h)return s(n,c);for(;d<t&&h;d+=1)h=i._(n,o,l);return r(n,u)})},e.result=function(e){return this.then(o(e))},e.atMost=function(e){return this.times(0,e)},e.atLeast=function(e){var t=this;return t.times(e).then(function(e){return t.many().map(function(t){return e.concat(t)})})},e.map=function(e){return this.then(function(t){return o(e(t))})},e.skip=function(e){return this.then(function(t){return e.result(t)})};var s=(this.string=function(e){var t=e.length,i="expected '"+e+"'";return n(function(n,r,s){var o=n.slice(0,t);return o===e?r(n.slice(t),o):s(n,i)})},this.regex=function(e){i("regexp parser is anchored","^"===e.toString().charAt(1));
    var t="expected "+e;return n(function(i,n,r){var s=e.exec(i);if(s){var o=s[0];return n(i.slice(o.length),o)}return r(i,t)})}),o=n.succeed=function(e){return n(function(t,i){return i(t,e)})},a=(n.fail=function(e){return n(function(t,i,n){return n(t,e)})},n.letter=s(/^[a-z]/i),n.letters=s(/^[a-z]*/i),n.digit=s(/^[0-9]/),n.digits=s(/^[0-9]*/),n.whitespace=s(/^\s+/),n.optWhitespace=s(/^\s*/),n.any=n(function(e,t,i){return e?t(e.slice(1),e.charAt(0)):i(e,"expected any character")}),n.all=n(function(e,t,i){return t("",e)}),n.eof=n(function(e,t,i){return e?i(e,"expected EOF"):t(e,e)}))});D.open(function(e){e.focusBlurEvents=function(){function e(){clearTimeout(n),o.selection&&o.selection.jQ.addClass("dcg-mq-blur"),t()}function t(){o.hide().parent.blur(),r.container.removeClass("dcg-mq-focused"),E(window).unbind("blur",e)}function i(){var e=(r.ariaLabel+": "+s.mathspeak()+" "+r.ariaPostLabel).trim();W.jQ.empty(),r.textarea.attr("aria-label",e),r.container.attr("aria-label",e)}var n,r=this,s=r.root,o=r.cursor;r.textarea.focus(function(){i(),r.blurred=!1,clearTimeout(n),r.container.addClass("dcg-mq-focused"),o.parent||o.insAtRightEnd(s),o.selection?(o.selection.jQ.removeClass("dcg-mq-blur"),r.selectionChanged()):o.show()}).blur(function(){r.blurred=!0,n=setTimeout(function(){s.postOrder(function(e){e.intentionalBlur()}),o.clearSelection().endSelection(),t(),i()}),E(window).bind("blur",e)}),r.blurred=!0,o.hide().parent.blur()}}),D.open(function(e,t){e.exportText=function(){return this.root.foldChildren("",function(e,t){return e+t.text()})}}),D.open(function(t){N.p.ignoreNextMousedown=e;var i;this.onNotify(function(e){"edit"!==e&&"replace"!==e||!i||i()}),t.delegateMouseEvents=function(){var t=this.root.jQ;this.container.bind("mousedown.mathquill",function(n){function r(e){v=E(e.target)}function s(e){d.anticursor||d.startSelection(),h.seek(v,e.pageX,e.pageY).cursor.select(),d.selection&&W.clear().queue(d.selection.join("mathspeak")+" selected").alert(),v=m}function o(e){c.unbind("mousemove",r),E(e.target.ownerDocument).unbind("mousemove",s).unbind("mouseup",l),i=m}function a(){h.editable?(d.show(),W.queue(d.parent).alert()):f.detach()}function l(e){d.blink=p,d.selection||a(),o(e)}var c=E(n.target).closest(".dcg-mq-root-block"),u=I.getNodeOfElement(c[0])||I.getNodeOfElement(t[0]),h=u.controller,d=h.cursor,p=d.blink,f=h.textareaSpan,g=h.textarea;if(n.preventDefault(),n.target.unselectable=!0,!d.options.ignoreNextMousedown(n)){d.options.ignoreNextMousedown=e;var v,y;i=function(){y=!0,d.blink=p,d.clearSelection(),a(),o(n)},h.blurred&&(h.editable||c.prepend(f),g.focus(),y)||(d.blink=e,h.seek(E(n.target),n.pageX,n.pageY).cursor.startSelection(),c.mousemove(r),E(n.target.ownerDocument).mousemove(s).mouseup(l))}})}}),D.open(function(e){e.seek=function(e,t,n){var r,s=this.notify("select").cursor,o=e&&e[0];return o&&(r=I.getNodeOfElement(o),r||(r=I.getNodeOfElement(e.parentElement))),r||(r=this.root),i("nodeId is the id of some Node that exists",r),s.clearSelection().show(),r.seek(t,s),this.scrollHoriz(),this}}),D.open(function(e){e.keystroke=function(e,t){this.cursor.parent.keystroke(e,t,this)}}),I.open(function(e){e.keystroke=function(e,t,i){var n=i.cursor;switch(e){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":i.ctrlDeleteDir(w);break;case"Shift-Backspace":case"Backspace":i.backspace();break;case"Esc":case"Tab":return void i.escapeDir(S,e,t);case"Shift-Tab":case"Shift-Esc":return void i.escapeDir(w,e,t);case"End":i.notify("move").cursor.insAtRightEnd(n.parent),W.queue("end of").queue(n.parent,!0);break;case"Ctrl-End":i.notify("move").cursor.insAtRightEnd(i.root),W.queue("end of").queue(i.ariaLabel).queue(i.root).queue(i.ariaPostLabel);break;case"Shift-End":for(;n[S];)i.selectRight();break;case"Ctrl-Shift-End":for(;n[S]||n.parent!==i.root;)i.selectRight();break;case"Home":i.notify("move").cursor.insAtLeftEnd(n.parent),W.queue("beginning of").queue(n.parent,!0);break;case"Ctrl-Home":i.notify("move").cursor.insAtLeftEnd(i.root),W.queue("beginning of").queue(i.ariaLabel).queue(i.root).queue(i.ariaPostLabel);break;case"Shift-Home":for(;n[w];)i.selectLeft();break;case"Ctrl-Shift-Home":for(;n[w]||n.parent!==i.root;)i.selectLeft();break;case"Left":i.moveLeft();break;case"Shift-Left":i.selectLeft();break;case"Ctrl-Left":break;case"Right":i.moveRight();break;case"Shift-Right":i.selectRight();break;case"Ctrl-Right":break;case"Up":i.moveUp();break;case"Down":i.moveDown();break;case"Shift-Up":if(n[w])for(;n[w];)i.selectLeft();else i.selectLeft();case"Shift-Down":if(n[S])for(;n[S];)i.selectRight();else i.selectRight();case"Ctrl-Up":break;case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":i.ctrlDeleteDir(S);break;case"Shift-Del":case"Del":i.deleteForward();break;case"Meta-A":case"Ctrl-A":for(i.notify("move").cursor.insAtRightEnd(i.root);n[w];)i.selectLeft();break;case"Ctrl-Alt-Up":n.parent.parent&&n.parent.parent instanceof I?W.queue(n.parent.parent):W.queue("nothing above");break;case"Ctrl-Alt-Down":n.parent&&n.parent instanceof I?W.queue(n.parent):W.queue("block is empty");break;case"Ctrl-Alt-Left":n.parent.parent&&n.parent.parent.ends&&n.parent.parent.ends[w]&&n.parent.parent.ends[w]instanceof I?W.queue(n.parent.parent.ends[w]):W.queue("nothing to the left");break;case"Ctrl-Alt-Right":n.parent.parent&&n.parent.parent.ends&&n.parent.parent.ends[S]&&n.parent.parent.ends[S]instanceof I?W.queue(n.parent.parent.ends[S]):W.queue("nothing to the right");break;case"Ctrl-Alt-Shift-Down":n.selection?W.queue(n.selection.join("mathspeak"," ").trim()+" selected"):W.queue("nothing selected");break;case"Ctrl-Alt-=":case"Ctrl-Alt-Shift-Right":i.ariaPostLabel.length?W.queue(i.ariaPostLabel):W.queue("no answer");break;default:return}W.alert(),t.preventDefault(),i.scrollHoriz()},e.moveOutOf=e.moveTowards=e.deleteOutOf=e.deleteTowards=e.unselectInto=e.selectOutOf=e.selectTowards=function(){i("overridden or never called on this node")}}),D.open(function(e){function t(e,t){var i=e.notify("upDown").cursor,n=t+"Into",r=t+"OutOf";return i[S][n]?i.insAtLeftEnd(i[S][n]):i[w][n]?i.insAtRightEnd(i[w][n]):i.parent.bubble(function(e){var t=e[r];if(t&&("function"==typeof t&&(t=e[r](i)),t instanceof I&&i.jumpUpDown(e,t),t!==!0))return!1}),e}this.onNotify(function(e){"move"!==e&&"upDown"!==e||this.show().clearSelection()}),e.escapeDir=function(e,t,i){n(e);var r=this.cursor;if(r.parent!==this.root&&i.preventDefault(),r.parent!==this.root)return r.parent.moveOutOf(e,r),W.alert(),this.notify("move")},F.leftRightIntoCmdGoes=function(e){if(e&&"up"!==e&&"down"!==e)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+e+'"';return e},e.moveDir=function(e){n(e);var t=this.cursor,i=t.options.leftRightIntoCmdGoes;return t.selection?t.insDirOf(e,t.selection.ends[e]):t[e]?t[e].moveTowards(e,t,i):t.parent.moveOutOf(e,t,i),this.notify("move")},e.moveLeft=function(){return this.moveDir(w)},e.moveRight=function(){return this.moveDir(S)},e.moveUp=function(){return t(this,"up")},e.moveDown=function(){return t(this,"down")},this.onNotify(function(e){"upDown"!==e&&(this.upDownCache={})}),this.onNotify(function(e){"edit"===e&&this.show().deleteSelection()}),e.deleteDir=function(e){n(e);var t=this.cursor,i=t[e],r=t.parent.parent;if(i&&i instanceof I)i.sides?W.queue(i.parent.chToCmd(i.sides[-e].ch).mathspeak({createdLeftOf:t})):i.blocks||W.queue(i);else if(r&&r instanceof I)if(r.sides)W.queue(r.parent.chToCmd(r.sides[e].ch).mathspeak({createdLeftOf:t}));else if(r.blocks&&r.mathspeakTemplate)if(r.upInto&&r.downInto)W.queue(r.mathspeakTemplate[1]);else{var s=r.mathspeakTemplate,o=e===w?s[0]:s[s.length-1];W.queue(o)}else W.queue(r);var a=t.selection;return this.notify("edit"),a||(t[e]?t[e].deleteTowards(e,t):t.parent.deleteOutOf(e,t)),t[w].siblingDeleted&&t[w].siblingDeleted(t.options,S),t[S].siblingDeleted&&t[S].siblingDeleted(t.options,w),t.parent.bubble(function(e){e.reflow()}),this},e.ctrlDeleteDir=function(e){n(e);var t=this.cursor;if(!t[e]||t.selection)return this.deleteDir(e);this.notify("edit");var i;return i=e===w?P(t.parent.ends[w],t[w]):P(t[S],t.parent.ends[S]),W.queue(i),i.remove(),t.insAtDirEnd(e,t.parent),t[w].siblingDeleted&&t[w].siblingDeleted(t.options,S),t[S].siblingDeleted&&t[S].siblingDeleted(t.options,w),t.parent.bubble(function(e){e.reflow()}),this},e.backspace=function(){return this.deleteDir(w)},e.deleteForward=function(){return this.deleteDir(S)},this.onNotify(function(e){"select"!==e&&this.endSelection()}),e.selectDir=function(e){var t=this.notify("select").cursor,i=t.selection;n(e),t.anticursor||t.startSelection();var r=t[e];r?i&&i.ends[e]===r&&t.anticursor[-e]!==r?r.unselectInto(e,t):r.selectTowards(e,t):t.parent.selectOutOf(e,t),t.clearSelection(),t.select()||t.show(),t.selection&&W.clear().queue(t.selection.join("mathspeak"," ").trim()+" selected")},e.selectLeft=function(){return this.selectDir(w)},e.selectRight=function(){return this.selectDir(S)}}),D.open(function(e){N.p.substituteTextarea=function(){return E("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true/>")[0]},e.createTextarea=function(){var e=this.textareaSpan=E('<span class="dcg-mq-textarea"></span>'),t=this.options.substituteTextarea();if(!t.nodeType)throw"substituteTextarea() must return a DOM element, got "+t;t=this.textarea=E(t).appendTo(e);var i=this;i.cursor.selectionChanged=function(){i.selectionChanged()}},e.selectionChanged=function(){var e=this;ye(e.container[0]),e.textareaSelectionTimeout===m&&(e.textareaSelectionTimeout=setTimeout(function(){e.setTextareaSelection()}))},e.setTextareaSelection=function(){this.textareaSelectionTimeout=m;var e="";this.cursor.selection&&(e=this.cleanLatex(this.cursor.selection.join("latex")),this.options.statelessClipboard&&(e="$"+e+"$")),this.selectFn(e)},e.staticMathTextareaEvents=function(){function e(){s.detach(),t.blurred=!0}var t=this,i=t.root,n=t.cursor,r=t.textarea,s=t.textareaSpan;this.container.prepend('<span aria-hidden="true" class="dcg-mq-selectable">$'+t.exportLatex()+"$</span>"),t.blurred=!0,r.bind("cut paste",!1).bind("copy",function(){t.setTextareaSelection()}).focus(function(){t.blurred=!1}).blur(function(){n.selection&&n.selection.clear(),setTimeout(e)}),t.selectFn=function(e){r.val(e),e&&r.select()},t.container.attr("aria-label",i.mathspeak().trim())},N.p.substituteKeyboardEvents=U,e.editablesTextareaEvents=function(){var e=this,t=e.textarea,i=e.textareaSpan,n=this.options.substituteKeyboardEvents(t,this);this.selectFn=function(e){n.select(e)},this.container.prepend(i),this.focusBlurEvents()},e.typedText=function(e){if("\n"===e)return this.handle("enter");var t=this.notify().cursor;t.parent.write(t,e),this.scrollHoriz()},e.cut=function(){var e=this,t=e.cursor;t.selection&&setTimeout(function(){e.notify("edit"),t.parent.bubble(function(e){e.reflow()})})},e.copy=function(){this.setTextareaSelection()},e.paste=function(e){this.options.statelessClipboard&&(e="$"===e.slice(0,1)&&"$"===e.slice(-1)?e.slice(1,-1):"\\text{"+e+"}"),this.writeLatex(e).cursor.show()}});var z=function(){function e(e){var t=J();return e.adopt(t,0,0),t}function t(e){for(var t=e[0]||J(),i=1;i<e.length;i+=1)e[i].children().adopt(t,t.ends[S],0);return t}var i=G.string,n=G.regex,r=G.letter,s=G.any,o=G.optWhitespace,a=G.succeed,l=G.fail,c=r.map(function(e){return ne(e)}),u=n(/^[^${}\\_^]/).map(function(e){return K(e)}),h=n(/^[^\\a-eg-zA-Z]/).or(i("\\").then(n(/^[a-z]+/i).or(n(/^\s+/).result(" ")).or(s))).then(function(e){var t=A[e];return t?t(e).parser():l("unknown command: \\"+e)}),d=h.or(c).or(u),p=i("{").then(function(){return g}).skip(i("}")),f=o.then(p.or(d.map(e))),g=f.many().map(t).skip(o),m=i("[").then(f.then(function(e){return"]"!==e.join("latex")?a(e):l()}).many().map(t).skip(o)).skip(i("]")),v=g;return v.block=f,v.optBlock=m,v}();D.open(function(e,t){e.cleanLatex=function(e){return e.replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},e.exportLatex=function(){return this.cleanLatex(this.root.latex())},e.writeLatex=function(e){var t=this.notify("edit").cursor,i=G.all,n=G.eof,r=z.skip(n).or(i.result(!1)).parse(e);if(r&&!r.isEmpty()){r.children().adopt(t.parent,t[w],t[S]);var s=r.jQize();s.insertBefore(t.jQ),t[w]=r.ends[S],r.finalizeInsert(t.options,t),r.ends[S][S].siblingCreated&&r.ends[S][S].siblingCreated(t.options,w),r.ends[w][w].siblingCreated&&r.ends[w][w].siblingCreated(t.options,S),t.parent.bubble(function(e){e.reflow()})}return this},e.renderLatexMath=function(e){this.notify("replace");var t=this.root,i=this.cursor,n=G.all,r=G.eof,s=z.skip(r).or(n.result(!1)).parse(e);t.eachChild(function(e){e.postOrder(function(e){e.dispose()})}),t.ends[w]=t.ends[S]=0,s&&s.children().adopt(t,0,0);var o=t.jQ;if(s){var a=s.join("html");o.html(a),t.jQize(o.children()),t.finalizeInsert(i.options)}else o.empty();this.container.attr("aria-label",t.mathspeak().trim()),delete i.selection,i.insAtRightEnd(t)},e.renderLatexText=function(e){var t=this.root,i=this.cursor;t.jQ.children().slice(1).remove(),t.ends[w]=t.ends[S]=0,delete i.selection,i.show().insAtRightEnd(t);var n=G.regex,r=G.string,s=G.eof,o=G.all,a=r("$").then(z).skip(r("$").or(s)).map(function(e){var t=RootMathCommand(i);t.createBlocks();var n=t.ends[w];return e.children().adopt(n,0,0),t}),l=r("\\$").result("$"),c=l.or(n(/^[^$]/)).map(K),u=a.or(c).many(),h=u.skip(s).or(o.result(!1)).parse(e);if(h){for(var d=0;d<h.length;d+=1)h[d].adopt(t,t.ends[S],0);t.jQize().appendTo(t.jQ),t.finalizeInsert(i.options)}}}),D.open(function(e){e.scrollHoriz=function(){var e=this.cursor,t=e.selection,i=this.root.jQ[0].getBoundingClientRect();if(t){var n=t.jQ[0].getBoundingClientRect(),r=n.left-(i.left+20),s=n.right-(i.right-20);if(t.ends[w]===e[S])if(r<0)var o=r;else{if(!(s>0))return;if(n.left-s<i.left+20)var o=r;else var o=s}else if(s>0)var o=s;else{if(!(r<0))return;if(n.right-r>i.right-20)var o=s;else var o=r}}else{var a=e.jQ[0].getBoundingClientRect().left;if(a>i.right-20)var o=a-(i.right-20);else{if(!(a<i.left+20))return;var o=a-(i.left+20)}}this.root.jQ.stop().animate({scrollLeft:"+="+o},100)}});var H=_(function(e){e.init=function(){this.jQ=v([]),v(document).ready(function(){var e=".dcg-mq-aria-alert";v(e).length||v("body").append("<p aria-live='assertive' aria-atomic='true' class='dcg-mq-aria-alert'></p>"),this.jQ=v(e)}.bind(this)),this.items=[],this.msg=""},e.queue=function(e,t){return e instanceof I&&(e=t?e.parent&&e.parent.ariaLabel&&"block"===e.ariaLabel?e.parent.ariaLabel+" "+e.mathspeak():e.ariaLabel?e.ariaLabel+" "+e.mathspeak():e.mathspeak():e.mathspeak()),this.items.push(e),this},e.queueDirOf=function(e){return n(e),this.queue(e===w?"before":"after")},e.queueDirEndOf=function(e){return n(e),this.queue(e===w?"beginning of":"end of")},e.alert=function(e){return e&&this.queue(e),this.items.length&&(this.msg=this.items.join(" ").replace(/ +(?= )/g,"").trim(),this.jQ.empty().text(this.msg)),this.clear()},e.clear=function(){return this.items.length=0,this}}),W=H();D.open(function(e){e.aria=W,e.exportMathSpeak=function(){return this.root.mathspeak()}});var Y=_(I,function(e,t){e.finalizeInsert=function(e,t){var i=this;i.postOrder(function(t){t.finalizeTree(e)}),i.postOrder(function(e){e.contactWeld(t)}),i.postOrder(function(e){e.blur()}),i.postOrder(function(e){e.reflow()}),i[S].siblingCreated&&i[S].siblingCreated(e,w),i[w].siblingCreated&&i[w].siblingCreated(e,S),i.bubble(function(e){e.reflow()})}}),X=_(Y,function(e,t){e.init=function(e,i,n){var r=this;t.init.call(r),r.ctrlSeq||(r.ctrlSeq=e),i&&(r.htmlTemplate=i),n&&(r.textTemplate=n)},e.replaces=function(e){e.disown(),this.replacedFragment=e},e.isEmpty=function(){return this.foldChildren(!0,function(e,t){return e&&t.isEmpty()})},e.parser=function(){var e=z.block,t=this;return e.times(t.numBlocks()).map(function(e){t.blocks=e;for(var i=0;i<e.length;i+=1)e[i].adopt(t,t.ends[S],0);return t})},e.createLeftOf=function(e){var i=this,n=i.replacedFragment;i.createBlocks(),t.createLeftOf.call(i,e),n&&(n.adopt(i.ends[w],0,0),n.jQ.appendTo(i.ends[w].jQ)),i.finalizeInsert(e.options),i.placeCursor(e)},e.createBlocks=function(){for(var e=this,t=e.numBlocks(),i=e.blocks=Array(t),n=0;n<t;n+=1){var r=i[n]=J();r.adopt(e,e.ends[S],0)}},e.placeCursor=function(e){e.insAtRightEnd(this.foldChildren(this.ends[w],function(e,t){return e.isEmpty()?e:t}))},e.moveTowards=function(e,t,i){var n=i&&this[i+"Into"];t.insAtDirEnd(-e,n||this.ends[-e]),W.queueDirEndOf(-e).queue(t.parent,!0)},e.deleteTowards=function(e,t){this.isEmpty()?t[e]=this.remove()[e]:this.moveTowards(e,t,null)},e.selectTowards=function(e,t){t[-e]=this,t[e]=this[e]},e.selectChildren=function(){return L(this,this)},e.unselectInto=function(e,t){t.insAtDirEnd(-e,t.anticursor.ancestors[this.id])},e.seek=function(e,t){function i(e){var t={};return t[w]=e.jQ.offset().left,t[S]=t[w]+e.jQ.outerWidth(),t}var n=this,r=i(n);if(e<r[w])return t.insLeftOf(n);if(e>r[S])return t.insRightOf(n);var s=r[w];n.eachChild(function(o){var a=i(o);return e<a[w]?(e-s<a[w]-e?o[w]?t.insAtRightEnd(o[w]):t.insLeftOf(n):t.insAtLeftEnd(o),!1):e>a[S]?void(o[S]?s=a[S]:r[S]-e<e-a[S]?t.insRightOf(n):t.insAtRightEnd(o)):(o.seek(e,t),!1)})},e.numBlocks=function(){var e=this.htmlTemplate.match(/&\d+/g);return e?e.length:0},e.html=function(){var e=this,t=e.blocks,n=" mathquill-command-id="+e.id,r=e.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);i("no unmatched angle brackets",r.join("")===this.htmlTemplate);for(var s=0,o=r[0];o;s+=1,o=r[s])if("/>"===o.slice(-2))r[s]=o.slice(0,-2)+n+' aria-hidden="true"/>';else if("<"===o.charAt(0)){i("not an unmatched top-level close tag","/"!==o.charAt(1)),r[s]=o.slice(0,-1)+n+' aria-hidden="true">';var a=1;do s+=1,o=r[s],i("no missing close tags",o),"</"===o.slice(0,2)?a-=1:"<"===o.charAt(0)&&"/>"!==o.slice(-2)&&(a+=1);while(a>0)}return r.join("").replace(/>&(\d+)/g,function(e,i){return" mathquill-block-id="+t[i].id+' aria-hidden="true">'+t[i].join("html")})},e.latex=function(){return this.foldChildren(this.ctrlSeq,function(e,t){return e+"{"+(t.latex()||" ")+"}"})},e.textTemplate=[""],e.text=function(){var e=this,t=0;return e.foldChildren(e.textTemplate[t],function(i,n){t+=1;var r=n.text();return i&&"("===e.textTemplate[t]&&"("===r[0]&&")"===r.slice(-1)?i+r.slice(1,-1)+e.textTemplate[t]:i+r+(e.textTemplate[t]||"")})},e.mathspeakTemplate=[],e.mathspeak=function(){var e=this,t=0;return e.foldChildren(e.mathspeakTemplate[t]||"Start"+e.ctrlSeq+" ",function(i,n){return t+=1,i+" "+n.mathspeak()+" "+(e.mathspeakTemplate[t]+" "||"End"+e.ctrlSeq+" ")})}}),Q=_(X,function(t,i){t.init=function(e,t,n,r){n||(n=e&&e.length>1?e.slice(1):e),this.mathspeakName=r||n,i.init.call(this,e,t,[n])},t.parser=function(){return G.succeed(this)},t.numBlocks=function(){return 0},t.replaces=function(e){e.remove()},t.createBlocks=e,t.moveTowards=function(e,t){t.jQ.insDirOf(e,this.jQ),t[-e]=this,t[e]=this[e],W.queue(this)},t.deleteTowards=function(e,t){t[e]=this.remove()[e]},t.seek=function(e,t){e-this.jQ.offset().left<this.jQ.outerWidth()/2?t.insLeftOf(this):t.insRightOf(this)},t.latex=function(){return this.ctrlSeq},t.text=function(){return this.textTemplate.join("")},t.mathspeak=function(){return this.mathspeakName},t.placeCursor=e,t.isEmpty=function(){return!0}}),K=_(Q,function(e,t){e.init=function(e,i,n){t.init.call(this,e,"<span>"+(i||e)+"</span>",m,n)}}),Z=_(Q,function(e,t){e.init=function(e,i,n,r){t.init.call(this,e,'<span class="dcg-mq-binary-operator">'+i+"</span>",n,r)}}),J=_(Y,function(e,t){e.join=function(e){return this.foldChildren("",function(t,i){return t+i[e]()})},e.html=function(){return this.join("html")},e.latex=function(){return this.join("latex")},e.text=function(){return this.ends[w]===this.ends[S]&&0!==this.ends[w]?this.ends[w].text():this.join("text")},e.mathspeak=function(){var e="",t={};return this.controller&&(t=this.controller.options.autoOperatorNames),this.foldChildren([],function(i,n){if(n.isPartOfOperator)e+=n.mathspeak();else{if(""!==e){if(t!=={}&&t._maxLength>0){var r=t[e.toLowerCase()];"string"==typeof r&&(e=r)}i.push(e+" "),e=""}var s=n.mathspeak(),o=n.ctrlSeq;isNaN(o)&&(s=" "+s,"."!==o&&(s+=" ")),i.push(s)}return i}).join("").replace(/ +(?= )/g,"")},e.ariaLabel="block",e.keystroke=function(e,i,n){return!n.options.spaceBehavesLikeTab||"Spacebar"!==e&&"Shift-Spacebar"!==e?t.keystroke.apply(this,arguments):(i.preventDefault(),void n.escapeDir("Shift-Spacebar"===e?w:S,e,i))},e.moveOutOf=function(e,t,i){var n=i&&this.parent[i+"Into"];!n&&this[e]?(t.insAtDirEnd(-e,this[e]),W.queueDirEndOf(-e).queue(t.parent,!0)):(t.insDirOf(e,this.parent),W.queueDirOf(e).queue(this.parent))},e.selectOutOf=function(e,t){t.insDirOf(e,this.parent)},e.deleteOutOf=function(e,t){t.unwrapGramp()},e.seek=function(e,t){var i=this.ends[S];if(!i||i.jQ.offset().left+i.jQ.outerWidth()<e)return t.insAtRightEnd(this);if(e<this.ends[w].jQ.offset().left)return t.insAtLeftEnd(this);for(;e<i.jQ.offset().left;)i=i[w];return i.seek(e,t)},e.chToCmd=function(e,t){var i;return e.match(/^[a-eg-zA-Z]$/)?ne(e):/^\d$/.test(e)?te(e):t&&t.typingSlashWritesDivisionSymbol&&"/"===e?A["÷"](e):t&&t.typingAsteriskWritesTimesSymbol&&"*"===e?A["×"](e):t&&t.typingPercentWritesPercentOf&&"%"===e?A.percentof(e):(i=M[e]||A[e])?i(e):K(e)},e.write=function(e,t){var i=this.chToCmd(t,e.options);e.selection&&i.replaces(e.replaceSelection()),i.createLeftOf(e.show()),"/"===t?W.alert("over"):W.alert(i.mathspeak({createdLeftOf:e}))},e.focus=function(){return this.jQ.addClass("dcg-mq-hasCursor"),this.jQ.removeClass("dcg-mq-empty"),this},e.blur=function(){return this.jQ.removeClass("dcg-mq-hasCursor"),this.isEmpty()&&this.jQ.addClass("dcg-mq-empty"),this}});q.StaticMath=function(e){return _(e.AbstractMathQuill,function(t,i){this.RootBlock=J,t.__mathquillify=function(e,t){return this.config(e),i.__mathquillify.call(this,"dcg-mq-math-mode"),this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents(),this},t.init=function(){i.init.apply(this,arguments);var t=this.innerFields=[];this.__controller.root.postOrder(function(i){i.registerInnerField(t,e.MathField)})},t.latex=function(){var t=i.latex.apply(this,arguments);if(arguments.length>0){var n=this.innerFields=[];this.__controller.root.postOrder(function(t){t.registerInnerField(n,e.MathField)})}return t}})};var ee=_(J,d);q.MathField=function(t){return _(t.EditableField,function(t,i){this.RootBlock=ee,t.__mathquillify=function(t,n){return this.config(t),n>1&&(this.__controller.root.reflow=e),i.__mathquillify.call(this,"dcg-mq-editable-field dcg-mq-math-mode"),delete this.__controller.root.reflow,this}})};var te=_(K,function(e,t){e.createLeftOf=function(e){e.options.autoSubscriptNumerals&&e.parent!==e.parent.parent.sub&&(e[w]instanceof ie&&e[w].isItalic!==!1||e[w]instanceof Ee&&e[w][w]instanceof ie&&e[w][w].isItalic!==!1)?(A._().createLeftOf(e),t.createLeftOf.call(this,e),e.insRightOf(e.parent.parent)):t.createLeftOf.call(this,e)},e.mathspeak=function(e){if(e&&e.createdLeftOf){var i=e.createdLeftOf;if(i.options.autoSubscriptNumerals&&i.parent!==i.parent.parent.sub&&(i[w]instanceof ie&&i[w].isItalic!==!1||i[w]instanceof Ee&&i[w][w]instanceof ie&&i[w][w].isItalic!==!1))return"Subscript "+t.mathspeak.call(this)+" Baseline"}return t.mathspeak.apply(this,arguments)}}),ie=_(Q,function(e,t){e.init=function(e,i){t.init.call(this,e,"<var>"+(i||e)+"</var>")},e.text=function(){var e=this.ctrlSeq;return this.isPartOfOperator?"\\"==e[0]?e=e.slice(1,e.length):" "==e[e.length-1]&&(e=e.slice(0,-1)):(!this[w]||this[w]instanceof ie||this[w]instanceof Z||"\\ "===this[w].ctrlSeq||(e="*"+e),!this[S]||this[S]instanceof Z||this[S]instanceof Ee||(e+="*")),e},e.mathspeak=function(){var e=this.ctrlSeq;return this.isPartOfOperator||1!==e.length?t.mathspeak.call(this):'"'+e+'"'}});N.p.autoCommands={_maxLength:0},F.autoCommands=function(e){if(!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),i={},n=0,r=0;r<t.length;r+=1){var s=t[r];if(s.length<2)throw'autocommand "'+s+'" not minimum length of 2';if(A[s]===ae)throw'"'+s+'" is a built-in operator name';i[s]=1,n=b(n,s.length)}return i._maxLength=n,i},N.p.autoParenthesizedFunctions={_maxLength:0},F.autoParenthesizedFunctions=function(e){if(!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),i={},n=0,r=0;r<t.length;r+=1){var s=t[r];if(s.length<2)throw'autocommand "'+s+'" not minimum length of 2';i[s]=1,n=b(n,s.length)}return i._maxLength=n,i};var ne=_(ie,function(e,t){function i(e){return!e||e instanceof Z||e instanceof ke}e.init=function(e){return t.init.call(this,this.letter=e)},e.checkAutoCmds=function(e){var t=e.options.autoCommands,i=t._maxLength;if(i>0){for(var n="",r=this,s=0;r instanceof ne&&r.ctrlSeq===r.letter&&s<i;)n=r.letter+n,r=r[w],s+=1;for(;n.length;){if(t.hasOwnProperty(n)){for(var s=1,r=this;s<n.length;s+=1,r=r[w]);return P(r,this).remove(),e[w]=r[w],A[n](n).createLeftOf(e)}n=n.slice(1)}}},e.autoParenthesize=function(e){for(var t="",i=this,n=0,r=e.options.autoParenthesizedFunctions,s=r._maxLength,o=e.options.autoOperatorNames;i instanceof ne&&n<s;)t=i.letter+t,i=i[w],n+=1;for(;t.length;){if(r.hasOwnProperty(t)&&o.hasOwnProperty(t))return e.parent.write(e,"(");t=t.slice(1)}},e.createLeftOf=function(e){t.createLeftOf.apply(this,arguments),this.checkAutoCmds(e),this.autoParenthesize(e)},e.italicize=function(e){return this.isItalic=e,this.isPartOfOperator=!e,this.jQ.toggleClass("dcg-mq-operator-name",!e),this},e.finalizeTree=e.siblingDeleted=e.siblingCreated=function(e,t){t!==w&&this[S]instanceof ne||this.autoUnItalicize(e)},e.autoUnItalicize=function(e){var t=e.autoOperatorNames;if(0!==t._maxLength){for(var n=this.letter,r=this[w];r instanceof ne;r=r[w])n=r.letter+n;for(var s=this[S];s instanceof ne;s=s[S])n+=s.letter;P(r[S]||this.parent.ends[w],s[w]||this.parent.ends[S]).each(function(e){e.italicize(!0).jQ.removeClass("dcg-mq-first dcg-mq-last dcg-mq-followed-by-supsub"),e.ctrlSeq=e.letter});e:for(var o=0,a=r[S]||this.parent.ends[w];o<n.length;o+=1,a=a[S])for(var l=y(t._maxLength,n.length-o);l>0;l-=1){var c=n.slice(o,o+l);if(t.hasOwnProperty(c)){for(var u=0,h=a;u<l;u+=1,h=h[S]){h.italicize(!1);var d=h}var p=re.hasOwnProperty(c);if(a.ctrlSeq=(p?"\\":"\\operatorname{")+a.ctrlSeq,d.ctrlSeq+=p?" ":"}",oe.hasOwnProperty(c)&&d[w][w][w].jQ.addClass("dcg-mq-last"),i(a[w])||a.jQ.addClass("dcg-mq-first"),!i(d[S]))if(d[S]instanceof Ee){var f=d[S],g=f.siblingCreated=f.siblingDeleted=function(){f.jQ.toggleClass("dcg-mq-after-operator-name",!(f[S]instanceof Me))};g()}else d.jQ.toggleClass("dcg-mq-last",!(d[S]instanceof Me));o+=l-1,a=d;continue e}}}}}),re={},se=N.p.autoOperatorNames={_maxLength:9},oe={limsup:1,liminf:1,projlim:1,injlim:1};!function(){for(var e="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),t=0;t<e.length;t+=1)re[e[t]]=se[e[t]]=1;for(var i="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" "),t=0;t<i.length;t+=1)re[i[t]]=1;for(var n="sin cos tan sec cosec csc cotan cot ctg".split(" "),t=0;t<n.length;t+=1)se[n[t]]=se["arc"+n[t]]=se[n[t]+"h"]=se["ar"+n[t]+"h"]=se["arc"+n[t]+"h"]=1;for(var r="gcf hcf lcm proj span".split(" "),t=0;t<r.length;t+=1)se[r[t]]=1}(),F.autoOperatorNames=function(e){if("string"!=typeof e)throw'"'+e+'" not a space-delimited list';if(!/^[a-z\|\-]+(?: [a-z\|\-]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of letters or "|"';for(var t=e.split(" "),i={},n=0,r=0;r<t.length;r+=1){var s=t[r];if(s.length<2)throw'"'+s+'" not minimum length of 2';if(s.indexOf("|")<0)i[s]=s,n=b(n,s.length);else{var o=s.split("|");if(o.length>2)throw'"'+s+'" has more than 1 mathspeak delimiter';if(o[0].length<2)throw'"'+s[0]+'" not minimum length of 2';i[o[0]]=o[1].replace(/-/g," "),n=b(n,o[0].length)}}return i._maxLength=n,i};var ae=_(Q,function(e,t){e.init=function(e){this.ctrlSeq=e},e.createLeftOf=function(e){for(var t=this.ctrlSeq,i=0;i<t.length;i+=1)ne(t.charAt(i)).createLeftOf(e)},e.parser=function(){for(var e=this.ctrlSeq,t=J(),i=0;i<e.length;i+=1)ne(e.charAt(i)).adopt(t,t.ends[S],0);return G.succeed(t.children())}});for(var le in se)se.hasOwnProperty(le)&&(A[le]=ae);A.operatorname=_(X,function(t){t.createLeftOf=e,t.numBlocks=function(){return 1},t.parser=function(){return z.block.map(function(e){var t=!0,i="",n=e.children();return n.each(function(e){e instanceof ne?i+=e.letter:t=!1}),t&&"ans"===i?A[i](i):n})}}),A.f=_(ne,function(e,t){e.init=function(){Q.p.init.call(this,this.letter="f",'<var class="dcg-mq-f">f</var>')},e.italicize=function(e){return this.jQ.html("f").toggleClass("dcg-mq-f",e),t.italicize.apply(this,arguments)}}),A[" "]=A.space=t(K,"\\ ","&nbsp;","space"),A["'"]=A.prime=t(K,"'","&prime;","prime"),A["″"]=A.dprime=t(K,"″","&Prime;","double prime"),A.backslash=t(K,"\\backslash ","\\","backslash"),M["\\"]||(M["\\"]=A.backslash),A.$=t(K,"\\$","$","dollar"),A.square=t(K,"\\square ","□","square"),A.mid=t(K,"\\mid ","∣","mid");var ce=_(Q,function(e,t){e.init=function(e,i){t.init.call(this,e,'<span class="dcg-mq-nonSymbola">'+(i||e)+"</span>")}});A["@"]=ce,A["&"]=t(ce,"\\&","&amp;","and"),A["%"]=_(ce,function(e,t){e.init=function(){t.init.call(this,"\\%","%","percent")},e.parser=function(){var e=G.optWhitespace,i=G.string;return e.then(i("\\operatorname{of}").map(function(){return A.percentof()})).or(t.parser.call(this))}}),A["∥"]=A.parallel=t(K,"\\parallel ","&#x2225;","parallel"),A["∦"]=A.nparallel=t(K,"\\nparallel ","&#x2226;","not parallel"),A["⟂"]=A.perp=t(K,"\\perp ","&#x27C2;","perpendicular"),A.alpha=A.beta=A.gamma=A.delta=A.zeta=A.eta=A.theta=A.iota=A.kappa=A.mu=A.nu=A.xi=A.rho=A.sigma=A.tau=A.chi=A.psi=A.omega=_(ie,function(e,t){e.init=function(e){t.init.call(this,"\\"+e+" ","&"+e+";")}}),A.phi=t(ie,"\\phi ","&#981;","phi"),A.phiv=A.varphi=t(ie,"\\varphi ","&phi;","phi"),A.epsilon=t(ie,"\\epsilon ","&#1013;","epsilon"),A.epsiv=A.varepsilon=t(ie,"\\varepsilon ","&epsilon;","epsilon"),A.piv=A.varpi=t(ie,"\\varpi ","&piv;","piv"),A.sigmaf=A.sigmav=A.varsigma=t(ie,"\\varsigma ","&sigmaf;","sigma"),A.thetav=A.vartheta=A.thetasym=t(ie,"\\vartheta ","&thetasym;","theta"),A.upsilon=A.upsi=t(ie,"\\upsilon ","&upsilon;","upsilon"),A.gammad=A.Gammad=A.digamma=t(ie,"\\digamma ","&#989;","gamma"),A.kappav=A.varkappa=t(ie,"\\varkappa ","&#1008;","kappa"),A.rhov=A.varrho=t(ie,"\\varrho ","&#1009;","rho"),A.pi=A["π"]=t(ce,"\\pi ","&pi;","pi"),A.lambda=t(ce,"\\lambda ","&lambda;","lambda"),A.Upsilon=A.Upsi=A.upsih=A.Upsih=t(Q,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>',"capital upsilon"),A.Gamma=A.Delta=A.Theta=A.Lambda=A.Xi=A.Pi=A.Sigma=A.Phi=A.Psi=A.Omega=A.forall=_(K,function(e,t){e.init=function(e){t.init.call(this,"\\"+e+" ","&"+e+";")}});var ue=_(X,function(e){e.init=function(e){this.latex=e},e.createLeftOf=function(e){var t=z.parse(this.latex);t.children().adopt(e.parent,e[w],e[S]),e[w]=t.ends[S],t.jQize().insertBefore(e.jQ),t.finalizeInsert(e.options,e),t.ends[S][S].siblingCreated&&t.ends[S][S].siblingCreated(e.options,w),t.ends[w][w].siblingCreated&&t.ends[w][w].siblingCreated(e.options,S),e.parent.bubble(function(e){e.reflow()})},e.mathspeak=function(){return z.parse(this.latex).mathspeak()},e.parser=function(){var e=z.parse(this.latex).children();return G.succeed(e)}});A["¹"]=t(ue,"^1"),A["²"]=t(ue,"^2"),A["³"]=t(ue,"^3"),A["¼"]=t(ue,"\\frac14"),A["½"]=t(ue,"\\frac12"),A["¾"]=t(ue,"\\frac34");var he=_(Z,function(e){e.init=K.prototype.init,e.contactWeld=e.siblingCreated=e.siblingDeleted=function(e,t){function i(e){return e[w]?e[w]instanceof Z||/^[,;:\(\[]$/.test(e[w].ctrlSeq)?"":"dcg-mq-binary-operator":e.parent&&e.parent.parent&&e.parent.parent.isStyleBlock()?i(e.parent.parent):""}if(t!==S)return this.jQ[0].className=i(this),this}});A["+"]=t(he,"+","+","plus"),A["–"]=A["-"]=t(he,"-","&minus;","minus"),A["±"]=A.pm=A.plusmn=A.plusminus=t(he,"\\pm ","&plusmn;","plus-or-minus"),A.mp=A.mnplus=A.minusplus=t(he,"\\mp ","&#8723;","minus-or-plus"),M["*"]=A.sdot=A.cdot=t(Z,"\\cdot ","&middot;","*","times");var de=_(Z,function(e,t){e.init=function(e,i){this.data=e,this.strict=i;var n=i?"Strict":"";t.init.call(this,e["ctrlSeq"+n],e["html"+n],e["text"+n]);
    },e.swap=function(e){this.strict=e;var t=e?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+t],this.jQ.html(this.data["html"+t]),this.textTemplate=[this.data["text"+t]]},e.deleteTowards=function(e,i){return e!==w||this.strict?void t.deleteTowards.apply(this,arguments):(this.swap(!0),void this.bubble(function(e){e.reflow()}))}}),pe={ctrlSeq:"\\le ",html:"&le;",text:"≤",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<"},fe={ctrlSeq:"\\ge ",html:"&ge;",text:"≥",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">"};A["<"]=A.lt=t(de,pe,!0),A[">"]=A.gt=t(de,fe,!0),A["≤"]=A.le=A.leq=t(de,pe,!1),A["≥"]=A.ge=A.geq=t(de,fe,!1);var ge=_(Z,function(e,t){e.init=function(){t.init.call(this,"=","=","=","equals")},e.createLeftOf=function(e){return e[w]instanceof de&&e[w].strict?(e[w].swap(!1),void e[w].bubble(function(e){e.reflow()})):void t.createLeftOf.apply(this,arguments)}});A["="]=ge,A["×"]=A.times=t(Z,"\\times ","&times;","[x]","times"),A["÷"]=A.div=A.divide=A.divides=t(Z,"\\div ","&divide;","[/]","over"),M["~"]=A.sim=t(Z,"\\sim ","~","~","tilde");var me,ve,ye=e,be=document.createElement("div"),xe=be.style,_e={transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1};for(var we in _e)if(we in xe){ve=we;break}ve?me=function(e,t,i){e.css(ve,"scale("+t+","+i+")")}:"filter"in xe?(ye=function(e){e.className=e.className},me=function(e,t,i){function n(){e.css("marginRight",(r.width()-1)*(t-1)/t+"px")}t/=1+(i-1)/2,e.css("fontSize",i+"em"),e.hasClass("dcg-mq-matrixed-container")||e.addClass("dcg-mq-matrixed-container").wrapInner('<span class="dcg-mq-matrixed"></span>');var r=e.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+t+",SizingMethod='auto expand')");n();var s=setInterval(n);E(window).load(function(){clearTimeout(s),n()})}):me=function(e,t,i){e.css("fontSize",i+"em")};var Se=_(X,function(e,t){e.init=function(e,i,n){t.init.call(this,e,"<"+i+" "+n+">&0</"+i+">")}});A.mathrm=t(Se,"\\mathrm","span",'class="dcg-mq-roman dcg-mq-font"'),A.mathit=t(Se,"\\mathit","i",'class="dcg-mq-font"'),A.mathbf=t(Se,"\\mathbf","b",'class="dcg-mq-font"'),A.mathsf=t(Se,"\\mathsf","span",'class="dcg-mq-sans-serif dcg-mq-font"'),A.mathtt=t(Se,"\\mathtt","span",'class="dcg-mq-monospace dcg-mq-font"'),A.underline=t(Se,"\\underline","span",'class="dcg-mq-non-leaf dcg-mq-underline"'),A.overline=A.bar=t(Se,"\\overline","span",'class="dcg-mq-non-leaf dcg-mq-overline"'),A.overrightarrow=t(Se,"\\overrightarrow","span",'class="dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-right"'),A.overleftarrow=t(Se,"\\overleftarrow","span",'class="dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-left"');var Ee=(A.textcolor=_(X,function(e,t){e.setColor=function(e){this.color=e,this.htmlTemplate='<span class="dcg-mq-textcolor" style="color:'+e+'">&0</span>'},e.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},e.parser=function(){var e=this,i=G.optWhitespace,n=G.string,r=G.regex;return i.then(n("{")).then(r(/^[#\w\s.,()%-]*/)).skip(n("}")).then(function(i){return e.setColor(i),t.parser.call(e)})},e.isStyleBlock=function(){return!0}}),A.class=_(X,function(e,t){e.parser=function(){var e=this,i=G.string,n=G.regex;return G.optWhitespace.then(i("{")).then(n(/^[-\w\s\\\xA0-\xFF]*/)).skip(i("}")).then(function(i){return e.cls=i||"",e.htmlTemplate='<span class="dcg-mq-class '+i+'">&0</span>',t.parser.call(e)})},e.latex=function(){return"\\class{"+this.cls+"}{"+this.blocks[0].latex()+"}"},e.isStyleBlock=function(){return!0}}),_(X,function(e,t){e.ctrlSeq="_{...}^{...}",e.createLeftOf=function(e){if(this.replacedFragment||e[w]||!e.options.supSubsRequireOperand)return t.createLeftOf.apply(this,arguments)},e.contactWeld=function(e){for(var t=w;t;t=t===w&&S)if(this[t]instanceof Ee){for(var i="sub";i;i="sub"===i&&"sup"){var n=this[i],r=this[t][i];if(n){if(r)if(n.isEmpty())var s=k(r,0,r.ends[w]);else{n.jQ.children().insAtDirEnd(-t,r.jQ);var o=n.children().disown(),s=k(r,o.ends[S],r.ends[w]);t===w?o.adopt(r,r.ends[S],0):o.adopt(r,0,r.ends[w])}else this[t].addBlock(n.disown());this.placeCursor=function(e,i){return function(n){n.insAtDirEnd(-t,e||i)}}(r,n)}}this.remove(),e&&e[w]===this&&(t===S&&s?s[w]?e.insRightOf(s[w]):e.insAtLeftEnd(s.parent):e.insRightOf(this[t]));break}},N.p.charsThatBreakOutOfSupSub="",e.finalizeTree=function(){this.ends[w].write=function(e,t){if(e.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===t)return;var i=this.chToCmd(t,e.options);return i instanceof Q?e.deleteSelection():e.clearSelection().insRightOf(this.parent),i.createLeftOf(e.show()),void W.queue("Baseline").alert(i.mathspeak({createdLeftOf:e}))}e[w]&&!e[S]&&!e.selection&&e.options.charsThatBreakOutOfSupSub.indexOf(t)>-1&&(e.insRightOf(this.parent),W.queue("Baseline")),J.p.write.apply(this,arguments)}},e.moveTowards=function(e,i,n){i.options.autoSubscriptNumerals&&!this.sup?i.insDirOf(e,this):t.moveTowards.apply(this,arguments)},e.deleteTowards=function(e,i){if(i.options.autoSubscriptNumerals&&this.sub){var n=this.sub.ends[-e];n instanceof Q?n.remove():n&&n.deleteTowards(e,i.insAtDirEnd(-e,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(w,i.insAtLeftEnd(this.sub)),this.sup&&i.insDirOf(-e,this))}else t.deleteTowards.apply(this,arguments)},e.latex=function(){function e(e,t){var i=t&&t.latex();return t?e+(1===i.length?i:"{"+(i||" ")+"}"):""}return e("_",this.sub)+e("^",this.sup)},e.addBlock=function(e){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=e,e.adopt(this,this.sub,0).downOutOf=this.sub,e.jQ=E('<span class="dcg-mq-sup"/>').append(e.jQ.children()).prependTo(this.jQ),I.linkElementByBlockNode(e.jQ[0],e)):(this.sub=this.downInto=this.sup.downOutOf=e,e.adopt(this,0,this.sup).upOutOf=this.sup,e.jQ=E('<span class="dcg-mq-sub"></span>').append(e.jQ.children()).appendTo(this.jQ.removeClass("dcg-mq-sup-only")),I.linkElementByBlockNode(e.jQ[0],e),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var t=0;t<2;t+=1)(function(e,t,i,n){e[t].deleteOutOf=function(r,s){if(s.insDirOf(this[r]?-r:r,this.parent),!this.isEmpty()){var o=this.ends[r];this.children().disown().withDirAdopt(r,s.parent,s[r],s[-r]).jQ.insDirOf(-r,s.jQ),s[-r]=o}e.supsub=i,delete e[t],delete e[n+"Into"],e[i][n+"OutOf"]=p,delete e[i].deleteOutOf,"sub"===t&&E(e.jQ.addClass("dcg-mq-sup-only")[0].lastChild).remove(),this.remove()}})(this,"sub sup".split(" ")[t],"sup sub".split(" ")[t],"down up".split(" ")[t])}}));A.subscript=A._=_(Ee,function(e,t){e.supsub="sub",e.htmlTemplate='<span class="dcg-mq-supsub dcg-mq-non-leaf"><span class="dcg-mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',e.textTemplate=["_"],e.mathspeakTemplate=["Subscript,",", Baseline"],e.ariaLabel="subscript",e.finalizeTree=function(){this.downInto=this.sub=this.ends[w],this.sub.upOutOf=p,t.finalizeTree.call(this)}}),A.superscript=A.supscript=A["^"]=_(Ee,function(e,t){e.supsub="sup",e.htmlTemplate='<span class="dcg-mq-supsub dcg-mq-non-leaf dcg-mq-sup-only"><span class="dcg-mq-sup">&0</span></span>',e.textTemplate=["^"],e.mathspeakTemplate=["Superscript,",", Baseline"],e.ariaLabel="superscript",e.finalizeTree=function(){this.upInto=this.sup=this.ends[S],this.sup.downOutOf=p,t.finalizeTree.call(this)}});var ke=_(X,function(e,t){e.init=function(t,i,n){e.ariaLabel=n||ctrlSeq;var r='<span class="dcg-mq-large-operator dcg-mq-non-leaf"><span class="dcg-mq-to"><span>&1</span></span><big>'+i+'</big><span class="dcg-mq-from"><span>&0</span></span></span>';Q.prototype.init.call(this,t,r)},e.createLeftOf=function(e){t.createLeftOf.apply(this,arguments),e.options.sumStartsWithNEquals&&(ne("n").createLeftOf(e),ge().createLeftOf(e))},e.latex=function(){function e(e){return 1===e.length?e:"{"+(e||" ")+"}"}return this.ctrlSeq+"_"+e(this.ends[w].latex())+"^"+e(this.ends[S].latex())},e.mathspeak=function(){return"Start "+this.ariaLabel+" from "+this.ends[w].mathspeak()+" to "+this.ends[S].mathspeak()+", end "+this.ariaLabel+", "},e.parser=function(){for(var e=G.string,t=G.optWhitespace,i=G.succeed,n=z.block,r=this,s=r.blocks=[J(),J()],o=0;o<s.length;o+=1){switch(o){case 0:s[o].ariaLabel="lower bound";break;case 1:s[o].ariaLabel="upper bound";break;default:s[o].ariaLabel="block "+o}s[o].adopt(r,r.ends[S],0)}return t.then(e("_").or(e("^"))).then(function(e){var t=s["_"===e?0:1];return n.then(function(e){return e.children().adopt(t,t.ends[S],0),i(r)})}).many().result(r)},e.finalizeTree=function(){this.downInto=this.ends[w],this.upInto=this.ends[S],this.ends[w].upOutOf=this.ends[S],this.ends[S].downOutOf=this.ends[w]}});A["∏"]=A.sum=A.summation=t(ke,"\\sum ","&sum;","sum"),A["∑"]=A.prod=A.product=t(ke,"\\prod ","&prod;","product"),A.coprod=A.coproduct=t(ke,"\\coprod ","&#8720;","co product"),A["∫"]=A.int=A.integral=_(ke,function(e,t){e.init=function(){e.ariaLabel="integral";var t='<span class="dcg-mq-int dcg-mq-non-leaf"><big>&int;</big><span class="dcg-mq-supsub dcg-mq-non-leaf"><span class="dcg-mq-sup"><span class="dcg-mq-sup-inner">&1</span></span><span class="dcg-mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>';Q.prototype.init.call(this,"\\int ",t,"integral")},e.createLeftOf=X.p.createLeftOf});var Te=A.frac=A.dfrac=A.cfrac=A.fraction=_(X,function(e,t){e.ctrlSeq="\\frac",e.htmlTemplate='<span class="dcg-mq-fraction dcg-mq-non-leaf"><span class="dcg-mq-numerator">&0</span><span class="dcg-mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',e.textTemplate=["(",")/(",")"],e.finalizeTree=function(){this.upInto=this.ends[S].upOutOf=this.ends[w],this.downInto=this.ends[w].downOutOf=this.ends[S],this.ends[w].ariaLabel="numerator",this.ends[S].ariaLabel="denominator",this.getFracDepth()>1?this.mathspeakTemplate=["StartNestedFraction,","NestedOver",", EndNestedFraction"]:this.mathspeakTemplate=["StartFraction,","Over",", EndFraction"]},e.mathspeak=function(e){if(e&&e.createdLeftOf){var i=e.createdLeftOf;return i.parent.mathspeak()}return t.mathspeak.apply(this,arguments)},e.getFracDepth=function(){var e=0,t=function(e,i){return e instanceof I&&e.ctrlSeq&&e.ctrlSeq.toLowerCase().search("frac")>=0&&(i+=1),e.parent?t(e.parent,i):i};return t(this,e)}}),Ce=A.over=M["/"]=_(Te,function(t,i){t.createLeftOf=function(t){if(!this.replacedFragment){for(var n=t[w];n&&!(n instanceof Z||n instanceof(A.text||e)||n instanceof ke||"\\ "===n.ctrlSeq||/^[,;:]$/.test(n.ctrlSeq));)n=n[w];n instanceof ke&&n[S]instanceof Ee&&(n=n[S],n[S]instanceof Ee&&n[S].ctrlSeq!=n.ctrlSeq&&(n=n[S])),n!==t[w]&&(this.replaces(P(n[S]||t.parent.ends[w],t[w])),t[w]=n)}i.createLeftOf.call(this,t)}});A.ans=_(Q,function(e,t){e.init=function(e){t.init.call(this,"\\operatorname{ans}",'<span class="dcg-mq-ans">ans</span>',"ans")}}),A.percent=A.percentof=_(Q,function(e,t){e.init=function(){t.init.call(this,"\\%\\operatorname{of}",'<span class="dcg-mq-nonSymbola dcg-mq-operator-name">% of </span>',"percent of")}});var Ie=A.sqrt=A["√"]=_(X,function(e,t){e.ctrlSeq="\\sqrt",e.htmlTemplate='<span class="dcg-mq-non-leaf"><span class="dcg-mq-scaled dcg-mq-sqrt-prefix">&radic;</span><span class="dcg-mq-non-leaf dcg-mq-sqrt-stem">&0</span></span>',e.textTemplate=["sqrt(",")"],e.mathspeakTemplate=["StartRoot,",", EndRoot"],e.ariaLabel="root",e.parser=function(){return z.optBlock.then(function(e){return z.block.map(function(t){var i=Pe();return i.blocks=[e,t],e.adopt(i,0,0),t.adopt(i,e,0),i})}).or(t.parser.call(this))},e.reflow=function(){var e=this.ends[S].jQ;me(e.prev(),1,e.innerHeight()/+e.css("fontSize").slice(0,-2)-.1)}}),Pe=(A.hat=_(X,function(e,t){e.ctrlSeq="\\hat",e.htmlTemplate='<span class="dcg-mq-non-leaf"><span class="dcg-mq-hat-prefix">^</span><span class="dcg-mq-hat-stem">&0</span></span>',e.textTemplate=["hat(",")"]}),A.nthroot=_(Ie,function(e,t){e.htmlTemplate='<sup class="dcg-mq-nthroot dcg-mq-non-leaf">&0</sup><span class="dcg-mq-scaled"><span class="dcg-mq-sqrt-prefix dcg-mq-scaled">&radic;</span><span class="dcg-mq-sqrt-stem dcg-mq-non-leaf">&1</span></span>',e.textTemplate=["sqrt[","](",")"],e.latex=function(){return"\\sqrt["+this.ends[w].latex()+"]{"+this.ends[S].latex()+"}"}})),Ae=_(X,function(e,t){e.init=function(e,i,n){var r='<span class="dcg-mq-non-leaf"><span class="dcg-mq-diacritic-above">'+i+'</span><span class="dcg-mq-diacritic-stem">&0</span></span>';t.init.call(this,e,r,n)}});A.vec=t(Ae,"\\vec","&rarr;",["vec(",")"]),A.tilde=t(Ae,"\\tilde","~",["tilde(",")"]);var Me=_(_(X,f),function(t,i){t.init=function(e,t,n,r,s){i.init.call(this,"\\left"+r,m,[t,n]),this.side=e,this.sides={},this.sides[w]={ch:t,ctrlSeq:r},this.sides[S]={ch:n,ctrlSeq:s}},t.numBlocks=function(){return 1},t.html=function(){return this.htmlTemplate='<span class="dcg-mq-non-leaf"><span class="dcg-mq-scaled dcg-mq-paren'+(this.side===S?" dcg-mq-ghost":"")+'">'+this.sides[w].ch+'</span><span class="dcg-mq-non-leaf">&0</span><span class="dcg-mq-scaled dcg-mq-paren'+(this.side===w?" dcg-mq-ghost":"")+'">'+this.sides[S].ch+"</span></span>",i.html.call(this)},t.latex=function(){return"\\left"+this.sides[w].ctrlSeq+this.ends[w].latex()+"\\right"+this.sides[S].ctrlSeq},t.mathspeak=function(e){var t=this.sides[w].ch,n=this.sides[S].ch;if("|"===t&&"|"===n)this.mathspeakTemplate=["StartAbsoluteValue,",", EndAbsoluteValue"],this.ariaLabel="absolute value";else{if(e&&e.createdLeftOf&&this.side){var r="";return this.side===w?r=this.textTemplate[0]:this.side===S&&(r=this.textTemplate[1]),(this.side===w?"left ":"right ")+Le[r]}this.mathspeakTemplate=["left "+Le[t]+",",", right "+Le[n]],this.ariaLabel=Le[t]+" block"}return i.mathspeak.call(this)},t.matchBrack=function(e,t,i){return i instanceof Me&&i.side&&i.side!==-t&&(!e.restrictMismatchedBrackets||Oe[this.sides[this.side].ch]===i.sides[i.side].ch||{"(":"]","[":")"}[this.sides[w].ch]===i.sides[S].ch)&&i},t.closeOpposing=function(e){e.side=0,e.sides[this.side]=this.sides[this.side],e.delimjQs.eq(this.side===w?0:1).removeClass("dcg-mq-ghost").html(this.sides[this.side].ch)},t.createLeftOf=function(e){if(!this.replacedFragment){var t=e.options;if("|"===this.sides[w].ch)var n=this.matchBrack(t,S,e[S])||this.matchBrack(t,w,e[w])||this.matchBrack(t,0,e.parent.parent);else var n=this.matchBrack(t,-this.side,e[-this.side])||this.matchBrack(t,-this.side,e.parent.parent)}if(n){var r=this.side=-n.side;this.closeOpposing(n),n===e.parent.parent&&e[r]&&P(e[r],e.parent.ends[r],-r).disown().withDirAdopt(-r,n.parent,n,n[r]).jQ.insDirOf(r,n.jQ),n.bubble(function(e){e.reflow()})}else n=this,r=n.side,n.replacedFragment?n.side=0:e[-r]&&(n.replaces(P(e[-r],e.parent.ends[-r],r)),e[-r]=0),i.createLeftOf.call(n,e);r===w?e.insAtLeftEnd(n.ends[w]):e.insRightOf(n)},t.placeCursor=e,t.unwrap=function(){this.ends[w].children().disown().adopt(this.parent,this,this[S]).jQ.insertAfter(this.jQ),this.remove()},t.deleteSide=function(e,t,i){var n=this.parent,r=this[e],s=n.ends[e];if(e===this.side)return this.unwrap(),void(r?i.insDirOf(-e,r):i.insAtDirEnd(e,n));var o=i.options,a=!this.side;if(this.side=-e,this.matchBrack(o,e,this.ends[w].ends[this.side])){this.closeOpposing(this.ends[w].ends[this.side]);var l=this.ends[w].ends[e];this.unwrap(),l.siblingCreated&&l.siblingCreated(i.options,e),r?i.insDirOf(-e,r):i.insAtDirEnd(e,n)}else{if(this.matchBrack(o,e,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(t&&a)return this.unwrap(),void(r?i.insDirOf(-e,r):i.insAtDirEnd(e,n));this.sides[e]={ch:Oe[this.sides[this.side].ch],ctrlSeq:Oe[this.sides[this.side].ctrlSeq]},this.delimjQs.removeClass("dcg-mq-ghost").eq(e===w?0:1).addClass("dcg-mq-ghost").html(this.sides[e].ch)}if(r){var l=this.ends[w].ends[e];P(r,s,-e).disown().withDirAdopt(-e,this.ends[w],l,0).jQ.insAtDirEnd(e,this.ends[w].jQ.removeClass("dcg-mq-empty")),l.siblingCreated&&l.siblingCreated(i.options,e),i.insDirOf(-e,r)}else t?i.insDirOf(e,this):i.insAtDirEnd(e,this.ends[w])}},t.deleteTowards=function(e,t){this.deleteSide(-e,!1,t)},t.finalizeTree=function(){this.ends[w].deleteOutOf=function(e,t){this.parent.deleteSide(e,!0,t)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===w?1:0).removeClass("dcg-mq-ghost"),this.side=0}},t.siblingCreated=function(e,t){t===-this.side&&this.finalizeTree()}}),Oe={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "},Le={"&lang;":"angle-bracket","&rang;":"angle-bracket","|":"pipe"};g("(",null,"parenthesis"),g("[",null,"bracket"),g("{","\\{","brace"),A.langle=t(Me,w,"&lang;","&rang;","\\langle ","\\rangle "),A.rangle=t(Me,S,"&lang;","&rang;","\\langle ","\\rangle "),M["|"]=t(Me,w,"|","|","|","|"),A.lVert=t(Me,w,"&#8741;","&#8741;","\\lVert ","\\rVert "),A.rVert=t(Me,S,"&#8741;","&#8741;","\\lVert ","\\rVert "),A.left=_(X,function(e){e.parser=function(){var e=G.regex,t=G.string,i=(G.succeed,G.optWhitespace);return i.then(e(/^(?:[([|]|\\\{|\\langle\b|\\lVert\b)/)).then(function(n){var r="\\"===n.charAt(0)?n.slice(1):n;return"\\langle"==n&&(r="&lang;",n+=" "),"\\lVert"==n&&(r="&#8741;",n+=" "),z.then(function(s){return t("\\right").skip(i).then(e(/^(?:[\])|]|\\\}|\\rangle\b|\\rVert\b)/)).map(function(e){var t="\\"===e.charAt(0)?e.slice(1):e;"\\rangle"==e&&(t="&rang;",e+=" "),"\\rVert"==e&&(t="&#8741;",e+=" ");var i=Me(0,r,t,n,e);return i.blocks=[s],s.adopt(i,0,0),i})})})}}),A.right=_(X,function(e){e.parser=function(){return G.fail("unmatched \\right")}});var De=A.binom=A.binomial=_(_(X,f),function(e,t){e.ctrlSeq="\\binom",e.htmlTemplate='<span class="dcg-mq-non-leaf"><span class="dcg-mq-paren dcg-mq-scaled">(</span><span class="dcg-mq-non-leaf"><span class="dcg-mq-array dcg-mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="dcg-mq-paren dcg-mq-scaled">)</span></span>',e.textTemplate=["choose(",",",")"],e.mathspeakTemplate=["StartBinomial,","Choose",", EndBinomial"],e.ariaLabel="binomial"});A.choose=_(De,function(e){e.createLeftOf=Ce.prototype.createLeftOf});A.editable=A.MathQuillMathField=_(X,function(e,t){e.ctrlSeq="\\MathQuillMathField",e.htmlTemplate='<span class="dcg-mq-editable-field"><span class="dcg-mq-root-block">&0</span></span>',e.parser=function(){var e=this,i=G.string,n=G.regex,r=G.succeed;return i("[").then(n(/^[a-z][a-z0-9]*/i)).skip(i("]")).map(function(t){e.name=t}).or(r()).then(t.parser.call(e))},e.finalizeTree=function(e){var t=D(this.ends[w],this.jQ,e);t.KIND_OF_MQ="MathField",t.editable=!0,t.createTextarea(),t.editablesTextareaEvents(),t.cursor.insAtRightEnd(t.root),d(t.root)},e.registerInnerField=function(e,t){e.push(e[this.name]=t(this.ends[w].controller))},e.latex=function(){return this.ends[w].latex()},e.text=function(){return this.ends[w].text()}});var qe=A.embed=_(Q,function(e,t){e.setOptions=function(e){function t(){return""}return this.text=e.text||t,this.htmlTemplate=e.htmlString||"",this.latex=e.latex||t,this},e.parser=function(){var e=this,t=G.string,i=G.regex,n=G.succeed;return t("{").then(i(/^[a-z][a-z0-9]*/i)).skip(t("}")).then(function(r){return t("[").then(i(/^[-\w\s]*/)).skip(t("]")).or(n()).map(function(t){return e.setOptions(V[r](t))})})}}),Ne=h(1);for(var Fe in Ne)(function(e,t){"function"==typeof t?(u[e]=function(){return c(),t.apply(this,arguments)},u[e].prototype=t.prototype):u[e]=t})(Fe,Ne[Fe])}(),define("mathquill_src",["jquery"],function(){}),define("loadcss!Symbola-basic",function(){}),define("loadcss!vendor_css/mathquill/mathquill-basic",function(){}),define("toplevel/mathquill",["require","mathquill_src","loadcss!Symbola-basic","loadcss!vendor_css/mathquill/mathquill-basic"],function(e){return e("mathquill_src"),e("loadcss!Symbola-basic"),e("loadcss!vendor_css/mathquill/mathquill-basic"),window.MathQuill.noConflict()}),define("mathquill",["require","browser","jquery","keys","toplevel/mathquill","config"],function(e){var t=e("browser"),i=e("jquery"),n=e("keys"),r=e("toplevel/mathquill").getInterface(1),s=r.L,o=e("config"),a=["normalcdf normalpdf","binomcdf binompdf","poissoncdf poissonpdf","erf invNorm","tpdf tcdf TTest TScore"].join(" ");return r.config({handlers:{reflow:function(e){setTimeout(function(){i(e.el()).trigger("render")})},enter:function(e){i(e.el()).trigger("enterPressed")},upOutOf:function(e){i(e.el()).trigger("upPressed")},downOutOf:function(e){i(e.el()).trigger("downPressed")},moveOutOf:function(e,t){i(t.el()).trigger((e===s?"left":"right")+"Pressed")},deleteOutOf:function(e,t){i(t.el()).trigger((e===s?"backspace":"del")+"Pressed")}},leftRightIntoCmdGoes:"up",sumStartsWithNEquals:!0,supSubsRequireOperand:!0,charsThatBreakOutOfSupSub:"+-=<>",autoCommands:"alpha beta sqrt theta phi pi tau nthroot sum prod int ans percent",autoSubscriptNumerals:!0,restrictMismatchedBrackets:!0,typingPercentWritesPercentOf:!0,substituteTextarea:function(){return t.IS_IOS||t.IS_ANDROID?i('<span class="dcg-mathquill-input-span" tabindex=0 role="textbox" style="display:inline-block;height:1px;width:1px">').on("keypress.globalConfig",function(e){var t=r(i(document.activeElement).closest(".dcg-mq-editable-field")[0]);t&&(e.preventDefault(),t.typedText(n.lookupChar(e)))})[0]:t.IS_WINDOWS&&t.IS_TOUCH?i("<textarea readonly>").on("keydown",function(){this.readOnly=!1,this.select()}).on("blur",function(){this.readOnly=!0})[0]:i("<textarea>")[0]},autoOperatorNames:["exp|exponent ln|natural-log log","total length mean median quantile nCr nPr","stdev|standard-deviation stddev|standard-deviation","stdDev|standard-deviation stdevp|standard-deviation-population","stddevp|standard-deviation-population stdDevP|standard-deviation-population mad var|variance","varp|variance-population variance cov|co-variance corr|correlation","lcm mcm gcd mcd gcf mod ceil|ceiling floor round abs|absolute-value min max sign|signum signum","sin|sine cos|cosine tan|tangent csc|co-secant sec|secant cot|co-tangent","sinh|hyperbolic-sine cosh|hyperbolic-cosine tanh|hyperbolic-tangent csch|hyperbolic-co-secant","sech|hyperbolic-secant coth|hyperbolic-co-tangent","arcsin|arc-sine arccos|arc-cosine arctan|arc-tangent arccsc|arc-co-secant arcsec|arc-secant","arccot|arc-co-tangent","arcsinh|hyperbolic-arc-sine arccosh|hyperbolic-arc-cosine arctanh|hyperbolic-arc-co-tangent","arccsch|hyperbolic-arc-co-secant arcsech|hyperbolic-arc-secant","arccoth|hyperbolic-arc-co-tangent","distance midpoint"+(o.get("distributions")?" "+a:"")].join(" ")})}),define("graphing/poilabelslayer",["require","pjs","jquery","underscore","./domlayer","./label","graphing/graphmode","math/poi","./constants","./poi","./automatic-label-placer","lib/color-helpers","mathquill","math/interpolatedlabel"],function(e){function t(e,t,i,n){var r="html."+i;e.hasOwnProperty(r)&&e[r]===n||(t.find(i).html(n),e[r]=n)}function i(e,t,i,n,r){var s="text."+i;if(!e.hasOwnProperty(s)||e[s]!==n){var o=t.data("id");if(r.hasOwnProperty(o)&&(r[o].revert(),delete r[o]),y(n)){var a=n.substr(1,n.length-2);t.find(i).text(a),r[o]=v.StaticMath(t.find(i)[0])}else t.find(i).text(n);e[s]=n}}function n(e,t,i,n){var r="visible."+i;e.hasOwnProperty(r)&&e[r]===n||(t.find(i).toggle(!!n),e[r]=n)}function r(e,t,i,n){var r="class."+i;e.hasOwnProperty(r)&&e[r]===n||(t.toggleClass(i,!!n),e[r]=n)}function s(e,t,i){var n="css";e.hasOwnProperty(n)&&l.isEqual(e[n],i)||(t.css(i),e[n]=i)}var o=e("pjs"),a=e("jquery"),l=e("underscore"),c=e("./domlayer"),u=e("./label"),h=e("graphing/graphmode"),d=e("math/poi").default,p=e("./constants"),f=e("./poi"),g=e("./automatic-label-placer"),m=e("lib/color-helpers"),v=e("mathquill"),y=e("math/interpolatedlabel").isMathLabel,b=o(c,function(e,o){e.init=function(e,t){o.init.call(this,e),this.$labelsLayer=a('<div class="dcg-poi-labels-layer"></div>'),this.$traceLayer=a('<div class="dcg-trace-layer"></div>'),this.cachedLabels={},this.cachedMQLabels={},this.settings=t,this.dom_node.append(this.$labelsLayer),this.dom_node.append(this.$traceLayer),this.hoveredPOI=null,this.openedPOI2Sketch={}},e.renderPOILabels=function(e,t){var i=function(e,i){var n=t[i];return n&&n.visible?n.getPOIById(e):null};this.savedPOI=[];for(var n in t){var r=t[n];if(r.visible){var s=this.drawLabels(r,e);s.length&&this.savedPOI.push.apply(this.savedPOI,s)}}this.hoveredPOI&&!i(this.hoveredPOI.id,this.hoveredPOI.sketch.id)&&(this.hoveredPOI=null);var o={};for(n in this.openedPOI2Sketch){var a=i(n,this.openedPOI2Sketch[n]);a&&(o[n]=a.sketch.id,this.drawOpenedPOI(a,e),this.savedPOI.push(a))}this.openedPOI2Sketch=o,this.hoveredPOI?this.isOpenPOI(this.hoveredPOI)?this.addGlobalClass("dcg-mouse-over-opened-poi"):(this.drawHoveredPOI(this.hoveredPOI,e),this.addGlobalClass("dcg-mouse-over-closed-poi")):(this.removeGlobalClass("dcg-mouse-over-closed-poi"),this.removeGlobalClass("dcg-mouse-over-opened-poi"))},e.renderTracePt=function(e){var t=this.traceInfo?this.traceInfo.pt:null;if(t){var i=e.mapx(t.x),n=e.mapy(t.y);if(e.coordsAreOnscreen(i,n,p.OFFSCREEN_RENDER_MARGIN)){var r=new f(t.x,t.y,d.TRACE,this.traceInfo.branchInfo.sketch,this.traceInfo.branchInfo.branch);this.drawTracePt(r,e.viewport,{color:r.sketch.color,x:i,y:n})}}},e.drawTracePt=function(e,t,i){var n=b.getPointLabel(e,t),r=n.is_hole?" dcg-hole":"",s=n.x_label.replace("π","<span class='dcg-pi'>π</span>"),o=n.y_label.replace("π","<span class='dcg-pi'>π</span>"),l="tracept",c=this.cachedLabels[l];c?c.removeClass("dcg-will-remove"):(c=a('<div class="dcg-poi-label dcg-tracept dcg-temp"><div class="dcg-pt"></div><div class="dcg-label"><span class="dcg-label-paren">(</span><span class="dcg-x-value"></span>, <span class="dcg-y-value"></span><span class="dcg-label-paren">)</span></div></div>'),c.data("id",l),this.$traceLayer.append(c)),c.find(".dcg-x-value").html(s),c.find(".dcg-y-value").html(o),c.toggleClass("dcg-hole",!!r),c.find(".dcg-pt").css("background-color",i.color),c.find(".dcg-pt").css("border-color",i.color),c.css({left:i.x+"px",top:i.y+"px"})},e.drawSinglePOI=function(e,o,l){var c=b.getPointLabel(e,o),u=c.is_hole,h=e.isPersistent(),d=e.isAttachedToPlottedPoint(),p=c.x_label.replace("π","<span class='dcg-pi'>π</span>"),f=c.y_label.replace("π","<span class='dcg-pi'>π</span>"),g=e.getLabel(),v=e.id,y=this.cachedLabels[v];y?y.removeClass("dcg-will-remove"):(y=a('<div class="dcg-poi-label dcg-tracept dcg-poi dcg-attached-to-real-point"><div class="dcg-pt"></div><div class="dcg-label"><span class="dcg-pt-value"><span class="dcg-label-paren">(</span><span class="dcg-x-value"></span>, <span class="dcg-y-value"></span><span class="dcg-label-paren">)</span></span><span class="dcg-text-value"></span></div></div>'),y.data("__lastRender",{}),y.data("id",v),this.$labelsLayer.append(y));var x=y.data("__lastRender");t(x,y,".dcg-x-value",p),t(x,y,".dcg-y-value",f),i(x,y,".dcg-text-value",g,this.cachedMQLabels),n(x,y,".dcg-pt-value",!g),n(x,y,".dcg-text-value",!!g),r(x,y,"dcg-hole",!!u),r(x,y,"dcg-persistent",!!h),r(x,y,"dcg-attached-to-real-point",!!d),r(x,y,"dcg-opened",!!l.opened),r(x,y,"dcg-mouseover",!!l.hovered);var _={left:l.x+"px",top:l.y+"px"};h&&e&&e.sketch&&e.sketch.color&&(_.color=m.shadeColor(e.sketch.color,.3)),s(x,y,_)},e.drawHoveredPOI=function(e,t){var i=t.mapx(e.x),n=t.mapy(e.y);t.coordsAreOnscreen(i,n,p.OFFSCREEN_RENDER_MARGIN)&&this.drawSinglePOI(e,t.viewport,{hovered:!0,x:i,y:n})},e.drawOpenedPOI=function(e,t){var i=t.mapx(e.x),n=t.mapy(e.y);t.coordsAreOnscreen(i,n,p.OFFSCREEN_RENDER_MARGIN)&&this.drawSinglePOI(e,t.viewport,{opened:!0,x:i,y:n})},e.drawLabels=function(e,t){var i=e.labels;if(!i.length)return[];for(var n=[],r=0;r<i.length;r++){var s=i[r],o=t.mapx(s.x),a=t.mapy(s.y);t.coordsAreOnscreen(o,a,p.OFFSCREEN_RENDER_MARGIN)&&(this.drawSinglePOI(s,t.viewport,{opened:!0,x:o,y:a}),n.push(s))}return n},e.markLabelsDirty=function(){this.labelsDirty=!0},e.positionLabels=function(e,t,i){var n=!this.labelsDirty;this.cachedLabels={},this.labelsDirty=!1;var r=this,s={};l.each(this.savedPOI,function(e){e.sketch&&(s[e.id]=e.sketch)});var o=this.settings.projectorMode?14:10,c=this.$.find(".dcg-poi-label").map(function(){var e=a(this),t=e.find(".dcg-label"),i=t[0].getBoundingClientRect(),l=parseFloat(e[0].style.left),c=parseFloat(e[0].style.top),u=i.width,h=i.height,d=e.data("id");d&&(r.cachedLabels[d]=e);var p=s[d]&&s[d].branches[0].nakedLabel;return{$label:t,pt_x:l,pt_y:c,pt_radius:o,nakedLabel:p,width:u,height:h,keepOrientation:n,priorOrientation:t.data("orientation")}}).get();c=l.filter(c,function(e){return e.width>0&&e.height>0});var u=e.canvas.getBoundingClientRect(),h={width:u.width,height:u.height},d=g.buildStaticEnvGetter(e,h,i),p=c.map(function(e){return g.generateCandidatesForPoint(d,e)}),f=g.computePositions(p);f.forEach(function(e,t){var i=c[t].$label;i.css({left:e.left-e.pt_x,top:e.top-e.pt_y}),i.data("orientation",e.orientation)})},e.redraw=function(e,t,i,n){this.resize(e.screen.width,e.screen.height),this.dom_node.find(".dcg-poi-label").addClass("dcg-will-remove"),this.renderPOILabels(e,t),this.renderTracePt(e),this.dom_node.find(".dcg-will-remove").remove(),this.positionLabels(i,t,n)},e.getDrawnPOI=function(){return this.savedPOI||[]},e.clearOpenedPOI=function(){this.openedPOI2Sketch={}},e.closePOI=function(e){delete this.openedPOI2Sketch[e.id]},e.openPOI=function(e){this.openedPOI2Sketch[e.id]=e.sketch.id},e.isOpenPOI=function(e){return this.openedPOI2Sketch.hasOwnProperty(e.id)},e.setHoveredPOI=function(e){this.hoveredPOI=e},e.getHoveredPOI=function(){return this.hoveredPOI}});return b.getPointLabel=function(e,t){var i,n=t.xmax-t.xmin,r=t.ymax-t.ymin,s=e.getGraphMode();if(e.type===d.TRACE){var o=s===h.X,a=o?e.y:e.x,l=e.getCompiledFunction();if(i=u.point(a,n,r,l),o){var c=i[0];i[0]=i[1],i[1]=c}}else i=[u.value(e.x,n),u.value(e.y,r)];var p=i[0].superscript?i[0].mantissa+"<sup>"+i[0].superscript+"</sup>":i[0].string,f=i[1].superscript?i[1].mantissa+"<sup>"+i[1].superscript+"</sup>":i[1].string;return{x:i[0].value,x_label:p,y:i[1].value,y_label:f,is_hole:!isFinite(i[1].value)}},b}),define("graphing/stepnumber",["require","pjs"],function(e){var t=e("pjs"),i=document.createElement("canvas").getContext("2d"),n=t(function(e){e.init=function(e,t){this._label=e,this._fontSize=t,this._layout=this._computeLayout(e,t)},e._computeLayout=function(e,t){var r={};return e.superscript?(r.mantissa_height=t,n.setCtxFontSize(i,r.mantissa_height),r.mantissa_width=i.measureText(e.mantissa).width,r.superscript_height=Math.round(.8*t),n.setCtxFontSize(i,r.superscript_height),r.superscript_width=i.measureText(e.superscript).width,r.mantissa_x=0,r.mantissa_y=t/5,r.superscript_x=r.mantissa_width/2+r.superscript_width/2,r.superscript_y=-t/4,r.top=r.superscript_y-r.superscript_height/2,r.bottom=r.mantissa_y+r.mantissa_height/2,r.left=r.mantissa_x-r.mantissa_width/2,r.right=r.superscript_x+r.superscript_width/2):(r.mantissa_height=t,n.setCtxFontSize(i,t),r.mantissa_width=i.measureText(e.string).width,r.mantissa_x=0,r.mantissa_y=0,r.top=r.mantissa_y-r.mantissa_height/2,r.bottom=r.mantissa_y+r.mantissa_height/2,r.left=r.mantissa_x-r.mantissa_width/2,r.right=r.mantissa_x+r.mantissa_width/2),r},e.getRect=function(){return this.getRectWhenCenteredAt({x:0,y:0})},e.getRectWhenCenteredAt=function(e){return{left:this._layout.left+e.x,right:this._layout.right+e.x,top:this._layout.top+e.y,bottom:this._layout.bottom+e.y}},e.getWidth=function(){return this._layout.right-this._layout.left},e.getHeight=function(){return this._layout.bottom-this._layout.top},e.clampBoundsWithinRect=function(e,t){var i={};return e.x+this._layout.left<t.left?i.x=t.left-this._layout.left:e.x+this._layout.right>t.right?i.x=t.right-this._layout.right:i.x=e.x,e.y+this._layout.top<t.top?i.y=t.top-this._layout.top:e.y+this._layout.bottom>t.bottom?i.y=t.bottom-this._layout.bottom:i.y=e.y,i},e.getValue=function(){return this._label.value},e.getMinusWidth=function(){return this.getValue()<0?(n.setCtxFontSize(i,this._fontSize),i.measureText("-1").width-i.measureText("1").width):0},e.getString=function(){return this._label.superscript?this._label.mantissa+"^"+this._label.superscript:this._label.string},e.drawCenteredAt=function(e,t){var i=t.x,r=t.y;e.save(),n.setCtxFontSize(e,this._fontSize),
    this._label.superscript?(e.strokeText(this._label.mantissa,this._layout.mantissa_x+i,this._layout.mantissa_y+r),e.strokeText(this._label.superscript,this._layout.superscript_x+i,this._layout.superscript_y+r),e.fillText(this._label.mantissa,this._layout.mantissa_x+i,this._layout.mantissa_y+r),e.fillText(this._label.superscript,this._layout.superscript_x+i,this._layout.superscript_y+r)):(e.strokeText(this._label.string,this._layout.mantissa_x+i,this._layout.mantissa_y+r),e.fillText(this._label.string,this._layout.mantissa_x+i,this._layout.mantissa_y+r)),e.restore()}});return n.setCtxFontSize=function(e,t){e.font=t+"px Arial",e.textAlign="center",e.textBaseline="middle"},n}),define("graphing/computestepsizes",["require","./stepnumber","./label"],function(e){function t(e){return e?{base:10,major:[e,2*e,5*e],minor:[4,4,5]}:r.RATIONAL_STEPS}var i=e("./stepnumber"),n=e("./label"),r={},s=function(e,t,i,n){var r=Math.ceil(e/i),s=Math.floor(t/i),o=1/i;if(!(r>s||s-r>1e4))for(var a=r;a<=s;a++)n(a/o)};return r.RATIONAL_STEPS={base:10,major:[1,2,5],minor:[5,4,5]},r.PI_STEPS={base:10,major:[Math.PI,2*Math.PI,5*Math.PI],minor:[4,4,5]},r.PI_FRAC_STEPS={base:2,major:[Math.PI/3],minor:[3]},r.bestStep=function(e,t){for(var i,n,r,s,o=1/0,a=0;a<t.major.length;a++)i=t.major[a],r=Math.ceil(Math.log(e/i)/Math.log(t.base)),s=i*Math.pow(t.base,r),s<o&&(o=s,n=o/t.minor[a]);return{major:o,minor:n}},r.countStepsInRange=function(e,t,i){return 1+(t-e)/i},r.calculateSpaceBetweenRects=function(e,t){var i,n;return n=e.right<t.left?t.left-e.right:t.right<e.left?e.left-t.right:0,i=e.bottom<t.top?t.top-e.bottom:t.bottom<e.top?e.top-t.bottom:0,Math.max(i,n)},r.estimateMajors=function(e){var t=e.screen.width,i=e.screen.height,n=e.viewport.xmax-e.viewport.xmin,r=e.viewport.ymax-e.viewport.ymin,s=e.settings.pixelsPerLabel;return{majorStepX:s/t*n,majorStepY:s/i*r}},r.cartesian=function(e){var o={},a=Math.abs(e.settings.xAxisStep),l=Math.abs(e.settings.yAxisStep),c=e.viewport.xmax-e.viewport.xmin,u=e.viewport.ymax-e.viewport.ymin,h=n.value(a,c).string.indexOf("π")>=0,d=n.value(l,u).string.indexOf("π")>=0,p=r.countStepsInRange(e.viewport.xmin,e.viewport.xmax,a),f=r.countStepsInRange(e.viewport.ymin,e.viewport.ymax,l),g=r.estimateMajors(e),m=e.settings.labelSize;if(a&&a!==Math.PI&&p>=3&&p<100){var v=0;s(e.viewport.xmin,e.viewport.xmax,a,function(e){var t=i(n.value(e,c),m);v=Math.max(t.getWidth(),v)}),p*(v+10)<=e.screen.width&&(o.majorStepX=a,3===a||5===a?o.minorStepX=1:o.minorStepX=a/4)}if(l&&l!==Math.PI&&f>=3&&f<100){var y=0;s(e.viewport.ymin,e.viewport.ymax,l,function(e){var t=i(n.value(e,u),m);y=Math.max(t.getHeight(),y)}),f*(y+10)<=e.screen.height&&(o.majorStepY=l,3===l||5===l?o.minorStepY=1:o.minorStepY=l/4)}if(!o.majorStepX){var b;b=h?g.majorStepX>=1?r.PI_STEPS:r.PI_FRAC_STEPS:t(a);var x=r.bestStep(g.majorStepX,b);o.majorStepX=x.major,o.minorStepX=x.minor}if(!o.majorStepY){var _;_=d?g.majorStepY>=1?r.PI_STEPS:r.PI_FRAC_STEPS:t(l);var w=r.bestStep(g.majorStepY,_);o.majorStepY=w.major,o.minorStepY=w.minor}if(a===l){var S=2,E=e.screen.width/c/(e.screen.height/u);E>=1&&E<=S?(o.majorStepX=o.majorStepY,o.minorStepX=o.minorStepY):E<=1&&E>=1/S&&(o.majorStepY=o.majorStepX,o.minorStepY=o.minorStepX)}return e.settings.xAxisMinorSubdivisions>0&&(o.minorStepX=o.majorStepX/e.settings.xAxisMinorSubdivisions),e.settings.yAxisMinorSubdivisions>0&&(o.minorStepY=o.majorStepY/e.settings.yAxisMinorSubdivisions),o},r.polar=function(e){var t=r.estimateMajors(e),i=r.bestStep(t.majorStepX,r.RATIONAL_STEPS),n=r.bestStep(t.majorStepY,r.RATIONAL_STEPS),s=i.major>n.major?i:n;return{majorStepR:s.major,minorStepR:s.minor}},r}),define("graphing/gridlayer",["require","pjs","./stepnumber","./label","./computestepsizes","./axisarrowmode"],function(e){var t=e("pjs"),i=e("./stepnumber"),n=e("./label"),r=e("./computestepsizes"),s=e("./axisarrowmode"),o=t(function(e){e.redrawToCtx=function(e,t,i){t.settings.polarMode?t.settings.setProperty("computedStepSizes",r.polar(t)):t.settings.setProperty("computedStepSizes",r.cartesian(t)),t.settings.showGrid&&(t.settings.polarMode?this.drawPolarGrid(e,t):this.drawCartesianGrid(e,t)),this.drawAxes(e,t,i);var n;t.settings.polarMode?(n=this.drawPolarStepNumbers(e,t),this.drawLabels(e,t,n)):(n=this.drawCartesianStepNumbers(e,t),this.drawLabels(e,t,n))},e.addTextShadow=function(e){e.strokeStyle="white",e.lineWidth=3,e.miterLimit=2},e.drawPolarGrid=function(e,t){e.save();var i=t.settings.computedStepSizes,n=t.settings.minorAxisOpacity,r=t.settings.majorAxisOpacity,s=1-(1-r)/(1-n),o=Math.round(t.mapx(0))-.5,l=Math.round(t.mapy(0))-.5,c=t.screen.height/(t.viewport.ymax-t.viewport.ymin),u=t.screen.width/(t.viewport.xmax-t.viewport.xmin),h=c/u,d=u/c,p=l/h,f=t.viewport.smallestR(),g=t.viewport.largestR(),m=i.minorStepR*Math.max(1,Math.floor(f/i.minorStepR)),v=i.majorStepR*Math.max(1,Math.floor(f/i.majorStepR));e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+n+")",e.save(),a(m,g,i.minorStepR,function(i){e.beginPath(),e.scale(1,h);var n=t.mapx(i)-o;e.moveTo(o+n,p),e.arc(o,p,n,0,2*Math.PI),e.scale(1,d),e.stroke()}),e.restore();var y=f>0?5:15;a(0,359,y,function(i){if((0!==i&&180!==i||!t.settings.showXAxis)&&(90!==i&&270!==i||!t.settings.showYAxis)){e.beginPath(),e.moveTo(o,l);var n=t.mapx(g*Math.cos(i*Math.PI/180)),r=t.mapy(g*Math.sin(i*Math.PI/180));e.lineTo(Math.round(n)-.5,Math.round(r)-.5),e.stroke()}}),e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+s+")",e.save(),a(v,g,i.majorStepR,function(i){e.beginPath(),e.scale(1,h);var n=t.mapx(i)-o;e.moveTo(o+n,p),e.arc(o,p,n,0,2*Math.PI),e.scale(1,d),e.stroke()}),e.restore()},e.drawCartesianGrid=function(e,t){e.save();var i=t.settings.computedStepSizes,n=t.viewport.xmin,r=t.viewport.ymin,s=t.viewport.xmax,o=t.viewport.ymax,l=t.screen.width,c=t.screen.height,u=t.settings.minorAxisOpacity,h=t.settings.majorAxisOpacity;e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+u+")",a(n,s,i.minorStepX,function(i){if(0!==i||!t.settings.showYAxis){var n=Math.round(t.mapx(i));n!==l&&(e.beginPath(),e.moveTo(n-.5,0),e.lineTo(n-.5,c),e.stroke())}}),a(r,o,i.minorStepY,function(i){if(0!==i||!t.settings.showXAxis){var n=Math.round(t.mapy(i));n!==c&&(e.beginPath(),e.moveTo(0,n-.5),e.lineTo(l,n-.5),e.stroke())}});var d=1-(1-h)/(1-u);e.strokeStyle="rgba(0, 0 , 0, "+d+")",a(n,s,i.majorStepX,function(i){if(0!==i||!t.settings.showYAxis){var n=Math.round(t.mapx(i));n!==l&&(e.beginPath(),e.moveTo(n-.5,0),e.lineTo(n-.5,c),e.stroke())}}),a(r,o,i.majorStepY,function(i){if(0!==i||!t.settings.showXAxis){var n=Math.round(t.mapy(i));n!==c&&(e.beginPath(),e.moveTo(0,n-.5),e.lineTo(l,n-.5),e.stroke())}}),e.restore()},e.drawAxes=function(e,t,i){function n(t,i,n){e.save();var r=Math.PI/12,s=8*Math.max(e.lineWidth,1.5);e.lineJoin="round",e.fillStyle=l,e.strokeStyle=l,e.beginPath(),e.moveTo(t,i),e.lineTo(t+Math.cos(n-r)*s,i+Math.sin(n-r)*s),e.lineTo(t+Math.cos(n+r)*s,i+Math.sin(n+r)*s),e.lineTo(t,i),e.lineTo(t+Math.cos(n-r)*s,i+Math.sin(n-r)*s),e.stroke(),e.fill(),e.restore()}var r=t.settings.axisLineOffset,o=t.settings.axisOpacity.toString(),a="rgba(127,205,230,"+o+")",l="rgba(0,0,0,"+o+")",c=t.settings.xAxisArrowMode,u=t.settings.yAxisArrowMode,h=t.settings.showXAxis,d=t.settings.showYAxis,p=1,f=Math.round(t.mapx(0))-r,g=Math.round(t.mapy(0))-r,m=t.screen.height,v=t.screen.width;d&&(e.lineWidth=t.settings.axisLineWidth*("y"===i?p:1),e.strokeStyle="y"===i?a:l,u===s.BOTH?(e.beginPath(),e.moveTo(f,2*t.settings.axisLineWidth),e.lineTo(f,m-2*t.settings.axisLineWidth),e.stroke(),n(f,m-t.settings.axisLineWidth,3*Math.PI/2),n(f,t.settings.axisLineWidth,Math.PI/2)):u===s.POSITIVE?(e.beginPath(),e.moveTo(f,2*t.settings.axisLineWidth),e.lineTo(f,m),e.stroke(),n(f,t.settings.axisLineWidth,Math.PI/2)):(e.beginPath(),e.moveTo(f,0),e.lineTo(f,m),e.stroke())),h&&(e.lineWidth=t.settings.axisLineWidth*("x"===i?p:1),e.strokeStyle="x"===i?a:l,c===s.BOTH?(e.beginPath(),e.moveTo(2*t.settings.axisLineWidth,g),e.lineTo(v-2*t.settings.axisLineWidth,g),e.stroke(),n(t.settings.axisLineWidth,g,0),n(v-t.settings.axisLineWidth,g,Math.PI)):c===s.POSITIVE?(e.beginPath(),e.moveTo(0,g),e.lineTo(v-2*t.settings.axisLineWidth,g),e.stroke(),n(v-t.settings.axisLineWidth,g,Math.PI)):(e.beginPath(),e.moveTo(0,g),e.lineTo(v,g),e.stroke()))},e.drawPolarStepNumbers=function(e,t){function r(e,i,n){var r=Math.sqrt(e*e-i*i);y<=r&&r<=b&&n.push({x:t.mapx(i),y:t.mapy(r)}),y<=-r&&-r<=b&&n.push({x:t.mapx(i),y:t.mapy(-r)})}function s(e,i,n){var r=Math.sqrt(e*e-i*i);m<=r&&r<=v&&n.push({x:t.mapx(r),y:t.mapy(i)}),m<=-r&&-r<=v&&n.push({x:t.mapx(-r),y:t.mapy(i)})}e.save();var o=t.settings.showGrid,u=t.settings.xAxisNumbers&&t.settings.showXAxis,h=t.settings.yAxisNumbers&&t.settings.showYAxis,d=o&&t.settings.polarNumbers,p=t.settings.computedStepSizes,f=t.viewport.largestR(),g=t.viewport.smallestR(),m=t.viewport.xmin,v=t.viewport.xmax,y=t.viewport.ymin,b=t.viewport.ymax,x=t.screen.width,_=t.screen.height,w={left:3,right:x-3,top:3,bottom:_-3},S=t.settings.labelHangingColor,E=t.settings.labelNormalColor,k=t.settings.labelSize,T=k;e.textAlign="center",e.textBaseline="middle",this.addTextShadow(e),e.font=k.toString()+"px Arial",e.fillStyle=E;var C=t.mapx(0),I=t.mapy(0),P=y<=0&&0<=b,A=m<=0&&0<=v,M=P&&u,O=A&&h,L="";if(!M&&!O&&o){var D,q,N,F,R=Math.abs(C),V=Math.abs(C-x),j=Math.abs(I),$=Math.abs(I-_);R<=V?(D="left",N=R):(D="right",N=V),j<=$?(q="top",F=j):(q="bottom",F=$),u&&h?L=N<=F?D:q:h?L=D:u&&(L=q)}var B={left:0,right:x,top:I-1,bottom:I+1},U={left:C-1,right:C+1,top:0,bottom:_};if(a(0,f,p.majorStepR,function(o){var a=[],l=[],d=[],p=i(n.value(o,f),k),g=p.getRect();switch(o>0?(O&&y<=o&&o<=b&&l.push({x:C-g.right-5,y:t.mapy(o)}),O&&y<=-o&&-o<=b&&l.push({x:C-g.right-5,y:t.mapy(-o)}),M&&m<=o&&o<=v&&a.push({x:t.mapx(o),y:I-g.top+3}),M&&m<=-o&&-o<=v&&a.push({x:t.mapx(-o),y:I-g.top+3})):O&&!u&&y<=o&&o<=b?l.push({x:C-g.right-5,y:t.mapy(o)}):M&&!h&&m<=o&&o<=v&&a.push({x:t.mapx(o),y:I-g.top+3}),L){case"top":s(o,b,d);break;case"bottom":s(o,y,d);break;case"left":r(o,m,d);break;case"right":r(o,v,d)}a.forEach(function(t){t=p.clampBoundsWithinRect(t,w),p.drawCenteredAt(e,t),c(B,p.getRectWhenCenteredAt(t))}),l.forEach(function(t){t=p.clampBoundsWithinRect(t,w),p.drawCenteredAt(e,t),c(U,p.getRectWhenCenteredAt(t))}),d.forEach(function(t){t=p.clampBoundsWithinRect(t,w),p.drawCenteredAt(e,t)})}),d){var G=Math.ceil(g/p.majorStepR),z=Math.floor(f/p.majorStepR),H=Math.ceil((G+z)/2),W=H*p.majorStepR,Y=g>0?15:30;a(0,359,Y,function(i){var r;r=t.settings.degreeMode?i.toString()+"°":n.value(i*Math.PI/180,2*Math.PI).string;var s=e.measureText(r).width/2,o=W/1.05,a=o*Math.cos(i*Math.PI/180),c=o*Math.sin(i*Math.PI/180);if(!(a<m||a>v||c<y||c>b)){var u=t.mapx(a),h=t.mapy(c);0===i||180===i?h-=T:90!==i&&270!==i||(u+=s+3);var d=l(u,3+s,x-3-s),p=l(h,3+T,_-3-T);e.fillStyle=S,e.strokeText(r,d,p),e.fillText(r,d,p)}})}return e.restore(),{x:B,y:U}},e.drawLabels=function(e,t,i){var n=t.viewport.xmin,r=t.viewport.xmax,s=t.viewport.ymin,o=t.viewport.ymax,a=t.screen.width,l=t.screen.height,c=(r-n)/a,h=(o-s)/l,d=t.settings.labelNormalColor,p=t.mapx(0),f=t.mapy(0),g=t.settings.labelSize,m=15,v=t.settings.showXAxis&&t.settings.xAxisLabel,y=t.settings.showYAxis&&t.settings.yAxisLabel,b=i.x,x=i.y;if(v&&b){e.save(),e.fillStyle=d;var _;if(e.__xLabelOffset&&t.settings.isViewportTransient&&u(e.__xLabelOffset.xscale,c)&&u(e.__xLabelOffset.yscale,h)&&(_={x:e.__xLabelOffset.x+p,y:e.__xLabelOffset.y+f}),this._setAxisLabelFont(e,v,g),!_){var w=e.measureText(v).width,S=a-w-m,E=g;_=b.bottom+E<l?{x:S,y:b.bottom+E}:{x:S,y:b.top-E/2},e.__xLabelOffset={x:_.x-p,y:_.y-f,xscale:c,yscale:h}}e.strokeText(v,_.x,_.y),e.fillText(v,_.x,_.y),e.restore()}else e.__xLabelPosition=null;if(y&&x){e.save(),e.fillStyle=d;var k;if(e.__yLabelOffset&&t.settings.isViewportTransient&&u(e.__yLabelOffset.xscale,c)&&u(e.__yLabelOffset.yscale,h)&&(k={x:e.__yLabelOffset.x+p,y:e.__yLabelOffset.y+f}),this._setAxisLabelFont(e,y,g),!k){var T=e.measureText(y).width,C=g,I=T+5;if(!this._isShortMathyLabel(y)){var P=T;T=C,C=P,I=.5*T}var A=0+m+C;k=x.left-T>0?{x:x.left-I,y:A}:{x:x.right+T,y:A},e.__yLabelOffset={x:k.x-p,y:k.y-f,xscale:c,yscale:h}}e.translate(k.x,k.y),this._isShortMathyLabel(y)||e.rotate(-Math.PI/2),e.strokeText(y,0,0),e.fillText(y,0,0),e.restore()}else e.__yLabelPosition=null},e._isShortMathyLabel=function(e){return e.trim().match(/^([a-zA-Z]?)\(?([a-zA-Z]?)\)?$/)},e._setAxisLabelFont=function(e,t,i){this.addTextShadow(e),this._isShortMathyLabel(t)?e.font="italic "+Math.round(1.4*i.toString())+"px Times":e.font=Math.round(1.2*i.toString())+"px Arial"},e.drawCartesianStepNumbers=function(e,t){e.save();var r=t.settings.computedStepSizes,s=t.settings.showXAxis,o=t.settings.showYAxis,l=s&&t.settings.xAxisNumbers,u=o&&t.settings.yAxisNumbers,h=t.viewport.xmin,d=t.viewport.xmax,p=t.viewport.ymin,f=t.viewport.ymax,g=t.screen.width,m=t.screen.height,v={left:3,top:3,right:g-3,bottom:m-3},y=t.settings.labelHangingColor,b=t.settings.labelNormalColor,x=t.mapx(0),_=t.mapy(0),w=t.settings.labelSize;this.addTextShadow(e);var S={left:0,right:g,top:_-1,bottom:_+1},E={left:x-1,right:x+1,top:0,bottom:m},k=!1;if(s&&o&&(l||u)){k=!0,e.fillStyle=b;var T=i(n.value(0,1),w);T.drawCenteredAt(e,{x:x-T.getRect().right-5,y:_-T.getRect().top+3})}return l&&a(h,d,r.majorStepX,function(r){var s=i(n.value(r,d-h),w),o={x:t.mapx(s.getValue())-.5*s.getMinusWidth(),y:_-s.getRect().top+5},a=s.clampBoundsWithinRect(o,v);e.fillStyle=o.y===a.y?b:y,"0"===s.getString()&&k||(s.drawCenteredAt(e,a),c(S,s.getRectWhenCenteredAt(a)))}),u&&a(p,f,r.majorStepY,function(r){var s=i(n.value(r,f-p),w),o={x:x-5-s.getRect().right,y:t.mapy(s.getValue())},a=s.clampBoundsWithinRect(o,v);e.fillStyle=o.x===a.x?b:y,"0"===s.getString()&&k||(s.drawCenteredAt(e,a),c(E,s.getRectWhenCenteredAt(a)))}),e.restore(),{x:S,y:E}}}),a=function(e,t,i,n){var r=Math.ceil(e/i),s=Math.floor(t/i);if(isFinite(s-r)&&!(s-r>1e4))for(var o=r;o<=s;o++)n(o*i)},l=function(e,t,i){return e<t?t:e>i?i:e},c=function(e,t){t.left<e.left&&(e.left=t.left),t.right>e.right&&(e.right=t.right),t.top<e.top&&(e.top=t.top),t.bottom>e.bottom&&(e.bottom=t.bottom)},u=function(e,t){var i=Math.abs(e),n=Math.abs(t),r=1e-4;return Math.abs(i-n)<=(i<n?n:i)*r};return o}),define("graphing/graphsketch",["require","math/poi","./poi","graphing/graphmode"],function(e){function t(e,t){this.color="#000000",this.style="normal",this.visible=!0,this.showPOI=!1,this.showHighlight=!1,this.selected=!1,this.labels=[],this.id=e,this.branches=void 0!==t?t:[],this.getPOI().forEach(function(e){e.type===i.LABEL&&this.labels.push(e)}.bind(this))}var i=e("math/poi").default,n=e("./poi"),r=e("graphing/graphmode");return t.prototype.getPOI=function(){if(this.__cachedPOI)return this.__cachedPOI;var e,t;this.__cachedPOI=[],this.__cachedPOIIds={};for(var n=0;n<this.branches.length;n++){e=this.branches[n],t=e.graphMode;var s=e.poi;if(t===r.X||t===r.Y)this._pushPOI(s.zeros,n,i.ZERO),this._pushPOI(s.intercept,n,i.INTERCEPT),this._pushPOI(s.extrema,n,i.EXTREMUM),this._pushPOI(s.intersections,n,i.INTERSECTION);else if(t===r.XYPOINT||t===r.XYPOINT_MOVABLE)if(e.showLabel===!0){var o=e.nakedLabel;this._pushPOI(s.defined,n,i.LABEL,o)}else this._pushPOI(s.defined,n,i.DEFINITION)}return this.__cachedPOI},t.prototype.getMovablePoints=function(){if(this.__cachedMovablePoints)return this.__cachedMovablePoints;this.__cachedMovablePoints=[];var e=this.branches[0];if(e&&1===e.segments.length&&e.graphMode===r.XYPOINT_MOVABLE)for(var t=e.segments[0],i=0;i<t.length;i++){var n;e.tableId&&(n={tableId:e.tableId,columnId:this.id,rowIndex:e.movablePointInfo[i].index,dragX:e.movablePointInfo[i].dragX,dragY:e.movablePointInfo[i].dragY});var s;e.scaleFactors&&(s=e.scaleFactors[0][i]);var o=n?n.rowIndex:i;this.__cachedMovablePoints.push({id:"movable:["+this.id+","+o+"]",sketch:this,color:this.color,tableInfo:n,scaleFactor:s,x:t[i][0],y:t[i][1],isMovable:!0})}return this.__cachedMovablePoints},t.prototype._pushPOI=function(e,t,i,r){if(e)for(var s=0,o=e.x.length;s<o;s++){var a=new n(e.x[s],e.y[s],i,this,t,s,r);e.intersects&&(a.intersects=e.intersects[s]),this.__cachedPOI.push(a),this.__cachedPOIIds[a.id]=a}},t.prototype.updateIntersections=function(e){for(var t=0,n=this.branches.length;t<n;t++)this.branches[t].poi.intersections=e[t];var s=this.__cachedPOI;this.__cachedPOI=[],s.forEach(function(e){e.type!==i.INTERSECTION?this.__cachedPOI.push(e):delete this.__cachedPOIIds[e.id]}.bind(this));var o,a;for(t=0;t<this.branches.length;t++){o=this.branches[t],a=o.graphMode;var l=o.poi;a!==r.X&&a!==r.Y||this._pushPOI(l.intersections,t,i.INTERSECTION)}},t.prototype.getPOIById=function(e){return this.__cachedPOIIds[e]},t.prototype.updateFrom=function(e){if(e){this.visible=!0,this.showPOI=e.showPOI,this.showHighlight=e.showHighlight,this.selected=e.selected;var t=this.branches[0].graphMode;if(t===r.XYPOINT||t===r.XYPOINT_MOVABLE){var i,n,s,o=!0;for(s=0;s<this.__cachedPOI.length;s++)if(i=e.__cachedPOI[s],n=this.__cachedPOI[s],!i||i.type!==n.type){o=!1;break}if(o)for(s=0;s<this.__cachedPOI.length;s++)i=e.__cachedPOI[s],n=this.__cachedPOI[s],delete this.__cachedPOIIds[n.id],this.__cachedPOIIds[i.id]=n,n.id=i.id}}},t}),define("graphing/imagelayer",["require","pjs","underscore"],function(e){var t=e("pjs"),i=e("underscore"),n=t(function(e){e.redrawToCtx=function(e,t,n,r){(void 0===r||r.length<i.size(n))&&(r=i.keys(n));for(var s=this,o=0;o<r.length;o++){var a=n[r[o]];a&&a.shouldGraph&&s.drawImageToCtx(a,e,t)}},e.drawImageToCtx=function(e,t,i){if(e.computed_x)for(var n=0;n<e.computed_x.length;n++){var r=e.computed_x[n],s=e.computed_y[n],o=e.computed_width[n],a=e.computed_height[n];if(isFinite(r)&&isFinite(s)&&isFinite(o)&&isFinite(a)){t.save(),t.strokeStyle="#6993C7",t.lineWidth=2,t.globalAlpha=e.opacity;var l=i.mapy(a)-i.mapy(0),c=i.mapx(o)-i.mapx(0),u=i.mapx(r)-c/2,h=i.mapy(s)+l/2,d=a<0?-1:1,p=o<0?-1:1;t.scale(p,d);var f=u*p,g=h*d,m=Math.abs(c),v=Math.abs(l);t.drawImage(e.imageObj,f,g,m,v),e.selected&&(t.beginPath(),t.rect(f,g,m,v),t.stroke()),t.restore()}}}});return n}),define("math/recttransformation",["require","pjs"],function(e){var t=e("pjs"),i=t(function(e,t,n){function r(e,t){var i=e-1;return 1+i*i*i===1?t*(1+i*(t-1)*(.5+1/6*i*(t-2))):(Math.pow(e,t)-1)/i}e.init=function(e,t,i,n){this.tx=void 0!==e?e:0,this.ty=void 0!==t?t:0,this.sx=void 0!==i?i:1,this.sy=void 0!==n?n:this.sx},n.scale=function(e,t){return new i(0,0,e,t)},n.translate=function(e,t){return(new i).translate(e,t)},n.scaleAtPoint=function(e,t,n){return void 0===n&&(n=t),new i(e.x*(1-t),e.y*(1-n),t,n)},e.compose=function(e){return new i(this.sx*e.tx+this.tx,this.sy*e.ty+this.ty,this.sx*e.sx,this.sy*e.sy)},e.translate=function(e,t){var n=void 0===t?e.x:t.x-e.x,r=void 0===t?e.y:t.y-e.y;return new i(this.tx+n,this.ty+r,this.sx,this.sy)},e.scale=function(e,t){return i.scale(e,t).compose(this)},e.scaleAtPoint=function(e,t,n){return i.scaleAtPoint(e,t,n).compose(this)},e.inverse=function(){return new i(-this.tx/this.sx,-this.ty/this.sy,1/this.sx,1/this.sy)},e.div=function(e){return new i((this.tx*e.sx-this.sx*e.tx)/e.sx,(this.ty*e.sy-this.sy*e.ty)/e.sy,this.sx/e.sx,this.sy/e.sy)},e.conjugate=function(e){return new i(this.tx*e.sx+e.tx*(1-this.sx),this.ty*e.sy+e.ty*(1-this.sy),this.sx,this.sy)},e.pow=function(e){return new i(this.tx*r(this.sx,e),this.ty*r(this.sy,e),Math.pow(this.sx,e),Math.pow(this.sy,e))},n.fromRects=function(e,t){var n=(t.right-t.left)/(e.right-e.left),r=(t.top-t.bottom)/(e.top-e.bottom);return new i(t.left-n*e.left,t.bottom-r*e.bottom,n,r)},e.mapX=function(e){return this.sx*e+this.tx},e.mapY=function(e){return this.sy*e+this.ty},e.mapPoint=function(e){return{x:this.mapX(e.x),y:this.mapY(e.y)}},e.mapRect=function(e){return{left:this.mapX(e.left),right:this.mapX(e.right),bottom:this.mapY(e.bottom),top:this.mapY(e.top)}},e.toJSON=function(){return{tx:this.tx,ty:this.ty,sx:this.sx,sy:this.sy}},e.fromJSON=function(e){return new i(e.tx,e.tj,e.sx,e.sy)}});return i}),define("graphing/projection",["require","math/recttransformation"],function(e){function t(e){return{left:0,right:e.width,top:0,bottom:e.height}}function i(e){return{left:e.xmin,right:e.xmax,bottom:e.ymin,top:e.ymax}}var n=e("math/recttransformation"),r=function(e,r,s){this.screen=e,this.viewport=r,this.settings=s,this.mathCoordinates=i(r),this.pixelCoordinates=t(e),this.mathToPixels=n.fromRects(this.mathCoordinates,this.pixelCoordinates),this.pixelsToMath=n.fromRects(this.pixelCoordinates,this.mathCoordinates)};return r.prototype.mapx=function(e){return this.mathToPixels.mapX(e)},r.prototype.mapy=function(e){return this.mathToPixels.mapY(e)},r.prototype.map_pt=function(e){return this.mathToPixels.mapPoint(e)},r.prototype.reverse_mapx=function(e){return this.pixelsToMath.mapX(e)},r.prototype.reverse_mapy=function(e){return this.pixelsToMath.mapY(e)},r.prototype.reverse_map_pt=function(e){return this.pixelsToMath.mapPoint(e)},r.prototype.coordsAreOnscreen=function(e,t,i){return i=void 0===i?0:i,e>-i&&t>-i&&e<this.screen.width+i&&t<this.screen.height+i},r.prototype.closestPointOnScreen=function(e){var t=this.pixelCoordinates;return{x:Math.min(Math.max(e.x,t.left),t.right),y:Math.min(Math.max(e.y,t.top),t.bottom)}},r}),define("lib/aria",["require","jquery","pjs"],function(e){var t=e("jquery"),i=e("pjs"),n=i(function(e){e.init=function(){this.jQ=t([]),t(document).ready(function(){var e=".dcg-aria-alert";t(e).length||t("body").append("<p aria-live='assertive' aria-atomic='true' class='dcg-aria-alert'></p>"),this.jQ=t(e)}.bind(this)),this.items=[]},e.queue=function(e){return this.items.push(e),this},e.alert=function(e){return e&&this.queue(e),this.items.length&&this.jQ.empty().text(this.items.join(" ").replace(/ +(?= )/g,"")),this.clear()},e.clear=function(){return this.items.length=0,this},e.addAria=function(e){return e.attr("aria-atomic","true").attr("aria-live","assertive")},e.removeAria=function(e){return e.removeAttr("aria-atomic").removeAttr("aria-live")},e.toggleAria=function(e){return e.hasClass("dcg-visible")?this.addAria(e):this.removeAria(e)}});return n()}),define("graphing/movablepointslayer",["require","pjs","jquery","./domlayer","browser","./constants","lib/aria","i18n","./label"],function(e){var t=e("pjs"),i=e("jquery"),n=e("./domlayer"),r=e("browser"),s=e("./constants"),o=e("lib/aria"),a=e("i18n"),l=e("./label"),c=t(n,function(e,t){e.init=function(e,i){t.init.call(this,e),this.graphSettings=i,this.renderedMovablePoints={}},e.t=function(e,t){return a.t(e,t,this.graphSettings.language)},e.redraw=function(e,t){this.resize(e.screen.width,e.screen.height);var i=null,n=null;for(var r in this.renderedMovablePoints)this.renderedMovablePoints[r].shouldGarbageCollect=!0;for(r in t){var s=t[r];if(s.visible)for(var o=s.getMovablePoints(),a=0;a<o.length;a++){var l=o[a],c={};l.id===this.hoveredPointId&&(c.hovered=!0,i=l),l.id===this.pressedPointId&&(c.pressed=!0,n=l),this.drawMovablePoint(l,e,c)}}for(r in this.renderedMovablePoints)this.renderedMovablePoints[r].shouldGarbageCollect&&(this.renderedMovablePoints[r].$.off(".mp_listener"),this.renderedMovablePoints[r].$.remove(),delete this.renderedMovablePoints[r]);var u,h;i?(u=i.tableInfo&&i.tableInfo.dragX,h=i.tableInfo&&i.tableInfo.dragY,u&&h||!u&&!h?this.addGlobalClass("dcg-mouse-over-movable-point"):u?this.addGlobalClass("dcg-mouse-over-movable-point-ew"):this.addGlobalClass("dcg-mouse-over-movable-point-ns")):(this.hoveredPointId=null,this.removeGlobalClass("dcg-mouse-over-movable-point-ew"),this.removeGlobalClass("dcg-mouse-over-movable-point-ns"),this.removeGlobalClass("dcg-mouse-over-movable-point")),n?(u=n.tableInfo&&n.tableInfo.dragX,h=n.tableInfo&&n.tableInfo.dragY,u&&h||!u&&!h?this.addGlobalClass("dcg-dragging-movable-point"):u?this.addGlobalClass("dcg-dragging-movable-point-ew"):this.addGlobalClass("dcg-dragging-movable-point-ns")):(this.pressedPointId=null,this.removeGlobalClass("dcg-dragging-movable-point-ew"),this.removeGlobalClass("dcg-dragging-movable-point-ns"),this.removeGlobalClass("dcg-dragging-movable-point"))},e.drawMovablePoint=function(e,t,n){var o=e.id,a=e.color,l=e.x,c=e.y,u=t.mapx(l),h=t.mapy(c),d=!(o in this.renderedMovablePoints);if(d){var p=e.tableInfo?"dcg-table-movable-point":"",f=i("<div class='dcg-movable-point "+p+"'>").append(i("<div class='dcg-background'></div>")).append(i("<div class='dcg-dot'></div></div>"));this.dom_node.append(f),this.renderedMovablePoints[o]={$:f,shouldGarbageCollect:!0}}var g=this.renderedMovablePoints[o].$;if(t.coordsAreOnscreen(u,h,s.OFFSCREEN_RENDER_MARGIN)){var m=g[0]===document.activeElement,v=this.getAriaLabel(e,t,m);g.attr("aria-hidden",!this.graphSettings.config.graphpaper).attr("role","button").attr("tabindex",this.graphSettings.config.graphpaper&&this.graphSettings.enableTabindex?0:-1).attr("aria-label",v).css({transform:r.translateRule(u,h),backgroundColor:a}).data("movablePoint",e),g.toggleClass("dcg-simulate-hovered",!!n.hovered),g.toggleClass("dcg-simulate-active",!!n.pressed),d&&g.on("blur.mp_listener",function(i){g.attr("aria-label",this.getAriaLabel(e,t,!1))}.bind(this)),this.speakPointCoordinates(g[0],v),this.renderedMovablePoints[o].shouldGarbageCollect=!1}},e.getAriaLabel=function(e,t,i){if(!e||!t)return"";var n=t.viewport;if(!n)return"";var r=this.getLabelFromMovablePoint(e),s="X: "+l.value(e.x,n.xmax-n.xmin).ariaString+". Y: "+l.value(e.y,n.ymax-n.ymin).ariaString+".",o=this.t(" is movable. Press Arrows or Shift+Arrows to adjust.");return i?s:r+" "+s+o},e.getLabelFromMovablePoint=function(e){for(var t=this.t("Graph point"),i=e.sketch.getPOI(),n=0;n<i.length&&!(i[n].branch>0);n++)if(i[n].x===e.x&&i[n].y===e.y){var r=i[n].getLabel();""!==r&&(t=r);break}return t},e.speakPointCoordinates=function(e,t){document.activeElement===e&&r.IS_APPLE&&o.alert(t)}});return c}),define("animation-frame-src",["require"],function(e){var t=0,i=function(e,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),s=window.setTimeout(function(){e(n+r)},r);return t=n+r,s};return window.requestAnimationFrame&&window.cancelAnimationFrame?{requestAnimationFrame:window.requestAnimationFrame.bind(window),cancelAnimationFrame:window.cancelAnimationFrame.bind(window)}:{requestAnimationFrame:i,cancelAnimationFrame:window.clearTimeout.bind(window)}}),define("lib/animation-frame",["require","exports","animation-frame-src"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestAnimationFrame=i.requestAnimationFrame,t.cancelAnimationFrame=i.cancelAnimationFrame}),define("jquery.handleevent",["require","jquery"],function(e){var t=e("jquery"),i="_*_";t.Event.prototype.wasHandled=function(e){e=e?e:i;var n=this.originalEvent,r=n&&n.handledBy;if(r&&r[e])return!0;if(e!==i)return!1;var s=t(this.target).closest("[handleEvent]");return!(!s.length||s[0]===this.currentTarget)&&"false"!==s.attr("handleEvent")},t.Event.prototype.handle=function(e){e=e?e:i;var t=this.originalEvent;if(t){var n=t.handledBy;n||(n=t.handledBy={}),n[e]=!0}}}),function(e){"function"==typeof define&&define.amd?define("vendor/jquery.mousewheel",["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,a=l.call(arguments,1),c=0,u=0,h=0,d=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(h=o.detail*-1),"wheelDelta"in o&&(h=o.wheelDelta),"wheelDeltaY"in o&&(h=o.wheelDeltaY),"wheelDeltaX"in o&&(u=o.wheelDeltaX*-1),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(u=h*-1,h=0),c=0===h?u:h,"deltaY"in o&&(h=o.deltaY*-1,c=h),"deltaX"in o&&(u=o.deltaX,0===h&&(c=u*-1)),0!==h||0!==u){if(1===o.deltaMode){var p=e.data(this,"mousewheel-line-height");c*=p,h*=p,u*=p}else if(2===o.deltaMode){var f=e.data(this,"mousewheel-page-height");c*=f,h*=f,u*=f}return d=Math.max(Math.abs(h),Math.abs(u)),(!s||d<s)&&(s=d,n(o,d)&&(s/=40)),n(o,d)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/s),u=Math[u>=1?"floor":"ceil"](u/s),h=Math[h>=1?"floor":"ceil"](h/s),t.deltaX=u,t.deltaY=h,t.deltaFactor=s,t.deltaMode=0,a.unshift(t,c,u,h),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){s=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var r,s,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=o.length;c;)e.event.fixHooks[o[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),define("graphing/viewportcontroller",["require","jquery","pjs","lib/aria","i18n","math/recttransformation","./viewport","math/distance","./constants","lib/animation-frame","./projection","jquery.handleevent","vendor/jquery.mousewheel"],function(e){var t=e("jquery"),i=e("pjs"),n=e("lib/aria"),r=e("i18n"),s=e("math/recttransformation"),o=e("./viewport"),a=e("math/distance"),l=e("./constants"),c=e("lib/animation-frame"),u=e("./projection");e("jquery.handleevent"),e("vendor/jquery.mousewheel");var h=i(function(e){function i(e,t){var i=t.x-e.x,n=t.y-e.y,r=.5*(e.x+t.x),s=.5*(e.y+t.y),o=.5*a.hypot(i,n);return{center:d(r,s),radius:o}}function h(e,t){for(var i=[],n=0;n<e.length;n++)i.push(d(e[n].x-t.left,e[n].y-t.top));return i}function d(e,t){return{x:e,y:t}}function p(e){return d(.5*(e.left+e.right),.5*(e.bottom+e.top))}var f=0;e.init=function(e,t){this.grapher=e,this.undoRedo=t,this.$=this.grapher.$,this.__id=f++,this.addMouseWheelEventHandler(),this.addTouchEventHandler()},e.remove=function(){t(window).off("viewportcontroller-"+this.__id)},e.t=function(e,t){return r.t(e,t,this.grapher.settings.language)},e.getViewport=function(){return this.grapher.getProjection().viewport},e.getProjection=function(){return this.grapher.getProjection()},e.getDefaultViewport=function(){return this.grapher.getDefaultViewport()},e._setViewportWithoutCancellingAnimation=function(e){if(e.isValid()&&!e.equals(this.getViewport())){var t=this.getViewport(),i=this.getProjection();this.grapher._setProjection(new u(i.screen,e,i.settings));var n=this.getViewport(),r=this;r.undoRedo.addTransaction({foldType:"viewport",undo:function(){r.setViewport(t)},redo:function(){r.setViewport(n)}})}},e.setViewport=function(e){this.cancelAnimation(),this._setViewportWithoutCancellingAnimation(e)},e.setScreen=function(e){var t=this.getProjection(),i=new u(e,this.getViewportForScreen(t.viewport,e),t.settings);this.grapher._setProjection(i)},e.getTransformedViewport=function(e){var t=this.getProjection(),i=t.pixelsToMath.div(e).mapRect(t.pixelCoordinates);return new o(i.left,i.right,i.bottom,i.top)},e.transformViewport=function(e){this.setViewport(this.getTransformedViewport(e))},e.animateTransformation=function(e){function t(o){n||(n=o);var a=(o-n)/l.ANIMATE_ZOOM_DURATION;s+=a,s<1?(i.__animationTimeout=c.requestAnimationFrame(t),i._setViewportWithoutCancellingAnimation(i.getTransformedViewport(e.pow(a)))):i.setViewport(r)}var i=this;this.cancelAnimation();var n,r=this.getTransformedViewport(e),s=0;this.__animationTimeout=c.requestAnimationFrame(t)},e.cancelAnimation=function(){c.cancelAnimationFrame(this.__animationTimeout)},e.addMouseWheelEventHandler=function(){var e,i,n=!1;t(window).on("scroll.viewportcontroller-"+this.__id,function(e){n=!0}),t(window).on("mousewheel.viewportcontroller-"+this.__id,function(t){e=t.originalEvent.clientX,i=t.originalEvent.clientY}),t(window).on("mousemove.viewportcontroller-"+this.__id,function(t){
    if(n){var r=t.originalEvent.clientX-e,s=t.originalEvent.clientY-i,o=r*r+s*s;o<100||(n=!1)}});var r=0,o=function(e,t){var i=this.getProjection();if(!i.settings.config.lockViewport){var o=i.mathToPixels;if(!n){e.preventDefault();var a=this.$[0].getBoundingClientRect(),u=d(e.clientX-a.left,e.clientY-a.top),h=o.mapPoint(d(0,0)),p=Math.abs(u.x-h.x)<50&&Math.abs(u.y-h.y)<50,f=p&&t>0?h:u;if(!(r>0)){r+=1,c.requestAnimationFrame(function(){r--}),t=t>0?1:-1;var g=t>0?l.ZOOM_FACTOR:1/l.ZOOM_FACTOR;this.transformViewport(s.scaleAtPoint(f,g))}}}};this.$.mousewheel(o.bind(this))},e.handleDoubleClick=function(e){var t=this.getProjection();if(!t.settings.config.lockViewport&&!t.settings.config.disable_dblclick_zooming&&!e.wasHandled()){e.preventDefault();var i=this.$[0].getBoundingClientRect(),n=d(e.clientX-i.left,e.clientY-i.top);this.animateTransformation(s.scaleAtPoint(n,l.DOUBLETAP_ZOOM))}},e.applyPanTouchChanges=function(e,t){if(!this.getProjection().settings.config.lockViewport){var i=d(t[0].x-e[0].x,t[0].y-e[0].y);this.transformViewport(s.translate(i))}},e.applyScaleTouchChanges=function(e,t){if(!this.getProjection().settings.config.lockViewport){var n=this.grapher.scaleAxis,r=i(e[0],e[1]),o=i(t[0],t[1]),a=o.radius/r.radius,l="y"===n?1:a,c="x"===n?1:a,u=s.scaleAtPoint(r.center,l,c).translate(r.center,o.center);this.transformViewport(u)}},e.addTouchEventHandler=function(){var e=this,i=[],n=!1,r=function(i){e.getProjection().settings.config.lockViewport||i.wasHandled()||n||i.touches.length===i.changedTouches.length&&(n=!0,t(document).on("dcg-tapmove.graphdrag",l),t(document).on("dcg-tapstart.graphdrag dcg-tapend.graphdrag dcg-tapcancel.graphdrag",c))},s=function(t){if(!(t.length<2)){var i=e.grapher.getProjection(),n=i.pixelCoordinates,r=i.mathToPixels.mapX(0),s=i.mathToPixels.mapY(0);r=Math.min(Math.max(n.left,r),n.right),s=Math.min(Math.max(n.top,s),n.bottom);var o=t[1].x-t[0].x,a=t[1].y-t[0].y,l=40;return Math.abs(t[0].x-r)<l&&Math.abs(t[1].x-r)<l&&Math.abs(a)>3*Math.abs(o)?"y":Math.abs(t[0].y-s)<l&&Math.abs(t[1].y-s)<l&&Math.abs(o)>3*Math.abs(a)?"x":"both"}},o=function(t){return e.grapher.scaleAxis||(e.grapher.scaleAxis=s(t)),e.grapher.scaleAxis},a=function(){e.grapher.scaleAxis=void 0,e.grapher.redrawAllLayers()},l=function(t){if(n&&!e.getProjection().settings.config.lockViewport){var r=h(t.touches,e.$.offset());2===i.length&&2===r.length?(o(r),e.applyScaleTouchChanges(i,r)):a(),1===i.length&&e.applyPanTouchChanges(i,r),i=r}},c=function(r){n&&(e.cancelAnimation(),i=h(r.touches,e.$.offset()),0===r.touches.length&&(n=!1,t(document).off(".graphdrag")),r.touches.length<2&&a())};this.$.css("touch-action","none"),this.$.on("dcg-tapstart",r),this.$.on("dblclick",this.handleDoubleClick.bind(this))},e.zoom=function(e){var t=this.getProjection().pixelCoordinates;"in"===e?this.animateTransformation(s.scaleAtPoint(p(t),2)):"out"===e?this.animateTransformation(s.scaleAtPoint(p(t),.5)):"default"===e&&this.setViewport(this.getDefaultViewport());var i=this.grapher.getAudioTrace();i&&i.recomputePoints(),n.alert(this.t("Graph zoom __action__",{action:e}))},e.isZoomRestored=function(){var e=this.getProjection(),t=e.viewport,i=this.getDefaultViewport(),n=.05;return e.settings.squareAxes&&Math.abs((t.xmin-i.xmin)/t.xmin)<n&&Math.abs((t.xmax-i.xmax)/t.xmax)<n&&Math.abs((t.ymin-i.ymin)/t.ymin)<n&&Math.abs((t.ymax-i.ymax)/t.ymax)<n},e.getViewportForScreen=function(e,t){var i=this.getProjection(),n=i.settings;if(!n.squareAxes)return e;var r=n.lastChangedAxis;return"y"==r?e.squareXAxis(t):e.squareYAxis(t)},e.enforceSquareAxes=function(){var e=this.getProjection();this.setViewport(this.getViewportForScreen(e.viewport,e.screen))}});return h}),define("lib/rounding",["require","math/distance"],function(e){var t=e("math/distance"),i={shortestDecimalBetween:function(e,i){var n=t.mean(e,i);if(e>0!=i>0)return 0;if(0===e||0===i)return 0;var r=e>0?1:-1,s=Math.abs(e).toExponential().split("e"),o=Math.abs(i).toExponential().split("e"),a=s[0],l=o[0],c=s[1],u=o[1];if(u!==c)return r*Math.pow(10,Math.max(parseFloat(c),parseFloat(u)));if(a[0]!==l[0])return parseFloat(n.toPrecision(1));for(var h=1,d=2;d<Math.min(a.length,l.length)&&(h++,a[d]===l[d]);d++);return parseFloat(n.toPrecision(h))}};return i}),define("conditional_blur",["require","jquery","touchtracking"],function(e){var t=e("jquery"),i=e("touchtracking");return function(){var e=t(document.activeElement);i.elIsFocusable(e)&&t(document.activeElement).blur()}}),define("graphing/poicontroller",["require","jquery","math/distance","lib/rounding","graphing/graphmode","conditional_blur","keys"],function(e){function t(e,t){this.manager=e,this.graphSettings=t,this.$=this.manager.$,this.__id=l++,this.triggerMovePoint=function(e,t,i,n){},this.triggerSelectExpression=function(e){},this.triggerStartMovingPoint=function(){},this.triggerStopMovingPoint=function(){},this.graphSettings.config.graphpaper&&!this.graphSettings.config.disableMouseInteractions&&(this.addTouchEventHandlers(),this.addHoverEventHandler(),this.addKeydownEventHandler())}var i=e("jquery"),n=e("math/distance"),r=e("lib/rounding"),s=e("graphing/graphmode"),o=e("conditional_blur"),a=e("keys"),l=0;return t.prototype.remove=function(){this.$.off(".poiController-"+this.__id)},t.prototype.getToleranceByDevice=function(e){return"touch"===e?20:10},t.prototype.addHoverEventHandler=function(){this.$.on("dcg-tapmove.poiController-"+this.__id,function(e){if("touch"!==e.device){var t=i(document.elementFromPoint(e.clientX,e.clientY)).closest(".dcg-grapher").length,n=this.getMouseRelativeToGrapher(e),r=this.getToleranceByDevice(e.device),s=t?this.getPOIUnderPoint(n,r):null,o=null;s&&s.isMovable()&&(o=s.getMovablePoint().id);var a=s&&!s.isAttachedToPlottedPoint()?s:null;if(a!==this.manager.poiLabelsLayer.getHoveredPOI()){if(this.graphSettings.config.trace===!1)return;this.manager.poiLabelsLayer.setHoveredPOI(a),this.manager.redrawAllLayers()}o!==this.manager.movablePointsLayer.hoveredPointId&&(this.manager.movablePointsLayer.hoveredPointId=o,this.manager.redrawAllLayers())}}.bind(this))},t.prototype.addTouchEventHandlers=function(){this.$.on("dblclick",function(e){var t=this.getMouseRelativeToGrapher(e),i=this.getToleranceByDevice(e.device);(this.getPOIUnderPoint(t,i)||this.getBranchInfoUnderPoint(t,i))&&(e.preventDefault(),e.handle())}.bind(this)),this.$.css("touch-action","none"),this.$.on("dcg-tapstart",function(e){var t=this.getMouseRelativeToGrapher(e),i=this.getToleranceByDevice(e.device);o();var n=this.getPOIUnderPoint(t,i);if((!n||!n.isMovable()&&!n.isBareLabel())&&this.togglePOIUnderPoint(t,i))return e.handle(),void e.handle("do-not-clear-poi-labels");if(n&&(n.isMovable()&&(this.triggerStartMovingPoint(n.getMovablePoint()),this.startMovingPoint(n),e.handle()),!n.isBareLabel()))return void e.handle("do-not-clear-poi-labels");var r=this.getBranchInfoUnderPoint(t,i);if(this.graphSettings.config.onlyTraceSelected){if(r&&r.sketch&&r.sketch.selected)return this.startTracingBranch(r,t),e.handle(),void e.handle("do-not-clear-poi-labels")}else if(r){if(this.triggerSelectExpression(r.id),this.graphSettings.config.trace===!1)return;return this.startTracingBranch(r,t),e.handle(),void e.handle("do-not-clear-poi-labels")}r||this.getImgUnderMouse(t,i)||this.triggerSelectExpression(null);var s=this;this.$.on("dcg-tapmove.poicontroller",function(){s.$.off(".poicontroller")}),this.$.on("dcg-tapend.poicontroller",function(e){s.$.off(".poicontroller");var n=s.getBranchInfoUnderPoint(t,i);if(n&&n.sketch&&!n.sketch.selected)return void s.triggerSelectExpression(n.id);var r=s.getImgUnderMouse(t,i);return r?void s.triggerSelectExpression(r.id):void 0})}.bind(this))},t.prototype.addKeydownEventHandler=function(){this.$.on("keydown.poiController-"+this.__id,function(e){if(i(document.activeElement).hasClass("dcg-movable-point")){var t=i(document.activeElement).data("movablePoint");if(t){var n,r=this.getElementRelativeToGrapher(e.target),s=0,o=0,l=e.shiftKey?10:2,c=e.shiftKey?"big":"";if(a.lookup(e)===a.UP?(n="y",o-=l,c+="up"):a.lookup(e)===a.DOWN?(n="y",o+=l,c+="down"):a.lookup(e)===a.LEFT?(n="x",s-=l,c+="down"):a.lookup(e)===a.RIGHT&&(n="x",s+=l,c+="up"),0!==s||0!==o){e.preventDefault(),e.stopPropagation();var u,h={x:r.x+s,y:r.y+o},d=this.manager.getProjection();"x"===n?u=[c,""]:"y"===n&&(u=["",c]),this.triggerMovePoint(t,h,d,u)}}}}.bind(this))},t.prototype.getMouseRelativeToGrapher=function(e){var t=this.$[0].getBoundingClientRect(),i=e.touches?e.touches[0]:e,n=this.manager.appliedScaling,r=isNaN(n.x)?1:n.x,s=isNaN(n.y)?1:n.y,o=(i.clientX-t.left)/r,a=(i.clientY-t.top)/s;return{x:o,y:a}},t.prototype.getElementRelativeToGrapher=function(e){var t=this.pageOffset||this.$.offset(),i=this.manager.appliedScaling,n=isNaN(i.x)?1:i.x,r=isNaN(i.y)?1:i.y,s=e.getBoundingClientRect(),o=(s.left-t.left)/n,a=(s.top-t.top)/r;return{x:o,y:a}},t.prototype._getClosestPoint=function(e,t,i){for(var r=i,s=null,o=this.manager.getProjection(),a=0;a<e.length;a++){var l=e[a],c=o.map_pt(l),u=n.hypot(c.x-t.x,c.y-t.y);u<r&&(r=u,s=l)}return s},t.prototype.getPOIUnderPoint=function(e,t){var i=[],n=[],r=[];return this.manager.poiDotsLayer.getDrawnPOI().forEach(function(e){e.isMovable()?i.push(e):e.isAttachedToPlottedPoint()?n.push(e):r.push(e)}),this._getClosestPoint(i,e,t)||this._getClosestPoint(r,e,t)||this._getClosestPoint(n,e,t)},t.prototype.clearOpenedPOI=function(){this.manager.poiLabelsLayer.clearOpenedPOI(),this.manager.redrawAllLayers()},t.prototype.togglePOIUnderPoint=function(e,t){if(this.graphSettings.config.trace!==!1){var i=this.getPOIUnderPoint(e,t);return!!i&&(this.manager.poiLabelsLayer.isOpenPOI(i)?(this.manager.poiLabelsLayer.closePOI(i),this.manager.poiLabelsLayer.setHoveredPOI(null)):(this.manager.poiLabelsLayer.openPOI(i),this.speakPoint(i)),this.manager.redrawAllLayers(),!0)}},t.prototype.getImgUnderMouse=function(e,t){var i=this.manager.getProjection(),n=i.reverse_map_pt(e),r=null,s=function(e,t,i,n){return e<t+.5*Math.abs(i)+n&&e>t-.5*Math.abs(i)+n};for(var o in this.manager.graphImages){var a=this.manager.graphImages[o];if(a&&a.computed_x&&a.computed_y&&a.computed_width&&a.computed_height&&!a.hidden&&(!a.folder||!a.folder.secret)){for(var l=!1,c=0;c<a.computed_x.length;c++)if(s(n.x,a.computed_x[c],a.computed_width[c],0)&&s(n.y,a.computed_y[c],a.computed_height[c],0)){l=!0;break}l&&(r={id:o,img:a})}}return r},t.prototype.getBranchInfoUnderPoint=function(e,i){var n=null,r=i,s=this.manager.getProjection(),o=s.reverse_map_pt(e);for(var a in this.manager.graphSketches){var l=this.manager.graphSketches[a];if(l&&l.visible){var c=l.branches;if(c&&c.length)for(var u=0;u<c.length;u++){var h=t.calculateDistanceFromBranch(c[u],o,s);h<r&&(r=h,n={id:a,branch:u,sketch:l})}}}return n},t.calculateDistanceFromBranch=function(e,i,n){var r=t.getBranchesDistanceInfo(e,i,n);return r?r.minDistance:1/0},t.getBranchesDistanceInfo=function(e,t,i){var r=i.screen.width/(i.viewport.xmax-i.viewport.xmin),o=i.screen.height/(i.viewport.ymax-i.viewport.ymin),a=t.x,l=t.y;switch(e.graphMode){case s.Y:break;case s.X:var c=a;a=l,l=c,c=r,r=o,o=c;break;default:return null}for(var u,h,d=1/0,p=1/0,f=0;f<e.segments.length;f++)for(var g=e.segments[f],m=0;m<g.length-3;m+=2){var v=g[m],y=g[m+1],b=g[m+2],x=g[m+3],_=n.closestPointOnSegment(0,0,(v-a)*r,(y-l)*o,(b-a)*r,(x-l)*o),w=n.hypot(_[0],_[1]);_[0]<0?w<d&&(d=w,u=_):w<p&&(p=w,h=_)}var S=d<p?u:h;if(!S)return null;var E=S[0]/r+a,k=S[1]/o+l;return{closestPoint:{x:e.graphMode===s.Y?E:k,y:e.graphMode===s.Y?k:E},minDistance:Math.min(d,p),secondDistance:Math.max(d,p)}},t.getBranchesTracePoint=function(e,i,n){if(e&&e.compiled&&e.compiled.fn){var o=e.compiled.fn,a=n.screen.width/(n.viewport.xmax-n.viewport.xmin),l=n.screen.height/(n.viewport.ymax-n.viewport.ymin),c=this.getBranchesDistanceInfo(e,i,n);if(!c)return null;var u=c.minDistance/c.secondDistance;u*=u;var h=e.graphMode===s.Y?"x":"y",d=c.closestPoint[h]*(1-u)+i[h]*u,p=1/(2*a),f=1/(2*l),g=o(d-p),m=o(d),v=o(d+p),y=p*Math.min(1,f/Math.abs(g-m)),b=p*Math.min(1,f/Math.abs(v-m));isFinite(y)||(y=p),isFinite(b)||(b=p),d=r.shortestDecimalBetween(d-y,d+b);var x=t.fillHole(o,d,a,l,i.x,i.y);return{x:e.graphMode===s.Y?d:x,y:e.graphMode===s.Y?x:d}}},t.prototype.startMovingPoint=function(e){var t=!1;this.manager.movablePointsLayer.pressedPointId=e.isMovable()?e.getMovablePoint().id:null,this.manager.redrawAllLayers();var i=null,n=function(){if(i){t=!0;var n=this.manager.getProjection(),r=this.getMouseRelativeToGrapher(i);i=null,this.triggerMovePoint(e.getMovablePoint(),r,n)}}.bind(this);this.manager.registerMovablePointListener(n),this.$.on("dcg-tapmove.movepoint",function(e){i=e}),this.$.on("dcg-tapend.movepoint dcg-tapcancel.movepoint",function(i){if(this.manager.deregisterMovablePointListener(),this.$.off(".movepoint"),this.manager.movablePointsLayer.pressedPointId=null,this.manager.redrawAllLayers(),this.triggerStopMovingPoint(e.getMovablePoint()),!t){var n=this.manager.getProjection(),r=this.getToleranceByDevice(i.device),s=n.map_pt(e);this.togglePOIUnderPoint(s,r)}}.bind(this))},t.prototype.startTracingBranch=function(e,i){this.manager.markLabelsDirty(),this.last_screen_pt=i;var n=this.manager.getProjection(),r=n.reverse_map_pt(i),s=e.sketch,o=s.branches[e.branch],a=t.getBranchesTracePoint(o,r,n);a&&this.speakPoint(a),this.manager.traceLayer.traceInfo={pt:a,branchInfo:e},this.manager.redrawAllLayers(),this.$.on("dcg-tapmove.tracing",this.handleTraceUpdate.bind(this)),this.$.on("dcg-tapend.tracing dcg-tapcancel.tracing",this.stopTracingBranch.bind(this))},t.prototype.stopTracingBranch=function(e){this.manager.markLabelsDirty();var t=this.manager.poiLabelsLayer.getHoveredPOI();t&&!this.manager.poiLabelsLayer.isOpenPOI(t)&&(this.manager.poiLabelsLayer.openPOI(t),this.speakPoint(t),this.manager.redrawAllLayers()),this.last_screen_pt=null,this.manager.traceLayer.traceInfo=null,this.manager.redrawAllLayers(),this.$.off(".tracing")},t.prototype.handleTraceUpdate=function(e){if(this.manager.traceLayer.traceInfo){var i,n=this.manager.getProjection();if(e)i=this.getMouseRelativeToGrapher(e),this.last_screen_pt=i,this.manager.markLabelsDirty();else{if(!this.last_screen_pt)return;i=this.last_screen_pt}var r=n.reverse_map_pt(i),s=1/0,o=-1,a=this.manager.traceLayer.traceInfo,l=this.manager.graphSketches[a.branchInfo.sketch.id];if(l){a.branchInfo.sketch=l;for(var c=a.branchInfo.sketch.branches,u=0;u<c.length;u++){var h=t.calculateDistanceFromBranch(c[u],r,n);h<s&&(o=u,s=h)}var d=c[o],p=d?t.getBranchesTracePoint(d,r,n):null;p&&this.speakPoint(p),this.manager.traceLayer.traceInfo.branchInfo.branch=o,this.manager.traceLayer.traceInfo.pt=p,this.manager.redrawAllLayers()}}},t.prototype.speakPoint=function(e){var t=this.manager.getAudioTrace();t&&e&&t.queueCoordinates(e,void 0,!0)},t.fillHole=function(e,t,i,r,s,o){var a=e(t);if(isFinite(a))return a;var l=t-1e-11,c=t+1e-11,u=e(l),h=e(c);if(isNaN(u)&&isNaN(h))return NaN;if(isNaN(u))return h;if(isNaN(h))return u;var d=(s-l)*i,p=(s-c)*i,f=(o-u)*r,g=(o-h)*r;return n.hypot(d,f)<n.hypot(p,g)?u:h},t}),define("lib/default-spec",["require","exports","underscore","lib/deepCopy"],function(e,t,i,n){"use strict";function r(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&(i.isEqual(e[r],t[r])||(n[r]=t[r]));return n}function s(e,t){t||(t={});var i={};for(var r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(i[r]=n.default(e[r]));for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.stripDefaults=r,t.populateDefaults=s}),define("graphing/grapher",["require","jquery","underscore","browser","./viewport","./screen","main/graph_settings","./canvaslayer","./poidotslayer","./poilabelslayer","./gridlayer","./graphsketch","./graphslayer","./imagelayer","./projection","./movablepointslayer","./viewportcontroller","./poicontroller","lib/animation-frame","underscore_model","./graph-defaults","lib/default-spec"],function(e){function t(){return new l(1024,768)}function i(){return new a(-10,10,-10,10)}function n(e,n,a,l,c){this.container=e,this.$=r(e),this.$root=a,this.evaluator=c,this.settings=n,this.appliedScaling={};var f=t(),_=i().squareYAxis(f);this.__projection=new v(f,_,n),this.__audioTrace=null,this.triggerProjectionChanged=function(){};var S=this;this.markLabelsDirty=s.debounce(function(){S.evaluator.notifyWhenSynced(function(){S.__isRedrawingSlowly?S.notifyAfterRedraw(function(){S.poiLabelsLayer.markLabelsDirty(),S.redrawAllLayers()}):(S.poiLabelsLayer.markLabelsDirty(),S.redrawAllLayers())})},300),this.poiController=new x(this,n),this.viewportController=b(this,l),this.showPOIDots=!0,this.$.css("overflow","hidden"),this.graphSketches={},this.graphImages={},this.canvasLayer=u(this),this.$.append(this.canvasLayer.$),this.imageLayer=m(),this.gridLayer=p(),this.poiDotsLayer=h(),this.graphsLayer=g(this.settings),this.movablePointsLayer=y(this.$root,this.settings),this.movablePointsLayer.$.css("z-index","0"),this.$.append(this.movablePointsLayer.$),this.poiLabelsLayer=d(this.$root,this.settings),this.traceLayer=this.poiLabelsLayer,this.traceLayer.$.css("z-index","0"),this.$.append(this.traceLayer.$),o.IS_IE9&&this.traceLayer.$.addClass("dcg-transparent-bg"),this.scaleAxis=void 0,this.__transient=!1,this.__sketchOrder=[],this.selectedId=null,this.__redrawRequested=!1,this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!1,this.domObstructions=[],this.events=w()}var r=e("jquery"),s=e("underscore"),o=e("browser"),a=e("./viewport"),l=e("./screen"),c=e("main/graph_settings"),u=e("./canvaslayer"),h=e("./poidotslayer"),d=e("./poilabelslayer"),p=e("./gridlayer"),f=e("./graphsketch"),g=e("./graphslayer"),m=e("./imagelayer"),v=e("./projection"),y=e("./movablepointslayer"),b=e("./viewportcontroller"),x=e("./poicontroller"),_=e("lib/animation-frame"),w=e("underscore_model"),S=e("./graph-defaults"),E=e("lib/default-spec");return n.prototype.remove=function(){this.$.remove(),this.poiController.remove(),this.viewportController.remove()},n.prototype.tick=function(e){this.__isRedrawingSlowly?this._redrawSlowly():this.__redrawRequested&&this._redrawAllLayers(),this.__movablePointListener&&this.__movablePointListener()},n.prototype.registerMovablePointListener=function(e){this.__movablePointListener=e},n.prototype.deregisterMovablePointListener=function(){this.__movablePointListener=null},n.prototype.setSketchOrder=function(e){this.__sketchOrder=e,this.redrawAllLayers()},n.prototype.clear=function(){this.graphSketches={},this.graphImages={}},n.prototype.getGraphSketch=function(e){return e in this.graphSketches?this.graphSketches[e]:null},n.prototype.addGraphSketch=function(e){this.graphSketches[e.id]=e},n.prototype.removeGraphSketch=function(e){delete this.graphSketches[e]},n.prototype.addGraphImage=function(e){this.graphImages[e.id]=e},n.prototype.removeGraphImage=function(e){delete this.graphImages[e]},n.prototype.getProjection=function(){return this.__projection},n.prototype._setProjection=function(e){this.__projection=e,this.redrawAllLayers(),this.triggerProjectionChanged()},n.prototype.getAudioTrace=function(){return this.__audioTrace},n.prototype.setAudioTrace=function(e){this.__audioTrace=e},n.prototype.getDefaultViewport=function(){var e=this.getProjection();return i().squareYAxis(e.screen)},n.prototype.updateScreenSize=function(e,t){if(!(e<=0||t<=0)){var i=this.getProjection(),n=i.screen;if(n.width!==e||n.height!==t){this.$.width(e);var r=new l(e,t);this.viewportController.setScreen(r)}}},n.prototype.syncSquareAxes=function(){var e=this.getProjection();this.settings.setProperty("squareAxes",e.viewport.isSquare(e.screen))},n.prototype.setIsVisible=function(e){e!==this.isVisible&&(this.isVisible=e,e?this.redrawAllLayers():this.canvasLayer.resize(0,0))},n.prototype.hide=function(e){var t=this.getGraphSketch(e);t&&(t.visible=!1)},n.prototype.select=function(e){var t=this.getGraphSketch(this.selectedId);t&&(t.selected=t.showPOI=t.showHighlight=!1);var i=this.getGraphSketch(e);i&&(i.selected=i.showPOI=i.showHighlight=!0),this.selectedId=e},n.prototype.updateSketch=function(e,t){var i=this.getGraphSketch(e);if(!t.length)return this.hide(e);var n=new f(e,t);n.color=t[0].color,n.style=t[0].style,n.updateFrom(i),n.selected=n.showPOI=n.showHighlight=String(e)===String(this.selectedId),this.addGraphSketch(n)},n.prototype.updateIntersections=function(e,t){var i=this.getGraphSketch(e);i&&i.updateIntersections(t)},n.prototype.redrawAllLayers=function(){this.cancelRedrawSlowly(),this.__redrawRequested=!0},n.prototype._clear=function(){var e=this.getProjection(),t=e.screen;this.canvasLayer.resize(e.screen.width,e.screen.height),this.canvasLayer.ctx.clearRect(0,0,t.width,t.height)},n.prototype._redrawAllLayers=function(){this.isVisible&&(this._clear(),this._redrawImageLayer(),this._redrawGridLayer(),this._redrawGraphsLayer(),this._redrawPointsAndLabels(),this._updateCanvasLayerAria(),this.__redrawRequested=!1,this.events.triggerEvent("redraw"))},n.prototype.cancelRedrawSlowly=function(){this.__isRedrawingSlowly&&(this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!1,this.redrawAllLayers())},n.prototype.redrawSlowly=function(){this.__isRedrawingSlowly||(this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!0)},n.prototype._redrawSlowly=function(){var e=this.__redrawSlowlyIndex;if(0===e&&(this._clear(),this._redrawGridLayer()),e>=this.__sketchOrder.length)return void this.cancelRedrawSlowly();var t=this.__sketchOrder[e],i=this.graphSketches[t],n={};n[t]=i,i&&this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),n,[t]),this.__redrawSlowlyIndex+=1},n.prototype._redrawGridLayer=function(){this.gridLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.scaleAxis)},n.prototype._redrawGraphsLayer=function(){this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphSketches,this.__sketchOrder)},n.prototype._updateCanvasLayerAria=function(){this.canvasLayer.updateAria(this.isVisible,Object.keys(this.graphSketches).length)},n.prototype.addDomObstruction=function(e){this.domObstructions.push(e)},n.prototype._redrawPointsAndLabels=function(){this.movablePointsLayer.redraw(this.getProjection(),this.graphSketches),this.showPOIDots&&this.poiDotsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphSketches);var e,t=[],i=this.poiLabelsLayer.$[0].getBoundingClientRect(),n=this.movablePointsLayer.renderedMovablePoints;for(var r in n){var o=n[r].$.find(".dcg-background")[0];e=o.getBoundingClientRect(),t.push({left:e.left-i.left,top:e.top-i.top,right:e.right-i.left,bottom:e.bottom-i.top})}s.each(this.domObstructions,function(n){e=n.getBoundingClientRect(),t.push({left:e.left-i.left,top:e.top-i.top,right:e.right-i.left,bottom:e.bottom-i.top})}),this.poiLabelsLayer.redraw(this.getProjection(),this.graphSketches,this.canvasLayer.ctx,t)},n.prototype._redrawImageLayer=function(){this.imageLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphImages,this.__sketchOrder)},n.prototype._parseScreenshotOpts=function(e){var t,i,n,r,s,o=this.getProjection();return e?(t=e.width||e.height||o.screen.width,i=e.height||e.width||o.screen.height,n=e.targetPixelRatio||1,r=(e.width<256||e.height<256)&&!e.preserveAxisNumbers,s=c.fromObject(this.settings||this.settings)):(t=o.screen.width,i=o.screen.height,n=1,r=!1,s=c.fromObject(this.settings)),r&&(s.setProperty("xAxisNumbers",!1),s.setProperty("yAxisNumbers",!1),s.setProperty("polarNumbers",!1)),{width:t,height:i,targetPixelRatio:n,settings:s}},n.prototype.screenshot=function(e){var t=this._parseScreenshotOpts(e),i=document.createElement("canvas");return i.width=t.width*t.targetPixelRatio,i.height=t.height*t.targetPixelRatio,this.screenshotToCanvas(i,e),i.toDataURL("image/png")},n.prototype.screenshotToCanvas=function(e,t){t=this._parseScreenshotOpts(t);var i=t.width,n=t.height,r=t.targetPixelRatio,s=t.settings;s.takingScreenshot=!0;var o=e.getContext("2d");o.scale(r,r);var a=new l(i,n),c=this.getProjection().viewport;this.getSetting("squareAxes")&&(c=c.squareCrop(a));var u=new v(a,c,s);o.fillStyle="white",o.fillRect(0,0,a.width,a.height),this.imageLayer.redrawToCtx(o,u,this.graphImages,this.__sketchOrder),this.gridLayer.redrawToCtx(o,u),this.graphsLayer.redrawToCtx(o,u,this.graphSketches,this.__sketchOrder)},n.prototype.thumbnail=n.prototype.screenshot,n.prototype.getSetting=function(e,t){var i=this.settings.getProperty(e);return void 0!==i?i:t},n.prototype.getState=function(e){var t={},i=this;return this.settings.stateProperties.forEach(function(e){t[e]=i.getSetting(e)}),t.viewport=this.viewportController.getViewport().toObject(),e&&e.stripDefaults&&(t=E.stripDefaults(S,t)),t},n.prototype.notifyAfterRedraw=function(e){if(this.__isRedrawingSlowly)_.requestAnimationFrame(this.notifyAfterRedraw.bind(this,e));else if(this.__redrawRequested){this.notifyAfterRedraw_i?this.notifyAfterRedraw_i++:this.notifyAfterRedraw_i=1;var t="redraw.notifyAfterRedraw"+this.notifyAfterRedraw_i;this.events.observeEvent(t,function(){this.events.unobserveEvent(t),e()}.bind(this))}else e()},n.prototype.setState=function(e){e=E.populateDefaults(S,e),this.clear();for(var t in S)S.hasOwnProperty(t)&&this.settings.setProperty(t,e[t]);if("viewport"in e){var i=a.fromObject(e.viewport),n=this.getProjection().screen;this.getSetting("squareAxes")&&!i.isSquare(n)&&(i=i.squareYAxis(n)),this.viewportController.setViewport(i)}this.redrawAllLayers()},n}),define("graphing/audiographnavigator",["require","underscore","pjs","lib/aria","graphing/graphmode","./label","i18n","math/poi"],function(e){var t=e("underscore"),i=e("pjs"),n=e("lib/aria"),r=e("graphing/graphmode"),s=e("./label"),o=e("i18n"),a=e("math/poi").default,l=i(function(e){e.init=function(e,t,i){this.grapher=e,this.expressionsModel=t,this.tonegen=i,this.tonegen.audioPointMove=this.drawTrace.bind(this),this.tonegen.audioPointReset=this.resetTracePoint.bind(this),this.audiograph=this.grapher.getAudioTrace(),this.reset()},e.reset=function(){this.currentPoint=null,this.branch=0,this.pois=[],this.independent=0,this.xmid=0,this.xstep=0,this.ymid=0,this.ystep=0},e.t=function(e,t){return o.t(e,t,this.grapher.settings.language)},e.getBranchPoints=function(e){var t=[];if(!isNaN(e)&&e>=0)for(var i=this.getPoints(),n=0;n<i.length;n++){var r=i[n];r.hasOwnProperty("branch")&&r.branch===e&&t.push(r)}return t},e.resetTracePoint=function(){var e=this.getCurrentPoint();this.drawTrace(e)},e.drawTrace=function(e){var t=this.getCurrentSketch();if(e&&t){var i={x:e.x,y:e.y};this.grapher.traceLayer.traceInfo={branchInfo:{branch:e.branch,id:t.id,sketch:t},pt:i},this.grapher.redrawAllLayers()}},e.moveToOrigin=function(){var e=this.getCurrentSketch();if(e){var t=e.branches[0].graphMode;t===r.Y||t===r.POLAR?this.setIndependent("x",0):t===r.X&&this.setIndependent("y",0)}},e.getCurrentSketch=function(){var e=this.expressionsModel.getSelected();return e?this.grapher.getGraphSketch(e.id):null},e.getFirstTraceableSketch=function(e){var t=null,i=this.expressionsModel;if(i)for(var n=0;n<i.getItemCount();n++){var r=i.getItemByIndex(n);if(this.canTrace(r)){t=this.grapher.getGraphSketch(r.id),e&&e.selectAssociatedExpression&&i.setSelected(n);break}}return t},e.canTrace=function(e){if(e&&!this.expressionsModel.itemIsHidden(e)&&e.formula&&!e.formula.error){var t=this.grapher.getGraphSketch(e.id);if(t){var i=t.branches[0].graphMode;return i===r.X||i===r.Y}}return!1},e.computeStepSizes=function(){var e=this.grapher.getProjection().viewport;if(e){this.viewport=e;var t=e.xmin,i=e.xmax;this.xmid=(t+i)/2,this.xstep=Math.abs(i-t)/100,this.xscale=i-t;var n=e.ymin,s=e.ymax;this.ymid=(n+s)/2,this.ystep=Math.abs(s-n)/100,this.yscale=s-n,this.tonegen.setMinMax(t,i,n,s);var o=this.getCurrentSketch();if(o){var a=o.branches[0].graphMode;a===r.Y||a===r.POLAR?this.independent<t?this.independent=t:this.independent>i&&(this.independent=i):a===r.X&&(this.independent<n?this.independent=n:this.independent>s&&(this.independent=s))}}},e.getPoint=function(e,t){var i=null,n=this.getCurrentSketch();if(n){var s,o,a,l,c,u=null;n.branches[e].compiled&&(o=n.branches[e].compiled.fn,s=n.branches[e].graphMode,s===r.Y?(u=this.getInterveningPOIs(t,t+this.xstep,e,s)[0],u&&u.x===t&&u.branch===e?(isNaN(u.y)||!isNaN(u.y)&&(u.y<this.viewport.ymin||this.viewport.ymax<u.y))&&(u.y=void 0):(u=null,c=o(t),(isNaN(c)||!isNaN(c)&&(c<this.viewport.ymin||this.viewport.ymax<c))&&(c=void 0)),i=u?{x:u.x,y:u.y,type:u.type,typeChain:u.typeChain,branch:u.branch,graphMode:s,intersects:u.intersects}:{x:t,y:c,branch:e,graphMode:s}):s===r.X?(u=this.getInterveningPOIs(t,t+this.ystep,e,s)[0],u&&u.y===t&&u.branch===e?(isNaN(u.x)||!isNaN(u.x)&&(u.x<this.viewport.xmin||this.viewport.xmax<u.x))&&(u.x=void 0):(u=null,c=o(t),(isNaN(c)||!isNaN(c)&&(c<this.viewport.xmin||this.viewport.xmax<c))&&(c=void 0)),i=u?{x:u.x,y:u.y,type:u.type,typeChain:u.typeChain,branch:u.branch,graphMode:s,intersects:u.intersects}:{y:t,x:c,branch:e,graphMode:s}):s===r.POLAR&&(l=t,a=o(t),i={x:a*Math.cos(l),y:a*Math.sin(l),branch:e,graphMode:s}))}return i},e.getPoints=function(){var e=[],t=this.getCurrentSketch();if(t){var i,n,s,o,a,l=t.branches[0].graphMode;for(l===r.Y||l===r.POLAR?(i=this.viewport.xmin,n=this.viewport.xmax,s=this.xstep):l===r.X&&(i=this.viewport.ymin,n=this.viewport.ymax,s=this.ystep),o=0;o<t.branches.length;o++)for(a=i;a<=n;a+=s){var c=this.getInterveningPOIs(a,a+s,o,l)[0];c?e.push(c):e.push(this.getPoint(o,a))}}return e},e.getCurrentPoint=function(){return this.currentPoint||this.updateCurrentPoint(),this.currentPoint},e.updateCurrentPoint=function(e){this.currentPoint=e||this.getPoint(this.branch,this.independent)},e.prevPoint=function(){this.moveToPoint(-1)},e.nextPoint=function(){this.moveToPoint(1)},e.firstPoint=function(){var e=this.getCurrentSketch();if(e){var t=e.branches[0].graphMode;t===r.Y||t===r.POLAR?this.independent=this.viewport.xmin:t===r.X&&(this.independent=this.viewport.ymin),this.branch=0,this.updateCurrentPoint()}},e.lastPoint=function(){var e=this.getCurrentSketch();if(e){var t=e.branches[0].graphMode;t===r.Y||t===r.POLAR?this.independent=this.viewport.xmax:t===r.X&&(this.independent=this.viewport.ymax),this.branch=e.branches.length-1,this.updateCurrentPoint()}},e.moveToPoint=function(e){var t=this.getCurrentSketch();if(t){var i,s,o,a=t.branches.length-1,l=t.branches[0].graphMode;l===r.Y||l===r.POLAR?(i=this.viewport.xmin,s=this.viewport.xmax,o=this.xstep):l===r.X&&(i=this.viewport.ymin,s=this.viewport.ymax,o=this.ystep);var c,u,h,d,p,f,g=(s-i)%o,m=this.independent,v=this.branch,y=this.getCurrentPoint(),b=!1;do{for(c=m+e*(o-e*(m%g)),(e===-1&&c<i||1===e&&c>s)&&(a>0&&(h=v+e,e===-1?(h=Math.max(h,0),h!==v&&(v=h,c=s)):(h=Math.min(h,a),h!==v&&(v=h,c=i))),c<=i&&0===v?(c=i,n.queue(this.t("First point"))):c>=s&&v===a&&(c=s,n.queue(this.t("Last point")))),d=this.getInterveningPOIs(m,c,v,l),p=0;p<d.length;p++)if(f=d[p],f&&(l===r.Y&&f.x!==y.x||l===r.X&&f.y!==y.y||f.branch!==y.branch)){u=f,b=!0;break}b||(u=this.getPoint(v,c)),m=c}while(y.x===u.x&&y.y===u.y&&y.type===u.type&&y.branch===u.branch&&c!==i&&c!==s);l===r.Y||l===r.POLAR?this.independent=u.x:l===r.X&&(this.independent=u.y),this.branch=v,this.updateCurrentPoint()}},e.prevPOI=function(){this.moveToPOI(-1)},e.nextPOI=function(){this.moveToPOI(1)},e.getSortedPOI=function(){return this.pois&&0!==this.pois.length||this.updatePOI(),this.pois},e.updatePOI=function(){var e,i=[],n=this.getCurrentSketch();n&&(e=n.branches[0].graphMode,i=n.getPOI(),e===r.Y||e===r.POLAR?i=t.sortBy(t.sortBy(i,"x"),"branch"):e===r.X&&(i=t.sortBy(t.sortBy(i,"y"),"branch"))),this.pois=this.removeDuplicates(i,e)},e.removeDuplicates=function(e,t){var i,n,r,o,l,c,u,h,d=0;if(e.length>0)do i=s.value(e[d].x).value,n=s.value(e[d].y).value,r=e[d].type,o=e[d].branch,e[d].typeChain||(e[d].typeChain=[r]),d+1<e.length?(l=s.value(e[d+1].x).value,c=s.value(e[d+1].y).value,u=e[d+1].type,h=e[d+1].branch):l=c=u=h=void 0,i===l&&n===c&&o===h?(e[d].typeChain.indexOf(u)===-1&&(e[d].typeChain.push(u),u===a.INTERSECTION&&(e[d].intersects=e[d+1].intersects)),e.splice(d+1,1)):d++;while(d<e.length);return e},e.getInterveningPOIs=function(e,t,i,n){for(var s,o=[],a=this.getSortedPOI(),l=0;l<a.length;l++)n===r.Y||n===r.POLAR?s=a[l].x:n===r.X&&(s=a[l].y),
    a[l].branch===i&&(e<=s&&s<t||t<=s&&s<e)&&o.push(a[l]);return e>t?o.reverse():o},e.setIndependent=function(e,t){for(var i=this.getPoints(),n=0;n<i.length;n++){var r=i[n];if(r.hasOwnProperty(e)&&r[e]===t){if("x"===e)return this.independent=r.x,void this.updateCurrentPoint();if("y"===e)return this.independent=r.y,void this.updateCurrentPoint()}}"x"===e?this.independent=this.xmid:"y"===e&&(this.independent=this.ymid),this.updateCurrentPoint(),this.branch=0},e.moveToPOI=function(e){var t=this.getCurrentSketch();if(t){var i,s,o,a,l,c,u,h,d,p=this.getCurrentPoint(),f=t.branches[0].graphMode,g=this.branch;f===r.Y||f===r.POLAR?(o=this.xstep,i=1===e?this.viewport.xmin:this.viewport.xmax,s=1===e?this.viewport.xmax:this.viewport.xmin,a=(this.viewport.xmax-this.viewport.xmin)%this.xstep):f===r.X&&(o=this.ystep,i=1===e?this.viewport.ymin:this.viewport.ymax,s=1===e?this.viewport.ymax:this.viewport.ymin,a=(this.viewport.ymax-this.viewport.ymin)%this.ystep);var m=!1;l=this.independent;do{for(d=l+e*(o-e*(l%a)),u=this.getInterveningPOIs(l,d,g,f),c=0;c<u.length;c++)if(h=u[c],h&&(f===r.Y&&h.x!==this.independent||f===r.X&&h.y!==this.independent||h.branch!==p.branch)){f===r.Y||f===r.POLAR?this.independent=h.x:f===r.X&&(this.independent=h.y),this.branch=h.branch,this.updateCurrentPoint(h),m=!0;break}m||(l=d,(1===e&&l>s||e===-1&&l<s)&&(l=i,g+=e))}while(!m&&g>=0&&g<t.branches.length&&(1===e&&l<=s||e===-1&&l>=s));m||n.queue(this.t("No more points of interest"))}},e.prevCurve=function(){var e=this.expressionsModel.selectedItem;if(e){var t=e.index,i=this.expressionsModel.getItemByIndex(this.findPrevTraceableIndex(t));i&&i.setProperty("selected",!0),this.expressionsModel.selectedItem!==e&&this.audiograph.enterAudioTrace()}},e.nextCurve=function(){var e=this.expressionsModel.selectedItem;if(e){var t=e.index,i=this.expressionsModel.getItemByIndex(this.findNextTraceableIndex(t));i&&i.setProperty("selected",!0),this.expressionsModel.selectedItem!==e&&this.audiograph.enterAudioTrace()}},e.findPrevTraceableIndex=function(e){var t;do e--,t=this.expressionsModel.getItemByIndex(e);while(t&&!this.canTrace(t));return t?e:void 0},e.findNextTraceableIndex=function(e){var t;do e++,t=this.expressionsModel.getItemByIndex(e);while(t&&!this.canTrace(t));return t?e:void 0}});return l}),define("analytics/bugsnag-stub",["require"],function(e){for(var t=["notify","notifyException","leaveBreadcrumb"],i={},n=0;n<t.length;n++){if("init"===t[n])throw new Error('Stubbing method "init" is not supported.');i[t[n]]=function(){}}return i.init=function(e){for(var n=0;n<t.length;n++)i[t[n]]=e[t[n]].bind(e)},i}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("base64",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.base64js=e()}}(function(){return function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return r(i?i:e)},u,u.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({"/":[function(e,t,i){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-n(e)}function s(e){var t,i,r,s,o,a,l=e.length;o=n(e),a=new h(3*l/4-o),r=o>0?l-4:l;var c=0;for(t=0,i=0;t<r;t+=4,i+=3)s=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],a[c++]=s>>16&255,a[c++]=s>>8&255,a[c++]=255&s;return 2===o?(s=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,a[c++]=255&s):1===o&&(s=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,a[c++]=s>>8&255,a[c++]=255&s),a}function o(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function a(e,t,i){for(var n,r=[],s=t;s<i;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],r.push(o(n));return r.join("")}function l(e){for(var t,i=e.length,n=i%3,r="",s=[],o=16383,l=0,u=i-n;l<u;l+=o)s.push(a(e,l,l+o>u?u:l+o));return 1===n?(t=e[i-1],r+=c[t>>2],r+=c[t<<4&63],r+="=="):2===n&&(t=(e[i-2]<<8)+e[i-1],r+=c[t>>10],r+=c[t>>4&63],r+=c[t<<2&63],r+="="),s.push(r),s.join("")}i.byteLength=r,i.toByteArray=s,i.fromByteArray=l;for(var c=[],u=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,f=d.length;p<f;++p)c[p]=d[p],u[d.charCodeAt(p)]=p;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}]},{},[])("/")}),define("bin",["base64"],function(e){var t={};return{load:function(e,i,n,r){var s=i.toUrl("assets_src/"+e);if(r.isBuild){var o=require.nodeRequire("fs");t[e]=o.readFileSync(s).toString("base64"),n()}else{var a=new XMLHttpRequest;a.open("GET",s,!0),a.responseType="arraybuffer",a.onload=function(){n(a.response)},a.send()}},write:function(e,i,n,r){i in t?n("define('"+e+"!"+i+"', ['base64'], function (base64) {  return base64.toByteArray('"+t[i]+"').buffer;});"):console.log("ERROR - failed to find file "+i+" in buildMap")}}}),define("bin!audio/poi.mp3",["base64"],function(e){return e.toByteArray("//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAIAAAHVwAgICAgICAgICAgICBAQEBAQEBAQEBAQEBgYGBgYGBgYGBgYGBggICAgICAgICAgICAoKCgoKCgoKCgoKCgoMDAwMDAwMDAwMDAwODg4ODg4ODg4ODg4OD///////////////8AAAA5TEFNRTMuOThyAaUAAAAALmcAABRAJAiwQgAAQAAAB1cctrbdAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAjsKyK0YYABp52xtx8wAgAgBd34IAhAgnsECEe7QIAAgsPxACDgcBAEHQfD/g+D4PggCAIf///ghLny4Pg+D5+sHz/wf+XPwfB8H3iMHwfwffUCYPvz/Y7Hg/H4/H4/H4HAwADcoDwAP7XfuAFtXrhzjsjOXP8iCYM4IBVoH2DGAhQR2hm5vikA2IVEPX9nQaITi6IiLCKX/fxcg/DdGmS5BP7fIGQ0hw7DQi5Q//8midImXygdJ0tlz/1NAgXIANV6MA2Vy2y27jv/+1LEBIALOHOTvGGAMXWhbnTxGZ+LOa2FNMsDtj9/jUmPqqqARrNvlVjDDoGZqq0T11A0DVqeEnlQk8q4sVEp0FcqdxLoEJ0RPYWvIlQkbGA0Anw6VJJgqRKw1NJaAXkR4ag0/FwCCABbbdbJA0fzVgdvgvu5Px6Rwiv3VllZVDREqmWntLyBDka3sz951iTve+ddHP0/M3P/+ydU4zbqOZOeop5jfu1kwk8VezPeGc1hRMbWrJNv6SO/fH0Mc15KYvKqAAAAdrdsrbBDuBpp4v/7UsQGgguVE2ekjNP5aSBo6YSNgKAQUoCZEBJK8q73G/nhJFFmLY5dNc4b7gjBRyEs5yjJokY9TBoU/pXQBglyNjeiA87V8vkzaw019YTu2fxY0t6gteLMI37f9fYw7UVnWoE4NJOSpQBu3GfVAIVACgw+IikZZAnB7UKlLGnha4PDbIhsBhk4RYmlE2hYZ8NrQ5HnyEUvZxDyVG1hM33ZZH0OlrJV5///3/51qTGtJgxhREVLEfoO1w6686eRAAAAUicksbA1qegZCe2AuEgJ//tSxAkCDF0XSaw8ailyn+l1h4w1BvVY04S56fYY5nGkBZHMGLBjHDUMlORG4wcCT9R6RB+3vM8jVMU1hmlOoXIOMKqotE2HxWYNJq/7EZ2l63NJ+Z2aTA4Yq+7t0PhOxCz9WP1mA3DJZZGDkRfq+qFAGwhwHUAVqBfDiMUlypaMWApR1VoWLChfUpJzkBDMCTf85UZr6jyHa1psZnTS5iKatTVKcX/Ker9zMvM1T0okGyiQcreJbU1tc+Yj/ms3395FBIADkjlkjbAZNdiwgRD/+1LEBwAL8Tdbp6Rh+XmT6XWHjCx5U4sTCtlUidNtS9I7oUx7oxdIZlOghkIQYzB0vxtMs6QgCg4WMVakQMM5HRfrsdIEftM0yfOHnNGkiPRMoWCKSsxsChat8/vYw4c4t+CMMB5AAAAXZrftWiEVdbSgnURZoWvK2KhK9GfCkIGnQKxIqbYJ0JCNFJ3St1wuUNRLW4Kw5VhLVGrmgYKhhRe1qzzC7SqFFyjJlIqXcPD6gw//epZ9bwQFw+s+rdVAFtzl0AAAA3I3JK0QJxtCHv/7UsQGAApAM0WssGFpSCKqNYMMvgZph6CwIhKEt0yEiMwFKpnDBBajVc5jbTM7KayRt3I43h8Ag05kd9AtqO0bItmf/+Aevzf7dx28sK0hvP//3/izNwf1pfEAgANutuOJACSqWvuW+SKNLQSpOQKsrX3XxnZxy2Rus0Q1irPy9Mkg4kZGJFRQUax4R+jsACwavqYd2bmRX/6VnKrLk2Z2VGYwQNCIEasJh7/oBScAAMtBNgBWssKw0uCAgKkVpJirpZyBklUCwqaSIkW6BgIY//tSxBIDSYw3Km0kSoEzi9KAliSw9QNAydBqoFQVEQNBwiJYiBWdDqxiwVBUGqg6JgaBoGj3//////huVcFQsIRoPjBXLBGA8AkCwOhcD4KAmFAtEYcR6E8gD2OAXJ2N//uSJVZVJNRdh0gkLCwuKioqz4sLC3//////4sLC31ioqKpAoqKirOgFqkxBTUUzLjk4LjKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEIwPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==").buffer}),define("graphing/tonegenerator",["require","pjs","analytics/bugsnag-stub","browser","graphing/graphmode","math/poi","bin!audio/poi.mp3"],function(e){var t=e("pjs"),i=e("analytics/bugsnag-stub"),n=e("browser"),r=e("graphing/graphmode"),s=e("math/poi").default,o=e("bin!audio/poi.mp3"),a=t(function(e){e.init=function(e){if(this.toneType=e,this.pointArray=[],this.pointIndex=0,this.isPlaying=!1,this.audioSpeed=50,this.freqMin=125,this.freqBase=500,this.freqMax=2e3,this.audioPointMove=function(){},this.audioPointReset=function(){},this.playbackSupported)try{this.createNoiseNode()}catch(e){this.playbackSupported=!1}},e.createNoiseNode=function(){this.noiseNode&&(this.noiseNode.stop(),this.noiseNode.disconnect(),this.noiseNode=null);for(var e=2*this.audioCtx.sampleRate,t=0,i=this.audioCtx.createBuffer(1,e,this.audioCtx.sampleRate),n=i.getChannelData(0),r=0;r<e;r++){var s=2*Math.random()-1;n[r]=(t+.02*s)/1.02,t=n[r]}return this.noiseNode=this.audioCtx.createBufferSource(),this.noiseNode.buffer=i,this.noiseNode.loop=!0,this.noiseNode.start(),this},e.setMinMax=function(e,t,i,n){return this.xmin=e,this.xmax=t,this.ymin=i,this.ymax=n,this},e.queueArray=function(e){return e&&e.length&&(this.pointArray=this.pointArray.concat(e),this.pointIndex=0),this},e.queuePoint=function(e){return e&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&(this.continuousPlay&&(this.pointArray.length=0),this.pointArray.push(e),this.pointIndex=0),this},e.createOscillator=function(e,t,i,r,s){return this.playbackSupported&&(this.oscillator=this.audioCtx.createOscillator(),this.oscillator.type=this.toneType||"sine",this.oscillatorHigh=this.audioCtx.createOscillator(),this.oscillatorHigh.type=this.toneType||"sine",this.gainOscillatorHigh=this.audioCtx.createGain(),this.gainOscillatorHigh.gain.value=.7,this.oscillatorHigh.connect(this.gainOscillatorHigh),this.gainLeft=this.audioCtx.createGain(),this.gainRight=this.audioCtx.createGain(),this.gainMaster=this.audioCtx.createGain(),this.splitter=this.audioCtx.createChannelSplitter(2),this.merger=this.audioCtx.createChannelMerger(2),this.oscillator.connect(this.splitter),this.splitter.connect(this.gainLeft,0),this.splitter.connect(this.gainRight,0),this.gainLeft.connect(this.merger,0,0),this.gainRight.connect(this.merger,0,1),this.merger.connect(this.gainMaster),this.gainMaster.connect(this.audioCtx.destination),n.IS_APPLE?this.masterVolume=1:this.masterVolume=.5,this.setPan(e),this.setFreq(t),this.setOriginCues(i,r,s)),this},e.startContinuousPlay=function(){return this.continuousPlay=!0,this},e.play=function(){if(this.pointArray.length>0&&this.pointIndex<this.pointArray.length){var e,t,i,n,o,a=1===this.pointArray.length,l=this.pointArray[this.pointIndex];if(l.graphMode&&l.graphMode!==r.Y&&l.graphMode!==r.POLAR?l.graphMode===r.X&&(t=void 0===l.x||l.x<this.xmin||l.x>this.xmax?-1:Math.abs((l.x-this.xmin+1e-5)/(this.xmax-this.xmin)),e=Math.abs((l.y-this.ymin+1e-5)/(this.ymax-this.ymin)),i=l.y,n=l.x):(e=Math.abs((l.x-this.xmin+1e-5)/(this.xmax-this.xmin)),t=void 0===l.y||l.y<this.ymin||l.y>this.ymax?-1:Math.abs((l.y-this.ymin+1e-5)/(this.ymax-this.ymin)),i=l.x,n=l.y),o=l.typeChain&&l.typeChain.indexOf(s.INTERSECTION)!==-1?s.INTERSECTION:l.type,this.isPlaying?(this.setPan(e),this.setFreq(t),this.setOriginCues(i,n,o)):(this.resume(),this.createOscillator(e,t,i,n,o),this.playbackSupported&&(this.oscillator.start(),this.oscillatorHigh.start()),this.isPlaying=!0),this.continuousPlay)return;this.audioPointMove(l),a?(this.gainMaster.gain.value=this.masterVolume,this.playTimeout=setTimeout(this.play.bind(this),50)):this.playTimeout=setTimeout(this.play.bind(this),this.audioSpeed),this.pointIndex++}else this.stop();return this},e.setPan=function(e){return this.playbackSupported&&(isFinite(e)||(e=0),e=Math.max(Math.min(e,1),0),this.gainLeft.gain.value=Math.cos(Math.PI/2*e),this.gainRight.gain.value=Math.sin(Math.PI/2*e)),this},e.setFreq=function(e){if(this.playbackSupported){var t;void 0===e||isNaN(e)||e<=0?t=null:(t=parseInt(this.freqBase*Math.pow(2,e),10),t<this.freqMin&&(t=this.freqMin),t>this.freqMax&&(t=this.freqMax)),t?(this.oscillator.frequency.value=t,this.noiseNode.disconnect(),this.oscillator.connect(this.splitter)):(this.oscillator.disconnect(),this.oscillatorHigh.disconnect(),this.noiseNode.connect(this.splitter))}return this},e.setOriginCues=function(e,t,i){return void 0===e||isNaN(e)||void 0===t||isNaN(t)||(e<0?(this.oscillatorHigh.frequency.value=2*this.oscillator.frequency.value,this.gainOscillatorHigh.connect(this.splitter)):this.gainOscillatorHigh.disconnect(),t<0?this.noiseNode.connect(this.splitter):this.noiseNode.disconnect(),isNaN(i)||i!==s.INTERSECTION||this.playPOI()),this},e.stop=function(){return this.playTimeout&&(clearTimeout(this.playTimeout),this.playTimeout=null),this.pointArray.length=0,this.pointIndex=0,this.isPlaying&&(this.playbackSupported&&(this.oscillator&&(this.oscillator.stop(),this.oscillator.disconnect(),this.oscillator=null),this.oscillatorHigh&&(this.oscillatorHigh.stop(),this.oscillatorHigh.disconnect(),this.oscillatorHigh=null),this.noiseNode.disconnect()),this.isPlaying=!1),this.audioPointReset(),this.continuousPlay=!1,this},e.suspend=function(){return this.playbackSupported&&this.audioCtx&&(this.stop(),this.noiseNode&&(this.noiseNode.stop(),this.noiseNode=null),this.audioCtx.suspend()),this},e.resume=function(){if(!this.audioCtx){var e=window.AudioContext||window.webkitAudioContext;if(n.IS_IE)this.playbackSupported=!1,this.audioCtx=null;else try{this.audioCtx=e?new e:void 0,this.playbackSupported=!0}catch(e){i.notify("Failed to instantiate audioContextClass",e),this.playbackSupported=!1,this.audioCtx=null}}return this.playbackSupported&&this.audioCtx&&("suspended"===this.audioCtx.state&&this.audioCtx.resume(),this.createNoiseNode(),this.loadPOI()),this},e.loadPOI=function(){return!this.playbackSupported||this.poiBuffer?this:(this.audioCtx.decodeAudioData(o.slice(0),function(e){this.poiBuffer=e}.bind(this)),this)},e.playPOI=function(){if(!this.playbackSupported||!this.poiBuffer)return this;var e=this.audioCtx.createBufferSource();e.buffer=this.poiBuffer,e.connect(this.splitter),e.start()}});return a}),define("graphing/audiograph",["require","pjs","lib/animation-frame","lib/aria","graphing/audiographnavigator","browser","graphing/graphmode","i18n","./label","keys","math/poi","./tonegenerator"],function(e){var t=e("pjs"),i=e("lib/animation-frame"),n=e("lib/aria"),r=e("graphing/audiographnavigator"),s=e("browser"),o=e("graphing/graphmode"),a=e("i18n"),l=e("./label"),c=e("keys"),u=e("math/poi").default,h=e("./tonegenerator"),d=t(function(e){var t=0;e.init=function(e,i,n,s,o){this.__id=t++,e.setAudioTrace(this),this.grapher=e,this.viewport=this.grapher.getProjection().viewport,this.expressionsModel=i,this.expressionsView=n,this.expressionsView&&(this.expressionsView.audiograph=this),this.toastView=s,this.evaluator=o,this.audioTraceActive=!1,this.wasFocusInExpressionsView=!1,this.sliderTraceActive=!1,this.sliderIndex=0,this.sliderArray=[],this.lastSpokenBranch=0,this.tonegen=h("triangle"),this.tonegen.suspend(),this.agNavigator=new r(this.grapher,this.expressionsModel,this.tonegen),this.grapher.$root.on("keydown.audiograph-"+this.__id,this.handleKeydown.bind(this))},e.remove=function(){this.grapher.$root.off(".audiograph-"+this.__id)},e.t=function(e,t){return a.t(e,t,this.grapher.settings.language)},e.speakGraphingAlert=function(e){if(this.audioTraceActive&&(!this.sliderTraceActive||this.hasActiveSliders()))return void this.recomputePoints();if(!this.audioTraceActive&&this.expressionsView){var t=this.expressionsView.getItemView(e);if(t&&t.speakFormulaMessage&&!t.labelView){var i;i=t.regressionView?this.t("Has graph and regression. Press Tab to access statistics."):this.t("Has graph."),i+=s.IS_APPLE?this.t(" Press OPTION+S for a summary. Press OPTION+T for audio trace."):this.t(" Press ALT+S for a summary. Press ALT+T for audio trace."),t.mathField&&t.mathField.setAriaPostLabel(i),t.speakFormulaMessage(i)}}},e.handleKeydown=function(e){var t,i=e.altKey||e.metaKey,n=i&&!e.ctrlKey&&!e.shiftKey,r=e.ctrlKey&&!e.metaKey&&!e.altKey;t=s.IS_APPLE?r:i;var o=t&&(61===e.which||187===e.which),a=t&&!e.shiftKey&&(173===e.which||189===e.which),l=t&&!e.shiftKey&&"0"===c.lookupChar(e);n&&"S"===c.lookupChar(e)?null!==this.expressionsModel.getSelected()&&this.isFocusInExpressionsView()&&(e.preventDefault(),e.stopPropagation(),this.describeGraph()):n&&"T"===c.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.toggleAudioTrace()):o?(e.preventDefault(),e.stopPropagation(),this.zoom("in")):a?(e.preventDefault(),e.stopPropagation(),this.zoom("out")):l?(e.preventDefault(),e.stopPropagation(),this.zoom("default")):this.audioTraceActive&&(this.sliderTraceActive?this.sliderTraceKeydown(e):this.audioTraceKeydown(e))},e.sliderTraceKeydown=function(e){var t=e.altKey||e.metaKey,i=!t&&!e.ctrlKey&&!e.shiftKey;i&&c.lookup(e)===c.LEFT||"J"===c.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.decrementSliderValue()):i&&c.lookup(e)===c.RIGHT||"L"===c.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.incrementSliderValue()):i&&c.lookup(e)===c.PAGEDOWN?(e.preventDefault(),e.stopPropagation(),this.decrementBigSliderValue()):i&&c.lookup(e)===c.PAGEUP?(e.preventDefault(),e.stopPropagation(),this.incrementBigSliderValue()):t||c.lookup(e)!==c.DOWN&&(e.shiftKey||c.lookup(e)!==c.TAB)&&"K"!==c.lookupChar(e)?!t&&(c.lookup(e)===c.UP||e.shiftKey&&c.lookup(e)===c.TAB||"I"===c.lookupChar(e))?(e.preventDefault(),e.stopPropagation(),this.prevSlider()):i&&c.lookup(e)===c.HOME||"U"===c.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.sliderMin()):i&&c.lookup(e)===c.END||"N"===c.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.sliderMax()):i&&"P"===c.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.toggleSliderAnimation()):(this.stopAnimations(),this.audioTraceKeydown(e)):(e.preventDefault(),e.stopPropagation(),this.nextSlider())},e.audioTraceKeydown=function(e){var t=e.altKey||e.metaKey,i=t&&!e.ctrlKey&&!e.shiftKey,r=!t&&!e.ctrlKey&&!e.shiftKey;if(c.lookup(e)===c.UP&&i)e.preventDefault(),e.stopPropagation(),this.agNavigator.prevCurve();else if(c.lookup(e)===c.DOWN&&i)e.preventDefault(),e.stopPropagation(),this.agNavigator.nextCurve();else if(r&&c.lookup(e)===c.LEFT||c.lookup(e)===c.UP||"J"===c.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.agNavigator.prevPoint(),this.reportAudioTrace();else if(r&&c.lookup(e)===c.RIGHT||c.lookup(e)===c.DOWN||"L"===c.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.agNavigator.nextPoint(),this.reportAudioTrace();else if(t||c.lookup(e)!==c.PAGEDOWN&&(e.shiftKey||c.lookup(e)!==c.TAB)&&"I"!==c.lookupChar(e))if(!t&&(c.lookup(e)===c.PAGEUP||e.shiftKey&&c.lookup(e)===c.TAB||"K"===c.lookupChar(e)))e.preventDefault(),e.stopPropagation(),this.agNavigator.prevPOI(),this.reportAudioTrace();else if(r&&c.lookup(e)===c.HOME||"U"===c.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.agNavigator.firstPoint(),this.reportAudioTrace();else if(r&&c.lookup(e)===c.END||"N"===c.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.agNavigator.lastPoint(),this.reportAudioTrace();else if(r&&"X"===c.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.reportAudioTrace("x");else if(r&&"P"===c.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.queuePOICount(),n.alert();else if(r&&"Y"===c.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.reportAudioTrace("y");else if(r&&"T"===c.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.reportAudioTrace("type");else if(r&&"B"===c.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.reportAudioTrace("branch");else if(r&&"O"===c.lookupChar(e))e.preventDefault(),e.stopPropagation(),this.agNavigator.moveToOrigin(),this.reportAudioTrace();else if(r&&"H"===c.lookupChar(e))if(e.preventDefault(),e.stopPropagation(),this.tonegen.playbackSupported){this.tonegen.stop();var s=this.agNavigator.getPoints();s.length>0?(n.alert(this.t("Playing graph.")),this.tonegen.queueArray(s),setTimeout(function(){this.tonegen.play()}.bind(this),500)):n.alert(this.t("Graph is empty."))}else n.alert(this.t("Unable to play audio."));else if(r&&c.lookupChar(e)>="0"&&c.lookupChar(e)<="9"){e.preventDefault(),e.stopPropagation(),this.tonegen.stop();var o=this.agNavigator.getCurrentSketch();if(o){var a;if(a=48===e.which?9:e.which-49,a<o.branches.length)if(this.tonegen.playbackSupported){var l=this.agNavigator.getBranchPoints(a);0===l.length?n.alert(this.t("Branch __branch__ is empty.",{branch:a+1})):(n.alert(this.t("Branch __branch__",{branch:a+1})),this.tonegen.queueArray(l),setTimeout(function(){this.tonegen.play()}.bind(this),500))}else n.alert(this.t("Unable to play audio."));else n.alert(this.t("Branch __branch__ does not exist.",{branch:a+1}))}else n.alert(this.t("No graph selected."))}else t&&c.lookupChar(e)>="1"&&c.lookupChar(e)<="5"?(e.preventDefault(),e.stopPropagation(),this.adjustPlaybackSpeed(c.lookupChar(e))):r&&"A"===c.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.queueAnimatingPoints(!0),n.alert()):r&&"S"===c.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.toggleSliderTrace()):r&&this.exitAudioTrace();else e.preventDefault(),e.stopPropagation(),this.agNavigator.nextPOI(),this.reportAudioTrace()},e.describeGraph=function(){var e=this.agNavigator.getCurrentSketch();if(e){var t=e.branches.length;t>1&&n.queue(this.t("Branches: __branches__.",{branches:t}));var i=this.agNavigator.getSortedPOI();if(n.queue(this.t("Points of interest: __poiCount__.",{poiCount:i.length})),i.length>0)for(var r=0;r<i.length;r++)this.queueCoordinates(i[r])}else n.queue(this.t("No graph information available."));n.alert()},e.queueCoordinates=function(e,t,i){if(e){var r=this.agNavigator.getCurrentSketch();(e.hasOwnProperty("branch")&&r&&r.branches.length>1&&this.lastSpokenBranch!==e.branch||"branch"===t)&&n.queue(this.t("Branch __branch__.",{branch:e.branch+1})),this.lastSpokenBranch=e.branch,e.hasOwnProperty("type")&&!t?n.queue(this.t("__type__ at",{type:this.describePOI(e)})):"type"===t&&n.queue(this.describePOI(e)),t&&"x"!==t||n.queue(this.t("X: __x__.",{x:l.value(e.x,this.agNavigator.xscale).ariaString})),t&&"y"!==t||n.queue(this.t("Y: __y__.",{y:l.value(e.y,this.agNavigator.yscale).ariaString})),i&&n.alert()}},e.describePOI=function(e){if(e.typeChain){for(var t=[],i=0;i<e.typeChain.length;i++)t.push(this.poiTypeToText(e,i));return t.join(", ")}return this.poiTypeToText(e)},e.poiTypeToText=function(e,t){var i=t?e.typeChain[t]:e.type;switch(i){case u.INTERSECTION:var n=this.getIntersectingCurves(e);return""!==n?this.t("Intersection with __curves__",{curves:n}):this.t("Intersection");case u.ZERO:return this.t("Zero");case u.INTERCEPT:return this.t("Intercept");case u.EXTREMUM:return this.t("Extremum");case u.EDGE:return this.t("Edge");case u.DEFINITION:return this.t("Definition");case u.TRACE:return this.t("Trace");case u.LABEL:return this.t("Label");default:return this.t("Not a P O I")}},e.getIntersectingCurves=function(e){var t=[];if(e&&e.intersects)for(var i=0;i<e.intersects.length;i++)t.push(this.getExpressionAriaLabel(e.intersects[i]));return t.join(", ")},e.getExpressionAriaLabel=function(e){var t="",i=this.expressionsModel.getItemById(e);return i&&(t=""!==i.label?i.label:this.t("Expression __index__",{index:i.displayIndex})),t},e.exitAudioTrace=function(e){if(this.audioTraceActive){if(e||(e=this.t("Audio trace off.")),this.toastView.hide(),this.audioTraceActive=!1,this.expressionsModel.unobserve("selectedItem.audiograph"),this.expressionsView&&(this.expressionsView.setProperty("inAudioTraceMode",!1),this.expressionsView.unobserve("itemFocused.audiograph"),this.wasFocusInExpressionsView)){var t=this.expressionsView.getSelectedView();t&&t.addFocus("end")}this.wasFocusInExpressionsView=!1,this.stopAnimations(),this.sliderTraceActive=!1,this.sliderIndex=0,this.tonegen.stop(),this.tonegen.suspend(),this.agNavigator.reset(),this.lastSpokenBranch=0,this.grapher.traceLayer.traceInfo=null,this.grapher.redrawAllLayers(),n.alert(e),this.resumeAnimations()}},e.enterAudioTrace=function(){var e=!1;this.audioTraceActive||(this.wasFocusInExpressionsView=this.isFocusInExpressionsView(),e=!this.wasFocusInExpressionsView);var t;if(e)t=this.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!0});else{var r=this.expressionsModel.getSelected();if(r&&r.formula&&r.formula.error)return this.audioTraceIndex=0,this.exitAudioTrace(),this.toastView.show(this.t("No graph to trace."));t=this.agNavigator.getCurrentSketch()}if(!t)return this.agNavigator.reset(),this.lastSpokenBranch=0,this.exitAudioTrace(),this.toastView.show(this.t("No graph to trace."));var a=t.branches[0].graphMode;return a===o.IMPLICIT?(this.exitAudioTrace(),this.toastView.show(this.t("Sorry, but I can't trace implicit curves yet."))):a===o.PARAMETRIC?(this.exitAudioTrace(),this.toastView.show(this.t("Sorry, but I can't trace parametric curves yet."))):(this.agNavigator.reset(),this.agNavigator.computeStepSizes(),this.lastSpokenBranch=0,this.audioTraceActive||(this.grapher.poiLabelsLayer.clearOpenedPOI(),this.grapher.redrawAllLayers(),this.expressionsView&&this.wasFocusInExpressionsView&&this.expressionsView.$(".dcg-audio-trace-placeholder").focus(),this.toastView.show(this.t("Audio trace on."),{noAria:!0,onHide:this.exitAudioTrace.bind(this),hideAfter:0}),n.queue(this.t("Audio trace on.")),this.pauseAnimations(),this.queueAnimatingPoints(!1),s.IS_IOS?n.queue(this.t("Use I, J, K, and L to navigate.")):n.queue(this.t("Use Arrow keys to navigate.")),this.tonegen.resume(),this.tonegen.playbackSupported&&n.queue(this.t("Press H to hear the graph.")),s.IS_APPLE?n.queue(this.t("Press OPTION+T to disable audio trace.")):n.queue(this.t("Press ALT+T to disable audio trace.")),this.agNavigator.moveToOrigin(),this.reportAudioTrace(),n.alert(),this.expressionsModel.observe("selectedItem.audiograph",function(){this.expSelectTimeout&&i.cancelAnimationFrame(this.expSelectTimeout),this.expSelectTimeout=i.requestAnimationFrame(function(){this.audioTraceActive&&(this.expressionsModel.selectedItem?(n.queue(this.getExpressionAriaLabel(this.expressionsModel.selectedItem.id)),this.exitSliderTrace(),this.agNavigator.moveToOrigin(),this.reportAudioTrace(),n.alert()):this.exitAudioTrace()),this.expSelectTimeout=null}.bind(this))}.bind(this)),this.expressionsView&&this.expressionsView.observe("itemFocused.audiograph",function(){this.expFocusTimeout&&i.cancelAnimationFrame(this.expFocusTimeout),this.expFocusTimeout=i.requestAnimationFrame(function(){this.audioTraceActive&&(this.expressionsView.getSelectedView()||this.exitAudioTrace()),this.expFocusTimeout=null}.bind(this),1)}.bind(this))),this.audioTraceActive=!0,void(this.expressionsView&&this.expressionsView.setProperty("inAudioTraceMode",!0)))},e.pauseAnimations=function(){this.sliderArray.length=0;for(var e=this.expressionsModel.getAllSliders(),t=0;t<e.length;t++){var i=e[t];i.isPlaying&&(i.setProperty("isPlaying",!1),this.sliderArray.push(i))}},e.resumeAnimations=function(){if(0!==this.sliderArray.length){for(var e=0;e<this.sliderArray.length;e++)this.sliderArray[e].setProperty("isPlaying",!0);this.sliderArray.length=0}},e.stopAnimations=function(){for(var e=this.expressionsModel.getAllSliders(),t=0;t<e.length;t++){var i=e[t];i.isPlaying&&i.setProperty("isPlaying",!1)}},e.getAnimatingVars=function(){for(var e=[],t=0;t<this.sliderArray.length;t++)e.push('"'+this.sliderArray[t].expression.dependent+'"');return e},e.hasActiveSliders=function(){for(var e=this.expressionsModel.getAllSliders(),t=0;t<e.length;t++){var i=e[t];if(i.isPlaying)return!0}return!1},e.queueAnimatingPoints=function(e){var t=this.getAnimatingVars();0!==t.length?n.queue(this.t("Animating __vars__.",{vars:t.join(", ")})):e&&n.queue(this.t("No animations."))},e.queueSliderValue=function(){this.hasActiveSliders()||this.tonegen.stop();var e=this.getSelectedSlider();if(e){var t='"'+e.expression.dependent+'"',i=e.value;n.queue(this.t("__label__: __value__.",{label:t,value:i}))}else n.queue(this.t("Unable to determine slider value"))},e.getSelectedSlider=function(){var e=this.expressionsModel.getAllSliders();return this.sliderIndex<=e.length-1?e[this.sliderIndex]:null},e.incrementSliderValue=function(){this.adjustSlider("up")},e.decrementSliderValue=function(){this.adjustSlider("down")},e.incrementBigSliderValue=function(){this.adjustSlider("bigup")},e.decrementBigSliderValue=function(){this.adjustSlider("bigdown")},e.nextSlider=function(){this.adjustSlider("next")},e.prevSlider=function(){this.adjustSlider("prev")},e.sliderMin=function(){this.adjustSlider("min")},e.sliderMax=function(){this.adjustSlider("max")},e.toggleSliderAnimation=function(){this.adjustSlider("animation")},e.adjustSlider=function(e){var t=this.getSelectedSlider();if(!t)return void n.queue(this.t("Unable to adjust slider"));var i=t.value,r=this.expressionsModel.getAllSliders().length;switch(e){case"up":case"down":case"bigup":case"bigdown":case"min":case"max":t.adjust(e);break;case"next":return this.sliderIndex++,this.sliderIndex>=r&&(n.queue(this.t("Last slider.")),this.sliderIndex=r-1),this.queueSliderValue(),void n.alert();case"prev":return this.sliderIndex--,this.sliderIndex<0&&(n.queue(this.t("First slider.")),this.sliderIndex=0),this.queueSliderValue(),void n.alert();case"animation":return t.setProperty("isPlaying",!t.isPlaying),t.isPlaying?n.queue(this.t("__variable__ playing.",{variable:t.expression.dependent})):(n.queue(this.t("__variable__ paused.",{variable:t.expression.dependent})),this.queueSliderValue()),void n.alert()}t.isPlaying||i===t.value||(this.queueSliderValue(),n.alert())},e.toggleAudioTrace=function(){this.audioTraceActive?this.exitAudioTrace():this.enterAudioTrace()},e.toggleSliderTrace=function(){this.sliderTraceActive?this.exitSliderTrace():this.enterSliderTrace()},e.enterSliderTrace=function(){if(!this.sliderTraceActive){this.sliderIndex=0;var e=this.expressionsModel.getAllSliders();0!==e.length?(n.queue(this.t("Slider trace on.")),this.queueSliderValue(),this.sliderTraceActive=!0):(n.queue(this.t("No sliders to trace.")),this.sliderTraceActive=!1),n.alert()}},e.exitSliderTrace=function(){this.sliderTraceActive&&(n.queue(this.t("Slider trace off.")),this.sliderTraceActive=!1,this.sliderIndex=0,n.alert())},e.recomputePoints=function(){if(this.audioTraceActive){this.agNavigator.updatePOI(),this.agNavigator.updateCurrentPoint(),this.agNavigator.resetTracePoint();var e=this.hasActiveSliders();if(e){var t=this.agNavigator.getCurrentPoint();this.tonegen.startContinuousPlay().queuePoint(t).play()}else this.agNavigator.resetTracePoint(),this.agNavigator.computeStepSizes()}},e.queuePOICount=function(){var e=this.agNavigator.getCurrentSketch(),t=null!==e?e.getPOI().length:0;n.queue(this.t("Points of interest, __x__.",{x:t}))},e.reportAudioTrace=function(e,t){var i=this.agNavigator.getCurrentPoint();if(e||(t||this.tonegen.stop(),this.tonegen.queuePoint(i).play()),!t){this.queueCoordinates(i,e);var r=e?0:100;setTimeout(function(){n.alert()},r)}},e.adjustPlaybackSpeed=function(e){switch(e){case"1":return this.tonegen.audioSpeed=150,n.alert(this.t("Graph playback very slow"));case"2":return this.tonegen.audioSpeed=100,n.alert(this.t("Graph playback slow"));case"3":return this.tonegen.audioSpeed=50,n.alert(this.t("Graph playback normal"));case"4":return this.tonegen.audioSpeed=30,n.alert(this.t("Graph playback fast"));case"5":return this.tonegen.audioSpeed=16,n.alert(this.t("Graph playback very fast"));default:return this.tonegen.audioSpeed=50,n.alert(this.t("Graph playback normal"))}},e.zoom=function(e){var t=this.grapher.viewportController;t.zoom(e)},e.isFocusInExpressionsView=function(){return this.expressionsView&&this.expressionsView.$()[0].contains(document.activeElement)}});return d}),define("expressions/abstractitem",["require","pjs","underscore_model","lib/deepCopy"],function(e){var t=e("pjs"),i=e("underscore_model"),n=e("lib/deepCopy").default,r=t(i,function(e,t){e.init=function(e,i){t.init.call(this),this.index=-1,this.displayIndex=-1,this.selected=!1,this.list=i,this.graphSettings=i.graphSettings,this.secret=!1;for(var r in e)e.hasOwnProperty(r)&&("id"===r?this[r]=""+e[r]:"object"==typeof e[r]?this[r]=n(e[r]):this[r]=e[r]);
    this.hasOwnProperty("id")?i.notifyIdUsed(this.id):this.id=""+i.getNextItemId()},e.eachLatex=function(e){},e.onAddedToList=function(){var e=this.updateCollapsedOrSecret.bind(this);this.graphSettings.config.observe("administerSecretFolders."+this.guid,e),this.observeAndSync("secret",this.updateCollapsedOrSecret.bind(this)),this.observeAndSync("folder",this.updateFolder.bind(this)),this.observeAndSync("selected",this.__onSelectedChange.bind(this))},e.onRemovedFromList=function(){this.graphSettings.config.unobserve("."+this.guid)},e.onStateDidChange=function(e){var t=this.id,i=this.getOldProperty(e),n=this.getProperty(e),r=this.list;r.undoRedo.addTransaction({undo:function(){r.getItemById(t).setProperty(e,i)},redo:function(){r.getItemById(t).setProperty(e,n)}})},e.updateCollapsedOrSecret=function(){var e=this.graphSettings.config.administerSecretFolders,t=!(!this.folder||!this.folder.collapsed),i=!(!this.folder||!this.folder.secret||e),n=!(!this.secret||e);this.setProperty("collapsedOrSecret",t||i||n)},e.updateFolder=function(){this.getOldProperty("folder")&&this.getOldProperty("folder").unobserve("."+this.id),this.folder&&(this.folder.observe("collapsed."+this.id,this.updateCollapsedOrSecret.bind(this)),this.folder.observe("secret."+this.id,this.updateCollapsedOrSecret.bind(this))),this.updateCollapsedOrSecret()},e.__onSelectedChange=function(){this.list&&this.list.handleSelectionChange(this),this.folder&&this.selected&&this.collapsedOrSecret&&this.folder.updateSelectedHiddenChild()},e._computeNewSliderLatex=function(e,t){var i=/=(.*?)([-\.0-9]+)/,n=e.match(i);return n?parseFloat(n[2])===t?e:e.replace(i,"=$1"+t):e},e.setSliderValueAndLatex=function(e){this.slider.setProperty("value",e),this.setProperty("latex",this._computeNewSliderLatex(this.latex,e))}});return r}),define("expressions/image",["require","pjs","./abstractitem","i18n","./colors","lib/default-spec"],function(e){var t=e("pjs"),i=e("./abstractitem"),n=e("i18n"),r=e("./colors"),s=e("lib/default-spec"),o=t(i,function(e,t,i){e.isImage=!0;var o={hidden:!1,secret:!1,x:"0",y:"0",width:"10",height:"10",opacity:1};i.DEFAULTS=o,e.init=function(e,i,n){e=s.populateDefaults(o,e),t.init.call(this,e,i),n||(n={}),this.shouldGraph=!this.hidden,this.imageObj=new Image,this.errors={},this.color=r.BLUE,this.observe("x y width height name opacity shouldGraph",this.onStateDidChange.bind(this)),this.observe("hidden",this.computeShouldGraph.bind(this)),this.observe("shouldGraph",i.triggerRedrawImages.bind(i)),this.observe("opacity",i.triggerRedrawImages.bind(i)),this.observe("image_url",this.loadImage.bind(this)),this.observe("formula",this.onFormulaUpdate.bind(this)),this.observe("x y width height index shouldGraph showPoints",this.requestParse.bind(this)),this.observe("shouldGraph selected loaded",this.computeShowPoints.bind(this)),this.image_url&&this.loadImage(n.shouldComputeDimensions)},e.t=function(e,t){return n.t(e,t,this.graphSettings.language)},e.computeShowPoints=function(){this.setProperty("showPoints",this.shouldGraph&&this.selected&&this.loaded)},e.computeShouldGraph=function(){var e=(!this.folder||!this.folder.hidden)&&!this.hidden;this.setProperty("shouldGraph",e)},e.onFormulaUpdate=function(){this.setProperty("computed_x",this.formula.dimensions.x),this.setProperty("computed_y",this.formula.dimensions.y),this.setProperty("computed_height",this.formula.dimensions.height),this.setProperty("computed_width",this.formula.dimensions.width),this.setProperty("variables",this.formula.variables);var e={x:this.t("Invalid x coordinate."),y:this.t("Invalid y coordinate."),width:this.t("Invalid width."),height:this.t("Invalid height.")},t=[];for(var i in this.formula.errorMap)this.formula.errorMap[i]&&t.push(e[i]);this.setProperty("error",t[0]||"")},e.updateFolder=function(){t.updateFolder.call(this),this.getOldProperty("folder")&&this.getOldProperty("folder").unobserve("."+this.guid),this.folder&&this.folder.observe("hidden."+this.guid,this.computeShouldGraph.bind(this)),this.computeShouldGraph()},e.onAddedToList=function(){t.onAddedToList.call(this),this.list.triggerAddImage(this),this.requestParse()},e.onRemovedFromList=function(){t.onRemovedFromList.call(this),this.requestUnparse(),this.list.triggerRemoveImage(this),this.imageObj.onload=null,this.imageObj.onerror=null},e.loadImage=function(e){this.imageObj.onload=function(){if(e){var t=this.imageObj.width,i=this.imageObj.height,n=Math.max(t,i)/Math.min(t,i);t<i?(i=10,t=Math.round(10*i/n)/10):(t=10,i=Math.round(10*t/n)/10),this.list.undoRedo.silent(function(){this.setProperty("width",t.toString()),this.setProperty("height",i.toString()),this.setProperty("loaded",!0)}.bind(this))}else this.list.undoRedo.silent(function(){this.setProperty("loaded",!0)}.bind(this))}.bind(this),this.imageObj.onerror=function(){this.onLoadImageError()}.bind(this),/^data:/.test(this.image_url)||(this.imageObj.crossOrigin="anonymous"),this.imageObj.src=this.image_url},e.onLoadImageError=function(){this.list.triggerImageError(this)},e.isEmpty=function(){return!1},e.getState=function(e){var t={id:this.id,image_url:this.image_url,originalFilename:this.originalFilename,name:this.name,hidden:this.hidden,height:this.height,width:this.width,x:this.x,y:this.y,opacity:this.opacity,type:"image",secret:this.secret};return e&&e.stripDefaults?s.stripDefaults(o,t):t},e.getParsableObject=function(){return{type:"image",id:this.id,index:this.index,x:this.x,y:this.y,width:this.width,height:this.height,shouldGraph:this.shouldGraph,showPoints:this.showPoints,color:this.color}},e.requestParse=function(){this.list.triggerAddExp(this.getParsableObject())},e.requestUnparse=function(){this.list.triggerRemoveExp(this.id)},e.onStateDidChange=function(e){if(!this.isUploading){var t=this.getOldProperty(e),i=this.getProperty(e);if(void 0!==t){var n=this.id,r=this.list;r.undoRedo.addTransaction({undo:function(){r.getItemById(n).setProperty(e,t)},redo:function(){r.getItemById(n).setProperty(e,i)}})}}}});return o}),define("expressions/list_move_controller",["require","lib/rounding","graphing/label","graphing/dragmode","./image","lib/number-to-latex"],function(e){function t(e,t){if(t.tableInfo)e.setSelected(null);else{var i=e.getItemById(t.sketch.id);if(!i||i instanceof m||e.setSelected(null),!i||!i.formula||!i.formula.move_strategy)return;for(var n=i.formula.move_strategy,r=0;r<n.length;r++)if("updateCoordinate"===n[r].type)i.setProperty("dragging",!0);else if("updateSlider"===n[r].type){var s=e.getItemById(n[r].id);if(!s)continue;var o=i.reconciledDragMode;if(o===g.NONE||0===r&&o===g.Y||1===r&&o===g.X)continue;s.slider.setProperty("dragging",!0)}}}function i(e,t){if(!t.tableInfo){var i=e.getItemById(t.sketch.id);if(i&&i.formula&&i.formula.move_strategy)for(var n=i.formula.move_strategy,r=0;r<n.length;r++)if(i.setProperty("dragging",!1),"updateSlider"===n[r].type){var s=e.getItemById(n[r].id);s&&s.slider.setProperty("dragging",!1)}}}function n(e,t,i,n){var s=t.tableInfo.tableId,o=t.tableInfo.rowIndex,a=t.tableInfo.columnId,l=t.tableInfo.dragX,c=t.tableInfo.dragY,u=e.getItemById(s);if(u&&u.getColumnByIndex(0)&&u.getColumnById(a)){var h={x:u.getColumnByIndex(0).getValue(o),y:u.getColumnById(a).getValue(o)},d=function(t){return function(){var i=e.getItemById(s);i&&(l&&i.getColumnByIndex(0).setValue(o,t.x),c&&i.getColumnById(a).setValue(o,t.y),i.requestParse())}},f=n.closestPointOnScreen(i),g=n.pixelsToMath.mapRect(r(f,.5)),m={x:v(p.shortestDecimalBetween(g.left,g.right)),y:v(p.shortestDecimalBetween(g.top,g.bottom))};e.undoRedo.performAndAddTransaction({foldType:"tablePointDrag"+t.id,undo:d(h),redo:d(m)})}}function r(e,t){return{left:e.x-t,right:e.x+t,top:e.y+t,bottom:e.y-t}}function s(e,t,i){var n;n=e.assignment?f.identifierToLatex(e.assignment)+"=":"";var r=p.shortestDecimalBetween(t[0].min,t[0].max),s=p.shortestDecimalBetween(t[1].min,t[1].max),a="updateCoordinate"===e.move_strategy[0].type&&o(0,i),l="updateCoordinate"===e.move_strategy[1].type&&o(1,i),c=a?v(r):e.move_strategy[0].inputString,u=l?v(s):e.move_strategy[1].inputString;return n+"\\left("+c+","+u+"\\right)"}function o(e,t){switch(t){case g.X:return 0===e;case g.Y:return 1===e;case g.XY:return!0;default:return!1}}function a(e,t,i){if(0===i[0]&&0===i[1])return{x:t.x,y:t.y,width:e.width,height:e.height};if(0===i[0])return{x:e.x,y:e.y,width:e.width,height:2*i[1]*(t.y-e.y)};if(0===i[1])return{x:e.x,y:e.y,width:2*i[0]*(t.x-e.x),height:e.height};var n=2*(e.width*i[0]*(t.x-e.x)+e.height*i[1]*(t.y-e.y))/(e.width*e.width+e.height*e.height);return{x:e.x,y:e.y,width:n*e.width,height:n*e.height}}function l(e,t,i){for(var n=[{x:t.left,y:t.top},{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.right,y:t.bottom}],r=["x","y","width","height"],s={x:1/0,y:1/0,width:1/0,height:1/0},o={x:-(1/0),y:-(1/0),width:-(1/0),height:-(1/0)},l=0;l<n.length;l++)for(var c=a(e,n[l],i),u=0;u<r.length;u++){var h=r[u];s[h]=Math.min(s[h],c[h]),o[h]=Math.max(o[h],c[h])}return{min:s,max:o}}function c(e,t,i,n){var s=e.getItemById(t.sketch.id);if(s){var o=s.formula;if(o){var a=n.closestPointOnScreen(i),c=o.dimensions,u=t.scaleFactor,d=0!==u[0]&&0!==u[1],f=n.pixelsToMath.mapRect(r(a,d?.05:.5)),g=l(c,f,u),m=n.mathToPixels.mapRect({left:c.x-.5*c.width,right:c.x+.5*c.width,top:c.y-.5*c.height,bottom:c.y+.5*c.height}),y=Math.abs(m.right-m.left),b=Math.abs(m.bottom-m.top),x=n.mathToPixels.mapRect({left:g.min.x-.5*g.min.width,right:g.min.x+.5*g.min.width,top:g.min.y-.5*g.min.height,bottom:g.min.y+.5*g.min.height}),_=Math.abs(x.right-x.left),w=Math.abs(x.bottom-x.top);_<y&&_<1||w<b&&w<1||e.undoRedo.oneTransaction(function(){for(var t=["x","y","width","height"],i=0;i<t.length;i++){var n=t[i],r=o.move_strategy[i];switch(r.type){case"updateCoordinate":var a=p.shortestDecimalBetween(g.min[n],g.max[n]);s.__oldProperties[n]=s[n],s[n]=v(a),s.notifyPropertyChange(n);break;case"updateSlider":var l=e.getItemById(r.id);if(!l||!l.slider)continue;var c=r.coefficients[0],u=r.coefficients[1],d=u*g.min[n]+c,f=u*g.max[n]+c,m=p.shortestDecimalBetween(d,f);h(e.undoRedo,l,m)}}},"imageDragged"+t.sketch.id)}}}function u(e,t,i,n,a){var l=e.getItemById(t.sketch.id);if(l){var c=l.formula;if(c){var u=l.reconciledDragMode,d=n.closestPointOnScreen(i),f=n.pixelsToMath.mapRect(r(d,.5)),g=[{min:f.left,max:f.right},{min:f.top,max:f.bottom}];e.undoRedo.oneTransaction(function(){"updateCoordinate"!==c.move_strategy[0].type&&"updateCoordinate"!==c.move_strategy[1].type||l.setProperty("latex",s(c,g,u));for(var t=0;t<2;t++){var i=c.move_strategy[t];if("updateSlider"===i.type&&o(t,u)){var n=e.getItemById(i.id);if(n&&n.slider){var r=i.coefficients[0],d=i.coefficients[1],f=p.shortestDecimalBetween(d*g[t].min+r,d*g[t].max+r),m=a?a[t]:"";h(e.undoRedo,n,f,m)}}}},"pointDragged"+t.sketch.id)}}}function h(e,t,i,n){var r=t.slider.value,s=n?t.slider.computeAdjustment(n):t.slider.computeSnappedValue(i);e.performAndAddTransaction({undo:function(){t.slider.setProperty("isPlaying",!1),t.setSliderValueAndLatex(r)},redo:function(){t.slider.setProperty("isPlaying",!1),t.setSliderValueAndLatex(s)}})}function d(e,t,i,r,s){if(t.tableInfo)return void n(e,t,i,r);var o=e.getItemById(t.sketch.id);if(o){var a=o.formula;a&&a.move_strategy&&(o instanceof m?c(e,t,i,r):u(e,t,i,r,s))}}var p=e("lib/rounding"),f=e("graphing/label"),g=e("graphing/dragmode"),m=e("./image"),v=e("lib/number-to-latex");return{onStartMovingPoint:t,onStopMovingPoint:i,onMovePoint:d}}),define("lib/evaluate-single-expression",["require","parser","math/builtinframe","math/parsenode/constant"],function(e){var t=e("parser"),i=e("math/builtinframe"),n=e("math/parsenode/constant");return function(e,r){var s=/^\s*(\-|\+)?([0-9]+(\.[0-9]+)?)\s*$/;if(s.test(e))return parseFloat(e);var o=Object.create(i);return o.trigAngleMultiplier=n(r?Math.PI/180:1),+t.parse(e).tryGetConcreteTree(o).constantValue}}),define("expressions/domain",["require","underscore_model","pjs","lib/evaluate-single-expression","lib/number-to-latex"],function(e){var t=e("underscore_model"),i=e("pjs"),n=e("lib/evaluate-single-expression"),r=e("lib/number-to-latex"),s=i(t,function(e,t){e.init=function(e,i,n,s,o){t.init.call(this),this.min=0,this.max=1,this.minLatex=void 0===n?r(e):n,this.maxLatex=void 0===s?r(i):s,this.lastValidLatex={min:"",max:""},this.validLimits={},this.graphSettings=o,this.computeLimits(),this.observe("minLatex maxLatex",this.computeLimits.bind(this)),this.graphSettings.observe("degreeMode."+this.guid,this.computeLimits.bind(this))},e.destruct=function(){this.graphSettings.unobserve("."+this.guid)},e.computeLimits=function(){var e=this.checkLimits(this.minLatex,this.maxLatex);e.min&&e.max&&(this.lastValidLatex.min=this.minLatex,this.lastValidLatex.max=this.maxLatex,this.setProperty("min",e.values.min),this.setProperty("max",e.values.max)),this.setProperty("validLimits",{min:e.min,max:e.max})},e.checkLimits=function(e,t){var i=this.graphSettings.degreeMode,r=n(e,i),s=n(t,i),o=isFinite(r)&&r<s,a=isFinite(s)&&r<s;return{min:o,max:a,values:{min:r,max:s}}},e.isValid=function(){return isFinite(this.min)&&isFinite(this.max)&&this.max>this.min},e.serialize=function(){return{min:this.min,max:this.max,minLatex:this.minLatex,maxLatex:this.maxLatex}}});return s.deserialize=function(e){return e?s(e.min,e.max,e.minLatex,e.maxLatex,e.graphSettings):s()},s}),define("expressions/slider_loop_modes",{LOOP_FORWARD_REVERSE:"LOOP_FORWARD_REVERSE",LOOP_FORWARD:"LOOP_FORWARD"}),define("expressions/slider",["require","pjs","underscore_model","lib/rounding","expressions/slider_loop_modes","lib/number-to-latex","lib/evaluate-single-expression","graphing/label","lib/default-spec"],function(e){var t=e("pjs"),i=e("underscore_model"),n=e("lib/rounding"),r=e("expressions/slider_loop_modes"),s=e("lib/number-to-latex"),o=e("lib/evaluate-single-expression"),a=e("graphing/label"),l=e("lib/default-spec"),c=t(i,function(e,t,i){var c=4e3,u={animationPeriod:c,hardMax:!1,hardMin:!1,stepLatex:"",isPlaying:!1,loopMode:r.LOOP_FORWARD_REVERSE,minLatex:"-10",maxLatex:"10",playDirection:1};i.DEFAULTS=u,e.DEFAULT_PERIOD=c,e.init=function(e,i){t.init.call(this),this.expression=e,i||(i={}),i=l.populateDefaults(u,i),this.animationPeriod=i.animationPeriod,this.hardMin=i.hardMin,this.hardMax=i.hardMax,this.stepLatex=i.stepLatex,this.isPlaying=i.isPlaying,this.loopMode=i.loopMode,this.minLatex=i.minLatex,this.maxLatex=i.maxLatex,this.playDirection=i.playDirection,this.value=void 0!==i.value?i.value:0,this.lastValidLatex={slidermin:"",slidermax:"",sliderstep:""},this.validLimits={},this.graphSettings=i.graphSettings,this.observe("isPlaying",this.updateAnimationTargetValue.bind(this)),this.observe("stepper isPlaying",this.updateObservedStepper.bind(this)),this.observe("dragging isPlaying",this.setTransient.bind(this)),this.observe("isPlaying",function(){this.isPlaying&&(this.animationTargetValue=this.value)}.bind(this)),this.observe("isPlaying dragging",this.setTransient.bind(this)),this.observe("stepper isPlaying",this.updateObservedStepper.bind(this)),this.observe("minLatex maxLatex stepLatex",this.computeLimits.bind(this)),this.graphSettings.observe("degreeMode."+this.guid,this.computeLimits.bind(this)),this.updateAnimationTargetValue(),this.computeLimits(),this.setTransient()},e.destruct=function(){this.graphSettings.unobserve("."+this.guid),this._observedStepper&&this._observedStepper.unobserve("."+this.guid)},e.computeLimits=function(){var e=this.checkLimits(this.minLatex,this.maxLatex,this.stepLatex);e.slidermin&&e.slidermax&&e.sliderstep&&(this.lastValidLatex.slidermin=this.minLatex,this.lastValidLatex.slidermax=this.maxLatex,this.lastValidLatex.sliderstep=this.stepLatex,this.setProperty("min",e.values.min),this.setProperty("max",e.values.max),this.setProperty("step",""===this.stepLatex?void 0:e.values.step))},e.checkLimits=function(e,t,i){var n,r,s=this.graphSettings.degreeMode,a=o(""===e?this.lastValidLatex.slidermin:e,s),l=o(""===t?this.lastValidLatex.slidermax:t,s),c=""===e||isFinite(a)&&a<l&&!(a+"").match(/e/),u=""===t||isFinite(l)&&a<l&&!(l+"").match(/e/);return""===i?(n=NaN,r=!0):(n=o(i,s),r=isFinite(n)&&n>=0&&n<=l-a),{slidermin:c,slidermax:u,sliderstep:r,values:{min:a,max:l,step:n}}},e.updateAnimationTargetValue=function(){this.isPlaying&&(this.animationTargetValue=this.value)},e.setTransient=function(){this.setProperty("transient",this.dragging||this.isPlaying)},e.updateObservedStepper=function(){var e=this.isPlaying&&this.stepper,t=(!e||this.stepper!==this._observedStepper)&&this._observedStepper,i=e&&this._observedStepper!==this.stepper;t&&(this._observedStepper.unobserve("playTime."+this.guid),this._observedStepper=void 0),i&&(this._observedStepper=this.stepper,this._observedStepper.observe("playTime."+this.guid,this.playStep.bind(this)))},e.toggleLoopMode=function(){this.loopMode===r.LOOP_FORWARD_REVERSE?this.setProperty("loopMode",r.LOOP_FORWARD):this.setProperty("loopMode",r.LOOP_FORWARD_REVERSE),this.playDirection=1,this.animationTargetValue=this.min},e.playStep=function(){var e=this.step?this.step/2:0;if(this.loopMode===r.LOOP_FORWARD_REVERSE)this.animationTargetValue>=this.max?this.playDirection=-1:this.animationTargetValue<=this.min&&(this.playDirection=1);else{if(this.loopMode!==r.LOOP_FORWARD)throw new Error("Unexpected slider loop mode: "+this.loopMode);this.playDirection=1,this.animationTargetValue>=this.max+e&&(this.animationTargetValue=this.min-e)}if(this._observedStepper){var t=this._observedStepper,i=t.playTime-t.getOldProperty("playTime");isFinite(i)||(i=0),i=Math.min(i,this.animationPeriod/10);var s=(this.max-this.min)*i/this.animationPeriod;this.animationTargetValue+=s*this.playDirection,this.animationTargetValue=Math.max(this.min-e,Math.min(this.max+e,this.animationTargetValue));var o=this.computeSnappedValue(this.animationTargetValue);this.step||(o=n.shortestDecimalBetween(o-.1*s,o+.1*s)),o=Math.max(this.min,Math.min(this.max,o)),this.expression.setSliderValueAndLatex(o)}},e.serialize=function(){return{min:this.min,max:this.max,hardMin:this.hardMin,hardMax:this.hardMax,step:this.step,value:this.value,playDirection:this.playDirection,animationPeriod:this.animationPeriod,isPlaying:this.isPlaying}},e.getState=function(e){var t={minLatex:this.minLatex,maxLatex:this.maxLatex,hardMin:this.hardMin,hardMax:this.hardMax,stepLatex:this.stepLatex,animationPeriod:this.animationPeriod,loopMode:this.loopMode,playDirection:this.playDirection,isPlaying:this.isPlaying};return e&&e.stripDefaults?l.stripDefaults(u,t):t},e.shouldUpdateSoftMax=function(e){return!this.hardMax&&e>o(this.maxLatex,this.graphSettings.degreeMode)&&!this.isPlaying},e.shouldUpdateSoftMin=function(e){return!this.hardMin&&e<o(this.minLatex,this.graphSettings.degreeMode)&&!this.isPlaying},e.computeSnappedValue=function(e){if(this.step){var t=Math.round((e-this.min)/this.step);e=a.value(this.step*t+this.min,this.max-this.min).value}return this.hardMin&&e<this.min&&(e=this.min),this.hardMax&&e>this.max&&(e=this.max),this.shouldUpdateSoftMax(e)&&this.setProperty("maxLatex",s(e)),this.shouldUpdateSoftMin(e)&&this.setProperty("minLatex",s(e)),e},e.adjust=function(e){var t=this.value,i=this.computeAdjustment(e);this.isPlaying||t===i||this.commitSliderValue(i)},e.computeAdjustment=function(e){var t,i=this.value,n=i,r=this.computeSteps(),s=r.length-1;switch(e){case"up":t=this.nearestStepIndex(r,i,{movingForward:!0}),t=Math.min(t+1,s),n=r[t];break;case"down":t=this.nearestStepIndex(r,i,{movingForward:!1}),t=Math.max(t-1,0),n=r[t];break;case"bigup":t=this.nearestStepIndex(r,i,{movingForward:!0}),t=Math.min(t+5,s),n=r[t];break;case"bigdown":t=this.nearestStepIndex(r,i,{movingForward:!1}),t=Math.max(t-5,0),n=r[t];break;case"min":n=r[0];break;case"max":n=r[s]}return n},e.computeSteps=function(){for(var e=this.min,t=this.max,i=this.step||Math.abs(t-e)/20,n=[],r=e;r<=t;r+=i){var s=this.computeSnappedValue(r);n[n.length-1]!==s&&n.push(s)}return n[n.length-1]!==t&&n.push(t),n},e.nearestStepIndex=function(e,t,i){if(t<=e[0])return 0;if(t>=e[e.length-1])return e.length-1;for(var n=0;n<e.length-1;n++){if(e[n]===t)return n;if(e[n]<t&&t<e[n+1])return n+(i.movingForward?0:1)}return e.length-1},e.commitSliderValue=function(e){if(this.expression){var t=this.value;this.expression.list.undoRedo.performAndAddTransaction({foldType:"sliderDrag"+this.expression.id,undo:function(){this.expression.setSliderValueAndLatex(t)}.bind(this),redo:function(){this.expression.setSliderValueAndLatex(e)}.bind(this)})}}});return c}),define("expressions/expression",["require","pjs","./abstractitem","./domain","./slider","lib/default-spec","lib/number-to-latex","graphing/dragmode","expressions/styles","graphing/reconcileDragMode","lib/deepCopy","underscore"],function(e){var t=e("pjs"),i=e("./abstractitem"),n=e("./domain"),r=e("./slider"),s=e("lib/default-spec"),o=e("lib/number-to-latex"),a=e("graphing/dragmode"),l=e("expressions/styles"),c=e("graphing/reconcileDragMode"),u=e("lib/deepCopy").default,h=e("underscore"),d=t(i,function(e,t,i){e.isExpression=!0;var d={latex:"",showLabel:!1,label:"",hidden:!1,secret:!1,dragMode:a.AUTO,residualVariable:"",isLogModeRegression:!1,style:l.SOLID,domain:{min:"0",max:"1"},regressionParameters:{}};i.DEFAULTS=d;var p=[["minLatex","sliderMin"],["maxLatex","sliderMax"],["hardMin","sliderHardMin"],["hardMax","sliderHardMax"],["stepLatex","sliderInterval"],["animationPeriod","sliderAnimationPeriod"],["loopMode","sliderLoopMode"],["playDirection","sliderPlayDirection"],["isPlaying","sliderIsPlaying"]];e.init=function(e,i){e=s.populateDefaults(d,e),t.init.call(this,e,i),this.loading=!0,this.formula={error:""},this.unresolved=!1,this.color||(this.color=this.list.getNextColor());var r=this.domain?u(this.domain):{min:"0",max:"1"};r.graphSettings=this.graphSettings,this.domain=n.deserialize(r),this.domain.observe("minLatex maxLatex",function(e){this.onExpressionDidChange();var t=this.id,i=this.domain.getOldProperty(e),n=this.domain.getProperty(e),r=this.list;r.undoRedo.addTransaction({undo:function(){r.getItemById(t).domain.setProperty(e,i)},redo:function(){r.getItemById(t).domain.setProperty(e,n)}})}.bind(this)),this.domain.observe("min max",this.onExpressionDidChange.bind(this)),this.regressionParameters=u(this.regressionParameters),this.computeShouldGraph(),this.observe("formula",this.onFormulaUpdate.bind(this)),this.observe("latex showLabel label color hidden style dragMode",this.onStateDidChange.bind(this)),this.observe("latex showLabel label index shouldGraph color style isLogModeRegression dragMode",this.onExpressionDidChange.bind(this)),this.observe("hidden",this.computeShouldGraph.bind(this)),this.observeAndSync("formula dragMode",this.updateReconciledDragMode.bind(this))},e.onStateDidChange=function(e){"latex"===e&&this.slider&&this.slider.transient||"style"===e&&void 0===this.getOldProperty("style")||t.onStateDidChange.call(this,e)},e.updateFolder=function(){t.updateFolder.call(this),this.getOldProperty("folder")&&this.getOldProperty("folder").unobserve("."+this.id),this.folder&&(this.folder.observe("hidden."+this.id,this.computeShouldGraph.bind(this)),this.folder.observe("hidden."+this.id,function(){this.showLabel&&this.requestParse()}.bind(this))),this.showLabel&&this.requestParse(),this.computeShouldGraph()},e.computeShouldGraph=function(){return this.folder&&this.folder.hidden?void this.setProperty("shouldGraph",!1):void this.setProperty("shouldGraph",!this.hidden)},e.onExpressionDidChange=function(){this.domain.isValid()&&this.requestParse()},e.eachLatex=function(e){e(this.latex),this.residualVariable&&e(this.residualVariable)},e.getParsableObject=function(){if(void 0!==this.latex){var e=this.folder&&this.folder.hidden;return{type:"statement",id:this.id,index:this.index,latex:this.latex,showLabel:this.showLabel&&!e,label:this.label,domain:this.domain.serialize(),shouldGraph:this.shouldGraph,color:this.color,style:this.style,dragMode:this.dragMode,residualVariable:this.residualVariable,regressionParameters:this.regressionParameters,isLogModeRegression:this.isLogModeRegression}}},e.requestParse=function(){this.list.triggerAddExp(this.getParsableObject())},e.requestUnparse=function(){this.list.triggerRemoveExp(this.id)},e.onAddedToList=function(){t.onAddedToList.call(this),this.requestParse()},e.onRemovedFromList=function(){t.onRemovedFromList.call(this),this.slider&&this.slider.setProperty("isPlaying",!1),this.__singleSliderInstance&&this.__singleSliderInstance.destruct(),this.domain&&this.domain.destruct(),this.requestUnparse()},e.getState=function(e){var t,i,n={id:this.id,type:"expression",latex:this.latex,domain:{min:this.domain.minLatex,max:this.domain.maxLatex},showLabel:this.showLabel,label:this.label,hidden:this.hidden,secret:this.secret,color:this.color,style:this.style,dragMode:this.dragMode,residualVariable:this.residualVariable,regressionParameters:u(this.regressionParameters),isLogModeRegression:this.isLogModeRegression};if(this.slider){var o=this.slider.getState(e);for(t=0;t<p.length;t++)i=p[t],o.hasOwnProperty(i[0])&&(n[i[1]]=o[i[0]])}else if(this.loading)for(t=0;t<p.length;t++)i=p[t],this.hasOwnProperty(i[1])&&(e&&e.stripDefaults?h.isEqual(this[i[1]],r.DEFAULTS[i[0]])||(n[i[1]]=this[i[1]]):n[i[1]]=this[i[1]]);return e&&e.stripDefaults?s.stripDefaults(d,n):n},e.onFormulaUpdate=function(){var e=this.formula;this.setProperty("error",e.error?e.error:""),this.setProperty("isGraphable",e.is_graphable),this.setProperty("dependent",e.assignment),this.setProperty("isTableable",e.is_tableable),this.setProperty("unresolved",!1),this.validateStyle(),e.is_slidable?(this.slider||this.createSliderModel(),this.slider.transient||this.slider.setProperty("value",e.constant_value)):this.slider=null,e.is_regression?(this.regressionParameters=e.regression.parameters,this.residualVariable=e.regression.residualVariable):this.regressionParameters={}},e.updateReconciledDragMode=function(){var e=this.dragMode===a.AUTO?this.formula.default_drag_mode:this.dragMode;this.setProperty("reconciledDragMode",c(e,this.formula.move_strategy))},e.validateStyle=function(){function e(e){i.style!==e&&(i.style=void 0,i.setProperty("style",e))}var t=this.formula;if(!t.error){var i=this;t.is_point_list?this.style!==l.POINT&&this.style!==l.OPEN&&this.style!==l.CROSS&&e(l.POINT):t.is_inequality?e(l.SOLID):this.style!==l.SOLID&&this.style!==l.DASHED&&this.style!=l.DOTTED&&e(l.SOLID)}},e.toggleLogMode=function(){var e=this.id,t=this.isLogModeRegression,i=this.list;i.undoRedo.performAndAddTransaction({undo:function(){i.getItemById(e).setProperty("isLogModeRegression",t)},redo:function(){i.getItemById(e).setProperty("isLogModeRegression",!t)}})},e.createSliderModel=function(){if(this.__singleSliderInstance)return void(this.slider=this.__singleSliderInstance);for(var e={value:this.formula.constant_value,graphSettings:this.graphSettings},t=0;t<p.length;t++){var i=p[t];this.hasOwnProperty(i[1])&&(e[i[0]]=this[i[1]])}this.slider=this.__singleSliderInstance=r(this,e);var n=this.id,s=this.list;this.slider.observe("stepLatex",function(){if(!this.slider.transient){var e=this.slider.getOldProperty("stepLatex"),t=this.slider.getProperty("stepLatex");s.undoRedo.addTransaction({undo:function(){s.getItemById(n).slider.setProperty("stepLatex",e)},redo:function(){s.getItemById(n).slider.setProperty("stepLatex",t)}})}}.bind(this)),this.slider.observe("minLatex",function(){if(!this.slider.transient){var e=this.slider.getProperty("min"),t=this.slider.getProperty("value"),i=e>t?this.latex:null,r=e>t?this._computeNewSliderLatex(i,e):null,o=this.slider.getOldProperty("minLatex"),a=this.slider.getProperty("minLatex"),l=this.slider.getOldProperty("hardMin"),c=this.slider.getProperty("hardMin");s.undoRedo.performAndAddTransaction({undo:function(){var e=s.getItemById(n);e.slider.setProperty("hardMin",l),e.slider.setProperty("minLatex",o),i&&e.setProperty("latex",i)},redo:function(){var e=s.getItemById(n);e.slider.setProperty("hardMin",c),e.slider.setProperty("minLatex",a),r&&e.setProperty("latex",r)}})}}.bind(this)),this.slider.observe("maxLatex",function(){if(!this.slider.transient){var e=this.slider.getProperty("max"),t=this.slider.getProperty("value"),i=e<t?this.latex:null,r=e<t?this._computeNewSliderLatex(i,e):null,o=this.slider.getOldProperty("maxLatex"),a=this.slider.getProperty("maxLatex"),l=this.slider.getOldProperty("hardMax"),c=this.slider.getProperty("hardMax");s.undoRedo.performAndAddTransaction({undo:function(){var e=s.getItemById(n);e.slider.setProperty("hardMax",l),e.slider.setProperty("maxLatex",o),i&&e.setProperty("latex",i)},redo:function(){var e=s.getItemById(n);e.slider.setProperty("hardMax",c),e.slider.setProperty("maxLatex",a),r&&e.setProperty("latex",r)}})}}.bind(this)),this.slider.observe("loopMode",function(){var e=this.slider.getOldProperty("loopMode"),t=this.slider.getProperty("loopMode");s.undoRedo.addTransaction({undo:function(){var t=s.getItemById(n);t.slider.setProperty("loopMode",e)},redo:function(){var e=s.getItemById(n);e.slider.setProperty("loopMode",t)}})}.bind(this)),this.slider.observe("animationPeriod",function(){var e=this.slider.getOldProperty("animationPeriod"),t=this.slider.getProperty("animationPeriod");s.undoRedo.addTransaction({undo:function(){var t=s.getItemById(n);t.slider.setProperty("animationPeriod",e)},redo:function(){var e=s.getItemById(n);e.slider.setProperty("animationPeriod",t)}})}.bind(this)),this.slider.observe("isPlaying",function(){var e=this.slider.serialize(),t=this.latex,i=this.slider.getOldProperty("isPlaying"),r=this.slider.getProperty("isPlaying"),o=function(i){var r=s.getItemById(n);r.setProperty("latex",t);for(var o in e)e.hasOwnProperty(o)&&r.slider.setProperty(o,e[o]);r.slider.setProperty("isPlaying",i)};s.undoRedo.addTransaction({undo:function(){o(i)},redo:function(){o(r)}})}.bind(this)),this.slider.observe("value",function(){var e=this.slider.getProperty("value");e<this.slider.min&&this.slider.setProperty("minLatex",o(e)),e>this.slider.max&&this.slider.setProperty("maxLatex",o(e))}.bind(this)),this.slider.setProperty("stepper",this.list),this.notifyPropertyChange("slider")},e.isEmpty=function(){var e=this.latex||"",t=this.label||"",i=e+t;return""===i.split(" ").join("")}});return d}),define("expressions/text",["require","pjs","./abstractitem","lib/default-spec"],function(e){var t=e("pjs"),i=e("./abstractitem"),n=e("lib/default-spec"),r=t(i,function(e,t,i){e.isText=!0;var r={text:""};i.DEFAULTS=r,e.init=function(e,i){e=n.populateDefaults(r,e),t.init.call(this,e,i),this.observe("text",this.onStateDidChange.bind(this))},e.isEmpty=function(){return""===this.text.split(" ").join("")},e.getState=function(e){var t={id:this.id,type:"text",text:this.text};return e&&e.stripDefaults?n.stripDefaults(r,t):t}});return r}),define("expressions/table",["require","underscore","pjs","underscore_model","graphing/columnmode","graphing/dragmode","expressions/styles","./abstractitem","graphing/label","math/distance","lib/evaluate-single-expression","math/rational-arithmetic-sequence","lib/default-spec"],function(e){var t=e("underscore"),i=e("pjs"),n=e("underscore_model"),r=e("graphing/columnmode"),s=e("graphing/dragmode"),o=e("expressions/styles"),a=e("./abstractitem"),l=e("graphing/label"),c=e("math/distance"),u=e("lib/evaluate-single-expression"),h=e("math/rational-arithmetic-sequence"),d=e("lib/default-spec"),p=i(n,function(e,t){e.init=function(e,i){t.init.call(this),this.column=e,i&&(this.value=i.value,this.error=i.error)},e.isEmpty=function(){return""===this.value.split(" ").join("")}}),f=i(a,function(e,i,n){function a(e){for(var i=[],n=0;n<e.length;n++){var r,s=e[n];r=t.isNumber(s)?isFinite(s)?l.truncatedLatexLabel(s,{zeroCutoff:1e-15,digits:8,bigCutoff:1e6,smallCutoff:.001}):"\\mathrm{undefined}":"",i.push(r)}return i}var c={hidden:!1,latex:"",dragMode:s.NONE,columnMode:r.POINTS,style:o.POINT};n.DEFAULTS=c,e.init=function(e,t,n){if(n=d.populateDefaults(c,n),this.values=[],this.error="",i.init.call(this,n,e.list),this.color||(this.color=e.list.getNextColor()),0!==t&&0===this.values.length&&e.columns[0].cells){this.values=[];for(var o=e.columns[0].cells.length,a=0;a<o;a++)this.values.push("")}var l=this;this.cells=this.values.map(function(e){
    return p(l,{value:String(e)})}),delete this.values,this.table=e,this.index=t,0===t&&(this.hidden=!0),this.isGraphable=!this.error,this.observe("error",function(){this.setProperty("isGraphable",!this.error)}.bind(this)),this.observe("color columnMode dragMode hidden latex style",this.onStateChange.bind(this)),this.observe("hidden hiddenByTable",this.computeShouldGraph.bind(this)),this.computeShouldGraph(),this.observe("shouldGraph",this.table.requestParse.bind(this.table)),this.observe("columnMode hidden draggable",function(){this.columnMode!==r.LINES&&this.draggable||this.setProperty("dragMode",s.NONE)}.bind(this)),this.observe("dragMode",function(){this.dragMode!==s.NONE&&this.columnMode===r.LINES&&this.setProperty("columnMode",r.POINTS_AND_LINES)}.bind(this))},e.computeShouldGraph=function(){this.setProperty("shouldGraph",!this.hiddenByTable&&!this.hidden)},e.onStateChange=function(e){function t(){return r.getItemById(i).columns[n]}this.table.requestParse();var i=this.table.id,n=this.index,r=this.table.list,s=this.getOldProperty(e),o=this.getProperty(e);r.undoRedo.addTransaction({undo:function(){t().setProperty(e,s)},redo:function(){t().setProperty(e,o)}})},e.isEmpty=function(){return""===this.latex.split(" ").join(" ")},e.getValues=function(){for(var e=[],t=this.cells.length,i=0;i<t;i++){var n=this.cells[i].value;null===n||void 0===n?e.push(""):e.push(String(n))}return e},e.triggerRowChange=function(){},e.insertCell=function(e,t){var i=p(this,{value:t});this.cells.splice(e,0,i),this.independentValues&&this.independentValues.splice(e,0,"")},e.removeCell=function(e){this.cells.splice(e,1),this.independentValues&&this.independentValues.splice(e,1)},e.setComputedValues=function(e){this.setProperty("error",e.error),this.setProperty("discrete",e.discrete),this.setProperty("disabled",e.dependent),this.setProperty("draggable",!e.error&&!e.dependent),this.setErrors(e.values),e.dependent?(this.independentValues||(this.independentValues=this.getValues()),this.setValues(a(e.values))):this.independentValues&&(this.setValues(this.independentValues),this.independentValues=null,this.table.requestParse())},e.getValue=function(e){if(this.cells[e])return this.cells[e].value},e.setValue=function(e,t){this.cells[e]&&this.cells[e].setProperty("value",t)},e.setValues=function(e){for(var t=0;t<Math.min(e.length,this.cells.length);t++)this.cells[t].setProperty("value",e[t]);for(;t<this.cells.length;t++)this.cells[t].setProperty("value","")},e.setErrors=function(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?this.cells[t].setProperty("error",e[t]):this.cells[t].setProperty("error","")},e.serialize=function(e){var t={values:this.getValues(),columnMode:this.columnMode,dragMode:this.dragMode,hidden:this.hidden,id:this.id,color:this.color,style:this.style,latex:this.latex};return e&&e.stripDefaults?d.stripDefaults(c,t):t}}),g=i(a,function(e,i,n){e.isTable=!0;var r={secret:!1};n.DEFAULTS=r,n.COLUMN_DEFAULTS=f.DEFAULTS,e.init=function(e,n){e=d.populateDefaults(r,e),i.init.call(this,e,n),this.list=n,this.selectedCell=null;var s,o=0;for(s=0;s<this.columns.length;s++)this.columns[s].values||(this.columns[s].values=[]),this.columns[s].values.length>o&&(o=this.columns[s].values.length);for(s=0;s<this.columns.length;s++)for(var a=o-this.columns[s].values.length;a>0;a--)this.columns[s].values.push("");var l=this;this.columns=this.columns.map(function(e,t){return f(l,t,e)});var c=[];for(s=0;s<o;s++)c.push("");this.columns.push(f(this,this.columns.length,{disabled:!0,values:c}));var u=this.columns[0].cells.length;t.each(this.columns,function(e){e.insertCell(u,"")}),this.observe("selected",this.onSelectedChange.bind(this)),this.observe("formula",this.onFormulaUpdate.bind(this))},e.onFormulaUpdate=function(){this.setComputedValues(this.formula.column_data)},e.updateFolder=function(){i.updateFolder.call(this),this.getOldProperty("folder")&&this.getOldProperty("folder").unobserve("."+this.id),this.folder&&this.folder.observe("hidden."+this.id,this.computeColumnsHidden.bind(this)),this.computeColumnsHidden()},e.computeColumnsHidden=function(){var e=this.folder&&this.folder.hidden;t.each(this.columns,function(t){t.setProperty("hiddenByTable",e)})},e.onSelectedChange=function(){this.selected||this.setProperty("selectedCell",null)},e.insertColumn=function(e,t){var i=this.id,n=this.list;n.undoRedo.performAndAddTransaction({undo:function(){var t=n.getItemById(i);t.__removeColumn(e)},redo:function(){var r=n.getItemById(i);r.__insertColumn(e,t),t=r.columns[e].serialize()}})},e.removeColumn=function(e){var t=this.id,i=this.columns[e].serialize(),n=this.list;n.undoRedo.performAndAddTransaction({undo:function(){var r=n.getItemById(t);r.__insertColumn(e,i)},redo:function(){var i=n.getItemById(t);i.__removeColumn(e)}})},e.moveColumn=function(e,t){var i=this.id,n=this.list;n.undoRedo.performAndAddTransaction({undo:function(){var r=n.getItemById(i);r.__moveColumn(t,e)},redo:function(){var r=n.getItemById(i);r.__moveColumn(e,t)}})},e.triggerColumnAdded=function(e){},e.__insertColumn=function(e,t){t||(t={});var i=f(this,e,t);this.columns.splice(e,0,i);for(var n=e+1;n<this.columns.length;n++)this.columns[n].setProperty("index",n);this.triggerColumnAdded(e),this.requestParse()},e.triggerColumnRemoved=function(e){},e.__removeColumn=function(e){this.requestUnparseColumn(e),this.columns.splice(e,1);for(var t=e;t<this.columns.length;t++)this.columns[t].setProperty("index",t);this.triggerColumnRemoved(e),this.requestParse()},e.getAutofillValues=function(e){var t,i=this.columns.length,n=[];for(t=0;t<i;t++)n.push("");var r=this.columns[0].getValues();if(e>1){var s=this.list.graphSettings.useDegrees,o=u(r[0],s),a=u(r[1],s);if(isFinite(o)&&isFinite(a)){var l=h(o,a);if(l){var d=l.nstart,p=d/l.lcm;for(t=0;t<e;t++){var f=u(r[t],s);if(!c.approx(f,p))return n;d+=l.nstep,p=d/l.lcm}(""+o).length<8&&(""+a).length<8?n[0]=""+p:n[0]="\\frac{"+d+"}{"+l.lcm+"}"}}}return n},e.setComputedValues=function(e){this.setProperty("changingMultipleCells",!0);var t,i=this.columns[0].cells.length-1,n=0;for(t=0;t<e.length;t++){var r=e[t].values.length;r>n&&(n=r)}for(t=n-i;t>0;t--)this.__insertRow(i),i++;for(t=0;t<e.length;t++)this.columns[t].setComputedValues(e[t]);this.setProperty("changingMultipleCells",!1),this.triggerEvent("computedValuesSet")},e.triggerRowAdded=function(e){},e.__insertRow=function(e,t){for(var i=0;i<this.columns.length;i++)this.columns[i].insertCell(e,t?t[i]:"");this.triggerRowAdded(e)},e.insertRow=function(e,t){this.__insertRow(e,t);var i=this.id,n=this.list;n.undoRedo.addTransaction({undo:function(){n.getItemById(i).removeRow(e)},redo:function(){n.getItemById(i).insertRow(e,t)}}),this.requestParse()},e.triggerRowRemoved=function(e){},e.removeRow=function(e){var t=[];if(this.columns.length&&!(this.columns[0].cells.length<=2)){for(var i=0;i<this.columns.length;i++)t.push(this.columns[i].cells[e].value),this.columns[i].removeCell(e);this.triggerRowRemoved(e);var n=this.id,r=this.list;r.undoRedo.addTransaction({undo:function(){r.getItemById(n).insertRow(e,t)},redo:function(){r.getItemById(n).removeRow(e)}}),this.requestParse()}},e.eachLatex=function(e){for(var t=0;t<this.columns.length;t++){var i=this.columns[t];e(i.latex);for(var n=0;n<i.cells.length;n++)i.cells[n].value&&e(i.cells[n].value)}},e.getParsableObject=function(){var e=this,t=this.columns.map(function(t){var i=t.serialize();return i.hidden=!t.shouldGraph,i.tableId=e.id,i.values.pop(),i});return t.pop(),{type:"table",id:e.id,columns:t}},e.requestParse=function(){this.list.triggerAddExp(this.getParsableObject())},e.requestUnparse=function(){for(var e=[this.id],t=0;t<this.columns.length;t++)e.push(this.columns[t].id);this.list.triggerRemoveExps(e)},e.onAddedToList=function(){i.onAddedToList.call(this),this.requestParse()},e.onRemovedFromList=function(){i.onRemovedFromList.call(this),this.requestUnparse()},e.requestUnparseColumn=function(e){this.list.triggerRemoveExp(this.columns[e].id)},e.getColumnByIndex=function(e){return this.columns[e]},e.getColumnById=function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].id===e)return this.columns[t];return null},e.getState=function(e){var t=this.columns.map(function(t){var i=t.serialize(e);return i.values.pop(),t.disabled&&(i.values=i.values.map(function(){return""})),i});t.pop();var i={id:this.id,columns:t,type:"table",secret:this.secret};return e&&e.stripDefaults?d.stripDefaults(r,i):i},e.isEmpty=function(){return!1}});return g}),define("expressions/folder",["require","pjs","underscore","lib/default-spec","./abstractitem","lib/deepCopy"],function(e){var t=e("pjs"),i=e("underscore"),n=e("lib/default-spec"),r=e("./abstractitem"),s=e("lib/deepCopy").default,o=t(r,function(e,t,r){function o(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}e.isFolder=!0;var a={collapsed:!1,hidden:!1,secret:!1,title:"",memberIds:{}};r.DEFAULTS=a,e.init=function(e,i){e=n.populateDefaults(a,e),t.init.call(this,e,i),this.memberIds=s(this.memberIds),this.updateCount(),this.observe("selected collapsed",this.updateSelectedHiddenChild.bind(this)),this.observe("title hidden collapsed secret",this.onStateDidChange.bind(this))},e.updateCount=function(){this.setProperty("count",i.size(this.memberIds))},e.getState=function(e){var t={id:this.id,type:"folder",title:this.title,memberIds:o(this.memberIds),hidden:this.hidden,collapsed:this.collapsed,secret:this.secret};return e&&e.stripDefaults?n.stripDefaults(a,t):t},e._addItem=function(e){var t=this.list,i=t.getItemById(e);this.memberIds[e]=!0,i&&i.setProperty("folder",this),this.updateCount()},e._removeItem=function(e){var t=this.list,i=t.getItemById(e);i&&i.setProperty("folder",void 0),this.memberIds.hasOwnProperty(e)&&delete this.memberIds[e],this.updateCount()},e.addItem=function(e){var t=this.list,i=this.id,n=e.id;t.undoRedo.performAndAddTransaction({redo:function(){t.getItemById(i)._addItem(n)},undo:function(){t.getItemById(i)._removeItem(n)}})},e.removeItem=function(e){var t=this.list,i=this.id,n=e.id;t.undoRedo.performAndAddTransaction({redo:function(){t.getItemById(i)._removeItem(n)},undo:function(){t.getItemById(i)._addItem(n)}})},e.updateSelectedHiddenChild=function(){var e=this.list.getSelected();this.collapsed?e&&this.memberIds.hasOwnProperty(e.id)?(this.setProperty("selectedHiddenChild",e),this.setProperty("selected",!0)):e!==this&&this.setProperty("selectedHiddenChild",null):(e===this&&this.selectedHiddenChild&&(this.selectedHiddenChild.needsReflow=!0,this.selectedHiddenChild.setProperty("selected",!0)),this.setProperty("selectedHiddenChild",null))}});return o}),define("lib/named-colors",["require"],function(e){return{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),define("lib/color-distance",["require","underscore","lib/named-colors"],function(e){function t(e){var t=[],r=e.toLowerCase();if("rgb"===r.slice(0,3))try{t=r.replace(/[^\d,]/g,"").split(",").slice(0,3),t=u.map(t,function(e){return parseInt(e,10)})}catch(t){n(e)}else if("#"===r[0]){var s=/^#?([a-f\d])([a-f\d])([a-f\d])$/;r=r.replace(s,function(e,t,i,n){return t+t+i+i+n+n});try{t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/.exec(r).slice(1),t=u.map(t,function(e){return parseInt(e,16)})}catch(t){n(e)}}else t=h[r];return i(t)||n(e),{R:t[0],G:t[1],B:t[2]}}function i(e){return!!u.isArray(e)&&(3===e.length&&u.every(e,function(e){return Number.isInteger(e)&&e>=0&&e<=255}))}function n(e){throw new Error("Invalid color string: "+e)}function r(e){var t=e.R,i=e.G,n=e.B,r=[];return r[0]=.49*t+.31*i+.2*n,r[1]=.17697*t+.8124*i+.01063*n,r[2]=.01*i+.99*n,r=u.map(r,function(e){return e/.17697}),{X:r[0],Y:r[1],Z:r[2]}}function s(e){var t=95.047,i=100,n=108.883,r=e.X,s=e.Y,a=e.Z,l=[];return l[0]=116*o(s/i)-16,l[1]=500*(o(r/t)-o(s/i)),l[2]=200*(o(s/i)-o(a/n)),{L:l[0],a:l[1],b:l[2]}}function o(e){var t=6/29;return e>Math.pow(t,3)?Math.pow(e,1/3):e/(3*t*t)+4/29}function a(e,t){var i=1,n=.045,r=.015,s=1,o=1,a=1,l=e.L,c=e.a,u=e.b,h=t.L,d=t.a,p=t.b,f=l-h,g=Math.sqrt(c*c+u*u),m=Math.sqrt(d*d+p*p),v=g-m,y=c-d,b=u-p,x=Math.sqrt(y*y+b*b-v*v),_=1+n*g,w=1+r*g,S=f/(i*a),E=v/(s*_),k=x/(o*w);return Math.sqrt(S*S+E*E+k*k)}function l(e,i){var n=s(r(t(e))),o=s(r(t(i)));return a(n,o)}function c(e,t){var i=u.map(t,function(t){return l(e,t)}),n=u.min(i);return t[i.indexOf(n)]}var u=e("underscore"),h=e("lib/named-colors");return{str2rgb:t,difference:l,closestColor:c}}),define("expressions/list",["require","pjs","underscore","i18n","underscore_model","./expression","./text","./table","./folder","./image","analytics/bugsnag-stub","lib/number-to-latex","lib/color-distance","lib/deepCopy"],function(e){var t=e("pjs"),i=e("underscore"),n=e("i18n"),r=e("underscore_model"),s=e("./expression"),o=e("./text"),a=e("./table"),l=e("./folder"),c=e("./image"),u=e("analytics/bugsnag-stub"),h=e("lib/number-to-latex"),d=e("lib/color-distance"),p=e("lib/deepCopy").default,f=t(r,function(e,t){function r(e,t){if(t=p(t),!e.columns||!t.columns)return t;for(var i=0;i<t.columns.length;i++){var n=e.columns[i],r=t.columns[i];if(n)for(var s in n)n.hasOwnProperty(s)&&(r.hasOwnProperty(s)||(r[s]=n[s]))}return t}e.init=function(e,i){t.init.call(this),this.__items=[],this.__itemIds={},this.__helperItemIds={},this.__nextItemId=0,this.__imageItems={},this.allImagesLoaded=!0,this.drawOrder=[],this.colorIdx=0,this.colors=i.config.colors,this.expressionAnalysis={},this.setPropertyComparator("selectedItem",function(e,t){return e===t}),this.undoRedo=e,this.graphSettings=i,this.graphSettings.config.observe("administerSecretFolders",this._reindex.bind(this))},e.checkImagesLoaded=function(){var e=i.every(this.__imageItems,function(e){return e.loaded});this.setProperty("allImagesLoaded",e)},e.getNextItemId=function(){var e=this.__nextItemId;return this.__nextItemId+=1,e},e.setNextItemIdFromState=function(e){for(var t=0;t<e.list.length;t++){var i=e.list[t];if(this.notifyIdUsed(i.id),"table"===i.type&&i.columns)for(var n=0;n<i.columns.length;n++)this.notifyIdUsed(i.columns[n].id)}},e.notifyIdUsed=function(e){e=parseInt(e,10),e>=this.__nextItemId&&(this.__nextItemId=e+1)},e.getNextColor=function(){var e=i.values(this.colors),t=e[this.colorIdx];return this.colorIdx=(this.colorIdx+1)%e.length,t},e.tick=function(e){this.setProperty("playTime",e)},e.getItemByIndex=function(e){return this.__items[e]||null},e.getFirstVisibleItem=function(){var e,t;for(t=0;t<this.__items.length;t++)if(e=this.getItemByIndex(t),!this.itemIsHidden(e))return e},e.getLastVisibleItem=function(){var e,t;for(t=this.__items.length-1;t>=0;t--)if(e=this.getItemByIndex(t),!this.itemIsHidden(e))return e},e.itemIsSecret=function(e){return e&&(e.secret||e.folder&&e.folder.secret)},e.itemIsHidden=function(e){var t=!this.graphSettings.config.administerSecretFolders;return e&&(e.folder&&e.folder.collapsed||this.itemIsSecret(e)&&t)},e.getItemsByIndexRange=function(e,t){e=Math.max(0,e),t=Math.min(this.getItemCount()-1,t);for(var i=[],n=e;n<=t;n++)i.push(this.getItemByIndex(n));return i},e.eachLatex=function(e){for(var t=0;t<this.__items.length;t++)this.__items[t].eachLatex(e)},e.findAvailableColumnSubscript=function(){var e=[];this.eachLatex(function(t){if(t.indexOf("~")===-1&&t.indexOf("\\sim")===-1)for(var i=/_(\d)|_\{(?:\s|\\space)*(\d+)(?:\s|\\space)*\}/g;;){var n=i.exec(t);if(!n)break;e.push(parseInt(n[1]||n[2],10))}}),e.sort(function(e,t){return e-t});for(var t=1,i=0;i<e.length;i++)e[i]===t&&t++;return t},e.onChange=function(e){var t,i,r,s=p(this.expressionAnalysis);for(t in e)if(e.hasOwnProperty(t)&&(i=this.getItemById(t),r=e[t],i)){i.setProperty("loading",!1),i.setProperty("formula",r);var o={isGraphable:!!r.is_graphable,isError:!!r.error};r.error&&(o.errorMessage=n.unpack(r.error,this.graphSettings.language)),s[t]=o}this.setProperty("expressionAnalysis",s)},e.onGraphComputed=function(e,t){var i=this.getItemById(e);if(i){var n=function(e){return!e.hasOwnProperty("resolved")||e.resolved},r=!t.every(n);i.setProperty("unresolved",r)}},e.updateDrawOrder=function(){var e=[],t=i.sortBy(this.__itemIds,function(e){return e.index});t=t.concat(i.values(this.__helperItemIds)),i.each(t,function(t){t.hasOwnProperty("columns")?i.each(t.columns,function(t){e.push(t.id)}):e.push(t.id)}),this.setProperty("drawOrder",e)},e.getItemById=function(e){return this.__itemIds[e]||this.__helperItemIds[e]},e._insertItemAt=function(e,t){var i=String(t.id);if(this.__itemIds.hasOwnProperty(i))throw Error("Item with id '"+i+"' is already in list");this.__itemIds[i]=t,this.__items.splice(e,0,t),this._reindex(e-1),t.selected&&this.handleSelectionChange(t),t.isImage&&(this.setProperty("allImagesLoaded",!1),this.__imageItems[t.id]=t,t.observe("loaded.all-loaded"+t.guid,function(){t.loaded&&(this.checkImagesLoaded(),t.unobserve("loaded.all-loaded"+t.guid))}.bind(this))),t.observe("secret.list",this._reindex.bind(this)),t.observe("folder.list",this._reindex.bind(this)),t.onAddedToList()},e.handleSelectionChange=function(e){var t=e.selected;t||this.selectedItem!==e?t&&!this.selectedItem?this.setProperty("selectedItem",e):t&&this.selectedItem!==e&&(this.selectedItem.setProperty("selected",!1),this.setProperty("selectedItem",e)):this.setProperty("selectedItem",null)},e.triggerItemInserted=function(e,t){},e.insertItemAt=function(e,t){this._insertItemAt(e,t),this.triggerItemInserted(e,t);var i=this,n=t.constructor,r=t.getState();i.undoRedo.addTransaction({undo:function(){r=t.getState(),i.removeItemAt(e)},redo:function(){i.insertItemAt(e,new n(r,i))}}),this.updateDrawOrder()},e.addHelperItem=function(e){this.__helperItemIds[e.id]=e,e.onAddedToList(),this.updateDrawOrder()},e.removeHelperItem=function(e){var t=this.__helperItemIds[e];t&&(t.onRemovedFromList(),delete this.__helperItemIds[e])},e.addItem=function(e){var t=this.getLastVisibleItem();if(e.secret||!t||(t.text||t.columns||t.headings)||""!==t.latex)this.insertItemAt(this.getItemCount(),e);else{var i=this;i.undoRedo.oneTransaction(function(){i.removeItemById(t.id),i.insertItemAt(i.getItemCount(),e)})}};var f=["sliderMin","sliderMax","sliderInterval"],g=function(e){return i.any(i.keys(e),function(e){return i.contains(f,e)})};e.updateItemById=function(e,t){var i=this.getItemById(e);if(i.isTable&&t.columns)t=r(i.getState(),t),this.replaceItemAt(i.index,this.fromState(t));else if(g(t)&&!i.slider)f.forEach(function(e){i[e]=t[e]});else for(var n in t)if(t.hasOwnProperty(n))switch(n){case"sliderMin":i.slider.setProperty("hardMin",!1),i.slider.setProperty("min",t.sliderMin),i.slider.setProperty("minLatex",h(t.sliderMin));break;case"sliderMax":i.slider.setProperty("hardMax",!1),i.slider.setProperty("max",t.sliderMax),i.slider.setProperty("maxLatex",h(t.sliderMax));break;case"sliderInterval":i.slider.setProperty("step",t.sliderInterval),i.slider.setProperty("stepLatex",h(t.sliderInterval));break;case"domain":i.domain.setProperty("minLatex",h(t.domain.min)),i.domain.setProperty("maxLatex",h(t.domain.max));break;default:i.setProperty(n,t[n])}this.updateDrawOrder()},e.replaceItemAt=function(e,t){var i=this,n=this.__items[e];this.undoRedo.oneTransaction(function(){i.removeItemAt(e),i.insertItemAt(e,t),n.folder&&n.folder.addItem(t)})},e._removeItemAt=function(e){var t=this.__items[e];if(!t)return void u.notify("BadListIndex","list._removeItemAt called with an inconsistent index",{index:e,actualIndices:this.__items.map(function(e){return e.index})});this.selectedItem===t&&this.setProperty("selectedItem",null);var i=this;if(t.isFolder)for(var n in t.memberIds)i.removeItemAt(i.getItemById(n).index);this.__items.splice(e,1),this._reindex(e-1);var r=String(t.id);return delete this.__itemIds[r],t.isImage&&(delete this.__imageItems[r],t.unobserve("loaded.all-loaded"+t.guid),this.allImagesLoaded||this.checkImagesLoaded()),t.unobserve(".list"),t.onRemovedFromList(),t},e._reindex=function(e){var t,i=!this.graphSettings.config.administerSecretFolders;e&&this.__items[e]&&this.__items[e].displayIndex?t=this.__items[e].displayIndex:(e=0,t=1);for(var n=e;n<this.__items.length;n++){var r=this.__items[n];r.setProperty("index",n),r.setProperty("displayIndex",t),i&&this.itemIsSecret(r)||(t+=1)}this.setProperty("nextDisplayIndex",t)},e._removeAllItems=function(){for(var e=0;e<this.__items.length;e++)this.__items[e].onRemovedFromList();for(var t in this.__helperItemIds)this.__helperItemIds.hasOwnProperty(t)&&this.__helperItemIds[t].onRemovedFromList();this.__items=[],this.__itemIds={},this.__helperItemIds={},this.setProperty("selectedItem",null)},e.triggerItemRemoved=function(e,t){},e.removeItemAt=function(e){var t=this;t.undoRedo.oneTransaction(function(){var i=this._removeItemAt(e);if(i){this.triggerItemRemoved(e,i);var n=i.constructor,r=i.getState();i.folder&&i.folder.removeItem(i),t.undoRedo.addTransaction({undo:function(){var i=new n(r,t);t.insertItemAt(e,i)},redo:function(){t.removeItemAt(e)}})}}.bind(this)),this.updateDrawOrder()},e.removeItemById=function(e){var t=this.getItemById(e);t&&(t.isHelperExpression?this.removeHelperItem(t.id):this.removeItemAt(t.index))},e.triggerItemMoved=function(e,t){},e.moveItemTo=function(e,t){var i=this,n=function(e,t){if(e!==t){var n=i.getItemCount(),r=i.__items[e];e<0||t<0||e>=n||t>=n||(i.__items.splice(e,1),i.__items.splice(t,0,r),i._reindex(Math.min(e,t)-1),i.triggerItemMoved(e,t),i.updateDrawOrder())}};i.undoRedo.performAndAddTransaction({undo:function(){n(t,e)},redo:function(){n(e,t)}})},e.moveItemsTo=function(e,t,i){var n=this;n.undoRedo.oneTransaction(function(){var r;if(!(t>=e&&t<e+i))if(e<t)for(r=0;r<i;r++)n.moveItemTo(e,t);else for(r=0;r<i;r++)n.moveItemTo(e+r,t+r)})},e.getItemCount=function(){return this.__items.length},e.hasNoVisibleExpressions=function(){return 1===this.nextDisplayIndex},e.getAllSliders=function(){for(var e=[],t=0;t<this.__items.length;t++){var i=this.__items[t];i.slider&&e.push(i.slider)}return e},e.getSelected=function(){return this.selectedItem},e.setSelected=function(e){var t=e;if("number"==typeof e&&(t=this.getItemByIndex(e)),t)t.setProperty("selected",!0);else{var i=this.getSelected();i&&i.setProperty("selected",!1)}},e.isEmpty=function(){var e=this.getItemCount();return 0===e||!(e>1)&&""===this.getItemByIndex(0).latex},e.getState=function(e){for(var t=[],i=this.getItemCount(),n=0;n<i;n++)t.push(this.getItemByIndex(n).getState(e));return{list:t}},e.triggerSetState=function(e){},e.setState=function(e,t){t||(t={});var n,r,o=[],a=[];for(this.colorIdx=0,this.setSelected(null),this.setNextItemIdFromState(e),n=0;n<e.list.length;n++){var l=e.list[n];if(r=this.fromState(l),r.renderShell=!0,r){if(r.isFolder&&a.push(r),t.remapColors&&r.color){var c=i.values(this.colors);i.contains(c,r.color)||(r.color=d.closestColor(r.color,c))}o.push(r)}}var u=this;for(u._removeAllItems(),n=0;n<o.length;n++)u._insertItemAt(n,o[n]);if(a.forEach(function(e){for(var t in e.memberIds){var i=u.getItemById(t);i?i.setProperty("folder",e):delete e.memberIds[t]}}),this._reindex(),1===this.nextDisplayIndex){var h=s(void 0,this);this._insertItemAt(this.getItemCount(),h)}this.triggerSetState(o),this.updateDrawOrder()};var m={expression:s,table:a,text:o,folder:l,image:c};for(var v in m)m.hasOwnProperty(v)&&(m[v].prototype.type=v);e.fromState=function(e){return m[e.type](e,this)},e.triggerRemoveExps=function(){},e.triggerRemoveExp=function(){},e.triggerAddExp=function(){},e.triggerRedrawImages=function(){},e.triggerAddImage=function(){},e.triggerRemoveImage=function(){},e.triggerImageError=function(){}});return f}),define("loadcss!expression_top_bar",function(){}),define("loadcss!expressions",function(){}),define("loadcss!expressions.icon",function(){}),define("loadcss!tipsycss",function(){}),define("tipsy",["require","loadcss!tipsycss","jquery"],function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function i(e,t){this.$element=o(e),this.options=t,this.fixTitle()}function n(){return 0!==u}function r(){u--}function s(){u++}e("loadcss!tipsycss");var o=e("jquery"),a=null,l=!1,c=0;o(document).on("dcg-tap",".tipsy-sticky",function(e){if(l)return void(l=!1);var t=e.currentTarget,n=o(t);if(n.attr("tooltip")||(n=n.find("[tooltip]").filter(':not([tooltip=""])')),1===n.length&&"none"!==n.css("display")&&!n.parents().filter(function(){return"none"===o(this).css("display")}).length){var r=o.extend({},o.fn.tipsy.defaults);r.title="tooltip",n.attr("tipsy-dir")?r.gravity=n.attr("tipsy-dir"):r.gravity="nw",a=new i(n[0],r),a.show(),a.opener=t}}),o(document).on("dcg-tapstart keydown",function(e){if(a){a.hide();var t=a.opener;"dcg-tapstart"===e.type&&o(e.target).closest(t).length&&o(document).one("dcg-tapend",function(e){o(e.target).closest(t).length&&(l=!0)}),a=null}}),i.prototype={show:function(){var e=this.getTitle();if(e&&!n()){var i=this.tip(),r=i.find(".tipsy-arrow");this.uuid=c,c++,o(document).on("scroll.tipsy"+this.uuid,this.hide.bind(this)),i.find(".tipsy-inner")[this.options.html?"html":"text"](e),i[0].className="tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var s,a=this.$element[0],l=this.$tip[0],u=a.getBoundingClientRect(),h=l.getBoundingClientRect(),d=h.width,p=h.height,f=t(this.options.gravity,this.$element[0]);switch(f.charAt(0)){case"n":s={top:u.top+u.height+this.options.offset,left:u.left+u.width/2-d/2};break;case"s":s={top:u.top-p-this.options.offset,left:u.left+u.width/2-d/2};break;case"e":s={top:u.top+u.height/2-p/2,left:u.left-d-this.options.offset};break;case"w":s={top:u.top+u.height/2-p/2,left:u.left+u.width+this.options.offset}}2==f.length&&("w"==f.charAt(1)?s.left=u.left+u.width/2-15:s.left=u.left+u.width/2-d+15);var g=0;s.left<0?(g=s.left,s.left=0):s.left+d>window.innerWidth&&(g=s.left+d-window.innerWidth,s.left=window.innerWidth-d),"n"!==f&&"s"!==f||(g-=5);var m=u.width/a.offsetWidth,v=u.height/a.offsetHeight;s.top/=v,s.left/=m,g/=m,r.css("marginLeft",g),i.css(s).addClass("tipsy-"+f),r[0].className="tipsy-arrow tipsy-arrow-"+f.charAt(0),this.options.className&&i.addClass(t(this.options.className,this.$element[0])),this.options.fadeIn?i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity},this.options.fadeIn):i.css({visibility:"visible",opacity:this.options.opacity}),this.options.sticky&&i.addClass("tipsy-sticky");var y=this,b=function(){y.validate(),y.validateTimeout=setTimeout(b,100)};b()}},hide:function(){clearTimeout(this.validateTimeout),o(document).off("scroll.tipsy"+this.uuid),this.options.fadeOut?this.tip().stop().fadeOut(this.options.fadeOut,function(){o(this).remove()}):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,i=this.options;return this.fixTitle(),i=this.options,"string"==typeof i.title?e=t.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(e=i.title.call(t[0])),e&&(e=(""+e).replace(/(^\s*|\s*$)/,"")),e||i.fallback},tip:function(){return this.$tip||(this.$tip=o('<div class="tipsy"><div class="tipsy-arrow"></div><div class="tipsy-inner"></div></div>')),this.$tip},validate:function(){var e=!!this.getTitle(),t=!1;if(e)try{for(var i=this.$element[0];i;){if(i===document){t=!0;break}i=i.parentNode}}catch(e){}t||this.hide()}},o.fn.tipsy=function(e){function t(t){var n=o.data(t,"tipsy");return n||(n=new i(t,o.fn.tipsy.elementOptions(t,e)),o.data(t,"tipsy",n)),n}function n(i){if(("tipsyshow"!==i.type||i.target===this)&&a!==this){var n=t(this);n.hoverState="in",0===e.delayIn?n.show():(n.fixTitle(),setTimeout(function(){"in"==n.hoverState&&n.show()},e.delayIn))}}function r(i){if("tipsyhide"!==i.type||i.target===this){var n=t(this);"dcg-tapstart"===i.type&&n.options.sticky||(n.hoverState="out",0===e.delayOut?n.hide():setTimeout(function(){"out"==n.hoverState&&n.hide()},e.delayOut))}}if(e===!0)return this.data("tipsy");if("string"==typeof e){var s=this.data("tipsy");return s&&s[e](),this}if(e=o.extend({},o.fn.tipsy.defaults,e),e.fadeIn=e.fadeIn||e.fade,e.fadeOut=e.fadeOut||e.fade,e.live||this.each(function(){t(this)}),"manual"!=e.trigger){var l="hover"==e.trigger?"tipsyshow":"focus",c="hover"==e.trigger?"tipsyhide dcg-tapstart dcg-tapend dcg-tapcancel":"blur";if(e.live&&e.delegate)this.on(l,e.delegate,n).on(c,e.delegate,r);else{var u=e.live?"on":"bind";this[u](l,n)[u](c,r)}}return this},o.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fadeIn:!1,fadeOut:!1,fallback:"",gravity:"n",html:!1,live:!0,offset:0,opacity:1,title:"title",trigger:"hover"},o.fn.tipsy.elementOptions=function(e,t){t=o.extend({},t);var i=o(e).attr("tipsy-gravity");i&&(t.gravity=i);var n=parseInt(o(e).attr("tipsy-offset"),10);return isNaN(n)||(t.offset=n),t},o.fn.tipsy.autoNS=function(){return o(this).offset().top>o(document).scrollTop()+o(window).height()/2?"s":"n";
    },o.fn.tipsy.autoWE=function(){return o(this).offset().left>o(document).scrollLeft()+o(window).width()/2?"e":"w"},o.fn.tipsy.autoBounds=function(e,t){return function(){var i={ns:t[0],ew:t.length>1&&t[1]},n=o(document).scrollTop()+e,r=o(document).scrollLeft()+e,s=o(this);return s.offset().top<n&&(i.ns="n"),s.offset().left<r&&(i.ew="w"),o(window).width()+o(document).scrollLeft()-s.offset().left<e&&(i.ew="e"),o(window).height()+o(document).scrollTop()-s.offset().top<e&&(i.ns="s"),i.ns+(i.ew?i.ew:"")}},o(document).tipsy({title:"tooltip",wait:0,live:!0,delegate:".tipsy-sticky",gravity:"nw",sticky:!0,fade:!1});var u=0;return{isDisabled:n,removeDisableLock:r,addDisableLock:s}}),define("underscore_view",["require","jquery","underscore","./underscore_model","pjs","i18n"],function(e){var t=e("jquery"),i=e("underscore"),n=e("./underscore_model"),r=e("pjs"),s=e("i18n"),o=[],a=r(n,function(e,n,r){r.staticTemplate=function(e){var i=t(e)[0];return function(){return i.cloneNode(!0)}},e.$=function(e){var i=t(this.__domNode);return e?i.filter(e).add(i.find(e)):i};var a=function(e){return function(i){var n=0===o.length;if(o.push(this),this.__domNode||l.call(this),t(i)[e](this.$()),n)for(;o.length;)o.pop().didInsertElement();return this.$()}};e.appendTo=a("append"),e.replace=a("replaceWith"),e.prependTo=a("prepend"),e.insertAfter=a("after"),e.insertBefore=a("before"),e.remove=function(){this.$().remove(),this.destruct()},e.destruct=function(){},e.didCreateElement=function(){},e.didInsertElement=function(){},e.getTemplateParams=function(){return{}},e.beforeRerender=function(){},e.afterRerender=function(){},e.rerender=function(){var e=this.getTemplateParams();if(!i.isEqual(e,this.__lastRenderParams)){var t=this.__domNode;this.beforeRerender(),l.call(this),this.replace(t),this.afterRerender()}},e.setDomNode=function(e){this.__domNode=e[0]?e[0]:e,this.didInsertElement()};var l=function(){var e=this.getTemplateParams(),n=i.extend({},e);n.t||(n.t=s.t.bind(s));var r,o=this.template(n);if(r=t("string"==typeof o?t.parseHTML(o.trim()):o),1!==r.length)throw new Error("Template Error: template must return exactly one DOM node.");this.__domNode=r[0],this.__lastRenderParams=e,this.didCreateElement()}});return a}),define("expressions/dragdrop",["require","jquery","pjs","tipsy","jquery.handleevent"],function(e){var t=e("jquery"),i=e("pjs"),n=e("tipsy");e("jquery.handleevent");var r=i(function(e){e.toggleStyling=function(e){},e.onDragStart=function(e,t){},e.onDragStop=function(e){},e.commitDragState=function(e){},e.updateScroll=function(){},e.computeDragPosition=function(e,t){return{x:e,y:t}},e.computeDragState=function(e,t){return{}},e.previewDragState=function(e){},e.buildDragList=function(){},e.init=function(e){this.expressionsView=e,this.active=!1},e.start=function(e,t){1===e.touches.length&&(e.wasHandled("dcg-longhold")||(this.active=!0,this.exppanel=this.expressionsView.$(".dcg-exppanel"),this.setupEventListeners(e),this.onDragStart(e,t),this.dragList=this.buildDragList(),this.toggleStyling(!0),this.drag(e.touches[0].x,e.touches[0].y),n.addDisableLock()))},e.setupEventListeners=function(e){function i(e){for(var t=0;t<e.touches.length;t++){var i=e.touches[t];if(i.identifier===n)return i}}var n=e.touches[0].identifier,r=this;t(document).on("dcg-tapmove.dragdrop",function(e){var t=i(e);t&&r.drag(t.x,t.y)}),t(document).on("dcg-tapend.dragdrop",function(e){var t=i(e);t||(r.stop(),e.handle("dragdrop"))}),this.exppanel.on("scroll.dragdrop",this.drag.bind(this))},e.stop=function(e){this.active=!1,t(document).off(".dragdrop"),this.commitDragState(this.dragState),this.toggleStyling(!1),this.onDragStop(e),n.removeDisableLock()},e.drag=function(e,t){if(this.active){"number"==typeof e&&(this.mouseX=e),"number"==typeof t&&(this.mouseY=t);var i=this;setTimeout(function(){i.updateScroll()},1);var n=this.computeDragPosition(this.mouseX,this.mouseY);this.dragState=this.computeDragState(this.dragList,n),this.previewDragState(this.dragState)}}});return r}),define("expressions/dragdrop_expressions",["require","underscore","browser","pjs","./dragdrop","conditional_blur"],function(e){var t=e("underscore"),i=e("browser"),n=e("pjs"),r=e("./dragdrop"),s=e("conditional_blur"),o=n(r,function(e,n){e.toggleStyling=function(e){this.exppanel.toggleClass("dcg-isDragging",e),this.draggedView.$().toggleClass("dcg-dragging",e),e||(this.draggedView.$().removeClass("dcg-overFolder"),this.expressionsView.$(".dcg-expressionitem").css("transform","none"))},e.onDragStart=function(e,i){this.expressionsView.model.setSelected(null),this.exppanel=this.expressionsView.$(".dcg-exppanel"),s(),e.preventDefault(),this.draggedView=i,this.draggedViewHeight=i.$().outerHeight()-1,this.panelTop=this.exppanel.offset().top,this.panelHeight=this.exppanel.height(),this.expressionListHeight=this.exppanel.find(".dcg-expressionlist").height(),this.panelBottom=this.panelTop+this.panelHeight,this.grabOffset=i.$().offset().top-e.touches[0].y,this.grabY=this.computeDragPosition(e.touches[0].x,e.touches[0].y).y,this.grabIndex=i.model.index,this.draggedViewCount=1,i.model.isFolder&&(this.draggedViewCount+=t.size(i.model.memberIds),this.dropCollapsed=i.model.collapsed,i.model.setProperty("collapsed",!0))},e.onDragStop=function(e){clearTimeout(this.scrollTimeout),this.expressionsView.model.setSelected(this.draggedView.model)},e.buildDragList=function(){var e=this,i=this.expressionsView.model.getItemsByIndexRange(0,1/0);this.expressionsView.graphSettings.config.administerSecretFolders||(i=t.filter(i,function(e){return!this.expressionsView.model.itemIsSecret(e)}.bind(this)));var n=[{y:-(1/0),index:0,folder:void 0}],r=[{y:1/0,index:0,folder:void 0}];return i.forEach(function(t){if(t.id!==e.draggedView.model.id&&!(t.folder&&t.folder.collapsed||t.folder&&e.draggedView.model.isFolder)){var i=e.expressionsView.getItemView(t.id),s=t.index>e.grabIndex,o=i.$();if(t.isFolder&&(t.collapsed||e.draggedView.model.isFolder))for(var a in t.memberIds)o.push(e.expressionsView.getItemView(a).$()[0]);var l,c,u=s?-e.draggedViewHeight:0,h=i.$().height(),d=i.$().position().top+u,p=s?-1:0,f=t.index+p,g=f+o.length;e.draggedView.model.isFolder||(l=t.folder,c=t.isFolder?t:t.folder),n.push({y:d,index:f,folder:l}),n.push({y:d+h/2,index:g,folder:c,elements:o,offset:u}),r={y:d+h,index:g,folder:void 0}}}),n.push(r),n},e.updateScroll=function(){if(clearTimeout(this.scrollTimeout),this.active){var e=0;e=Math.min(e,this.mouseY-this.panelTop),e=Math.max(e,this.mouseY-this.panelBottom+30),e=e*this.panelHeight/900,e&&this.exppanel.scrollTop(this.exppanel.scrollTop()+e)}},e.computeDragPosition=function(e,t){return t=Math.max(t,Math.min(t,this.panelBottom),this.panelTop),t-=this.panelTop,t+=this.grabOffset,t+=this.exppanel.scrollTop(),t+this.draggedViewHeight>=this.expressionListHeight&&(t=this.expressionListHeight-this.draggedViewHeight),{x:NaN,y:t}},e.computeDragState=function(e,i){function n(e){return e.y}var r=t.sortedIndex(e,{y:i.y},n)-1;return{list:e,index:e[r].index,folder:e[r].folder,dragY:i.y}},e.commitDragState=function(e){var t=this,i=this.expressionsView.model;i.undoRedo.oneTransaction(function(){var n=t.draggedView.model;i.moveItemsTo(t.grabIndex,e.index,t.draggedViewCount);var r=e.folder,s=n.folder;r!==s&&(s&&s.removeItem(n),r&&r.addItem(n)),n.isFolder&&n.setProperty("collapsed",t.dropCollapsed)})},e.previewDragState=function(e){var n=this;this.draggedView.$().css("transform",i.translateRule(0,e.dragY-this.grabY)),this.draggedView.$().toggleClass("dcg-overFolder",!!e.folder),t.each(e.list,function(t){if(t.elements){var r=t.offset+(t.index>e.index?n.draggedViewHeight:0);t.elements.css("transform",i.translateRule(0,r))}})}});return o}),define("loadcss!add_expression",function(){}),define("loadcss!popovers",function(){}),define("main/popover_view",["require","jquery","pjs","underscore_view","conditional_blur","loadcss!popovers"],function(e){var t=e("jquery"),i=e("pjs"),n=e("underscore_view"),r=e("conditional_blur");e("loadcss!popovers");var s=i(n,function(e,i){e.init=function(){i.init.call(this),this.isVisible=!1,this.observe("isVisible",function(){this.renderIsVisible()}.bind(this))},e.destruct=function(){t(document).off(".popover-"+this.guid),this.openButton&&this.openButton.off("."+this.guid)},e.setPointTo=function(e){this.pointTo=e},e.alignArrow=function(){if(this.isVisible){if("left"===this.direction||"right"===this.direction)return void(this.$(".dcg-arrow")[0].style.left=null);var e=this.$();if(this.pointTo.length&&e.length){var t=this.pointTo.offset().left+.5*this.pointTo.width()-e.offset().left;this.$(".dcg-arrow").css("left",t)}}},e.setupOpenButton=function(e,t){this.openButton=e,this.openButton.on(t+"."+this.guid,this.onBtnPressed.bind(this))},e.didInsertElement=function(){this.renderIsVisible()},e.renderIsVisible=function(){this.$().toggle(this.isVisible),this.openButton&&this.openButton.toggleClass("dcg-active",this.isVisible).attr("aria-expanded",this.isVisible),this.pointTo&&this.alignArrow(),this.isVisible?t(document).on("dcg-tapstart.popover-"+this.guid,function(e){this.setProperty("isVisible",!this.eventShouldClosePopover(e))}.bind(this)):t(document).off("dcg-tapstart.popover-"+this.guid)},e.eventShouldClosePopover=function(e){return!this.eventIsWithinPopover(e)},e.eventIsWithinPopover=function(e){var i=t(e.target);return i.closest(this.$()).length||i.closest(this.openButton).length},e.onBtnPressed=function(e,i){var n=i||e.device;"keyboard"!==n&&r();var s=t(e.target);if(!s.closest(".dcg-popover").length)return s.closest(this.openButton).length?(this.togglePopover(),void("keyboard"===n&&(this.isVisible?this.focusFirstElement():this.openButton.focus()))):void 0},e.focusFirstElement=function(){var e=this.$().find(".dcg-selected, a, span[tabindex], div[tabindex]").first();e&&e.focus()},e.togglePopover=function(){this.setProperty("isVisible",!this.isVisible)},e.closePopover=function(){this.setProperty("isVisible",!1)}});return s}),define("template",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("template!add_expression",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<div class=\"dcg-add-expression-dropdown dcg-popover dcg-bottom\" role='complementary' aria-label='Add Item Menu'>\n  <div class=\"dcg-popover-interior\">\n     ",expressions&&(__p+="\n     <div class='dcg-new-item dcg-do-not-blur dcg-action-newexpression' role='button' tabindex=0 aria-label='Add Expression'>\n        <i class='dcg-icon-new-expression dcg-expression-icon'></i>\n        "+(null==(__t=t("expression"))?"":_.escape(__t))+"\n     </div>\n     "),__p+="\n\n     ",notes&&(__p+="\n     <div class='dcg-new-item dcg-do-not-blur dcg-action-newtext' role='button' tabindex=0 aria-label='Add Note'>\n       <i class='dcg-icon-new-text dcg-expression-icon'></i>\n       "+(null==(__t=t("note"))?"":_.escape(__t))+"\n     </div>\n     "),__p+="\n\n     ",tables&&(__p+="\n     <div class='dcg-new-item dcg-do-not-blur dcg-action-newtable' role='button' tabindex=0 aria-label='Add Table'>\n       <i class='dcg-icon-new-table dcg-expression-icon'></i>\n       "+(null==(__t=t("table"))?"":_.escape(__t))+"\n     </div>\n     "),__p+="\n\n     ",folders&&(__p+="\n     <div class='dcg-new-item dcg-do-not-blur dcg-action-newfolder' role='button' tabindex=0 aria-label='Add Folder'>\n       <i class='dcg-icon-new-folder dcg-expression-icon'></i>\n       "+(null==(__t=t("folder"))?"":_.escape(__t))+"\n     </div>\n     "),__p+="\n\n     ",images&&(__p+="\n     <div class='dcg-new-item dcg-do-not-blur dcg-action-newimage' role='button' tabindex=0 aria-label='Add Image'>\n       <i class='dcg-icon-new-image dcg-expression-icon'></i>\n       "+(null==(__t=t("image"))?"":_.escape(__t))+"\n\n       ",__p+='\n       <input type="file" accept="image/*" style="display: none" />\n     </div>\n     '),__p+='\n\n   </div>\n\n   <span class="dcg-arrow"></span>\n</div>\n';return __p}}),define("conditional_focus",["require","jquery","browser"],function(e){var t=e("jquery"),i=e("browser");return i.SHOULD_NOT_AUTOFOCUS?function(){return!1}:function(e){return t(e).focus(),!0}}),define("expressions/add_expression",["require","loadcss!add_expression","jquery","pjs","main/popover_view","graphing/label","template!add_expression","./expression","./table","./text","./folder","./image","browser","i18n","conditional_blur","conditional_focus","keys"],function(e){e("loadcss!add_expression");var t=e("jquery"),i=e("pjs"),n=e("main/popover_view"),r=e("graphing/label"),s=e("template!add_expression"),o=e("./expression"),a=e("./table"),l=e("./text"),c=e("./folder"),u=e("./image"),h=e("browser"),d=e("i18n"),p=e("conditional_blur"),f=e("conditional_focus"),g=e("keys"),m=!!window.FileReader,v=h.IS_IPAD&&h.IOS_VERSION&&8===h.IOS_VERSION[0]&&0===h.IOS_VERSION[1]&&0===h.IOS_VERSION[2],y=i(n,function(e,i){function n(e,t){for(var i=[],n=Math.min(t.length,y.length),s=0;s<n;s++)i.push({latex:r.identifierToLatex(y[s]+"_"+e),values:t[s]});return i}e.template=s,e.direction="bottom",e.init=function(e,t,n,r){i.init.call(this),this.$root=t,this.listView=e,this.list=e.model,this.graphSettings=n,this.toastView=r},e.destruct=function(){t(document).off("."+this.guid)},e.t=function(e,t){return d.t(e,t,this.graphSettings.language)},e.getTemplateParams=function(){var e=this,t=i.getTemplateParams();return t.expressions=!0,t.notes=this.graphSettings.config.notes,t.tables=!0,t.folders=this.graphSettings.config.folders,t.images=this.graphSettings.config.images,t.t=function(t,i){return d.t(t,i,e.graphSettings.language)},t},e.didCreateElement=function(){function e(){r.removeClass("dcg-filedraggedover"),s=t(),r.off(".filedraggedover")}i.didCreateElement.call(this),h.IS_IPAD&&h.IS_IN_IFRAME&&this.$().on("dcg-tapstart",function(e){e.preventDefault()}),this.$(".dcg-new-item").on("touchstart",function(e){e.preventDefault()}),this.$(".dcg-action-newexpression").on("dcg-tap",this.newExpression.bind(this)),this.$(".dcg-action-newtext").on("dcg-tap",this.newText.bind(this)),this.$(".dcg-action-newfolder").on("dcg-tap",this.newFolder.bind(this)),this.$(".dcg-action-newtable").on("dcg-tap",this.newTableFromTap.bind(this)),this.$(".dcg-action-newimage").on("dcg-tap",this.selectImage.bind(this)),m&&!v&&this.initFilePicker();var n="drag dragend dragenter dragover dragleave drop".split(" ").map(function(e){return e+"."+this.guid}.bind(this)).join(" ");t(document).on(n,function(e){e.preventDefault(),e.stopPropagation()});var r=this.$root,s=t(),o=this;r.on("dragenter",function(t){o.graphSettings.config.images&&(0===s.size()&&(r.addClass("dcg-filedraggedover"),r.on("dcg-tapstart.filedraggedover",e)),s=s.add(t.target))}).on("dragleave",function(t){s=s.not(t.target),0===s.size()&&e()}).on("drop",e),this.listView.$().on("drop",function(e){if(o.graphSettings.config.images){var t=e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.files;if(t)for(var i=0;i<t.length;i++)o.insertFile(t[i])}})},e.insertFile=function(e){if(!e)return void alert(this.t("You did not select a file"));if(!e.type.match("image/*"))return void alert(this.t('The file "__file__" is not an image',{file:e.name}));var t=u({originalFilename:e.name,name:e.name,image_url:null,visible:!0,selected:!0,width:"0",height:"0",x:"0",y:"0",opacity:1,isUploading:!0},this.list,{shouldComputeDimensions:!0});this.newImage(t),this.graphSettings.config.imageUploadCallback(e,function(e,i){this.list.undoRedo.silent(function(){e?t.onLoadImageError():(t.setProperty("image_url",i),t.setProperty("isUploading",!1))})}.bind(this))},e.renderIsVisible=function(){this.$addExp=t(".dcg-action-add-expression:first"),this.$addExp.attr("aria-expanded",!!this.isVisible),this.isVisible?(this.$addExp.on("keydown",this.handleKeydown.bind(this)),this.$().on("keydown",this.handleKeydown.bind(this)),"bottom"===this.direction&&this.listView.calcIsNarrow?(this.direction="right",this.$().addClass("dcg-right").removeClass("dcg-bottom")):"bottom"===this.direction||this.listView.calcIsNarrow||(this.direction="bottom",this.$().addClass("dcg-bottom").removeClass("dcg-right"))):(this.$addExp.off("keydown"),this.$().off("keydown")),i.renderIsVisible.call(this)},e.handleKeydown=function(e){if(g.lookup(e)===g.TAB){var i;e.shiftKey?this.$(".dcg-new-item:first").is(":focus")?(e.preventDefault(),i=this.$addExp,f(i)):this.$addExp.is(":focus")&&(e.preventDefault(),i=t(".dcg-new-item:last"),f(i)):e.shiftKey||(this.$(".dcg-new-item:last").is(":focus")?(e.preventDefault(),i=this.$addExp,f(i)):this.$addExp.is(":focus")&&(e.preventDefault(),i=t(".dcg-new-item:first"),f(i)))}},e.initFilePicker=function(){var e=this;this.$filepicker=this.$("input[type=file]"),this.$filepicker.on("change",function(t){e.setProperty("isVisible",!1),e.insertFile(t.target.files[0]),e.$filepicker.val("")})},e.newExpression=function(){this.insertItem(o({selected:!0,latex:""},this.list))},e.newText=function(){this.insertItem(l({selected:!0,text:""},this.list))},e.newFolder=function(){this.insertItem(c({selected:!0},this.list))},e.newTableFromTap=function(e){this.newTable()};var y=["x","y","z","u","v","w"];e.newTable=function(e){var t={selected:!e,latex:""},i=this.list.findAvailableColumnSubscript(),r=[[""],[""]];t.columns=n(i,e||r);var s=a(t,this.list);this.insertItem(s),e||this.listView.getSelectedView().addFocus("cell",1,0)},e.selectImage=function(){p(),v?(this.toastView.show("iOS 8.0 has temporarily broken image upload. So sorry!",{hideAfter:1e4}),this.$(".dcg-action-newimage").addClass("dcg-disabled")):m?this.$filepicker[0].click():(this.toastView.show(this.t("Image upload is not supported in this browser."),{hideAfter:1e4}),this.$(".dcg-action-newimage").addClass("dcg-disabled"))},e.newImage=function(e){var t=this,i=this.list;i.undoRedo.oneTransaction(function(){t.insertItem(e)})},e.insertItem=function(e){this.setProperty("isVisible",!1);var t=this.list,i=t.getSelected();if(i&&i.isExpression&&!i.latex&&!i.folder&&!e.isExpression)return t.undoRedo.oneTransaction(function(){t.insertItemAt(i.index+1,e),t.removeItemAt(i.index)}),void(e.selected&&this.listView.getSelectedView().addFocus());if(i&&i.isExpression&&!i.latex&&i.folder&&!e.isExpression&&!e.isFolder)return t.undoRedo.oneTransaction(function(){t.insertItemAt(i.index+1,e),i.folder.addItem(e),t.removeItemAt(i.index)}),void(e.selected&&this.listView.getSelectedView().addFocus());if(i&&!i.folder&&!i.isFolder)return this.list.insertItemAt(i.index+1,e),void(e.selected&&this.listView.getSelectedView().addFocus());if(i&&i.folder&&!e.isFolder)return t.undoRedo.oneTransaction(function(){t.insertItemAt(i.index+1,e),i.folder.addItem(e)}),void(e.selected&&this.listView.getSelectedView().addFocus());if(i&&i.isFolder&&!i.collapsed&&!e.isFolder)return t.undoRedo.oneTransaction(function(){t.insertItemAt(i.index+1,e),i.addItem(e)}),void(e.selected&&this.listView.getSelectedView().addFocus());for(i||(i=this.listView.getFirstVisibleItem()),i.isFolder&&(i=this.list.getItemByIndex(i.index+1));i&&i.folder;)i=this.list.getItemByIndex(i.index+1);var n=i?i.index:this.list.getItemCount();this.list.insertItemAt(n,e),e.selected&&this.listView.getSelectedView().addFocus()}});return y}),define("scroll_helpers",["require"],function(e){var t=function(e,t,i){var n,r=t.height(),s=e.height(),o=t[0].scrollTop,a=e.offset().top+o-t.offset().top,l=a-i,c=s+a+i-r;return n=l>=c?Math.min(Math.max(o,c),l):.5*(l+c),n!==o&&(t[0].scrollTop=n,t[0].scrollTop!=o)};return{scrollVisible:t}}),define("loadcss!new_expression",function(){}),define("template!new_expression",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<div class=\"dcg-expressionitem dcg-new-expression dcg-opened\">\n  <div class='dcg-new-math-div dcg-do-not-blur dcg-action-newmath'>\n    <div class='dcg-new-expression-fade'></div>\n  </div>\n\n  <span\n     class=\"dcg-tab\"\n  >\n     <span class='dcg-num dcg-variable-index'>2</span>\n     <div class='dcg-tab-interior'></div>\n  </span>\n\n</div>\n";return __p}}),define("expressions/new_expression",["require","loadcss!new_expression","pjs","underscore_view","template!new_expression","./expression"],function(e){e("loadcss!new_expression");var t=e("pjs"),i=e("underscore_view"),n=e("template!new_expression"),r=e("./expression"),s=t(i,function(e,t){e.template=n,e.init=function(e){t.init.call(this),this.listView=e},e.didInsertElement=function(){this.listView.model.observe("nextDisplayIndex",this.updateIndex.bind(this)),this.updateIndex(),this.$(".dcg-action-newmath").on("dcg-tap",this.newMath.bind(this))},e.updateIndex=function(){this.$(".dcg-variable-index").text(this.listView.model.nextDisplayIndex)},e.newMath=function(){var e=r,t={selected:!0,latex:""},i=e(t,this.listView.model);this.listView.model.insertItemAt(this.listView.model.getItemCount(),i),this.listView.getSelectedView().addFocus()}});return s}),define("expressions/abstract_icon",["require","jquery","underscore_view","pjs","keys","i18n"],function(e){var t=e("jquery"),i=e("underscore_view"),n=e("pjs"),r=e("keys"),s=e("i18n"),o=0,a=n(i,function(e,i){e.init=function(e){this.parentView=e,this.model=e.model,i.init.call(this),this.optionsmenu_guid=++o,this.model.observe("error.iconview",this.renderErrorTooltip.bind(this)),this.observe("error",this.renderErrorTooltip.bind(this)),this.observe("error errorStable",this.computeErrorShown.bind(this)),this.observe("errorShown",this.renderErrorShown.bind(this))},e.destruct=function(){this.model.unobserve(".iconview")},e.computeErrorShown=function(){this.setProperty("errorShown",this.error&&this.errorStable)},e.renderErrorTooltip=function(){var e=this.parentView&&this.parentView.graphSettings?this.parentView.graphSettings:this.listView.graphSettings,t=this.error?s.unpack(this.model.error,e.language):"";this.$().closest(".dcg-variable-errortooltip").attr("tooltip",t)},e.renderErrorShown=function(){this.$().toggleClass("dcg-error",!!this.errorShown)},e.didInsertElement=function(){this.renderErrorShown(),this.renderErrorTooltip()},e.createOptionsMenuView=function(){},e.toggleOptions=function(){if(this.error)return void this.hideOptions();if(this.optionsShown)return void this.hideOptions();this.optionsShown=!0,this.optionsMenu=this.createOptionsMenuView();var e=this.optionsmenu_guid;setTimeout(function(){this.optionsShown&&this.getListView$().on("scroll.options-menu-"+e,function(e){this.hideOptions()}.bind(this))}.bind(this),0),t(document).on("keydown.options-menu-"+e,function(e){r.lookup(e)===r.ESCAPE&&this.hideOptions()}.bind(this)),t(document).on("dcg-tapstart.options-menu-"+e,function(e){t(e.target).closest(".dcg-options-menu").length||t(e.target).closest(this.$()).length||this.hideOptions()}.bind(this))},e.getListView$=function(){return this.$().closest(".dcg-tap-container").find(".dcg-exppanel")},e.hideOptions=function(){if(this.optionsShown||this.optionsMenu){this.optionsShown=!1;var e=this.optionsmenu_guid;t(document).off("dcg-tapstart.options-menu-"+e),t(document).off("keydown.options-menu-"+e),this.getListView$().off("scroll.options-menu-"+e),this.optionsMenu&&(this.optionsMenu.remove(),this.optionsMenu=null)}},e.onDisplayChange=function(){var e=!!this.model.error;this.model.isEmpty()&&(e=!1),e!==this.error?(this.setProperty("errorStable",!1),this.__errorTime=(new Date).getTime(),setTimeout(this.onDisplayChange.bind(this),100)):this.__errorTime+500<(new Date).getTime()?this.setProperty("errorStable",!0):this.errorStable||setTimeout(this.onDisplayChange.bind(this),100),this.setProperty("error",e)}});return a}),define("template!expression_options_menu",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<div class='dcg-exp-options-menu dcg-options-menu ",0===styles.length&&(__p+="dcg-colors-only"),__p+=" ",0!==dragModes.length&&(__p+="dcg-with-drag"),__p+="'>\n  <div class='dcg-triangle'></div>\n  ",styles.length>0&&(__p+="\n    <div class='dcg-styles-div'>\n      <div class='dcg-styles-menu'>\n        <div class='dcg-title'>"+(null==(__t=t("style:"))?"":_.escape(__t))+"</div>\n        <div class='dcg-styles-menu'>\n        ",_.each(styles,function(e){__p+='\n          <span class="dcg-style-option dcg-variable-colorcss dcg-graph-icon dcg-graph-'+(null==(__t=e)?"":_.escape(__t))+'"\n            draw-style="'+(null==(__t=e)?"":_.escape(__t))+'"\n            style=""\n            handleevent="true">\n          </span>\n        '}),__p+="\n        </div>\n      </div>\n    </div>\n  "),__p+="\n  ",dragModes.length>0&&(__p+="\n    <div class='dcg-drag-div'>\n      <div class='dcg-drag-menu'>\n        <div class='dcg-title'>"+(null==(__t=t("drag:"))?"":_.escape(__t))+"</div>\n        <div class='dcg-drag-menu'>\n        ",_.each(dragModes,function(e){__p+="\n          <span class='dcg-dragmode-option dcg-graph-icon dcg-variable-colorcss ",e.enabled||(__p+=" dcg-disabled "),__p+="' mode=\""+(null==(__t=e.dragMode)?"":_.escape(__t))+'"></span>\n          </span>\n        '}),__p+="\n        </div>\n      </div>\n    </div>\n  "),__p+="\n  <div class='dcg-colors-div'>\n    <div class='dcg-title'>"+(null==(__t=t("color:"))?"":_.escape(__t))+'</div>\n    <div class="template-colorsview"></div>\n  </div>\n</div>\n';return __p}}),define("loadcss!color_menu",function(){}),define("template!color_menu",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<div class=\"dcg-color-menu dcg-do-not-blur\" role='complementary' aria-label='Color Menu'>\n  ",_.each(colors,function(e){__p+='\n    <span class="dcg-color-option"\n          color="'+(null==(__t=e)?"":_.escape(__t))+'"\n          style="background: '+(null==(__t=e)?"":_.escape(__t))+"\"\n          handleevent=\"true\"\n          role='button' tabindex=0 aria-label='"+(null==(__t=e)?"":_.escape(__t))+"'>\n          <i class='dcg-icon-check'></i>\n    </span>\n  "}),__p+="\n</div>\n";return __p}}),define("expressions/color_menu_view",["require","loadcss!color_menu","jquery","underscore","pjs","underscore_view","template!color_menu"],function(e){e("loadcss!color_menu");var t=e("jquery"),i=e("underscore"),n=e("pjs"),r=e("underscore_view"),s=e("template!color_menu"),o=n(r,function(e,n){e.template=s,e.init=function(e){n.init.call(this),this.expression=e,this.expression.observe("color.colorview",this.renderSelectedColor.bind(this)),this.expression.observe("hidden.colorview",this.renderSelectedColor.bind(this))},e.destruct=function(){this.expression.unobserve(".colorview")},e.renderSelectedColor=function(){var e=this.expression.color;this.$(".dcg-color-option").removeClass("dcg-selected"),this.$('.dcg-color-option[color="'+e+'"]').addClass("dcg-selected")},e.didInsertElement=function(){this.$().on("dcg-tap",".dcg-color-option",this.onSelectColor.bind(this)),this.renderSelectedColor()},e.getTemplateParams=function(){return{colors:i.values(this.expression.list.colors)}},e.onSelectColor=function(e){var i=t(e.target).closest(".dcg-color-option").attr("color");this.expression.setProperty("color",i),this.expression.setProperty("hidden",!1),this.expression.folder&&this.expression.folder.setProperty("hidden",!1)}});return o}),define("expressions/expression_options_view",["require","pjs","jquery","underscore","underscore_view","template!expression_options_menu","./color_menu_view","graphing/dragmode","expressions/styles","i18n"],function(e){var t=e("pjs"),i=e("jquery"),n=e("underscore"),r=e("underscore_view"),s=e("template!expression_options_menu"),o=e("./color_menu_view"),a=e("graphing/dragmode"),l=e("expressions/styles"),c=e("i18n"),u=t(r,function(e,t){function r(e,t){switch(e){case a.X:return"none"!==t[0].type;case a.Y:return"none"!==t[1].type;case a.XY:return"none"!==t[0].type&&"none"!==t[1].type}}e.template=s,e.init=function(e){this.expression=e},e.destruct=function(){this.colorsView&&(this.colorsView.remove(),this.colorsView=null)},e.getTemplateParams=function(){var e=n.values(this.expression.list.colors),t={colors:e,styles:[],dragModes:[]},i=this.expression.formula;return i.move_strategy&&(t.dragModes=[{dragMode:a.X,enabled:r(a.X,i.move_strategy)},{dragMode:a.Y,enabled:r(a.Y,i.move_strategy)},{dragMode:a.XY,enabled:r(a.XY,i.move_strategy)}]),i.is_point_list?t.styles=[l.POINT,l.OPEN,l.CROSS]:this.expression.table||i.is_inequality||(t.styles=[l.SOLID,l.DASHED,l.DOTTED]),t.t=function(e,t){return c.t(e,t,this.expression.graphSettings.language)}.bind(this),t},e.renderSelectedColor=function(){var e="#bbb",t=this.expression.color;this.$(".dcg-variable-colorcss").css("border-color",t),this.$(".dcg-variable-colorcss").css("background",t),this.$(".dcg-variable-colorcss.dcg-disabled").css("border-color",e),this.$(".dcg-variable-colorcss.dcg-disabled").css("background",e)},e.renderSelectedDragMode=function(){this.$(".dcg-dragmode-option").removeClass("dcg-selected");var e=this.expression.reconciledDragMode;this.$('.dcg-dragmode-option[mode="'+e+'"]').addClass("dcg-selected")},e.onSelectStyle=function(e){var t=i(e.target).closest(".dcg-style-option").attr("draw-style");this.expression.setProperty("hidden",!1),this.expression.setProperty("style",t),t!==l.POINT&&this.expression.setProperty("dragMode",a.NONE),this.expression.folder&&this.expression.folder.setProperty("hidden",!1)},e.onSelectDragMode=function(e){var t=i(e.target).closest(".dcg-dragmode-option").attr("mode");r(t,this.expression.formula.move_strategy)&&(this.expression.setProperty("hidden",!1),t===this.expression.reconciledDragMode?this.expression.setProperty("dragMode",a.NONE):(this.expression.setProperty("dragMode",t),this.expression.setProperty("style",l.POINT)))},e.renderSelectedStyle=function(){var e=this.expression.style;this.$(".dcg-style-option").removeClass("dcg-selected"),this.expression.shouldGraph&&this.$('.dcg-style-option[draw-style="'+e+'"]').addClass("dcg-selected")},e.didCreateElement=function(){this.colorsView=o(this.expression),this.colorsView.replace(this.$(".template-colorsview")),this.$().on("dcg-tap",".dcg-style-option",this.onSelectStyle.bind(this)),this.$().on("dcg-tap",".dcg-dragmode-option",this.onSelectDragMode.bind(this)),this.expression.observeAndSync("color.colorview",this.renderSelectedColor.bind(this)),this.expression.observeAndSync("reconciledDragMode.colorview",this.renderSelectedDragMode.bind(this)),this.expression.observeAndSync("hidden style shouldGraph",this.renderSelectedStyle.bind(this))}});return u}),define("template!expression_icon",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<span role="button" aria-label="'+(null==(__t=t("Play Animation"))?"":_.escape(__t))+"\" aria-hidden=\"true\" class=\"dcg-icon dcg-graph-icon dcg-variable-colorcss dcg-variable-errortooltip tipsy-sticky\">\n\t<i class='dcg-icon-play'></i>\n\t<i class='dcg-icon-pause'></i>\n\t<i class='dcg-icon-hidden'></i>\n</span>\n";return __p}}),define("expressions/expression_icon_view",["require","pjs","expressions/abstract_icon","lib/aria","./expression_options_view","math/comparators","graphing/dragmode","expressions/styles","i18n","template!expression_icon","jquery.handleevent"],function(e){var t=e("pjs"),i=e("expressions/abstract_icon"),n=e("lib/aria"),r=e("./expression_options_view"),s=e("math/comparators"),o=e("graphing/dragmode"),a=e("expressions/styles"),l=e("i18n"),c=e("template!expression_icon");e("jquery.handleevent");var u=t(i,function(e,t){e.template=c,e.init=function(e){t.init.call(this,e),this.expression=this.model,this.expression.observeAndSync("slider.iconview",function(){this.expression.slider&&this.expression.slider.observe("isPlaying.iconview",this.onDisplayChange.bind(this))}.bind(this)),this.expression.observe("formula.iconview shouldGraph.iconview style.iconview dragMode.iconview",this.onDisplayChange.bind(this)),this.expression.observe("isGraphable.iconview",this.renderUngraphable.bind(this)),
    this.expression.observe("loading.iconview",this.renderLoading.bind(this)),this.expression.observe("color.iconview",this.renderColorCSS.bind(this)),this.parentView.observeEvent("hideContextMenu.iconview",this.hideOptions.bind(this))},e.t=function(e,t){return l.t(e,t,this.parentView.graphSettings.language)},e.destruct=function(){t.destruct.call(this),this.expression.unobserve(".iconview"),this.expression.slider&&this.expression.slider.unobserve(".iconview"),this.parentView.unobserve(".iconview")},e.renderUngraphable=function(){this.$().toggleClass("dcg-ungraphable",!this.expression.isGraphable)},e.renderLoading=function(){this.$().toggleClass("dcg-loading",!!this.expression.loading)},e.renderColorCSS=function(){this.$(".dcg-variable-colorcss").css({"border-color":this.expression.color,background:this.expression.color})},e.didInsertElement=function(){var e=this;t.didInsertElement.call(this),this.renderLoading(),this.renderUngraphable(),this.renderColorCSS(),this.onDisplayChange(),this.$icon=this.$(".dcg-icon");var i=function(t,i){if(t.device===i){if("keyboard"!==i){if(t.wasHandled("dragdrop"))return;if(t.wasLongheld())return}return e.optionsShown?(e.toggleOptions(),!1):void(e.parentView.listView.editListMode?e.expression.isGraphable&&e.toggleOptions():e.expression.formula.is_animatable?e.toggleSliderIsPlaying():e.toggleGraphShown())}},n=function(t,i){t.device===i&&e.model.isGraphable&&(t.handle("dcg-longhold"),e.toggleOptions())};this.$().closest(".dcg-action-icon-mouse").on("dcg-tap",function(e){i(e,"mouse")}),this.$().closest(".dcg-action-icon-touch").on("dcg-tap",function(e){i(e,"touch")}),this.$icon.on("dcg-tap",function(e){i(e,"keyboard")}),this.$().closest(".dcg-action-icon-mouse").on("dcg-longhold",function(e){n(e,"mouse")}),this.$().closest(".dcg-action-icon-touch").on("dcg-longhold",function(e){n(e,"touch")})},e.isGraphShown=function(){return this.expression.shouldGraph},e.toggleSliderIsPlaying=function(){var e=this.expression.slider;if(e&&(e.setProperty("isPlaying",!e.isPlaying),this.parentView.sliderView)){var t="",i=this.expression.dependent;t=e.isPlaying?this.t("__variable__ playing",{variable:i}):this.t("__variable__ paused",{variable:i}),n.alert(t)}},e.toggleGraphShown=function(){this.model.isGraphable&&(this.errorShown||(this.expression.setProperty("hidden",this.isGraphShown()),this.expression.folder&&this.expression.folder.setProperty("hidden",!1)))},e.createOptionsMenuView=function(){var e=this.parentView.listView,t=r(this.expression);t.appendTo(e.$().closest(".dcg-container"));var i=this.$(".dcg-icon"),n={top:i.offset().top-e.$().closest(".dcg-container").offset().top,left:i.offset().left-e.$().closest(".dcg-container").offset().left},s=n.top+t.$().height(),o=Math.max(0,s-10-45-e.$().closest(".dcg-container").height());return t.$().css({position:"absolute",top:n.top-o+"px",left:n.left+"px",display:"block"}),t.$(".dcg-triangle").css("margin-top",o+"px"),t},e.onDisplayChange=function(){if(t.onDisplayChange.call(this),this.$icon){var e,i=this.expression.formula,n="";if(i.is_animatable&&this.expression.slider)n=this.expression.slider.isPlaying?"dcg-animate-pause":"dcg-animate-play",this.setAriaLabels();else if(this.error||!i.is_graphable)n="";else{var r=this.expression.shouldGraph,l=this.expression.style,c=i.operator,u=0!==s.table[c].direction,h=s.table[c].inclusive===!1;r?this.expression.reconciledDragMode!==o.NONE?(n="dcg-graph-movable-point",e=this.expression.reconciledDragMode):i.is_point_list?n=l===a.OPEN?"dcg-graph-OPEN":l===a.CROSS?"dcg-graph-CROSS":"dcg-graph-POINT":i.is_shade_between?n="dcg-graph-shaded-inequality":h||u?!h&&u?n="dcg-graph-shaded-inequality":h&&!u?n="graph-inequality":h&&u&&(n="dcg-graph-shaded-inequality"):n=l===a.DASHED?"dcg-graph-DASHED":l===a.DOTTED?"dcg-graph-DOTTED":"dcg-graph-SOLID":n="dcg-graph-hidden"}if(this.rendered_icon_class!==n||this.rendered_drag_mode!==e){if(this.rendered_icon_class&&this.$icon.removeClass(this.rendered_icon_class),this.rendered_icon_class=n,n){this.$icon.addClass(n);var d="dcg-animate-play"===n||"dcg-animate-pause"===n?0:-1,p=0!==d;this.$icon.attr("tabindex",d),this.$icon.attr("aria-hidden",p)}this.rendered_drag_mode=e,e&&this.$icon.attr("mode",e)}}},e.setAriaLabels=function(){if(this.expression.slider){var e=this.expression.dependent;if(e){var t="";t=this.expression.slider.isPlaying?this.t("Pause __variable__ Animation",{variable:e}):this.t("Play __variable__ Animation",{variable:e}),this.$icon.attr("aria-label",t)}}}});return u}),define("template!evaluation_view",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div>\n  <div class="dcg-evaluation dcg-do-blur" handleEvent="true">\n    <table>\n      <tr>\n        <th class="dcg-action-selectevaluation">\n          <span class="dcg-template-dependentlabelhtml"></span>\n          <span class="dcg-equals">=</span>\n        </th>\n        <td class="dcg-text-selectable template-evaluationshtml"></td>\n      </tr>\n    </table>\n  </div>\n  <div class="dcg-clear"></div>\n</div>';return __p}}),define("expressions/evaluation",["require","pjs","underscore_view","template!evaluation_view","i18n","graphing/label","analytics/bugsnag-stub"],function(e){var t=e("pjs"),i=e("underscore_view"),n=e("template!evaluation_view"),r=e("i18n"),s=e("graphing/label"),o=e("analytics/bugsnag-stub"),a=t(i,function(e,t){e.template=n,e.init=function(e){t.init.call(this),this.evaluations=[],this.evaluationAria="",this.domain=e,this.observe("dependentLabel",this.renderDependent.bind(this)),this.observe("evaluations",this.renderEvaluations.bind(this))},e.t=function(e,t){return r.t(e,t,this.domain.graphSettings.language)},e.renderDependent=function(){this.$(".dcg-template-dependentlabelhtml").html(this.dependentLabel)},e.renderEvaluations=function(){for(var e=this.evaluations,t=[],i=[],n=0;n<e.length;n++){var r=e[n],a=e[n].val;r.val!==!1&&r.val!==!0?(Array.isArray(r.val)?(r.val=r.val.length+" element list",i.push(r.val)):isNaN(r.val)?r.val="undefined":Math.abs(r.val)<1e-15?r.val=0:e.length>1?r.val=s.truncatedHTMLLabel(r.val,{smallCutoff:.001,bigCutoff:1e6,digits:8}):r.val=s.truncatedHTMLLabel(r.val,{smallCutoff:1e-6,bigCutoff:1e9,digits:12}),t.push(r.val),Array.isArray(a)||i.push(s.value(a).ariaString)):o.notify("Bad evaluation view","Boolean passed through unexpectedly.")}if(0!==t.length)if(1===t.length){var l=this.$evaluationContainer[0];l.innerHTML=t[0],this.evaluationAria=i[0]}else{var c=t.join('<span class="dcg-or">'+this.t("or")+"</span>");this.evaluationAria=i.join(" "+this.t("or")+" "),this.$evaluationContainer.html(c)}},e.didInsertElement=function(){this.$evaluationContainer=this.$(".template-evaluationshtml"),this.renderDependent(),this.renderEvaluations(),this.$(".dcg-action-selectevaluation").on("dcg-tap",this.onSelectEvaluation.bind(this))},e.onSelectEvaluation=function(){var e=this.$("td")[0],t=document.createRange();t.selectNodeContents(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(t)}});return a}),define("template!unresolved_view",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="dcg-unresolved">\n  <i class="dcg-icon-error" />\n  '+(null==(__t=t("This equation contains fine detail that has not been fully resolved."))?"":_.escape(__t))+'\n  <a href="http://support.desmos.com/entries/29577773-Unresolved-Detail-In-Plotted-Functions" target="_blank">\n    '+(null==(__t=t("Learn more."))?"":_.escape(__t))+"\n  </a>\n</div>";return __p}}),define("expressions/unresolved",["require","pjs","underscore_view","template!unresolved_view"],function(e){var t=e("pjs"),i=e("underscore_view"),n=e("template!unresolved_view");return t(i,function(e,t){e.template=n})}),define("loadcss!domain",function(){}),define("template!domain_view",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="dcg-domain dcg-do-blur" handleEvent="true">\n\n  <div class="dcg-display-domain dcg-do-blur dcg-desmos-input-container" handleEvent="true">\n    <div class="dcg-editable-mathquill-container">\n      <span class="dcg-math-field" data-dcg-limit="min"></span>\n      <span class="dcg-interval-interior"></span>\n      <span class="dcg-math-field" data-dcg-limit="max"></span>\n    </div>\n  </div>\n\n</div>\n';return __p}}),define("lib/setup_mathquill_tap",["require","jquery"],function(e){var t=e("jquery");return function(e,i){t(e).on("dcg-tap",function(e){if("touch"!==e.device)return!0;var t=e.originalEvent.changedTouches[0];i.clickAt(t.clientX,t.clientY,t.target),i.focus();var n,r=!1;setTimeout(function(){r=!0,n=Date.now()},0),i.ignoreNextMousedown(function(){return r||Date.now()-n<500})})}}),define("expressions/domain_view",["require","loadcss!domain","jquery","underscore_view","pjs","template!domain_view","keys","conditional_blur","underscore","mathquill","i18n","lib/setup_mathquill_tap"],function(e){e("loadcss!domain");var t=e("jquery"),i=e("underscore_view"),n=e("pjs"),r=e("template!domain_view"),s=e("keys"),o=e("conditional_blur"),a=e("underscore"),l=e("mathquill"),c=e("i18n"),u=e("lib/setup_mathquill_tap"),h=n(i,function(e,i){e.template=r,e.init=function(e,t){i.init.call(this),this.parentView=t,this.domain=e,this.domain.observe("min.domainview max.domainview",function(){this.isMathquillFocused()||this.setLastValidBounds()}.bind(this)),this.domain.observe("validLimits",this.renderInvalid.bind(this))},e.t=function(e,t){return c.t(e,t,this.parentView.graphSettings.language)},e.checkInvalid=function(){var e=this;a.each(this.mathFields,function(i,n){e.save(t(i.el()))})},e.renderInvalid=function(){var e=this;a.each(this.mathFields,function(i,n){var r=t(i.el());r.toggleClass("dcg-invalid",!e.domain.validLimits[n])}),this.setProperty("invalid",!this.domain.validLimits.min||!this.domain.validLimits.max)},e.destruct=function(){this.domain.unobserve(".domainview")},e.renderParameter=function(){this.$(".dcg-interval-interior").eq(0).html(l.StaticMath(t("<span> \\le t \\le </span>")[0]).html()).addClass("dcg-mq-math-mode")},e.focusInMathquill=function(e){var t=this.$(e.target).closest(".dcg-math-input");t.hasClass("dcg-focus")||(t.addClass("dcg-focus"),l(t[0]).select())},e.focusOutMathquill=function(e){var t=this,i=this.$(e.target).closest(".dcg-mq-editable-field");i.removeClass("dcg-focus"),l(i[0]).clearSelection(),clearTimeout(this.focusedOutRecentlyTimeout),this.focusedOutRecently=!0,this.focusedOutRecentlyTimeout=setTimeout(function(){t.isMathquillFocused()||(t.setLastValidBounds(),t.checkInvalid()),this.focusedOutRecently=!1}.bind(this))},e.isMathquillFocused=function(){return a.some(this.mathFields,function(e){return t(e.el()).hasClass("dcg-focus")})},e.didInsertElement=function(){var e=this,i=this.mathFields={},n={min:this.t("Parameter Minimum: "),max:this.t("Parameter Maximum: ")};this.$(".dcg-math-field").each(function(){var e=l.MathField(this),r=t(this).data("dcg-limit");e.setAriaLabel(n[r]),u(this,e),i[r]=e}).addClass("dcg-math-input").on("focusin",e.focusInMathquill.bind(e)).on("focusout",e.focusOutMathquill.bind(e)).on("render",e.handleUserInput.bind(e)).on("enterPressed",o),this.renderParameter(),this.setLastValidBounds()},e.setLastValidBounds=function(){var e=this;a.each(this.mathFields,function(t,i){t.latex(e.domain.lastValidLatex[i])}),this.domain.setProperty("validLimits",{min:!0,max:!0})},e.handleUserInput=function(e){s.lookup(e)===s.ENTER?o():this.checkInvalid()},e.save=function(e){if(e){var t=l.MathField(e[0]),i=t.latex(),n=e.data("dcg-limit");"min"===n?this.domain.setProperty("minLatex",i):"max"===n&&this.domain.setProperty("maxLatex",i)}}});return h}),define("loadcss!regression",function(){}),define("template!regression_view",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="dcg-regression-container">\n  <div class="dcg-handle-event" handleEvent="true">\n\n    <div class="dcg-log-mode-toggle">\n      <div class="dcg-action-log-mode-toggle">\n        <span\n          class="dcg-log-mode-checkbox"\n          role="checkbox"\n          aria-checked="false"\n          tabindex=0\n          aria-label="'+(null==(__t=t("Log Mode"))?"":_.escape(__t))+'"\n        >\n          <i class="dcg-icon-check"></i>\n        </span>\n        Log Mode\n      </div>\n      <a aria-label="'+(null==(__t=t("Log Mode Help"))?"":_.escape(__t))+'" class="dcg-log-mode-toggle-help" target="_blank" href="http://support.desmos.com/hc/en-us/articles/204349605">\n        <i class="dcg-icon-question-sign"></i>\n      </a>\n    </div>\n\n    <div class="dcg-statistics">\n      <div class="dcg-regression-title dcg-residuals-title">\n        '+(null==(__t=t("Statistics"))?"":_.escape(__t))+'\n        <a aria-label="'+(null==(__t=t("About Regressions"))?"":_.escape(__t))+'" class="dcg-regression-about-link" target="_blank">\n          <i class="dcg-icon-question-sign"></i>\n        </a>\n      </div>\n\n      <div class="dcg-statistics-values"></div>\n    </div>\n    <div role="group" aria-label="'+(null==(__t=t("Residuals"))?"":_.escape(__t))+'" class="dcg-residuals">\n      <div class="dcg-regression-title dcg-residuals-title">\n        '+(null==(__t=t("Residuals"))?"":_.escape(__t))+'\n      </div>\n      <span class="dcg-residuals-variable"></span>\n      <span class="dcg-residual-suggestion dcg-action-plot-residual dcg-btn dcg-btn-light-gray" role="button" tabindex=0>\n        plot\n      </span>\n    </div>\n\n    <div class="dcg-parameters-container">\n      <div class="dcg-regression-title dcg-parameters-title">\n        '+(null==(__t=t("Parameters"))?"":_.escape(__t))+'\n      </div>\n      <div role="group" aria-label="'+(null==(__t=t("Parameters"))?"":_.escape(__t))+'" class="dcg-parameters">\n      </div>\n    </div>\n\n    <div class="dcg-clear"></div>\n  </div>\n</div>\n';return __p}}),define("expressions/regression_view",["require","loadcss!regression","underscore_view","template!regression_view","pjs","jquery","underscore","i18n","mathquill","graphing/label"],function(e){e("loadcss!regression");var t=e("underscore_view"),i=e("template!regression_view"),n=e("pjs"),r=e("jquery"),s=e("underscore"),o=e("i18n"),a=e("mathquill"),l=e("graphing/label"),c=6,u=4;return n(t,function(e,t){e.template=i,e.init=function(e,i){t.init.call(this),this.expressionModel=e,this.listView=i,this.setProperty("regression",e.formula.regression)},e.getTemplateParams=function(){var e=this;return{t:function(t,i){return o.t(t,i,e.listView.graphSettings.language)}}},e.t=function(e,t){return o.t(e,t,this.listView.graphSettings.language)},e.didCreateElement=function(){t.didCreateElement.call(this),this.residuals=a.StaticMath(this.$(".dcg-residuals-variable")[0]),this.$statistics=this.$(".dcg-statistics-values"),this.$residualSuggestion=this.$(".dcg-residual-suggestion"),this.$parameters=this.$(".dcg-parameters"),this.$parametersContainer=this.$(".dcg-parameters-container"),this.$regressionAboutLink=this.$(".dcg-regression-about-link"),this.$logModeToggleContainer=this.$(".dcg-log-mode-toggle"),this.$logModeToggleBtn=this.$(".dcg-action-log-mode-toggle"),this.observeAndSync("regression",this.renderRegression.bind(this)),this.expressionModel.observeAndSync("isLogModeRegression",this.renderRegression.bind(this)),this.$residualSuggestion.on("dcg-tap",this.plotResiduals.bind(this)),this.$logModeToggleBtn.on("dcg-tap",this.expressionModel.toggleLogMode.bind(this.expressionModel))},e.plotResiduals=function(e){var t=this.regression.residualSuggestionId;if(t){var i=this.listView.model.getItemById(t);i&&i.insertColumn(i.columns.length-1,{latex:l.identifierToLatex(this.regression.residualVariable)})}},e.getRoundedValue=function(e,t,i){return l.truncatedLatexLabel(e,{zeroCutoff:i,digits:t,smallCutoff:1e-6,bigCutoff:1e9})},e.getRoundedParam=function(e,t){return this.getRoundedValue(this.regression.parameters[e],t,1e-15)},e.renderStats=function(){this.renderAboutLink(),this.$statistics.html("");var e;if(this.regression.statistics.hasOwnProperty("Rsquared")){var t=this.getRoundedValue(this.regression.statistics.Rsquared,u,1e-15),i=this.t("R squared equals __value__",{value:t}),n=r('<span role="textbox" aria-readonly=true tabindex=0 aria-label="'+i+'">'),s=r("<span aria-hidden=true>");a.StaticMath(s[0]).latex("R^2="+t),e=r('<div role="group" aria-label="Statistics">'),e.append(n),e.append(s),this.$statistics.append(e)}if(this.regression.statistics.hasOwnProperty("rsquared")){var o=this.getRoundedValue(this.regression.statistics.rsquared,u,1e-15),l=this.t("r squared equals __value__",{value:o}),c=r('<span role="textbox" aria-readonly=true tabindex=0 aria-label="'+l+'">'),h=r("<span aria-hidden=true>");a.StaticMath(h[0]).latex("r^2="+o),e=r('<div role="group" aria-label="Statistics">'),e.append(c),e.append(h),this.$statistics.append(e)}if(this.regression.statistics.hasOwnProperty("r")){var d=this.getRoundedValue(this.regression.statistics.r,u,1e-15),p=this.t("r equals __value__",{value:d}),f=r('<span role="textbox" aria-readonly=true tabindex=0 aria-label="'+p+'">'),g=r('<span aria-hidden=true class="dcg-r-value">');a.StaticMath(g[0]).latex("^2r="+d),e=r('<div role="group" aria-label="Statistics">'),e.append(f),e.append(g),this.$statistics.append(e)}if(this.regression.statistics.hasOwnProperty("RMSE")){var m=this.getRoundedValue(this.regression.statistics.RMSE,4,1e-8),v=this.t("RMSE equals __value__",{value:m}),y=r('<span role="textbox" aria-readonly=true tabindex=0 aria-label="'+v+'">'),b=r("<span aria-hidden=true>");a.StaticMath(b[0]).latex("RMSE="+m),e=r('<div role="group" aria-label="Statistics">'),e.append(y),e.append(b),this.$statistics.append(e)}},e.renderAboutLink=function(){this.regression.statistics.hasOwnProperty("RMSE")?(this.$regressionAboutLink[0].href="http://support.desmos.com/entries/60176149-What-is-RMSE-",this.$regressionAboutLink.attr("aria-label",this.t("What is RMSE?"))):this.regression.statistics.Rsquared<0?(this.$regressionAboutLink[0].href="http://support.desmos.com/entries/60460125-Why-am-I-seeing-a-negative-R-2-value-",this.$regressionAboutLink.attr("aria-label",this.t("Why am I seeing a negative R Squared value?")),this.$regressionAboutLink.show()):this.$regressionAboutLink.hide()},e.renderRegression=function(){this.renderStats(),this.residuals.latex(this.regression.residualVariable||""),this.$residualSuggestion.toggleClass("dcg-visible",!!this.regression.residualSuggestionId).attr("aria-hidden",!this.regression.residualSuggestionId),this.$logModeToggleContainer.toggleClass("dcg-visible",!!this.regression.shouldSuggestLogMode).attr("aria-hidden",!this.regression.shouldSuggestLogMode),this.$logModeToggleBtn.toggleClass("dcg-toggled-on",!!this.expressionModel.isLogModeRegression).attr("aria-checked",!!this.expressionModel.isLogModeRegression),this.$parameters.html(""),this.$parametersContainer.toggle(s.size(this.regression.parameters)>0);for(var e in this.regression.parameters){var t=this.t("__parameter__ equals __value__",{parameter:e,value:this.getRoundedParam(e,c)}),i=r('<span role="textbox" aria-readonly=true tabindex=0 aria-label="'+t+'">'),n=r('<span aria-hidden=true class="dcg-parameter">').text(e+"="+this.getRoundedParam(e,c));a.StaticMath(n[0]),this.$parameters.append(i),this.$parameters.append(n)}}})}),define("loadcss!slider",function(){}),define("template!slider_view",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<span class="dcg-slider-container" tapboundary="true">\n\n  <div class="dcg-do-blur dcg-slider" handleEvent="true">\n    <div role="button" tabindex=0 aria-label="'+(null==(__t=t("Edit Limits"))?"":_.escape(__t))+'" class="dcg-minLabel dcg-template-minlabelhtml">\n    </div>\n    <div class="dcg-slider-interior">\n      <div class="dcg-track dcg-action-moveslider">\n        <div class="dcg-ticks dcg-template-tickmarkhtml"></div>\n        <div class="dcg-graphic"></div>\n      </div>\n      <div class="dcg-zeroMarker dcg-action-moveslider"></div>\n      <div role="slider" tabindex=0 class="dcg-thumb dcg-action-startdragging" disablescroll="true">\n        <div class="dcg-graphic"></div>\n        <div class="dcg-center"></div>\n      </div>\n    </div>\n    <div class="dcg-maxLabel dcg-template-maxlabelhtml">\n    </div>\n  </div>\n\n  <div class="dcg-slider_menu dcg-do-blur dcg-desmos-input-container" handleEvent="true">\n    ',__p+='\n    <div class="dcg-editable-mathquill-container">\n      <span class="dcg-math-field" data-dcg-limit="slidermin"></span>\n      <span class="dcg-interval-interior"></span>\n      <span class="dcg-math-field" data-dcg-limit="slidermax"></span>\n      <span class="dcg-slider-step-container">\n        <span class="dcg-slider-step-label" aria-hidden="true">'+(null==(__t=t("step:"))?"":_.escape(__t))+'</span>\n        <span class="dcg-math-field" data-dcg-limit="sliderstep"></span>\n      </span>\n    </div>\n  </div>\n\n</span>\n';return __p}}),define("expressions/slider_view",["require","loadcss!slider","jquery","pjs","lib/rounding","underscore_view","template!slider_view","underscore","keys","lib/aria","conditional_blur","mathquill","lib/evaluate-single-expression","i18n","lib/setup_mathquill_tap","graphing/label","lib/number-to-latex","expressions/slider_loop_modes"],function(e){e("loadcss!slider");var t=e("jquery"),i=e("pjs"),n=e("lib/rounding"),r=e("underscore_view"),s=e("template!slider_view"),o=e("underscore"),a=e("keys"),l=e("lib/aria"),c=e("conditional_blur"),u=e("mathquill"),h=e("lib/evaluate-single-expression"),d=e("i18n"),p=e("lib/setup_mathquill_tap"),f=e("graphing/label"),g=e("lib/number-to-latex"),m=e("expressions/slider_loop_modes"),v=i(r,function(e,i){e.template=s,e.animationSpeeds=[.05,.1,.15,.2,.35,.5,.75,1,1.5,2,3.5,5,7.5,10,15,20],e.init=function(e,t){i.init.call(this),this.slider=e,this.slider.transient=!0,this.parentView=t,this.value=this.slider.value,this.slider.observe("value",function(){this.setProperty("value",this.slider.value),this.$thumb&&this.$thumb.is(":focus")&&this.updateSliderAriaValue()}.bind(this)),this.editing=!1,this.observe("value",this.renderThumbPosition.bind(this)),this.observe("dependentLabel",this.renderDependent.bind(this)),this.observe("editing",this.renderEditing.bind(this)),this.observe("editing",function(){this.slider.setProperty("isPlaying",!1)}.bind(this)),this.slider.observe("min.sliderview max.sliderview",function(){this.renderThumbPosition(),this.setLastValidBounds()}.bind(this)),this.slider.observe("min.sliderview max.sliderview",this.renderZeroMarker.bind(this)),this.slider.observe("min.sliderview max.sliderview step.sliderview",this.renderTickMarks.bind(this)),this.slider.observe("min.sliderview hardMin.sliderview",this.renderMin.bind(this)),this.slider.observe("max.sliderview hardMax.sliderview",this.renderMax.bind(this)),this.slider.observe("validLimits.sliderview",this.renderInvalid.bind(this)),this.slider.observe("dragging.sliderview",this.renderDragging.bind(this)),this.slider.observe("isPlaying.sliderview",this.renderIsPlaying.bind(this)),this.slider.observe("animationPeriod",this.renderAnimationPeriod.bind(this)),this.slider.observe("loopMode",this.renderLoopMode.bind(this)),this.parentView.graphSettings.observe("degreeMode."+this.guid,this.checkInvalid.bind(this))},e.t=function(e,t){return d.t(e,t,this.parentView.graphSettings.language)},e.getTemplateParams=function(){var e=this;return{t:function(t,i){return d.t(t,i,e.parentView.graphSettings.language)}}},e.renderAnimationPeriod=function(){var e=this.computeSpeed(),t=e+"x";this.parentView.$(".dcg-variable-speed").text(t),this.parentView.$(".dcg-action-slower").toggleClass("dcg-disabled",o.min(this.animationSpeeds)>=e).attr("aria-disabled",o.min(this.animationSpeeds)>=e),this.parentView.$(".dcg-action-faster").toggleClass("dcg-disabled",o.max(this.animationSpeeds)<=e).attr("aria-disabled",o.max(this.animationSpeeds)<=e)},e.renderLoopMode=function(){var e=this.parentView.$(".dcg-action-toggle-slider-loop-mode");e.attr("loopMode",this.slider.loopMode),this.setAriaProps()},e.setAriaProps=function(){var e=this.parentView.model.dependent;if(e){var t=this.$(".dcg-minLabel"),i=this.parentView.$(".dcg-action-toggle-slider-loop-mode"),n=this.parentView.$(".dcg-action-slower"),r=this.parentView.$(".dcg-action-faster"),s=!this.slider.isPlaying,o=s?-1:0;this.$thumb.attr("aria-label",'"'+e+'"'),1===t.length&&t.attr("aria-label",this.t("Edit __variable__ Limits",{variable:e})),1===i.length&&(this.slider.loopMode===m.LOOP_FORWARD_REVERSE?i.attr("aria-label",this.t("Loop __variable__ Forward and Reverse",{variable:e})):i.attr("aria-label",this.t("Loop __variable__ Forward",{variable:e})),i.attr("aria-hidden",s),i.attr("tabindex",o)),1===n.length&&(n.attr("aria-label",this.t("Animate __variable__ Slower",{variable:e})),n.attr("aria-hidden",s),n.attr("tabindex",o)),1===r.length&&(r.attr("aria-label",this.t("Animate __variable__ Faster",{variable:e})),r.attr("aria-hidden",s),r.attr("tabindex",o))}},e.destruct=function(){this.slider.unobserve(".sliderview"),this.parentView.graphSettings.unobserve("."+this.guid)},e.getDependentLabel=function(){var e=this.model.dependent;return e?(e.match(/(.*)_(.+)/)&&(e=e.replace(/(.*)_(.+)/,"$1_{$2}")),e=u.MathField(t("<span>"+e+"</span>")[0]).html(),e="<span class='dcg-mq-math-mode'>"+e+"</span>"):""},e.renderDependent=function(){var e=this.parentView.model.dependent;if(e){var i=f.identifierToLatex(e),n=u.StaticMath(t("<span> \\le "+i+" \\le </span>")[0]).html();this.$(".dcg-interval-interior").eq(0).html(n).addClass("dcg-mq-math-mode"),this.setAriaProps()}},e.renderDragging=function(){this.$thumb.toggleClass("dcg-down",!!this.slider.dragging)},e.renderMin=function(){this.sliderMinMathquill&&(this.sliderMinMathquill.latex(this.slider.hardMin?this.slider.lastValidLatex.slidermin:g(this.slider.min)),this.$thumb.attr("aria-minvalue",this.slider.hardMin?this.slider.min:""))},e.renderMax=function(){this.sliderMaxMathquill&&(this.sliderMaxMathquill.latex(this.slider.hardMax?this.slider.lastValidLatex.slidermax:g(this.slider.max)),this.$thumb.attr("aria-minvalue",this.slider.hardMax?this.slider.max:""))},e.renderEditing=function(){this.$().toggleClass("dcg-editing-limits",this.editing),this.reflowMathQuill()},e.renderThumbPosition=function(){if(this.$thumb){var e,t=this.slider.min,i=this.slider.max,n=this.value;e=n<=t?0:n>=i?100:(n-t)/(i-t)*100,this.$thumb.css("left",e+"%")}},e.renderZeroMarker=function(){var e=(0-this.slider.min)/(this.slider.max-this.slider.min),t={};if(e>=0&&e<=1){var i=100*e;t.display="block",t.left=i+"%"}else t.display="none";this.$(".dcg-zeroMarker").css(t)},e.renderTickMarks=function(){var e=this.slider.step,t=this.slider.min,i=this.slider.max,n=100*e/(i-t);n<3&&(n=0);var r="";if(n>0&&n<100)for(var s=n;s<100;s+=n)r+='<div class="dcg-tick" style="left:'+s+'%"></div>';this.$(".dcg-template-tickmarkhtml").html(r)},e.getDimensions=function(){var e=this.$(".dcg-track"),t=e.offset().left,i=t+e.width();return{trackLeft:t,trackRight:i}},e.computeSpeed=function(){var e=this.slider.DEFAULT_PERIOD/this.slider.animationPeriod;return e=Number(e.toFixed(3))},e.setPeriodFromSpeed=function(e){var t=this.slider.DEFAULT_PERIOD/e;this.slider.setProperty("animationPeriod",t),l.alert(this.t("Animating at __speed__x",{speed:e}))},e.animateSlower=function(){var e=this.computeSpeed(),t=o.filter(this.animationSpeeds,function(t){return t<e});0!==t.length&&this.setPeriodFromSpeed(o.max(t))},e.animateFaster=function(){var e=this.computeSpeed(),t=o.filter(this.animationSpeeds,function(t){return t>e});0!==t.length&&this.setPeriodFromSpeed(o.min(t))},e.toggleLoopMode=function(){this.slider.toggleLoopMode()},e.focusInMathquill=function(e){var t=this.$(e.target).closest(".dcg-math-input");t.hasClass("dcg-focus")||(t.addClass("dcg-focus"),u(t[0]).select())},e.focusOutMathquill=function(e){var t=this.$(e.target).closest(".dcg-mq-editable-field"),i=t.data("dcg-limit");this.slider.validLimits[i]&&this.save(t),clearTimeout(this.focusedOutRecentlyTimeout),this.focusedOutRecently=!0,this.focusedOutRecentlyTimeout=setTimeout(function(){this.focusedOutRecently=!1}.bind(this)),t.removeClass("dcg-focus"),u(t[0]).clearSelection()},e.handleMathquillInput=function(e){var t=this.$(e.target).closest(".dcg-math-input"),i=u(t[0]).latex(),n=t.data("dcg-limit");"slidermin"===n&&this.slider.setProperty("hardMin",""!==i),"slidermax"===n&&this.slider.setProperty("hardMax",""!==i)},e.didInsertElement=function(){var e=this;this.$thumb=this.$(".dcg-thumb"),this.updateSliderAriaValue(),this.$thumb.on("focus",this.updateSliderAriaValue.bind(this));var i=this.mathFields={};this.$(".dcg-math-field").each(function(){var n=u.MathField(this),r=t(this).data("dcg-limit"),s={slidermin:e.t("Slider Minimum: "),slidermax:e.t("Slider Maximum: "),sliderstep:e.t("Slider Step Size: ")};n.setAriaLabel(s[r]),p(this,n),i[r]=n}).addClass("dcg-math-input").on("focusin",e.focusInMathquill.bind(e)).on("focusout",e.focusOutMathquill.bind(e)).on("render",e.handleMathquillInput.bind(e)).on("render",e.checkInvalid.bind(e)).on("enterPressed",c),this.$(".dcg-action-startdragging").css("touch-action","none"),this.$(".dcg-action-startdragging").on("dcg-tapstart",this.onStartDragging.bind(this)),this.$(".dcg-action-moveslider").on("dcg-tap",function(e){var t=e.changedTouches[0];this.slider.setProperty("isPlaying",!1),this.setValueByTouch(t),this.slider.commitSliderValue(this.value)}.bind(this)),this.$().on("focusout",this.focusOut.bind(this)),this.$().on("focusin",this.focusIn.bind(this)),this.$thumb.on("keydown",this.keyDown.bind(this)),this.$().on("dcg-tap",".dcg-minLabel",this.onEditMin.bind(this)),this.$().on("dcg-tap",".dcg-maxLabel",this.onEditMax.bind(this)),this.sliderMinMathquill=u.StaticMath(this.$(".dcg-template-minlabelhtml")[0]),this.sliderMaxMathquill=u.StaticMath(this.$(".dcg-template-maxlabelhtml")[0]),this.renderTickMarks(),this.renderThumbPosition(),this.renderZeroMarker(),this.renderDependent(),this.renderMin(),this.renderMax(),this.renderAnimationPeriod(),this.renderLoopMode(),this.renderIsPlaying(),this.setLastValidBounds(),this.slider.setTransient()},e.setValueByTouch=function(e){var t=this.slider.min,i=this.slider.max,r=this.getDimensions(),s=r.trackLeft,o=r.trackRight,a=o-s,l=(i-t)/a,c=this.originalTouchOffsetFromCenter||0,u=e.pageX-c,h=Math.min(1,Math.max(0,(u-s)/a)),d=t*(1-h)+i*h;d=n.shortestDecimalBetween(d-l,d+l),d=this.slider.computeSnappedValue(d),d=Math.max(t,Math.min(i,d)),this.setProperty("value",d)},e.tick=function(){if(this.cachedSliderTouch){var e=this.value;this.setValueByTouch(this.cachedSliderTouch),this.cachedSliderTouch=null,this.value!==e&&this.slider.commitSliderValue(this.value)}},e.onStartDragging=function(e){if(e.preventDefault(),1===e.touches.length){this.parentView.clearListFocus(),this.parentView.listView.registerSliderBeingSlid(this);var i=this;this.slider.setProperty("isPlaying",!1);var n=function(e,t){for(var i=e.touches,n=null,r=0;r<i.length;r++)i[r].identifier===t&&(n=i[r]);return n};i.slider.setProperty("dragging",!0);var r=e.changedTouches[0].identifier,s=i.$(e.originalEvent.target);i.originalTouchOffsetFromCenter=e.changedTouches[0].x-s.offset().left-.5*s.width();var o=function(e){var t=n(e,r);i.cachedSliderTouch=t},a=function(){t(document).off("dcg-tapmove",o),t(document).off("dcg-tapend dcg-tapcancel",l),i.slider.setProperty("dragging",!1),i.cachedSliderTouch=null,i.parentView.listView.unregisterSliderBeingSlid(i)},l=function(e){var t=n(e,r);t||a()};t(document).on("dcg-tapmove",o),t(document).on("dcg-tapend dcg-tapcancel",l)}},e.checkInvalid=function(){var e={};o.each(this.mathFields,function(t,i){e[i]=t.latex()});var t=this.slider.checkLimits(e.slidermin,e.slidermax,e.sliderstep);this.slider.setProperty("validLimits",{
    slidermin:t.slidermin,slidermax:t.slidermax,sliderstep:t.sliderstep})},e.renderInvalid=function(){var e=this;o.each(this.mathFields,function(i,n){var r=t(i.el());r.toggleClass("dcg-invalid",!e.slider.validLimits[n])})},e.setLastValidBounds=function(){this.mathFields.slidermin.latex(this.slider.hardMin?this.slider.lastValidLatex.slidermin:""),this.mathFields.slidermax.latex(this.slider.hardMax?this.slider.lastValidLatex.slidermax:""),this.mathFields.sliderstep.latex(this.slider.lastValidLatex.sliderstep)},e.keyDown=function(e){switch(a.lookup(e)){case a.ENTER:case a.ESCAPE:c();break;case a.LEFT:case a.DOWN:this.slider.adjust("down"),e.preventDefault();break;case a.RIGHT:case a.UP:this.slider.adjust("up"),e.preventDefault();break;case a.PAGEDOWN:this.slider.adjust("bigdown"),e.preventDefault();break;case a.PAGEUP:this.slider.adjust("bigup"),e.preventDefault();break;case a.HOME:this.slider.adjust("min"),e.preventDefault();break;case a.END:this.slider.adjust("max"),e.preventDefault();break;default:this.checkInvalid()}},e.focusIn=function(e){this.slider.setProperty("isPlaying",!1),clearTimeout(this.saveAfterBlurTimeout),this.checkInvalid()},e.focusOut=function(e){var t=this;this.saveAfterBlurTimeout=setTimeout(function(){clearTimeout(t.saveAfterBlurTimeout),t.onClose()},1),this.checkInvalid()},e.save=function(e){if(e){var t=this.parentView.listView.graphSettings.degreeMode,i=u.MathField(e[0]),n=e.data("dcg-limit"),r=i.latex(),s=h(r,t);isNaN(s)&&(s=void 0);var o=isNaN(h(this.mathFields.sliderstep.latex(),t))?0:this.slider.step;"slidermin"===n?void 0===s?this.slider.setProperty("hardMin",!1):s<this.slider.max&&this.slider.max-s>=o?(this.slider.setProperty("minLatex",r),""!==r&&this.slider.setProperty("hardMin",!0)):this.renderMin():"slidermax"===n?(void 0===s&&this.slider.setProperty("hardMax",!1),s>this.slider.min&&s-this.slider.min>=o?(this.slider.setProperty("maxLatex",r),""!==r&&this.slider.setProperty("hardMax",!0)):this.renderMax()):"sliderstep"===n&&(void 0===s?this.slider.setProperty("stepLatex",""):s>=0&&s<=this.slider.max-this.slider.min&&this.slider.setProperty("stepLatex",r))}},e.reflowMathQuill=function(){var e=o.extend({},this.mathFields,{sliderMaxMathquill:this.sliderMaxMathquill,sliderMinMathquill:this.sliderMinMathquill});o.each(e,function(e){e.reflow()})},e.onClose=function(){var e=this;this.setProperty("editing",!1),o.each(this.mathFields,function(i,n){e.slider.validLimits[n]&&e.save(t(i.el()))}),this.setLastValidBounds()},e.onEditMin=function(e){this.setProperty("editing",!0),this.mathFields.slidermin.focus(),e.preventDefault()},e.onEditMax=function(e){this.setProperty("editing",!0),this.mathFields.slidermax.focus(),e.preventDefault()},e.renderIsPlaying=function(){this.slider.step<0&&this.slider.setProperty("isPlaying",!1),this.parentView.$().toggleClass("dcg-isPlaying",!!this.slider.isPlaying),this.slider.isPlaying||this.updateSliderAriaValue(),this.setAriaProps()},e.updateSliderAriaValue=function(){this.$thumb&&this.$thumb.attr("aria-valuenow")!==this.slider.value&&this.$thumb.attr("aria-valuenow",this.slider.value)}});return v}),define("loadcss!prompt-sliders",function(){}),define("template!prompt_sliders",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="dcg-create-sliders dcg-action-createslider" handleEvent="true">\n  <span class="dcg-msg">'+(null==(__t=t("add slider:"))?"":_.escape(__t))+'</span>\n  <span class="btns">\n    ',_.each(variables,function(e){__p+='\n      <div class="dcg-slider-btn-container" var_name="'+(null==(__t=e.name)?"":_.escape(__t))+'" >\n        <div role="button" tabindex=0 class="dcg-btn-slider '+(null==(__t=1===variables.length?"dcg-btn-blue":"dcg-btn-light-gray")?"":_.escape(__t))+'">'+(null==(__t=e.labelHTML)?"":__t)+"</div>\n      </div>\n    "}),__p+="\n\n    ",variables.length>1&&(__p+='\n      <div class="dcg-slider-btn-container dcg-all">\n        <div role="button" tabindex=0 class="dcg-btn-slider dcg-btn-blue">'+(null==(__t=t("all"))?"":_.escape(__t))+"</div>\n      </div>\n    "),__p+="\n  </span>\n</div>\n";return __p}}),define("expressions/promptslider_view",["require","loadcss!prompt-sliders","jquery","pjs","underscore_view","template!prompt_sliders","./expression","graphing/label","lib/aria","i18n"],function(e){e("loadcss!prompt-sliders");var t=e("jquery"),i=e("pjs"),n=e("underscore_view"),r=e("template!prompt_sliders"),s=e("./expression"),o=e("graphing/label"),a=e("lib/aria"),l=e("i18n"),c=i(n,function(e,i){e.template=r,e.init=function(e){i.init.call(this),this.variables=[],this.expressionView=e,this.observe("variables",this.rerender.bind(this))},e.t=function(e,t){return l.t(e,t,this.expressionView.graphSettings.language)},e.didInsertElement=function(){var e=this;this.$(".dcg-action-createslider").on("dcg-tap",this.onCreateSlider.bind(this)),this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout),this.promptAlertTimeout=setTimeout(function(){for(var t=[],i=0;i<this.variables.length;i++)t.push('"'+this.variables[i]+'"');a.alert(e.t("Add slider for __vars__",{vars:t.join(",")})),this.promptAlertTimeout=null}.bind(this),2e3)},e.destruct=function(){i.destruct.call(this),this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout)},e.getTemplateParams=function(){for(var e=this,t=this.variables,i=[],n=0;n<4&&n<t.length;n++)i.push({name:t[n],labelHTML:o.identifierToHTML(t[n])});return{variables:i,t:function(t,i){return l.t(t,i,e.expressionView.graphSettings.language)}}},e.onCreateSlider=function(e){this.expressionView.clearListFocus();var i=t(e.target).closest(".dcg-slider-btn-container");if(i.length){var n=!1;if(i.hasClass("dcg-all"))this.createAllSliders(),n=!0;else{var r=[i.attr("var_name")];this.createSliders(r),n=1==this.variables.length}"keyboard"===e.device&&this.expressionView.listView.evaluator.notifyWhenSynced(function(){var e;e=n?this.expressionView.$().next().find(".dcg-thumb"):this.expressionView.$(".dcg-btn-blue"),e.length||(e=this.expressionView.mathField),e.focus()}.bind(this))}},e.createAllSliders=function(e){0!==this.variables.length&&this.createSliders(this.variables,e)},e.createSliders=function(e,t){for(var i=this.expressionView,n=this.expressionView.model,r=[],a=0;a<e.length;a++)r.push({latex:o.identifierToLatex(e[a])+"=1",sliderMin:-10,sliderMax:10,hidden:!0});t&&t.addAndFocusBlank&&r.push({latex:""});var l=n.index,c=n.folder,u=l+1,h=n.list;h.undoRedo.performAndAddTransaction({undo:function(){for(var e=0;e<r.length;e++)h.removeItemAt(u)},redo:function(){for(var e=r.length-1;e>=0;e--){var n=s(r[e],h);r[e].id=n.id,h.insertItemAt(u,n),c&&c.addItem(n)}if(t&&t.addAndFocusBlank){var o=r[r.length-1].id,a=i.listView.getItemView(o);a.addFocus()}}}),i.setProperty("doAnimate",!1),clearTimeout(i.restoreAnimationTimeout),i.restoreAnimationTimeout=setTimeout(function(){i.setProperty("doAnimate",!0)},500)}});return c}),define("loadcss!label",function(){}),define("template!label_view",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<span class="dcg-label-container dcg-do-blur" tapboundary="true" handleEvent="true">\n\n  <span\n    role="checkbox"\n    aria-checked="false"\n    tabindex=0\n    class="dcg-checkbox"\n    aria-label="'+(null==(__t=t("Show Label:"))?"":_.escape(__t))+'"\n  >\n    <span class="dcg-checkbox-box"><i class="dcg-icon-check"></i></span>\n    <span class="dcg-checkbox-label" aria-hidden="true">'+(null==(__t=t("Show Label"))?"":_.escape(__t))+'</span>\n  </span>\n  <input class="dcg-label-input" aria-label="'+(null==(__t=t("Label Text"))?"":_.escape(__t))+'">\n</span>\n';return __p}}),define("expressions/label_view",["require","loadcss!label","i18n","pjs","underscore_view","template!label_view"],function(e){e("loadcss!label");var t=e("i18n"),i=e("pjs"),n=e("underscore_view"),r=e("template!label_view"),s=i(n,function(e,i){e.template=r,e.init=function(e){i.init.call(this),this.model=e.model,this.parentView=e,this.graphSettings=e.graphSettings},e.destruct=function(){this.model.unobserve(".labelview"),this.parentView.updateMathquillAria()},e.didInsertElement=function(){this.$label=this.$(".dcg-label-input"),this.$checkbox=this.$(".dcg-checkbox"),this.$checkboxBox=this.$(".dcg-checkbox-box"),this.$label.on("input",this.onLabelInput.bind(this)),this.$checkbox.on("dcg-tap",this.onCheckboxInput.bind(this)),this.model.observeAndSync("showLabel.labelview",this.renderCheckbox.bind(this)),this.model.observeAndSync("label.labelview",this.renderLabel.bind(this)),this.model.observeAndSync("label.labelview showLabel.labelView",this.renderDisabledLabel.bind(this)),this.updateMathquillAria()},e.renderLabel=function(){var e=this.model.label||"";this.$label.val()!==e&&(this.$label.val(e),this.updateMathquillAria())},e.renderDisabledLabel=function(){var e=0===this.model.label.length&&!this.model.showLabel;this.$label.toggleClass("dcg-disabled-input",e),this.$label.attr("aria-disabled",e)},e.renderCheckbox=function(){this.$checkbox.attr("aria-checked",!!this.model.showLabel),this.$checkboxBox.toggleClass("dcg-checked",!!this.model.showLabel),this.$().toggleClass("dcg-label-visible",!!this.model.showLabel)},e.onLabelInput=function(e){this.model.setProperty("label",e.target.value),this.model.setProperty("showLabel",!!e.target.value),this.updateMathquillAria()},e.onCheckboxInput=function(e){this.model.setProperty("showLabel",!this.model.showLabel),this.updateMathquillAria()},e.t=function(e,i){return t.t(e,i,this.graphSettings.language)},e.updateMathquillAria=function(){var e=this.parentView.mathField;if(e){var t;t=this.model.label&&""!==this.model.label?this.model.label:this.t("Label");var i;i=this.model.showLabel?t:this.t("Hidden __label__",{label:t}),e.setAriaLabel(i)}}});return s}),define("template!expression_item",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",__p+=renderShell?'\n\n<div class="dcg-do-not-blur dcg-expressionitem dcg-shell">\n  <div class=\'dcg-shell\'>\n    <span class="dcg-tab">\n      <span class="dcg-num dcg-variable-index" aria-hidden="true"></span>\n    </span>\n\n    <div class="dcg-expression-item-loading">\n    </div>\n  </div>\n</div>\n\n':'\n\n<div class="dcg-do-not-blur dcg-expressionitem dcg-mathitem">\n  <div class=\'dcg-fade-container\'>\n\n    <div class="dcg-fadeout-left"></div>\n\n    <div class="dcg-main-container">\n      <span class="dcg-valign-bar">\n      </span><span class="dcg-main">\n        <span class="dcg-math-field dcg-transient-mathquill"></span>\n        <span class="dcg-math-field dcg-template-mathquill"></span>\n      </span>\n    </div>\n    <span class="dcg-fadeout"></span>\n    <i class="dcg-icon-remove dcg-top-level-delete dcg-action-delete" handleEvent="true"></i>\n\n    <div class="dcg-slider-speed-container dcg-do-not-blur" handleEvent="true">\n      <span role="button" aria-label="'+(null==(__t=t("Loop Mode"))?"":_.escape(__t))+'" aria-hidden="true" class="dcg-action-toggle-slider-loop-mode">\n        <span class="dcg-toggle-loop-mode-top">\n          <i class="dcg-icon-bottom-arrow"></i>\n        </span>\n        <span class="dcg-toggle-loop-mode-bottom">\n          <i class="dcg-icon-bottom-arrow"></i>\n        </span>\n      </span>\n      <span role="button" aria-label="'+(null==(__t=t("Animate Slower"))?"":_.escape(__t))+'" aria-hidden="true" class="dcg-action-slower" >&laquo;</span>\n      <span class="dcg-variable-speed"></span>\n      <span role="button" aria-label="'+(null==(__t=t("Animate Faster"))?"":_.escape(__t))+'" aria-hidden="true" class="dcg-action-faster">&raquo;</span>\n    </div>\n\n  <span class="dcg-tab dcg-action-drag dcg-action-icon-touch"\n        handleevent="true"\n        tapboundary="true"\n        disablescroll="true"\n  >\n    <span class="dcg-num dcg-variable-index" aria-hidden="true"></span>\n    <span class="dcg-tab-interior dcg-action-icon-mouse">\n      <span class="template-expricon"></span>\n    </span>\n  </span>\n\n    <div class="dcg-template-bottom-container dcg-fixed-width-element">\n      <div class="dcg-template-bottom"></div>\n    </div>\n  </div>\n\n\n  <span class="dcg-exp-actions">\n    <span class="dcg-graphic" handleEvent="true"></span>\n    <nobr>\n      <span class="dcg-action-delete dcg-delete-btn dcg-tooltip" handleEvent="true" tooltip="'+(null==(__t=t("Delete"))?"":_.escape(__t))+'"><i class=\'dcg-icon-remove\'></i></span>\n      <span class="dcg-action-duplicate dcg-duplicate-btn dcg-tooltip" handleEvent="true" tooltip="'+(null==(__t=t("Duplicate"))?"":_.escape(__t))+'"><i class=\'dcg-icon-duplicate\'></i></span>\n      <span class="dcg-action-createtable dcg-tooltip" tooltip="'+(null==(__t=t("Convert to Table"))?"":_.escape(__t))+'" handleEvent="true">\n        <i class=\'dcg-icon-table\'></i>\n      </span>\n    </nobr>\n  </span>\n</div>\n\n',__p+="\n";return __p}}),define("expressions/abstractitem_view",["require","pjs","jquery","mathquill","underscore_view","conditional_blur","i18n"],function(e){var t=e("pjs"),i=e("jquery"),n=e("mathquill"),r=e("underscore_view"),s=e("conditional_blur"),o=e("i18n"),a=t(r,function(e,t){e.init=function(e,i){t.init.call(this),this.model=e,this.listView=i,this.graphSettings=i.graphSettings,this.model.selected&&(this.model.renderShell=!1),this.model.observe("displayIndex.itemview",this.renderDisplayIndex.bind(this)),this.model.observe("selected.itemview",this.renderSelected.bind(this)),this.model.observe("renderShell.itemview",this.rerender.bind(this)),this.model.observe("renderShell.itemview",this.setMinWidth.bind(this)),this.model.observe("folder.itemview",this.renderFolder.bind(this)),this.model.observe("collapsedOrSecret.itemview",this.renderCollapsedOrSecret.bind(this))},e.clearListFocus=function(){this.listView&&this.listView.model&&this.listView.model.setSelected(null)},e.onProjectorModeChange=function(){},e.destruct=function(){this.model.unobserve(".itemview")},e.getTemplateParams=function(){var e=this;return{renderShell:this.model.renderShell,t:function(t,i){return o.t(t,i,e.graphSettings.language)}}},e.setInitialAnimationHeight=function(e){if(!this.$templateBottomContainer.hasClass("dcg-do-animate")){this.$templateBottomContainer.css("height",e);var t=this;setTimeout(function(){t.$templateBottomContainer.addClass("dcg-do-animate")})}},e.animateHeightTimeout=null,e.clearHeightTimeout=null,e.animateHeightTo=function(e){var t=this;clearTimeout(this.animateHeightTimeout),this.animateHeightTimeout=setTimeout(function(){t.$templateBottomContainer.css("height",e),t.$templateBottom.toggleClass("dcg-faded-in",e>0)},250),clearTimeout(this.clearHeightTimeout),this.clearHeightTimeout=setTimeout(function(){t.$templateBottomContainer.css("height","auto"),t.$templateBottomContainer.removeClass("dcg-do-animate")},550)},e.templateBottomItems=0,e.addViewToBottom=function(e){if(this.$templateBottom){if(this.templateBottomItems++,!this.doAnimate||this.templateBottomItems>1)return this.$templateBottom.addClass("dcg-faded-in"),void e.appendTo(this.$templateBottom);this.setInitialAnimationHeight(0),e.appendTo(this.$templateBottom),this.animateHeightTo(e.$().height())}},e.removeViewFromBottom=function(e){if(this.$templateBottom){if(this.templateBottomItems--,this.templateBottomItems>0)return void e.remove();if(!this.doAnimate)return this.$templateBottom.removeClass("dcg-faded-in"),void e.remove();this.setInitialAnimationHeight(this.$templateBottom.height()),e.remove(),this.animateHeightTo(0)}},e.renderDisplayIndex=function(){this.$(".dcg-variable-index").text(this.model.displayIndex)},e.renderFolder=function(){this.$().toggleClass("dcg-inFolder",!!this.model.folder)},e.renderCollapsedOrSecret=function(){this.$().toggleClass("dcg-collapsedOrSecret",!!this.model.collapsedOrSecret)},e.renderSelected=function(){this.model.selected&&this.model.renderShell&&this.model.setProperty("renderShell",!1),this.$().toggleClass("dcg-selected",!!this.model.selected)},e.setMinWidth=function(){this.$(".dcg-fixed-width-element").css("width",this.listView.minWidth-this.listView.scrollbarWidth)},e.didCreateElement=function(){this.setMinWidth(),this.$templateBottom=this.$(".dcg-template-bottom"),this.$templateBottomContainer=this.$(".dcg-template-bottom-container")},e.didInsertElement=function(){t.didInsertElement.call(this);var e=this;this.$().on("dcg-tap dcg-tapstart",function(t){"dcg-tap"===t.type&&"mouse"===t.device||"dcg-tapstart"===t.type&&"touch"===t.device||e.onMouseSelect(t)}),this.$(".dcg-action-drag").css("touch-action","none"),this.$(".dcg-action-drag").on("dcg-tapstart",this.onDragPending.bind(this)),this.$(".dcg-action-delete").on("dcg-tap",this.onDelete.bind(this)),this.$().attr("expr-id",this.model.id),this.renderDisplayIndex(),this.renderSelected(),this.renderFolder(),this.renderCollapsedOrSecret()},e.triggerDelete=function(){},e.triggerEnterPressed=function(){},e.triggerUpPressed=function(){},e.triggerDownPressed=function(){},e.triggerBackspacePressed=function(){},e.triggerDelPressed=function(){},e.onMouseSelect=function(){},e.sendTapToMathQuill=function(e,t){if("mouse"===e.device&&e.preventDefault(),"mouse"===e.device){if(i.contains(t[0],e.target))return;var r=i.event.fix(e.originalEvent);t.triggerHandler(r)}else{var s=e.originalEvent.changedTouches[0];n(t[0]).clickAt(s.clientX,s.clientY,s.target),n(t[0]).focus();var o,a=setTimeout(function(){a=null,o=Date.now()});n(t[0]).ignoreNextMousedown(function(){return a||Date.now()-o<500})}},e.onDelete=function(){this.triggerDelete()},e.convertTo=function(e,t){var i=e(t,this.listView.model),n=this.model.index,r=this.model.list,s=this.model.folder;return i.setProperty("list",r),r.undoRedo.oneTransaction(function(){r.removeItemAt(n),r.insertItemAt(n,i),s&&s.addItem(i)}),i},e.getBounds=function(){var e=this.$(),t=e.offset();if(!t)return null;var i=t.top,n=e.height();return{top:i,bottom:i+n}},e.allowDragDrop=function(){return!0},e.onDragPending=function(e){if(e.preventDefault(),s(),this.allowDragDrop()){var t=this;this.mouseMovedTo=null;var n=setTimeout(function(){i(document).off(".dragpending"),t.onDragStart(e)},500);i(document).on("dcg-tapmove.dragpending",function(r){t.mouseMovedTo=r.touches[0];var s=e.touches[0].x-t.mouseMovedTo.x,o=e.touches[0].y-t.mouseMovedTo.y;Math.sqrt(s*s+o*o)>3&&(clearTimeout(n),i(document).off(".dragpending"),t.onDragStart(e))}),i(document).on("dcg-tapend.dragpending",function(e){clearTimeout(n),i(document).off(".dragpending")})}},e.onDragStart=function(e){this.allowDragDrop()&&(this.listView.dragdrop_expressions.start(e,this),this.mouseMovedTo&&(this.hideContextMenu(),this.listView.dragdrop_expressions.drag(this.mouseMovedTo.x,this.mouseMovedTo.y)))},e.hideContextMenu=function(){this.triggerEvent("hideContextMenu")},e.addFocus=function(e){},e.isFocused=function(){return!1}});return a}),define("expressions/expression_view",["require","jquery","lib/aria","pjs","./expression_icon_view","expressions/evaluation","expressions/unresolved","expressions/domain_view","expressions/regression_view","expressions/slider_view","expressions/promptslider_view","expressions/label_view","./expression","graphing/columnmode","i18n","conditional_blur","config","graphing/label","./text","./table","mathquill","jquery.handleevent","keys","template!expression_item","expressions/abstractitem_view"],function(e){var t=e("jquery"),i=e("lib/aria"),n=e("pjs"),r=e("./expression_icon_view"),s=e("expressions/evaluation"),o=e("expressions/unresolved"),a=e("expressions/domain_view"),l=e("expressions/regression_view"),c=e("expressions/slider_view"),u=e("expressions/promptslider_view"),h=e("expressions/label_view"),d=e("./expression"),p=e("graphing/columnmode"),f=e("i18n"),g=e("conditional_blur"),m=e("config"),v=e("graphing/label"),y=e("./text"),b=e("./table"),x=e("mathquill");e("jquery.handleevent");var _=e("keys"),w=e("template!expression_item"),S=e("expressions/abstractitem_view"),E=n(S,function(e,n){e.template=w,e.init=function(e,t){n.init.call(this,e,t),this.model.observe("formula.exprview",this.onFormulaChange.bind(this)),this.model.observe("selected.exprview",this.onSelectedChange.bind(this)),this.model.observe("latex.exprview",this.onLatexChange.bind(this)),this.model.observe("dependent.exprview",this.renderDependent.bind(this)),this.model.observe("isTableable.exprview",this.renderIsTableable.bind(this)),this.model.observe("unresolved.exprview",this.renderUnresolved.bind(this)),this.model.observe("loading.exprview",this.onLoadingChange.bind(this)),this.model.observe("displayIndex.exprview",this.updateMathquillAria.bind(this))},e.t=function(e,t){return f.t(e,t,this.graphSettings.language)},e.onLoadingChange=function(){if(!this.model.loading){var e=this;setTimeout(function(){e.setProperty("doAnimate",!0)})}},e.renderIsTableable=function(){this.$(".dcg-action-createtable").toggleClass("dcg-disabled",!this.model.isTableable)},e.destruct=function(){n.destruct.call(this),this.model.unobserve(".exprview"),this.iconView&&(this.iconView.remove(),this.iconView=null),this.sliderView&&(this.sliderView.remove(),this.sliderView=null),this.promptSliderView&&(this.promptSliderView.remove(),this.promptSliderView=null),this.domainView&&(this.domainView.remove(),this.domainView=null),this.regressionView&&(this.regressionView.remove(),this.regressionView=null),this.evaluationView&&(this.evaluationView.remove(),this.evaluationView=null),this.unresolvedView&&(this.unresolvedView.remove(),this.unresolvedView=null),this.labelView&&(this.labelView.remove(),this.labelView=null),this.$mathField&&this.$mathField.remove(),this.$transientLhs&&this.$transientLhs.remove(),this.$transientValue&&this.$transientValue.remove()},e.onLatexChange=function(){if(this.sliderView&&this.sliderView.slider.transient)return void this.updateTransientValue();var e=this.model.latex;return'"'===e&&this.graphSettings.config.notes?(this.convertTo(y,{selected:!0}),void this.listView.getSelectedView().addFocus()):(""===e&&this.model.hidden&&this.model.setProperty("hidden",!1),this.listView.onLatexChange(e),this.updateMathquill(),void this.updateFormulaAria())},e.updateMathquill=function(){if(this.mathField){var e=this.model.latex;void 0!==e&&this.mathField.latex()!==e&&this.mathField.latex(e)}},e.updateMathquillAria=function(){var e=this.t("Expression __index__",{index:this.model.displayIndex});this.mathField&&this.mathField.setAriaLabel(e),this.transientLhs&&this.transientLhs.setAriaLabel(e)},e.updateTransientValue=function(){if(this.$transientValue&&this.$transientValue.length){var e=this.model.slider.computeSnappedValue(this.model.slider.value).toString();this.$transientValue[0].innerHTML=e.replace("-",'<span class="unary-operator">−</span>'),this.transientLhs.setAriaPostLabel(e)}},e.createIconView=function(){return r(this)},e.createSliderView=function(){return c(this.model.slider,this)},e.createPromptSliderView=function(){return u(this)},e.createDomainView=function(){return a(this.model.domain,this)},e.createRegressionView=function(){return l(this.model,this.listView)},e.createEvaluationView=function(){return s(this)},e.createLabelView=function(){return h(this)},e.onFormulaChange=function(){if(!this.model.renderShell){var e=this.model.formula,t=e.is_slidable;this.sliderView&&!t?(this.sliderView.slider.unobserve(".expressionView"),this.removeViewFromBottom(this.sliderView),this.sliderView=null,this.$().removeClass("dcg-hasSlider")):!this.sliderView&&t&&(this.sliderView=this.createSliderView(),this.sliderView&&(this.addViewToBottom(this.sliderView),this.sliderView.setProperty("dependentLabel",this.getDependentLabel()),this.$().addClass("dcg-hasSlider"),this.sliderView.slider.observe("transient.expressionView",this.updateTransient.bind(this)),this.updateTransient()));var i=e.variables&&e.variables.length>0&&!e.is_single_identifier;this.promptSliderView&&!i?(this.removeViewFromBottom(this.promptSliderView),this.promptSliderView=null):!this.promptSliderView&&i&&(this.promptSliderView=this.createPromptSliderView(),this.promptSliderView&&this.addViewToBottom(this.promptSliderView));var n=e.is_parametric;this.domainView&&!n?(this.removeViewFromBottom(this.domainView),this.domainView=null,this.$().removeClass("dcg-hasDomain")):!this.domainView&&n&&(this.domainView=this.createDomainView(),this.domainView&&(this.addViewToBottom(this.domainView),this.$().addClass("dcg-hasDomain")));var r=e.is_regression;this.regressionView&&!r?(this.removeViewFromBottom(this.regressionView),this.regressionView=null,this.$().removeClass("dcg-hasRegression")):!this.regressionView&&r&&(this.regressionView=this.createRegressionView(),this.addViewToBottom(this.regressionView),this.$().addClass("dcg-hasRegression"));var s=m.get("labels")&&e.is_point_list;this.labelView&&!s?(this.removeViewFromBottom(this.labelView),this.labelView=null):!this.labelView&&s&&(this.labelView=this.createLabelView(),this.addViewToBottom(this.labelView));var o=e.is_evaluable&&e.zero_values&&e.zero_values.length>0&&"boolean"!=typeof e.zero_values[0].val;this.evaluationView&&!o?(this.removeViewFromBottom(this.evaluationView),this.evaluationView=null):!this.evaluationView&&o&&(this.evaluationView=this.createEvaluationView(),this.evaluationView&&(this.addViewToBottom(this.evaluationView),this.$().addClass(".dcg-hasEvaluation"),this.evaluationView.setProperty("dependentLabel",this.getDependentLabel()))),this.promptSliderView&&this.promptSliderView.setProperty("variables",e.variables),this.evaluationView&&this.evaluationView.setProperty("evaluations",e.zero_values),this.regressionView&&this.regressionView.setProperty("regression",e.regression),this.updateFormulaAria()}},e.updateFormulaAria=function(){var e=this.model.formula,t="";this.evaluationView&&(t=this.evaluationView.evaluationAria),""!==t?t="equals "+t:e.error&&!this.promptSliderView&&(t=f.unpack(e.error,this.listView.graphSettings.language)),this.mathField&&this.mathField.setAriaPostLabel(t),this.speakFormulaMessage(t)},e.speakFormulaMessage=function(e){var t,n=this;t=this.model.formula&&this.model.formula.error?5e3:1e3,this.alertTimeout&&clearTimeout(this.alertTimeout),this.alertTimeout=setTimeout(function(){n.model.selected&&n.mathField&&i.alert(e),n.alertTimeout=null},t)},e.renderDependent=function(){this.sliderView&&this.sliderView.setProperty("dependentLabel",this.getDependentLabel()),this.evaluationView&&this.evaluationView.setProperty("dependentLabel",this.getDependentLabel())},e.renderUnresolved=function(){var e=this.model.unresolved;!e&&this.unresolvedView&&(this.unresolvedView.remove(),this.unresolvedView=null),e&&!this.unresolvedView&&(this.unresolvedView=o(),this.addViewToBottom(this.unresolvedView))},e.didInsertElement=function(){n.didInsertElement.call(this),this.model.renderShell||(this.$mathField=this.$(".dcg-template-mathquill"),this.mathField=x.MathField(this.$mathField[0]),this.$transientLhs=this.$(".dcg-transient-mathquill"),this.transientLhs=x.MathField(this.$transientLhs[0]),this.$transientLhs.hide(),this.$transientValue=t("<span>"),this.$mathField.on("render upPressed downPressed enterPressed backspacePressed delPressed keydown focusin focus",this.onMathquillEvent.bind(this)),this.$transientLhs.on("dcg-tapstart, focusin",this.onSelectTransient.bind(this)),this.mathField.latex(this.model.latex||""),this.updateMathquillAria(),this.iconView=this.createIconView(),this.iconView&&this.iconView.replace(this.$(".template-expricon")),this.$(".dcg-action-duplicate").on("dcg-tap",this.onDuplicateWithoutFocus.bind(this)),this.$(".dcg-action-createtable").on("dcg-tap",this.onCreateTable.bind(this)),this.$(".dcg-action-faster").on("dcg-tap",this.animateFaster.bind(this)),this.$(".dcg-action-slower").on("dcg-tap",this.animateSlower.bind(this)),this.$(".dcg-action-toggle-slider-loop-mode").on("dcg-tap",this.toggleSliderLoopMode.bind(this)),this.renderIsTableable(),this.onFormulaChange())},e.animateFaster=function(){this.sliderView&&this.sliderView.animateFaster()},e.animateSlower=function(){this.sliderView&&this.sliderView.animateSlower()},e.toggleSliderLoopMode=function(){this.sliderView&&this.sliderView.toggleLoopMode()},e.onSelectedChange=function(){!this.model.selected&&this.mathField&&this.mathField.clearSelection().blur(),this.model.needsReflow&&this.$mathField&&this.mathField&&(this.$mathField.on("render.reflow",function(){this.mathField.reflow(),this.$mathField.off("render.reflow")}.bind(this)),this.model.needsReflow=!1)},e.onSelectTransient=function(){this.stopTransient(),this.mathField.focus()},e.onMathquillEvent=function(e){switch(e.type){case"render":return void this.model.setProperty("latex",this.mathField.latex());case"focus":case"focusin":return this.sliderView&&this.sliderView.slider.setProperty("isPlaying",!1),void this.model.setProperty("selected",!0);case"upPressed":return void this.triggerUpPressed();case"downPressed":return void this.triggerDownPressed();case"enterPressed":return void(this.promptSliderView?this.promptSliderView.createAllSliders({addAndFocusBlank:!0}):this.triggerEnterPressed());case"backspacePressed":if(!this.model.isEmpty())return;return void this.triggerBackspacePressed();case"delPressed":if(!this.model.isEmpty())return;return void this.triggerDelPressed();case"keydown":return void(_.lookup(e)===_.ESCAPE&&g())}},e.onDuplicateWithoutFocus=function(){var e=this.model.index,t=this.model.getState();t.selected=!1,delete t.id;var i=this.model.list,n=this.model.folder,r=d(t,i);return i.undoRedo.oneTransaction(function(){i.insertItemAt(e+1,r),n&&n.addItem(r)}),r},e.onMouseSelect=function(e){this.listView.editListMode||e.wasHandled()||(e.handle(),this.model.setProperty("selected",!0),this.sendTapToMathQuill(e,this.$mathField))},e.getDependentLabel=function(){var e=this.model.dependent;return e?(e=v.identifierToLatex(e),e=x.MathField(t("<span>"+e+"</span>")[0]).html(),e="<span class='dcg-mq-math-mode'>"+e+"</span>"):""};var S=function(e){return e.replace(RegExp("=[^=]+$"),"=")};e.startTransient=function(){this.setProperty("transient",!0),this.updateTransientValue(),this.$transientLhs.show(),this.$mathField.hide(),this.transientLhs.latex(S(this.model.latex)),this.$transientLhs.children(".dcg-mq-root-block").append(this.$transientValue)},e.stopTransient=function(){this.setProperty("transient",!1),this.$transientValue.remove(),this.$transientLhs.hide(),this.$mathField.show(),this.updateMathquill()},e.updateTransient=function(){this.$transientValue&&this.$transientValue.length&&(this.sliderView.slider.transient?this.startTransient():this.stopTransient())},e.isFocused=function(){return 0!==t(document.activeElement).closest(this.$mathField).length},e.addFocus=function(e){this.model.renderShell&&this.model.setProperty("renderShell",!1),this.mathField&&this.mathField.focus().moveToDirEnd("start"===e?x.L:x.R)},e.onCreateTable=function(){var e=this.model.formula;if(this.model.isTableable){var t=e.table_info,i=this.model.index,n={selected:!0},r=p.POINTS_AND_LINES;(e.is_point_list||this.model.hidden)&&(r=p.POINTS);var s,o=[],a=[];if(t.values)for(s=0;s<t.values.length;s++)o.push(t.values[s][0]),a.push(t.values[s][1]);else for(s=-2;s<=2;s++)o.push(s),a.push("");n.columns=[{latex:t.independent_variable,values:o},{latex:t.dependent_column,color:this.model.color,hidden:!1,columnMode:r,values:a}];var l=this.model.list,c=this.listView,u=this.model.folder?this.model.folder.id:null;c.setProperty("editListMode",!1),l.undoRedo.oneTransaction(function(){t.by_reference||(l.removeItemAt(i),i--);var e=b(n,l);l.insertItemAt(i+1,e),null!==u&&l.getItemById(u).addItem(e)});var h=function(){l.undoRedo.undo(),c.setProperty("editListMode",!0)};this.listView.toastView.show(this.t("Table created."),{undoCallback:h})}}});return E}),define("template!text",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",__p+=renderShell?'\n\n<div class="dcg-do-not-blur dcg-expressionitem dcg-expressiontext dcg-shell">\n  <div class=\'dcg-shell\'>\n    <span class="dcg-tab">\n      <span class="dcg-num dcg-variable-index"></span>\n    </span>\n\n    <div class="dcg-expression-item-loading">\n    </div>\n  </div>\n</div>\n\n':'\n\n<div class="dcg-do-not-blur dcg-expressiontext dcg-expressionitem">\n  <div class=\'dcg-fade-container\'>\n\n    <span class="dcg-main">\n      <div class="dcg-smart-textarea-placeholder"></div>\n    </span>\n    <i class="dcg-icon-remove dcg-top-level-delete dcg-action-delete" handleEvent="true"></i>\n\n  </div>\n\n  <span class="dcg-tab dcg-action-drag"\n        handleevent="true"\n        tapboundary="true"\n        disablescroll="true"\n  >\n    <span class=\'dcg-num dcg-variable-index\'></span>\n    <div class=\'dcg-tab-interior\'></div>\n    <i class=\'dcg-icon-text\'></i>\n  </span>\n\n  <span class=\'dcg-exp-actions\'>\n    <span\n      class="dcg-action-delete dcg-delete-btn dcg-tooltip"\n      handleEvent="true"\n      tooltip="'+(null==(__t=t("Delete"))?"":_.escape(__t))+"\"\n    >\n      <i class='dcg-icon-remove'></i>\n    </span>\n  </span>\n\n</div>\n\n",
    __p+="";return __p}}),define("loadcss!smart_textarea",function(){}),define("template!smart_textarea",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="dcg-smart-textarea-container">\n  <div class="dcg-displayTextarea dcg-fixed-width-element"></div>\n  <textarea class="dcg-do-blur dcg-fixed-width-element dcg-smart-textarea" placeholder="'+(null==(__t=t("enter a note..."))?"":_.escape(__t))+'"></textarea>\n</div>';return __p}}),define("expressions/smart_textarea",["require","loadcss!smart_textarea","jquery","pjs","underscore_view","browser","jquery.handleevent","keys","conditional_blur","i18n","template!smart_textarea"],function(e){e("loadcss!smart_textarea");var t=e("jquery"),i=e("pjs"),n=e("underscore_view"),r=e("browser");e("jquery.handleevent");var s=e("keys"),o=e("conditional_blur"),a=e("i18n"),l=e("template!smart_textarea"),c=i(n,function(e,i){e.template=l,e.init=function(e,t){i.init.call(this),this.graphSettings=t,this.$textarea=null,this.$displayText=null,this.setProperty("text",e||"")},e.getTemplateParams=function(){var e=this;return{t:function(t,i){return a.t(t,i,e.graphSettings.language)}}},e.didCreateElement=function(){i.didCreateElement.call(this),this.$textarea=this.$(".dcg-smart-textarea"),this.$displayText=this.$(".dcg-displayTextarea"),this.observe("text",this.renderText.bind(this)),this.$textarea.on("input propertychange change",function(e){this.setProperty("text",this.$textarea.val())}.bind(this)),this.$textarea.on("keydown",this.onKeydownEvent.bind(this)),this.$displayText.on("touchend",function(e){e.preventDefault()}),this.$displayText.on("dcg-tap dcg-tapstart","a",function(e){e.handle()}),this.$textarea.on("dcg-tapstart",function(e){e.handle()}.bind(this)),this.$textarea.focus(function(){this.setProperty("focused",!0)}.bind(this)),this.$textarea.blur(function(){this.setProperty("focused",!1)}.bind(this))},e.didInsertElement=function(){i.didInsertElement.call(this),this.renderText()},e.onKeydownEvent=function(e){if(this.$textarea){var t=this.$textarea[0],i=s.lookup(e);i!==s.ENTER||e.metaKey?i===s.ESCAPE?o():i===s.UP?0===t.selectionStart&&0===t.selectionEnd&&(e.preventDefault(),this.triggerEvent("upPressed")):i===s.DOWN?t.selectionStart===t.value.length&&t.selectionEnd===t.value.length&&(e.preventDefault(),this.triggerEvent("downPressed")):i===s.BACKSPACE?0===t.value.length&&(e.preventDefault(),this.triggerEvent("backspacePressed")):i===s.DELETE&&0===t.value.length&&(e.preventDefault(),this.triggerEvent("delPressed")):(e.preventDefault(),this.triggerEvent("enterPressed"))}},e.destruct=function(){this.blur()},e.markedUpText=function(){var e=this.text||"";if(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),!this.graphSettings.config.links)return e;var t=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return e=e.replace(t,"<a href='$1' target ='_blank'>$1</a>")},e.renderText=function(){this.$textarea&&(this.$textarea.val(this.text),this.$displayText.html(this.markedUpText()),this.fitText(),this.$textarea.toggleClass("dcg-empty",!this.text),setTimeout(this.fitText.bind(this),1))},e.fitText=function(){if(this.$displayText){var e=this.$displayText.outerHeight();e>0&&this.$textarea.css("height",e)}},e.isFocused=function(){return 0!==t(document.activeElement).closest(this.$()).length},e.blur=function(){this.$textarea&&this.$textarea.blur()},e.addFocus=function(e){if(!r.IS_IPAD||!r.IS_IN_IFRAME){var t=this.$textarea[0];t.focus(),"end"===e?t.selectionStart=t.selectionEnd=t.value.length:"start"===e&&(t.selectionStart=t.selectionEnd=0)}}});return c}),define("expressions/text_view",["require","jquery","pjs","./abstractitem_view","template!text","./smart_textarea","jquery.handleevent"],function(e){var t=e("jquery"),i=e("pjs"),n=e("./abstractitem_view"),r=e("template!text"),s=e("./smart_textarea");e("jquery.handleevent");var o=i(n,function(e,i){e.template=r,e.init=function(e,t){i.init.call(this,e,t),this.model.observe("selected.textview",this.onSelectedChange.bind(this)),this.smartTextarea=s(this.model.text,this.listView.graphSettings),this.model.observe("text.textview",function(){this.smartTextarea.setProperty("text",this.model.text)}.bind(this)),this.smartTextarea.observe("text",function(){this.model.setProperty("text",this.smartTextarea.text)}.bind(this)),this.model.observe("collapsedOrSecret.textview",function(){this.model.collapsedOrSecret||this.smartTextarea.fitText()}.bind(this))},e.destruct=function(){this.model.unobserve(".textview"),this.smartTextarea.destruct()},e.onProjectorModeChange=function(){this.smartTextarea.fitText()},e.didInsertElement=function(){i.didInsertElement.call(this),this.model.renderShell||(this.smartTextarea.replace(this.$(".dcg-smart-textarea-placeholder")),this.smartTextarea.observe("focused",function(){this.smartTextarea.focused&&this.model.setProperty("selected",!0)}.bind(this)),this.smartTextarea.observeEvent("enterPressed",this.triggerEnterPressed.bind(this)),this.smartTextarea.observeEvent("upPressed",this.triggerUpPressed.bind(this)),this.smartTextarea.observeEvent("downPressed",this.triggerDownPressed.bind(this)),this.smartTextarea.observeEvent("backspacePressed",this.triggerBackspacePressed.bind(this)),this.smartTextarea.observeEvent("delPressed",this.triggerDelPressed.bind(this)),this.setMinWidth())},e.onSelectedChange=function(){this.model.selected||this.smartTextarea.blur()},e.onMouseSelect=function(e){e.wasHandled()||(e.handle(),this.model.setProperty("selected",!0))},e.isFocused=function(){return 0!==t(document.activeElement).closest(this.$()).length},e.addFocus=function(e){this.smartTextarea.addFocus(e)}});return o}),define("loadcss!expressions.table",function(){}),define("expressions/tables/div-cell-view",["require","pjs","underscore_view"],function(e){var t=e("pjs"),i=e("underscore_view"),n=t(i,function(e,t){e.init=function(){t.init.call(this)},e.lookupCellPosition=function(){}});return n}),define("template!table_cell_body",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="dcg-empty dcg-cell">\n  <div class="dcg-inner-border"></div>\n  <span class="dcg-error-indicator dcg-do-not-blur tipsy-sticky" handleevent="true">\n  </span>\n\n  <span class="dcg-math-field dcg-cell-math-content"></span>\n  <div class="dcg-empty-line"></div>\n</div>\n';return __p}}),define("expressions/tables/base-cell-view",["require","pjs","./div-cell-view","template!table_cell_body","lib/aria","i18n","jquery","underscore"],function(e){var t=e("pjs"),i=e("./div-cell-view"),n=e("template!table_cell_body"),r=e("lib/aria"),s=e("i18n"),o=e("jquery"),a=e("underscore"),l=t(i,function(e,t){e.template=n,e.init=function(e,i){t.init.call(this),this.model=e,this.tableView=i,this.model.observe("index.cellview",this.setAriaCoordinates.bind(this)),this.__renderedDisabled=!1,this.__renderedValue="",this.__renderedError=""},e.destruct=function(){this.model.unobserve(".cellview")},e.setAriaCoordinates=function(){this.mathField&&this.mathField.setAriaLabel(this.getAriaCoordinateString())},e.getAriaCoordinateString=function(){var e=this.lookupCellPosition(),t=e.row,i=e.column+1;return this.tableView.t("Row __row__ Col __column__",{row:t,column:i})},e.updateStaticValueAria=function(){if(this.mathField||this.staticValue){var e=o(this.staticValue.el()),t=this.getAriaCoordinateString()+": "+this.model.value+" "+this.tableView.t("read only").replace(/ +/gi," ").trim();e.attr("aria-label",t)}},e.lookupCellPosition=function(){var e=this.model.column.cells,t=this.model;return{row:a.indexOf(e,t)+1,column:this.model.column.index}},e.onValueChange=function(){var e=this.model.value;this.$().toggleClass("dcg-empty",!e),this.mathField&&this.__renderedValue!==e&&(this.__renderedValue=e,this.__renderedDisabled?(this.staticValue.latex(e),o(this.staticValue.el()).attr("tabindex",""!==e?0:-1),this.updateStaticValueAria()):this.mathField.latex(e))},e.onDisabledChange=function(){var e=!!this.model.column.disabled;this.mathField&&this.__renderedDisabled!==e&&(this.__renderedDisabled=e,this.$().toggleClass("dcg-non-editable",!!e),e?(o(this.mathField.el()).before(this.staticValue.latex(this.model.value||"").el()).detach(),this.updateStaticValueAria()):o(this.staticValue.el()).before(this.mathField.latex(this.model.value||"").el()).detach())},e.onErrorChange=function(){var e=this.model.error?s.unpack(this.model.error):"";this.$error&&this.__renderedError!==e&&(this.__renderedError=e,this.mathField&&this.mathField.setAriaPostLabel(e),r.alert(e),this.$error.attr("tooltip",e),this.$().toggleClass("dcg-error",!!e))}});return l}),define("expressions/tables/cell-view",["require","pjs","./base-cell-view","mathquill","jquery"],function(e){var t=e("pjs"),i=e("./base-cell-view"),n=e("mathquill"),r=e("jquery"),s=t(i,function(e,t){e.init=function(e,i){t.init.call(this,e,i),this.model.observe("value.cellview",this.onValueChange.bind(this)),this.model.observe("error.cellview",this.onErrorChange.bind(this)),this.model.column.observe("disabled."+this.guid,this.onDisabledChange.bind(this))},e.destruct=function(){this.model.unobserve(".cellview"),this.model.column.unobserve("disabled."+this.guid)},e.didInsertElement=function(){t.didInsertElement.call(this),this.$error=this.$(".dcg-error-indicator"),this.mathField=n.MathField(this.$(".dcg-math-field")[0]),this.setAriaCoordinates(),this.staticValue=n.StaticMath(r('<span class="dcg-cell-math-content">')[0]),this.onDisabledChange(),this.onValueChange(),this.onErrorChange();var e=this;this.$().on("focus focusin",".dcg-math-field",function(){e.setAriaCoordinates()}),this.$().on("blur focusout",".dcg-math-field",function(){e.mathField.clearSelection()}),this.$().on("focus focusin",".dcg-cell-math-content",function(){e.updateStaticValueAria()}),this.$().on("render",".dcg-math-field",function(){function t(){var e=a.getItemById(s),t=e.columns[o.column];return t.cells[o.row-1]}var i=e.model.value,r=n(this).latex();if(i!==r){e.__renderedValue=r;var s=e.model.column.table.id,o=e.lookupCellPosition(),a=e.tableView.listView.model;a.undoRedo.performAndAddTransaction({undo:function(){var e=t();e.setProperty("value",i),e.column.table.requestParse()},redo:function(){var e=t();e.setProperty("value",r),e.column.table.requestParse()}})}})}});return s}),define("template!table_cell_header",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="dcg-cell dcg-table-header">\n  <div class="dcg-inner-border"></div>\n  <span class="template-icon"></span>\n  <span class="dcg-math-field dcg-cell-math-content"></span>\n  <span class="dcg-drag-icon">\n    <i class="dcg-icon-move"></i>\n    <i class="dcg-icon-move-horizontal"></i>\n    <i class="dcg-icon-move-vertical"></i>\n  </span>\n  <div class="dcg-empty-line"></div>\n</div>\n';return __p}}),define("template!table_icon",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<span class="dcg-icon-box dcg-variable-errortooltip tipsy-sticky dcg-action-icon dcg-do-not-blur" \n      handleevent="true"\n      disablescroll="true"\n>\n  <span class="dcg-icon dcg-graph-icon dcg-variable-colorcss">\n    <i class=\'dcg-icon-hidden\'></i>\n  </span>\n</span>';return __p}}),define("template!table_column_menu",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<div class='dcg-table-column-menu dcg-options-menu'>\n  <div class='dcg-triangle'></div>\n  <div class='dcg-styles-div'>\n    <div class='dcg-title'>"+(null==(__t=t("style:"))?"":_.escape(__t))+"</div>\n    <div>\n      <span class='dcg-columnmode-option dcg-graph-icon dcg-table-points dcg-variable-colorcss' mode=\"POINTS\"></span>\n      <span class='dcg-columnmode-option dcg-graph-icon dcg-table-lines dcg-variable-colorcss' mode=\"LINES\"></span>\n      <span class='dcg-columnmode-option dcg-graph-icon dcg-table-points-and-lines dcg-variable-colorcss' mode=\"POINTS_AND_LINES\"></span>\n    </div>\n  </div>\n  <div class='dcg-drag-div'>\n    <div class='dcg-title'>"+(null==(__t=t("drag:"))?"":_.escape(__t))+"</div>\n    <div>\n      <span class='dcg-dragmode-option dcg-graph-icon dcg-variable-colorcss' mode=\"Y\"></span>\n      <span class='dcg-dragmode-option dcg-graph-icon dcg-variable-colorcss' mode=\"X\"></span>\n      <span class='dcg-dragmode-option dcg-graph-icon dcg-variable-colorcss' mode=\"XY\"></span>\n    </div>\n  </div>\n  <div class='dcg-colors-div'>\n    <div class='dcg-title'>"+(null==(__t=t("color:"))?"":_.escape(__t))+'</div>\n    <div class="template-colorsview"></div>\n  </div>\n</div>';return __p}}),define("expressions/tables/table_column_menu_view",["require","pjs","underscore_view","template!table_column_menu","jquery","graphing/dragmode","../color_menu_view","i18n"],function(e){var t=e("pjs"),i=e("underscore_view"),n=e("template!table_column_menu"),r=e("jquery"),s=e("graphing/dragmode"),o=e("../color_menu_view"),a=e("i18n"),l=t(i,function(e,t){e.template=n,e.init=function(e,i){t.init.call(this),this.column=i,this.parentView=e},e.getTemplateParams=function(){var e=this;return{t:function(t,i){return a.t(t,i,e.parentView.listView.graphSettings.language)}}},e.onLanguageChange=function(){this.rerender()},e.destruct=function(){this.column.unobserve(this.guid)},e.renderColorCSS=function(){var e=this.column.color;this.$(".dcg-variable-colorcss").css({"border-color":e,"background-color":e})},e.renderSelectedColumnMode=function(){if(this.$(".dcg-columnmode-option").removeClass("dcg-selected"),this.column.shouldGraph){var e=this.column.columnMode;this.$('.dcg-columnmode-option[mode="'+e+'"]').addClass("dcg-selected")}},e.renderSelectedDragMode=function(){this.$(".dcg-dragmode-option").removeClass("dcg-selected"),this.$('.dcg-dragmode-option[mode="'+this.column.dragMode+'"]').addClass("dcg-selected")},e.renderDragModeVisible=function(){this.$(".dcg-drag-div").toggle(!!this.column.draggable)},e.didCreateElement=function(){t.didCreateElement.call(this),this.$().on("dcg-tap",".dcg-columnmode-option",this.onSelectColumnMode.bind(this)),this.$().on("dcg-tap",".dcg-dragmode-option",this.onSelectDragMode.bind(this));var e=this,i=this.column;i.observeAndSync("color."+this.guid,function(){e.renderColorCSS()}),i.observeAndSync("dragMode."+this.guid,function(){e.renderSelectedDragMode()}),i.observeAndSync("draggable."+this.guid,function(){e.renderDragModeVisible()}),i.observeAndSync("columnMode."+this.guid+" shouldGraph."+this.guid,function(){e.renderSelectedColumnMode()});var n=o(this.column);n.replace(this.$(".template-colorsview"))},e.onSelectColumnMode=function(e){var t=r(e.target).closest(".dcg-columnmode-option").attr("mode");if(!this.column.hidden&&this.column.columnMode===t)return void this.column.setProperty("hidden",!0);this.column.setProperty("columnMode",t),this.column.setProperty("hidden",!1);var i=this.column.table.folder;i&&i.setProperty("hidden",!1)},e.onSelectDragMode=function(e){var t=r(e.target).closest(".dcg-dragmode-option").attr("mode");this.column.dragMode!==t?(this.column.setProperty("dragMode",t),this.column.setProperty("hidden",!1)):this.column.setProperty("dragMode",s.NONE)}});return l}),define("expressions/tables/table_icon_view",["require","../abstract_icon","pjs","template!table_icon","graphing/columnmode","./table_column_menu_view","jquery.handleevent","conditional_blur"],function(e){var t=e("../abstract_icon"),i=e("pjs"),n=e("template!table_icon"),r=e("graphing/columnmode"),s=e("./table_column_menu_view");e("jquery.handleevent");var o=e("conditional_blur"),a=i(t,function(e,t){e.template=n,e.init=function(e){t.init.call(this,e),this.column=this.model,this.tableView=e.tableView,this.listView=this.tableView.listView,this.column.observe("color.iconview",this.renderColorCSS.bind(this)),this.column.observe("error.iconview",this.onDisplayChange.bind(this)),this.column.observe("columnMode.iconview",this.onDisplayChange.bind(this)),this.column.observe("shouldGraph.iconview",this.onDisplayChange.bind(this)),this.tableView.observeEvent("hideContextMenu.iconview",this.hideOptions.bind(this))},e.destruct=function(){t.destruct.call(this),this.column.unobserve(".iconview"),this.tableView.unobserve(".iconview")},e.renderErrorShown=function(){this.$(".dcg-icon").toggleClass("dcg-error",!!this.errorShown),this.$().closest(".dcg-cell").toggleClass("dcg-error",!!this.errorShown)},e.renderColorCSS=function(){this.$(".dcg-variable-colorcss").css("border-color",this.column.color),this.$(".dcg-variable-colorcss").css("background",this.column.color)},e.toggleGraphShown=function(){if(this.column.isGraphable&&!this.errorShown)return this.model.table.folder&&this.model.table.folder.hidden?(this.model.table.folder.setProperty("hidden",!1),void this.column.setProperty("hidden",!1)):void this.column.setProperty("hidden",!this.column.hidden)},e.didInsertElement=function(){function e(e){if(!e.wasLongheld())return r.optionsShown?void r.hideOptions():void(r.listView.editListMode?r.toggleOptions():r.toggleGraphShown())}function i(e){r.optionsShown||r.toggleOptions()}function n(e){r.optionsShown||1===e.touches.length&&o()}t.didInsertElement.call(this);var r=this;this.$(".dcg-action-icon").on("dcg-tap",e),this.$(".dcg-action-icon").on("dcg-longhold",i),this.$(".dcg-action-icon").on("dcg-tapstart",n),this.renderColorCSS(),this.onDisplayChange(),this.$icon=this.$(".dcg-icon")},e.createOptionsMenuView=function(){var e=s(this,this.column);e.appendTo(this.listView.$());var t=this.$(".dcg-icon-box"),i=t.offset(),n=this.listView.$().offset();return e.$().css({position:"absolute",top:i.top-n.top+"px",left:i.left-n.left+"px",display:"block"}),e},e.onDisplayChange=function(){if(t.onDisplayChange.call(this),this.$icon){var e=this.column.shouldGraph,i=this.column.columnMode,n=this.column.isGraphable,s="";this.error||!n?s="":e?i===r.POINTS?s="dcg-table-points":i===r.LINES?s="dcg-table-lines":i===r.POINTS_AND_LINES&&(s="dcg-table-points-and-lines"):s="dcg-graph-hidden",this.rendered_icon_class!==s&&(this.rendered_icon_class&&this.$icon.removeClass(this.rendered_icon_class),this.rendered_icon_class=s,s&&this.$icon.addClass(s))}}});return a}),define("expressions/tables/header-view",["require","pjs","./div-cell-view","template!table_cell_header","./table_icon_view","mathquill"],function(e){var t=e("pjs"),i=e("./div-cell-view"),n=e("template!table_cell_header"),r=e("./table_icon_view"),s=e("mathquill"),o=t(i,function(e,t){e.template=n,e.init=function(e,i){t.init.call(this),this.__renderedLatex="",this.model=e,this.tableView=i,this.model.observe("index.headerview",this.updateIndex.bind(this)),this.model.observe("latex.headerview",this.onLatexChange.bind(this)),this.model.observe("selected.headerview",this.onSelectedChange.bind(this))},e.onSelectedChange=function(){if(this.model.selected){var e=this.tableView;if(!e)return;e.selectCell(0,this.model.index)}},e.lookupCellPosition=function(){return{row:0,column:this.model.index}},e.destruct=function(){this.model.unobserve(".headerview")},e.updateIndex=function(){this.$().attr("index",this.model.index),this.setAriaCoordinates()},e.onLatexChange=function(){this.mathField&&this.__renderedLatex!==this.model.latex&&(this.__renderedLatex=this.model.latex,this.mathField.latex(this.model.latex))},e.renderDragMode=function(){this.$(".dcg-drag-icon").attr("dcg-drag-mode",this.model.dragMode),this.$(".dcg-drag-icon").css("color",this.model.color)},e.didInsertElement=function(){t.didInsertElement.call(this),0===this.model.index&&this.$().addClass("dcg-left"),this.mathField=s.MathField(this.$(".dcg-math-field")[0]);var e=this;this.$().on("blur focusout",".dcg-math-field",function(){e.mathField.clearSelection()}),this.$().on("render",".dcg-math-field",function(){var t=e.model.latex,i=s(this).latex();t!==i&&(e.__renderedLatex=i,e.model.setProperty("latex",i))}),this.iconView=r(this),this.iconView.replace(this.$(".template-icon")),this.onLatexChange(),this.updateIndex(),this.model.observeAndSync("dragMode color",this.renderDragMode.bind(this))},e.setAriaCoordinates=function(){if(this.mathField){var e=this.lookupCellPosition(),t=this.tableView.t("Column header __column__",{column:e.column+1});this.mathField.setAriaLabel(t)}}});return o}),define("expressions/tables/bottom-cell-view",["require","pjs","./base-cell-view","mathquill","jquery"],function(e){var t=e("pjs"),i=e("./base-cell-view"),n=e("mathquill"),r=e("jquery"),s=t(i,function(e,t){e.init=function(e,i){t.init.call(this,e,i),this.model.column.observe("disabled.cellview",this.onDisabledChange.bind(this))},e.destruct=function(){this.model.column.unobserve(".cellview")},e.didInsertElement=function(){t.didInsertElement.call(this),this.mathField=n.MathField(this.$(".dcg-math-field")[0]),this.setAriaCoordinates(),this.staticValue=n.StaticMath(r('<span class="dcg-cell-math-content">')[0]),this.onDisabledChange();var e=this;this.$().on("focus focusin",".dcg-math-field",function(){e.setAriaCoordinates()}),this.$().on("blur focusout",".dcg-math-field",function(){e.mathField.clearSelection()}),this.$().on("focus focusin",".dcg-cell-math-content",function(){e.updateStaticValueAria()}),this.$().on("render",".dcg-math-field",function(){var t=n(this).latex();if(""!==t){n(this).latex("");for(var i=e.lookupCellPosition(),r=e.model.column.table,s=[],o=0;o<r.columns.length;o++)s[o]="";s[i.column]=t,r.insertRow(i.row-1,s),e.tableView.selectCell(i.row,i.column,!0)}})}});return s}),define("expressions/tables/right-header-view",["require","pjs","./div-cell-view","template!table_cell_header","mathquill"],function(e){var t=e("pjs"),i=e("./div-cell-view"),n=e("template!table_cell_header"),r=e("mathquill"),s=t(i,function(e,t){e.template=n,e.init=function(e,i){t.init.call(this),this.model=e,this.tableView=i,this.model.observe("index.rightheaderview",this.updateIndex.bind(this))},e.destruct=function(){this.model.unobserve(".rightheaderview")},e.updateIndex=function(){this.$().attr("index",this.model.index),this.setAriaCoordinates()},e.lookupCellPosition=function(){return{row:0,column:this.model.index}},e.didInsertElement=function(){t.didInsertElement.call(this),this.$().addClass("dcg-right"),this.$().append('<span class="dcg-fade-right"></span>'),this.mathField=r.MathField(this.$(".dcg-math-field")[0]),this.setAriaCoordinates();var e=this;this.$().on("blur focusout",".dcg-math-field",function(){e.mathField.clearSelection()}),this.$().on("render",".dcg-math-field",function(){var t=r(this).latex();if(t){r(this).latex("");var i=e.model.index;e.model.table.insertColumn(i,{latex:t}),e.tableView.selectCell(0,i,!0)}})},e.setAriaCoordinates=function(){if(this.mathField){var e=this.lookupCellPosition(),t=this.tableView.t("Column header __column__",{column:e.column+1});this.mathField.setAriaLabel(t)}}});return s}),define("template!table",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",renderShell?__p+='\n\n<div class="dcg-expressionitem dcg-expressiontable dcg-shell">\n  <div class=\'dcg-shell\'>\n    <span class="dcg-tab">\n      <span class="dcg-num dcg-variable-index"></span>\n    </span>\n\n    <div class="dcg-expression-item-loading">\n    </div>\n  </div>\n</div>\n\n':(__p+='\n\n<div class="dcg-expressionitem dcg-expressiontable">\n\n  <div class=\'dcg-fade-container dcg-disable-horizontal-scroll-to-cursor\'>\n\n    <span class="dcg-main">\n      <div class="dcg-tabledata">\n      </div>\n    </span>\n\n    ',__p+='\n    <span class="dcg-fadeout"></span>\n    <i class="dcg-icon-remove dcg-top-level-delete dcg-action-delete" handleEvent="true"></i>\n  </div>\n\n  <span class="dcg-tab dcg-action-drag"\n        handleevent="true"\n        tapboundary="true"\n        disablescroll="true"\n  >\n    <span class=\'dcg-num dcg-variable-index\'></span>\n    <div class=\'dcg-tab-interior\'></div>\n  </span>\n\n  <span class=\'dcg-exp-actions\'>\n\n    <span\n      class="dcg-action-delete dcg-delete-btn dcg-tooltip"\n      handleEvent="true"\n      tooltip="'+(null==(__t=t("Delete"))?"":_.escape(__t))+"\"\n    >\n      <i class='dcg-icon-remove'></i></span>\n    </span>\n</div>\n\n"),__p+="\n";return __p}}),define("expressions/table_view",["require","loadcss!expressions.table","jquery","pjs","mathquill","jquery.handleevent","underscore","lib/aria","analytics/bugsnag-stub","i18n","keys","conditional_blur","./abstractitem_view","./tables/cell-view","./tables/header-view","./tables/bottom-cell-view","./tables/right-header-view","template!table"],function(e){e("loadcss!expressions.table");var t=e("jquery"),i=e("pjs"),n=e("mathquill");e("jquery.handleevent");var r=e("underscore"),s=e("lib/aria"),o=e("analytics/bugsnag-stub"),a=e("i18n"),l=e("keys"),c=e("conditional_blur"),u=e("./abstractitem_view"),h=e("./tables/cell-view"),d=e("./tables/header-view"),p=e("./tables/bottom-cell-view"),f=e("./tables/right-header-view"),g=e("template!table"),m=i(u,function(e,i){e.template=g,e.init=function(e,t){i.init.call(this,e,t),this.model.triggerRowRemoved=this.onRowRemoved.bind(this),this.model.triggerRowAdded=this.onRowAdded.bind(this),this.model.triggerColumnAdded=this.onColumnAdded.bind(this),this.model.triggerColumnRemoved=this.onColumnRemoved.bind(this),this.model.observe("selectedCell."+this.guid,this.onSelectedCellChange.bind(this))},e.t=function(e,t){return a.t(e,t,this.graphSettings.language)},e.destruct=function(){function e(){}this.model.unobserve("."+this.guid),this.model.triggerRowRemoved=e,this.model.triggerRowAdded=e,this.model.triggerColumnAdded=e,this.model.triggerColumnRemoved=e},e.getTemplateParams=function(){return{renderShell:this.model.renderShell}},e.onRowRemoved=function(e){if(this.rowViews){for(var t=e+1,i=0;i<this.rowViews[0].length;i++)this.rowViews[t][i].remove();this.$(".dcg-row:nth-of-type("+(t+1)+")").remove(),this.rowViews.splice(t,1),this.model.notifyPropertyChange("selectedCell")}},e.onRowAdded=function(e){if(this.rowViews){var i,n,r=e+1,s=this.model.columns,o=this.rowViews[0].length,a=t('<tr class="dcg-row">');a.insertAfter(this.$(".dcg-row:nth-of-type("+r+")"));for(var l=[],c=0;c<o;c++)i=s[c].cells[e],n=h(i,this),n.appendTo(a),l.push(n);this.rowViews.splice(r,0,l),this.listView.model.updateDrawOrder(),this.model.notifyPropertyChange("selectedCell")}},e.onColumnRemoved=function(e){if(this.rowViews){var t,i=this.rowViews.length;for(t=0;t<i;t++)this.rowViews[t][e].remove(),this.rowViews[t].splice(e,1);var n=this.selectedCell;n&&n.column>e?this.setProperty("selectedCell",{row:n.row,column:n.column-1}):n&&n.column===e&&(this.columns.length<=e?this.selectCell(n.row,n.column-1):this.selectCell(n.row,n.column)),this.listView.model.updateDrawOrder(),this.model.notifyPropertyChange("selectedCell")}},e.onColumnAdded=function(e){if(this.rowViews){var t,i,n=this.model.columns[e],r=n.cells,s=r.length;for(t=0;t<=s;t++)i=0===t?d(n,this):t<s?h(r[t-1],this):p(r[t-1],this),this.rowViews[t].splice(e,0,i),i.insertAfter(this.$(".dcg-row:nth-of-type("+(t+1)+") .dcg-cell:nth-of-type("+e+")")),window.rowViews=this.rowViews,window.columns=this.model.columns;this.listView.model.updateDrawOrder(),this.model.notifyPropertyChange("selectedCell")}},e.didCreateElement=function(){var e=this;this.$().on("focusin",function(){setTimeout(e.onFocusChange.bind(e),0)}),this.$().on("keydown",this.onMathQuillKeydownEvent.bind(this)),this.$().on("upPressed downPressed leftPressed rightPressed enterPressed backspacePressed delPressed",this.onMathQuillSpecialEvent.bind(this)),this.listView.observe("calcIsNarrow",function(){this.listView.calcIsNarrow||this.scrollLeft()}.bind(this))},e.didInsertElement=function(){if(i.didInsertElement.call(this),!this.model.renderShell){this.rowViews=[];var e,n,r,s,o=this.model.columns,a=o.length,l=o[0].cells.length;for(e=0;e<=l;e++){var c=t('<tr class="dcg-row">');for(c.appendTo(this.$(".dcg-tabledata")),this.rowViews[e]=[],n=0;n<a;n++)0===e?(r=o[n],s=n+1<a?d(r,this):f(r,this)):(r=o[n].cells[e-1],s=e===l?p(r,this):h(r,this)),s.appendTo(c),this.rowViews[e].push(s)}this.onSelectedCellChange()}},e.onSelectedCellChange=function(){if(this.rowViews){this.$(".dcg-tabledata .dcg-selected").removeClass("dcg-selected");var e=this.model.selectedCell,t=!!e&&e.row===this.model.columns[0].cells.length,i=!!e&&e.column===this.model.columns.length-1;if(this.$(".dcg-tabledata").toggleClass("dcg-focus-in-bottom-row",t),this.$(".dcg-tabledata").toggleClass("dcg-focus-in-right-column",i),e&&(e.column>=this.rowViews[0].length||e.row>=this.rowViews.length))return void(this.model.selectedCell=null);if(e){var n=this.rowViews[e.row][e.column];n.$().addClass("dcg-selected"),this.model.setProperty("selected",!0),this.ensureCellIsVisible(n)}else this.scrollLeft();if(e){var r=this.findCellMathContent(e.row,e.column).el();this.listView.onFocusIn({target:r})}else this.listView.onFocusOut();var s=e&&e.column+1===this.model.columns.length,o=e&&e.row===this.model.columns[0].cells.length;this.$().toggleClass("dcg-no-faded-h",!!s),this.$().toggleClass("dcg-no-faded-v",!!o),this.hideContextMenu();var a=this.model.selectedCell&&this.model.selectedCell.row===this.model.columns[0].cells.length;this.setProperty("lastRowSelected",a),this.checkFocusIsSelected()}},e.scrollLeft=function(){this.$(".dcg-main").css("transform","translateX(0)")},e.ensureCellIsVisible=function(e){if(this.listView.calcIsNarrow){var t=this.$(".dcg-main"),i=100,n=t.offsetParent().innerWidth(),r=t.outerWidth(),s=0;if(n<=r){var o=e.$().width(),a=t.parent().offset().left,l=e.$().position().left,c=n+a-i-o;l>c&&(s=c-l)}t.css("transform","translateX("+Math.round(s)+"px)")}},e.checkFocusIsSelected=function(){this.focusSelectTimeout&&clearTimeout(this.focusSelectTimeout),this.focusSelectTimeout=setTimeout(function(){var e=this.model.selectedCell,t=this.getCaretPosition();t&&!r.isEqual(t,e)&&o.notify("TableCellFocusError","Selected and focused table cells are different after 250 ms.",{focusedCell:t,selectedCell:e}),this.focusSelectTimeout=null}.bind(this),250)},e.onMouseSelect=function(e){if(!e.wasHandled()){e.handle();var i=t(e.originalEvent.target).closest(".dcg-cell"),n=i.find(".dcg-mq-editable-field");if(n.length)return void this.sendTapToMathQuill(e,n);var r=t(e.target),s=r.closest(".dcg-tabledata")[0];if(s&&e.target===s&&(s=null),!s)return document.activeElement&&c(),this.model.setProperty("selectedCell",null),void this.model.setProperty("selected",!0);var o=this.getNodesCellPosition(r);this.selectCell(o.row,o.column)}},e.getNodesCellPosition=function(e){var t=e.closest(".dcg-row").prevAll(".dcg-row").length,i=e.closest(".dcg-cell").prevAll(".dcg-cell").length;return{row:t,column:i}},e.getCaretPosition=function(){return this.$().find(document.activeElement).length?this.getNodesCellPosition(t(document.activeElement)):null},e.findCell=function(e,t){return this.$(".dcg-row:nth-of-type("+(e+1)+") .dcg-cell:nth-of-type("+(t+1)+")")},e.findCellMathContent=function(e,t){return n(this.findCell(e,t).find(".dcg-cell-math-content")[0])},e.selectCell=function(e,i,r){if(!(e<0||i<0)){var s=this.findCellMathContent(e,i);if(s){var o={row:e,column:i};this.model.setProperty("selectedCell",o),s instanceof n.MathField?(s.focus(),r?s.moveToRightEnd():s.select()):s instanceof n.StaticMath&&t(s.el()).focus()}}},e.unfocus=function(){var e=document.activeElement;this.$().find(e).length&&e.blur()},e.processMissedKeyEvent=function(e){this.doKeyAction(l.lookup(e),e)},e.onMathQuillKeydownEvent=function(e){if(!this.__handledMathquillKeydown){var t=this.$().find(document.activeElement);if(0!==t.length){var i=l.lookup(e);(t.hasClass("dcg-cell-math-content")||e.ctrlKey)&&this.doKeyAction(i,e)}}},e.onMathQuillSpecialEvent=function(e){var t=e.type,i=t.slice(0,-"Pressed".length);i=i.charAt(0).toUpperCase()+i.slice(1),this.doKeyAction(i,e),
    this.__handledMathquillKeydown=!0,setTimeout(function(){this.__handledMathquillKeydown=!1}.bind(this))},e.doKeyAction=function(e,i){i||(i=t.Event());var n=this.model.selectedCell,r=n?n.row:-1,o=n?n.column:-1,a=this.model.columns,c=a[0].cells.length,u=a.length,h=function(e,t){e===-1?this.triggerUpPressed():e>c?this.triggerDownPressed():(t===-1?(t=u-1,e--):t===u&&(e++,t=0),this.selectCell(e,t),i.preventDefault())}.bind(this),d=function(e){c<=1||(this.model.removeRow(r-1),this.selectCell(e,o),i.preventDefault())}.bind(this),p=function(e){0===o||u<=2||(this.model.removeColumn(o),this.selectCell(r,e),i.preventDefault())}.bind(this);if(i.ctrlKey){switch(e){case l.LEFT:h(r,0);break;case l.RIGHT:h(r,u-1);break;case l.UP:h(0,o);break;case l.DOWN:h(c-1,o)}if("H"===l.lookupChar(i)){i.preventDefault();var f=this.t("No header"),g=this.rowViews[0][o];if(g&&g.mathField){var m=g.mathField.mathspeak();f=""!==m?m:this.t("Header is empty")}s.alert(f)}}else switch(e){case l.LEFT:h(r,o-1);break;case l.RIGHT:h(r,o+1);break;case l.UP:h(r-1,o);break;case l.DOWN:h(r+1,o);break;case l.ENTER:if(r>=c)return this.triggerEnterPressed();if(o>0)return h(r+1,o);if(r===c-1)return this.model.insertRow(r,this.model.getAutofillValues(r)),this.selectCell(r+1,o);this.model.insertRow(r,o),this.selectCell(r+1,o);break;case l.BACKSPACE:0===r?0===o?this.triggerBackspacePressed():o===u-1||1===o&&3===u?h(0,o-1):p(o-1):0!==o?h(r,o-1):r===c?h(r-1,o):d(r-1);break;case l.DELETE:0===r?0===o?this.triggerDelPressed():o<u-1&&p(o):r>=c||d(r)}},e.onFocusChange=function(){this.model&&(this.model.setProperty("selectedCell",this.getCaretPosition()),this.model.list&&this.model.list.notifyPropertyChange("selectedItem"))},e.isFocused=function(){return!!this.model.selectedCell},e.addFocus=function(e,t,i){"cell"===e?this.selectCell(t,i):"end"!==e?this.selectCell(0,0):this.selectCell(this.model.columns[0].cells.length,0)}});return m}),define("template!folder",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",__p+=renderShell?'\n\n<div class="dcg-do-not-blur dcg-expressionitem dcg-expressionfolder dcg-shell">\n  <div class=\'dcg-shell\'>\n    <span class="dcg-tab">\n      <span class="dcg-num dcg-variable-index"></span>\n    </span>\n\n    <div class="dcg-expression-item-loading">\n    </div>\n  </div>\n</div>\n\n':'\n\n<div class="dcg-do-not-blur dcg-expressionfolder dcg-expressionitem">\n  <div class="dcg-fade-container">\n\n    <span class="dcg-main">\n      <div role="button" tabindex=0 aria-pressed="false" aria-label="'+(null==(__t=t("Collapse Folder"))?"":_.escape(__t))+'" class="dcg-caret-container dcg-action-toggle-folder-collapsed dcg-do-not-blur" handleEvent="true">\n        <i class="dcg-icon-caret-down" ></i>\n      </div>\n\n      <div class="dcg-smart-textarea-placeholder"></div>\n      <div role="checkbox" aria-checked="false" aria-label="'+(null==(__t=t("Hide this folder from students"))?"":_.escape(__t))+'" class="dcg-action-toggle-secret-folder dcg-do-not-blur" handleEvent="true">\n        <span class="dcg-checkbox-box"><i class="dcg-icon-check"></i></span>\n        <span class="dcg-checkbox-label">'+(null==(__t=t("Hide this folder from students."))?"":_.escape(__t))+'</span>\n      </div>\n    </span>\n    <i class="dcg-icon-remove dcg-top-level-delete dcg-action-delete" handleEvent="true"></i>\n\n  </div>\n\n  <span class="dcg-tab dcg-action-drag"\n        handleEvent="true"\n        tapboundary="true"\n        disablescroll="true"\n  >\n    <span class="dcg-num dcg-variable-index"></span>\n    <div class="dcg-tab-interior">\n    <span role="button" tabindex=0 aria-pressed="false" aria-label="'+(null==(__t=t("Hide Folder"))?"":_.escape(__t))+'" class="dcg-action-toggle-folder-hidden dcg-graph-icon dcg-folder dcg-icon">\n      <i class="dcg-icon-hidden"></i>\n      <i class="dcg-icon-folder"></i>\n    </span>\n    </div>\n  </span>\n\n  <span class="dcg-exp-actions">\n    <span\n      class="dcg-action-delete dcg-delete-btn dcg-tooltip"\n      handleEvent="true"\n      tooltip="'+(null==(__t=t("Delete"))?"":_.escape(__t))+"\"\n    >\n      <i class='dcg-icon-remove'></i></span>\n    </span>\n  </span>\n\n</div>\n\n",__p+="\n";return __p}}),define("loadcss!folder",function(){}),define("expressions/folder_view",["require","pjs","expressions/abstractitem_view","lib/aria","browser","i18n","keys","template!folder","./smart_textarea","jquery.handleevent","loadcss!folder"],function(e){var t=e("pjs"),i=e("expressions/abstractitem_view"),n=e("lib/aria"),r=e("browser"),s=e("i18n"),o=e("keys"),a=e("template!folder"),l=e("./smart_textarea");e("jquery.handleevent"),e("loadcss!folder");var c=t(i,function(e,t){e.template=a,e.init=function(e,i){t.init.call(this,e,i),this.model=e,e.observe("hidden."+this.guid,this.onHiddenChanged.bind(this)),e.observe("secret."+this.guid,this.onSecretChanged.bind(this)),e.observe("collapsed."+this.guid,this.onCollapsedChanged.bind(this)),e.observe("selected."+this.guid,this.onSelectedChange.bind(this)),e.observe("count."+this.guid,this.onMemberIdsChange.bind(this)),this.smartTextarea=l(this.model.title,this.listView.graphSettings),this.model.observe("title."+this.guid,function(){this.smartTextarea.setProperty("text",this.model.title)}.bind(this)),this.smartTextarea.observe("text."+this.guid,function(){this.model.setProperty("title",this.smartTextarea.text)}.bind(this))},e.destruct=function(){this.model.unobserve("."+this.guid),this.graphSettings.config.unobserve("."+this.guid),this.smartTextarea.destruct(),this.smartTextarea=null},e.didInsertElement=function(){t.didInsertElement.call(this),this.graphSettings.config.observeAndSync("administerSecretFolders."+this.guid,this.renderAdministerSecretFolders.bind(this)),this.renderAdministerSecretFolders(),this.model.renderShell||(this.smartTextarea.replace(this.$(".dcg-smart-textarea-placeholder")),this.smartTextarea.observe("focused."+this.guid,function(){this.smartTextarea.focused&&this.model.setProperty("selected",!0)}.bind(this)),this.smartTextarea.$textarea.on("keydown."+this.guid,this.onKeydown.bind(this)),this.smartTextarea.observeEvent("enterPressed."+this.guid,this.triggerEnterPressed.bind(this)),this.smartTextarea.observeEvent("upPressed."+this.guid,this.triggerUpPressed.bind(this)),this.smartTextarea.observeEvent("downPressed."+this.guid,this.triggerDownPressed.bind(this)),this.smartTextarea.observeEvent("backspacePressed."+this.guid,this.triggerBackspacePressed.bind(this)),this.smartTextarea.observeEvent("delPressed."+this.guid,this.triggerDelPressed.bind(this)),this.setMinWidth(),this.$(".dcg-action-toggle-folder-collapsed").on("dcg-tap",this.toggleCollapsed.bind(this)),this.$(".dcg-action-toggle-folder-hidden").on("dcg-tap",this.toggleHidden.bind(this)),this.$(".dcg-action-toggle-secret-folder").on("dcg-tap",this.toggleSecret.bind(this)),this.onCollapsedChanged(),this.onHiddenChanged(),this.onSecretChanged(),this.onMemberIdsChange())},e.renderAdministerSecretFolders=function(){var e=this.graphSettings.config.administerSecretFolders;this.$(".dcg-action-toggle-secret-folder").toggle(!!e),this.$().toggleClass("dcg-secretFolder",this.model.secret&&!e),this.setAriaLabel()},e.onSelectedChange=function(){!this.selected&&this.$title&&this.smartTextarea.blur()},e.onMemberIdsChange=function(){this.$().toggleClass("dcg-has-items",this.model.count>0),this.setAriaLabel()},e.onProjectorModeChange=function(){this.smartTextarea.fitText()},e.onMouseSelect=function(e){e.wasHandled()||(e.handle(),this.model.setProperty("selected",!0))},e.toggleHidden=function(){this.model.setProperty("hidden",!this.model.hidden)},e.toggleSecret=function(){this.model.setProperty("secret",!this.model.secret)},e.toggleCollapsed=function(){this.model.setProperty("collapsed",!this.model.collapsed)},e.onHiddenChanged=function(){this.$().toggleClass("dcg-hidden",!!this.model.hidden),this.$(".dcg-action-toggle-folder-hidden").attr("aria-pressed",!!this.model.hidden),this.setAriaLabel()},e.onSecretChanged=function(){this.$(".dcg-action-toggle-secret-folder").toggleClass("dcg-checked",!!this.model.secret),this.$(".dcg-action-toggle-secret-folder").attr("aria-checked",!!this.model.secret),this.setAriaLabel()},e.onCollapsedChanged=function(){this.$().toggleClass("dcg-collapsed",!!this.model.collapsed),this.$(".dcg-action-toggle-folder-collapsed").attr("aria-pressed",!!this.model.collapsed),this.model.collapsed||this.listView.triggerFolderOpened(),this.setAriaLabel()},e.addFocus=function(e){this.smartTextarea.addFocus()},e.t=function(e,t){return s.t(e,t,this.graphSettings.language)},e.setAriaLabel=function(){var e="",t="";this.model.hidden||this.model.collapsed||this.model.secret?!this.model.hidden||this.model.collapsed||this.model.secret?this.model.hidden||!this.model.collapsed||this.model.secret?this.model.hidden||this.model.collapsed||!this.model.secret?this.model.hidden&&this.model.collapsed&&!this.model.secret?t=this.t("Hidden Collapsed Folder"):this.model.hidden&&!this.model.collapsed&&this.model.secret?t=this.t("Hidden Secret Folder"):!this.model.hidden&&this.model.collapsed&&this.model.secret?t=this.t("Collapsed Secret Folder"):this.model.hidden&&this.model.collapsed&&this.model.secret&&(t=this.t("Hidden Collapsed Secret Folder")):t=this.t("Secret Folder"):t=this.t("Collapsed Folder"):t=this.t("Hidden Folder"):t=this.t("Folder"),e=this.model.count>0?this.t("__folder__ has __count__ items",{folder:t,count:this.model.count}):t,this.$("textarea").attr("aria-label",e)},e.onKeydown=function(e){var t=e.altKey&&!e.metaKey&&!e.ctrlKey&&!e.shiftKey,i=e.metaKey&&!e.altKey&&!e.shiftKey&&!e.ctrlKey,s=r.IS_APPLE?i:t;s&&o.lookup(e)===o.UP&&(e.preventDefault(),e.stopPropagation(),this.model.setProperty("collapsed",!this.model.collapsed),this.model.collapsed?n.alert(this.t("folder collapsed")):n.alert(this.t("folder expanded")),this.onCollapsedChanged())}});return c}),define("loadcss!expressions.image",function(){}),define("loadcss!image_opacity_menu",function(){}),define("template!image_options_menu",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<div class='dcg-exp-options-menu dcg-image-options-menu dcg-options-menu'>\n  <div class='dcg-triangle'></div>\n  <div class='dcg-opacities-div'>\n    <div class='dcg-opacities-menu'>\n      <div class='dcg-title'>opacity:</div>\n      <div class='dcg-opacities-menu'>\n      ",_.each([.2,.4,.6,.8,1],function(e){__p+='\n        <span class="dcg-opacity-option dcg-graph-icon"\n          image-opacity="'+(null==(__t=e)?"":_.escape(__t))+'"\n          handleevent="true">\n            <span class="dcg-image-thumb"\n              style="opacity: '+(null==(__t=e)?"":_.escape(__t))+"\">\n            </span>\n            <i class='dcg-icon-check'></i>\n        </span>\n      "}),__p+="\n      </div>\n    </div>\n  </div>\n</div>\n";return __p}}),define("expressions/image_options_view",["require","loadcss!image_opacity_menu","pjs","jquery","underscore_view","template!image_options_menu"],function(e){e("loadcss!image_opacity_menu");var t=e("pjs"),i=e("jquery"),n=e("underscore_view"),r=e("template!image_options_menu"),s=t(n,function(e,t){e.template=r,e.init=function(e){this.image=e,this.image.observe("opacity."+this.guid,this.renderSelectedOpacity.bind(this)),this.image.observe("hidden."+this.guid,this.renderSelectedOpacity.bind(this)),this.image.observe("image_url."+this.guid,this.renderImageURL.bind(this))},e.destruct=function(){this.image.unobserve("."+this.guid)},e.onSelectOpacity=function(e){var t=parseFloat(i(e.target).closest(".dcg-opacity-option").attr("image-opacity"));this.image.setProperty("hidden",!1),this.image.setProperty("opacity",t),this.image.folder&&this.image.folder.setProperty("hidden",!1)},e.renderSelectedOpacity=function(){var e=this.image.opacity;this.$(".dcg-opacity-option").removeClass("dcg-selected"),this.image.hidden||this.$('.dcg-opacity-option[image-opacity="'+e+'"]').addClass("dcg-selected")},e.renderImageURL=function(){this.image.image_url&&this.$(".dcg-image-thumb").css("background-image","url("+encodeURI(this.image.image_url)+")")},e.didInsertElement=function(){this.$().on("dcg-tap",".dcg-opacity-option",this.onSelectOpacity.bind(this)),this.renderSelectedOpacity(),this.renderImageURL()}});return s}),define("template!image_icon",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<span class="dcg-icon dcg-graph-icon dcg-variable-errortooltip tipsy-sticky">\n  <span class="dcg-image-thumb"></span>\n  <i class="dcg-icon-hidden"></i>\n</span>\n';return __p}}),define("expressions/image_icon_view",["require","pjs","expressions/abstract_icon","./image_options_view","template!image_icon","jquery.handleevent"],function(e){var t=e("pjs"),i=e("expressions/abstract_icon"),n=e("./image_options_view"),r=e("template!image_icon");e("jquery.handleevent");var s=t(i,function(e,t){e.template=r,e.init=function(e){t.init.call(this,e),this.expression=this.model,this.image=this.model,this.image.observe("opacity."+this.guid,this.onDisplayChange.bind(this)),this.image.observe("shouldGraph."+this.guid,this.onDisplayChange.bind(this)),this.image.observe("loaded."+this.guid,this.onDisplayChange.bind(this)),this.image.observe("error."+this.guid,this.onDisplayChange.bind(this)),this.image.observe("image_url."+this.guid,this.renderImageURL.bind(this)),this.parentView.observeEvent("hideContextMenu."+this.guid,this.hideOptions.bind(this))},e.destruct=function(){t.destruct.call(this),this.image.unobserve("."+this.guid),this.parentView.unobserve("."+this.guid)},e.renderImageURL=function(){this.image.image_url&&this.$imgThumb.css("background-image","url("+encodeURI(this.image.image_url)+")")},e.didInsertElement=function(){var e=this;t.didInsertElement.call(this),this.$icon=this.$(".dcg-icon"),this.$imgThumb=this.$icon.find(".dcg-image-thumb"),this.renderImageURL(),this.onDisplayChange();var i=function(t,i){if(!t.wasHandled("dragdrop")&&!t.wasLongheld()&&t.device===i){if(e.optionsShown)return e.toggleOptions(),!1;if(e.parentView.listView.editListMode)e.toggleOptions();else{if(e.errorShown)return;e.image.folder&&e.image.folder.hidden?(e.image.setProperty("hidden",!1),e.image.folder.setProperty("hidden",!1)):e.image.setProperty("hidden",!e.image.hidden)}}},n=function(t,i){t.device===i&&(t.handle("dcg-longhold"),e.toggleOptions())};this.$().closest(".dcg-action-icon-mouse").on("dcg-tap",function(e){i(e,"mouse")}),this.$().closest(".dcg-action-icon-touch").on("dcg-tap",function(e){i(e,"touch")}),this.$().closest(".dcg-action-icon-mouse").on("dcg-longhold",function(e){n(e,"mouse")}),this.$().closest(".dcg-action-icon-touch").on("dcg-longhold",function(e){n(e,"touch")})},e.createOptionsMenuView=function(){var e=this.parentView.listView,t=n(this.expression);t.appendTo(e.$());var i=this.$(".dcg-icon"),r=i.offset(),s=e.$().offset();return t.$().css({position:"absolute",top:r.top-s.top+"px",left:r.left-s.left+"px",display:"block"}),t},e.onDisplayChange=function(){if(t.onDisplayChange.call(this),this.$icon){var e="";this.image.loaded?this.error?e="":this.image.shouldGraph||(e="dcg-hidden"):e="dcg-loading-image",this.rendered_icon_class!==e&&(this.rendered_icon_class&&this.$icon.removeClass(this.rendered_icon_class),this.rendered_icon_class=e,e&&this.$icon.addClass(e)),e||this.$imgThumb.css("opacity",this.image.opacity)}}});return s}),define("template!image",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",__p+=renderShell?'\n\n<div class="dcg-do-not-blur dcg-expressionitem expressionimage dcg-shell">\n  <div class=\'dcg-shell\'>\n    <span class="dcg-tab">\n      <span class="dcg-num dcg-variable-index"></span>\n    </span>\n\n    <div class="dcg-expression-item-loading">\n    </div>\n  </div>\n</div>\n\n':'\n\n<div class="dcg-do-not-blur dcg-expressionimage dcg-expressionitem">\n  <div class=\'dcg-fade-container\'>\n\n    <span class="dcg-main">\n      <div class="dcg-image-loading">Loading image...</div>\n      <div class="dcg-image-loaded">\n\n          <div class="dcg-smart-textarea-placeholder"></div>\n\n          <div class="dcg-do-blur" handleEvent="true">\n            <div class="dcg-edit-image dcg-variable-invalid dcg-desmos-input-container">\n              <div class="dcg-center-inputs">\n                '+(null==(__t=t("center:"))?"":_.escape(__t))+'\n                <span class="dcg-image-center">\\left(\\MathQuillMathField[x]{} , \\MathQuillMathField[y]{}\\right)</span>\n              </div>\n              <div class="dcg-size-inputs">\n                '+(null==(__t=t("size:"))?"":_.escape(__t))+'\n                <span class="dcg-image-size">\\MathQuillMathField[width]{} &times; \\MathQuillMathField[height]{}</span>\n              </div>\n            </div>\n          </div>\n\n      </div>\n    </span>\n    <span class="dcg-fadeout"></span>\n\n    <i class="dcg-icon-remove dcg-top-level-delete dcg-action-delete" handleEvent="true"></i>\n\n    <div class="dcg-template-bottom-container dcg-fixed-width-element">\n      <div class="dcg-template-bottom"></div>\n    </div>\n  </div>\n\n  <span class="dcg-tab dcg-action-drag dcg-action-icon-touch" handleEvent="true">\n    <span class=\'dcg-num dcg-variable-index\'></span>\n    <div class=\'dcg-tab-interior dcg-action-icon-mouse\'>\n      <span class="template-imageicon"></span>\n    </div>\n  </span>\n\n  <span class=\'dcg-exp-actions\'>\n    <span class="dcg-graphic" handleEvent="true"></span>\n    <span class="dcg-action-delete dcg-delete-btn" handleEvent="true"><i class=\'dcg-icon-remove\'></i></span>\n  </span>\n\n</div>\n\n',__p+="\n";return __p}}),define("expressions/image_view",["require","loadcss!expressions.image","jquery","underscore","pjs","mathquill","keys","./abstractitem_view","./image_icon_view","expressions/promptslider_view","conditional_blur","./smart_textarea","jquery.handleevent","template!image"],function(e){e("loadcss!expressions.image");var t=e("jquery"),i=e("underscore"),n=e("pjs"),r=e("mathquill"),s=e("keys"),o=e("./abstractitem_view"),a=e("./image_icon_view"),l=e("expressions/promptslider_view"),c=e("conditional_blur"),u=e("./smart_textarea");e("jquery.handleevent");var h=e("template!image"),d=n(o,function(e,n){e.template=h,e.init=function(e,t){n.init.call(this,e,t),this.model=e,this.smartTextarea=u(this.model.name,this.listView.graphSettings),this.model.observe("name."+this.guid,function(){this.smartTextarea.setProperty("text",this.model.name)}.bind(this)),this.model.observe("formula."+this.guid,function(){this.doAnimate=!0}.bind(this)),this.smartTextarea.observe("text",function(){this.model.setProperty("name",this.smartTextarea.text)}.bind(this))},e.addFocus=function(e){this.smartTextarea.addFocus()},e.onSelectedChange=function(){if(!this.model.selected){var e=t(document.activeElement).closest(".dcg-mq-editable-field");e.closest(this.$()).length&&r(e[0]).blur()}},e.handleLeftPressed=function(e){var i=t(e.target).closest(".dcg-math-input")[0];this.$y[0]===i?r(this.$x[0]).focus():this.$height[0]===i&&r(this.$width[0]).focus()},e.handleRightPressed=function(e){var i=t(e.target).closest(".dcg-math-input")[0];this.$x[0]===i?r(this.$y[0]).focus():this.$width[0]===i&&r(this.$height[0]).focus()},e.handleDownPressed=function(e){var i=t(e.target).closest(".dcg-math-input")[0];this.$x[0]===i?r(this.$width[0]).focus():this.$y[0]===i&&r(this.$height[0]).focus()},e.handleUpPressed=function(e){var i=t(e.target).closest(".dcg-math-input")[0];this.$width[0]===i?r(this.$x[0]).focus():this.$height[0]===i&&r(this.$y[0]).focus()},e.handleKeydown=function(e){var t=s.lookup(e);t===s.ESCAPE&&c()},e.handleMathquillInput=function(e){if(!this.model.dragging){var t=this.$(e.target).closest(".dcg-math-input"),i=r(t[0]).latex(),n=t.attr("limit");this.model.setProperty(n,i)}},e.didFocusIn=!1,e.focusInMathquill=function(e){var t=this.$(e.target).closest(".dcg-math-input");t.hasClass("dcg-focus")||(t.addClass("dcg-focus"),r(t[0]).select(),setTimeout(function(){t.find(".dcg-mq-selection").length||r(t[0]).select()},1)),this.model.setProperty("selected",!0),this.didFocusIn=!0,this.$().addClass("dcg-input-focused");var i=this;setTimeout(function(){i.didFocusIn=!1})},e.focusOutMathquill=function(e){var t=this.$(e.target).closest(".dcg-mq-editable-field");t.removeClass("dcg-focus"),r(t[0]).clearSelection(),this.didFocusIn||this.$().removeClass("dcg-input-focused")},e.didInsertElement=function(){if(n.didInsertElement.call(this),!this.model.renderShell){this.smartTextarea.replace(this.$(".dcg-smart-textarea-placeholder")),this.smartTextarea.observe("focused",function(){this.smartTextarea.focused&&this.model.setProperty("selected",!0)}.bind(this)),this.smartTextarea.observeEvent("enterPressed",this.triggerEnterPressed.bind(this)),this.smartTextarea.observeEvent("upPressed",this.triggerUpPressed.bind(this)),this.smartTextarea.observeEvent("downPressed",this.triggerDownPressed.bind(this)),this.smartTextarea.observeEvent("backspacePressed",this.triggerBackspacePressed.bind(this)),this.smartTextarea.observeEvent("delPressed",this.triggerDelPressed.bind(this)),this.setMinWidth(),this.iconView=a(this),this.iconView.replace(".template-imageicon");var e=r.StaticMath(this.$(".dcg-image-center")[0]),s=r.StaticMath(this.$(".dcg-image-size")[0]);this.$x=t(e.innerFields.x.el()).attr("limit","x"),this.$y=t(e.innerFields.y.el()).attr("limit","y"),this.$width=t(s.innerFields.width.el()).attr("limit","width"),this.$height=t(s.innerFields.height.el()).attr("limit","height"),t(i.invoke(e.innerFields.concat(s.innerFields),"el")).on("focusin",this.focusInMathquill.bind(this)).on("focusout",this.focusOutMathquill.bind(this)).on("render",this.handleMathquillInput.bind(this)).on("leftPressed",this.handleLeftPressed.bind(this)).on("upPressed",this.handleUpPressed.bind(this)).on("downPressed",this.handleDownPressed.bind(this)).on("rightPressed",this.handleRightPressed.bind(this)).on("keydown",this.handleKeydown.bind(this)).addClass("dcg-math-field dcg-math-input"),this.renderX(),this.renderY(),this.renderWidth(),this.renderHeight(),this.renderInvalids(),this.renderLoaded(),this.renderVariables(),this.model.observe("loaded."+this.guid,this.renderLoaded.bind(this)),this.model.observe("variables."+this.guid,this.renderVariables.bind(this)),this.model.observe("selected."+this.guid,this.onSelectedChange.bind(this)),this.model.observe("x."+this.guid,this.renderX.bind(this)),this.model.observe("y."+this.guid,this.renderY.bind(this)),this.model.observe("width."+this.guid,this.renderWidth.bind(this)),this.model.observe("height."+this.guid,this.renderHeight.bind(this)),this.model.observe("errors."+this.guid,this.renderInvalids.bind(this))}},e.renderLoaded=function(){var e=this.model.loaded;this.$().toggleClass("dcg-loading",!e).attr("aria-hidden",!e),e&&(r(this.$(".dcg-image-center")[0]).reflow(),r(this.$(".dcg-image-size")[0]).reflow(),this.smartTextarea.renderText())},e.destruct=function(){this.model.unobserve("."+this.guid),this.smartTextarea.destruct(),this.optionsView&&(this.optionsView.remove(),this.optionsView=null),this.promptSliderView&&(this.promptSliderView.remove(),this.promptSliderView=null)},e.renderInvalids=function(){this.$x.toggleClass("dcg-invalid",!!this.model.errors.x),this.$y.toggleClass("dcg-invalid",!!this.model.errors.y),this.$width.toggleClass("dcg-invalid",!!this.model.errors.width),this.$height.toggleClass("dcg-invalid",!!this.model.errors.height)},e.renderX=function(){var e=this.model.x;r(this.$x[0]).latex()!==e&&r(this.$x[0]).latex(e)},e.renderY=function(){var e=this.model.y;r(this.$y[0]).latex()!==e&&r(this.$y[0]).latex(e)},e.renderWidth=function(){var e=this.model.width;r(this.$width[0]).latex()!==e&&r(this.$width[0]).latex(e)},e.renderHeight=function(){var e=this.model.height;r(this.$height[0]).latex()!==e&&r(this.$height[0]).latex(e)},e.renderVariables=function(){if(this.model.variables){var e=this.model.variables.length>0;this.promptSliderView&&!e?(this.removeViewFromBottom(this.promptSliderView),this.promptSliderView=null):!this.promptSliderView&&e&&(this.promptSliderView=this.createPromptSliderView(),this.addViewToBottom(this.promptSliderView)),this.promptSliderView&&this.promptSliderView.setProperty("variables",this.model.variables)}},e.createPromptSliderView=function(){return l(this)},e.onMouseSelect=function(e){e.wasHandled()||(e.handle(),this.model.setProperty("selected",!0))},e.isFocused=function(){return 0!==t(document.activeElement).closest(this.$()).length}});return d}),define("template!list",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div>\n  <div class="dcg-exppanel-outer">\n\n    <div class="dcg-exppanel-container">\n      <div class=\'dcg-drop-image\'>\n        <span>'+(null==(__t=t("Drop Image Here"))?"":_.escape(__t))+'</span>\n      </div>\n\n      <div class="dcg-exppanel dcg-disable-horizontal-scroll-to-cursor">\n        <div class="dcg-expressionlist" role=\'complementary\' aria-label=\'Expression List\'>\n          <button class="dcg-audio-trace-placeholder dcg-offscreen-element" aria-hidden="true"></button>\n          <span class="dcg-template-expressioneach"></span>\n          <div class="template-newexpression"></div>\n\n          ',__p+=this.graphSettings.config.editOnWeb?'\n            <div class="dcg-expressions-branding">\n              <span class="dcg-edit-branding">\n                <div class="dcg-powered-by" aria-label="'+(null==(__t=t("Edit graph on Desmos"))?"":_.escape(__t))+'">'+(null==(__t=t("edit graph on"))?"":_.escape(__t))+'</div>\n                <i class="dcg-icon-desmos"></i>\n              </span>\n            </div>\n          ':'\n            <div class="dcg-expressions-branding">\n              <div class="dcg-powered-by" aria-label="powered by Desmos">'+(null==(__t=t("powered by"))?"":_.escape(__t))+'</div>\n              <i class="dcg-icon-desmos"></i>\n            </div>\n          ',__p+='\n        </div>\n      </div>\n      <div class="dcg-expression-top-bar" role="toolbar" aria-label="Expression Bar">\n        <span\n          class=\'dcg-action-opendrawer dcg-hide-in-edit dcg-tooltip\'\n          handleEvent="true"\n          tooltip="'+(null==(__t=t("Open Graph (ctrl+o)"))?"":_.escape(__t))+'"\n          role="button"\n          tabindex=0\n          aria-label="'+(null==(__t=t("Open Graph"))?"":_.escape(__t))+"\"\n        >\n          <i class='dcg-icon-hamburger'></i>\n        </span>\n\n        <span\n          class='dcg-btn dcg-btn-light-gray dcg-pull-left dcg-hide-in-edit dcg-add-expression-btn dcg-action-add-expression dcg-tooltip dcg-do-not-blur'\n          handleEvent=\"true\"\n          tooltip=\""+(null==(__t=t("Add Item"))?"":_.escape(__t))+'"\n          role="button"\n          tabindex=0\n          aria-haspopup="true"\n          aria-expanded="false"\n          aria-label="'+(null==(__t=t("Add Item"))?"":_.escape(__t))+"\"\n        >\n          <i class='dcg-icon-plus'></i><i class='dcg-icon-caret-down'></i>\n        </span>\n\n        <span class='dcg-btn dcg-btn-red dcg-pull-left dcg-show-in-edit dcg-action-clearall' role=\"button\">\n          "+(null==(__t=t("Delete All"))?"":_.escape(__t))+"\n        </span>\n\n        <span class='dcg-btn dcg-btn-red dcg-pull-left dcg-show-in-edit dcg-action-reset' role=\"button\">\n          "+(null==(__t=t("Reset"))?"":_.escape(__t))+"\n        </span>\n\n        <span class='dcg-center-aligned dcg-show-in-edit'>\n          <span class='dcg-action-undo' tooltip=\""+(null==(__t=t("Undo (ctrl+z)"))?"":_.escape(__t))+'" role="button" tabindex=0 aria-disabled=true aria-label="'+(null==(__t=t("Undo"))?"":_.escape(__t))+"\">\n            <i class='dcg-icon-undo'></i>\n          </span>\n          <span class='dcg-action-redo' role=\"button\" tabindex=0 tooltip=\""+(null==(__t=t("Redo (ctrl+y)"))?"":_.escape(__t))+'" aria-disabled=true aria-label="'+(null==(__t=t("Redo"))?"":_.escape(__t))+"\">\n            <i class='dcg-icon-redo'></i>\n          </span>\n        </span>\n\n        <span class='dcg-offcenter-aligned dcg-hide-in-edit dcg-hide-in-edit'>\n          <span class='dcg-action-undo dcg-tooltip' tooltip=\""+(null==(__t=t("Undo (ctrl+z)"))?"":_.escape(__t))+'" role="button" tabindex=0 aria-disabled=true aria-label="'+(null==(__t=t("Undo"))?"":_.escape(__t))+"\"><i class='dcg-icon-undo'></i></span>\n          <span class='dcg-action-redo dcg-tooltip' tooltip=\""+(null==(__t=t("Redo (ctrl+y)"))?"":_.escape(__t))+'" role="button" tabindex=0 aria-disabled=true aria-label="'+(null==(__t=t("Redo"))?"":_.escape(__t))+"\"><i class='dcg-icon-redo'></i></span>\n        </span>\n\n        <span\n          class='dcg-resize-list-btn dcg-hide-in-edit dcg-action-hideexpressions dcg-tooltip'\n          tooltip=\""+(null==(__t=t("Hide List"))?"":_.escape(__t))+'"\n          role="button"\n          tabindex=0\n          aria-label="'+(null==(__t=t("Hide Expression List"))?"":_.escape(__t))+"\"\n        >\n          <i class='dcg-icon-hide'></i>\n        </span>\n\n        <span\n          class='dcg-btn dcg-btn-light-gray dcg-pull-right dcg-action-toggle-edit dcg-hide-in-edit dcg-tooltip dcg-do-not-blur' handleEvent=\"true\"\n          tooltip=\""+(null==(__t=t("Edit List"))?"":_.escape(__t))+'"\n          role="button"\n          aria-label="'+(null==(__t=t("Edit Expression List"))?"":_.escape(__t))+'"\n        >\n          <i class=\'dcg-icon-settings\' />\n        </span>\n        <span\n          class=\'dcg-btn dcg-btn-blue dcg-pull-right dcg-action-toggle-edit dcg-show-in-edit dcg-do-not-blur\'\n          handleEvent="true"\n          role="button"\n        >\n            '+(null==(__t=t("Done"))?"":_.escape(__t))+"\n        </span>\n      </div>\n\n    </div>\n  </div>\n\n  <div class='dcg-show-expressions-tab' role='complementary' aria-label='Show Expressions Tab' aria-hidden='true'>\n    <span\n      class='dcg-resize-list-btn dcg-action-showexpressions dcg-tooltip'\n      tooltip=\""+(null==(__t=t("Show List"))?"":_.escape(__t))+'"\n      role="button"\n      tabindex=0\n      aria-label="'+(null==(__t=t("Show List"))?"":_.escape(__t))+"\"\n    >\n      <i class='dcg-icon-show'></i>\n    </span>\n  </div>\n\n  <div class='dcg-graphpaper-opendrawer dcg-action-opendrawer '>\n    <i class='dcg-icon-hamburger'></i>\n  </div>\n</div>\n";return __p}}),define("expressions/list_view",["require","loadcss!expression_top_bar","loadcss!expressions","loadcss!expressions.icon","jquery","underscore","pjs","mathquill","tipsy","underscore_view","touchtracking","expressions/dragdrop_expressions","./add_expression","conditional_blur","keys","browser","i18n","scroll_helpers","jquery.handleevent","./new_expression","./expression","./expression_view","./text_view","./table_view","./folder_view","./image_view","template!list"],function(e){e("loadcss!expression_top_bar"),e("loadcss!expressions"),e("loadcss!expressions.icon");var t=e("jquery"),i=e("underscore"),n=e("pjs"),r=e("mathquill");e("tipsy");var s=e("underscore_view"),o=e("touchtracking"),a=e("expressions/dragdrop_expressions"),l=e("./add_expression"),c=e("conditional_blur"),u=e("keys"),h=e("browser"),d=e("i18n"),p=e("scroll_helpers");e("jquery.handleevent");var f=e("./new_expression"),g=e("./expression"),m=e("./expression_view"),v=e("./text_view"),y=e("./table_view"),b=e("./folder_view"),x=e("./image_view"),_=e("template!list"),w=n(s,function(e,n){e.__itemViews={},e.__latexChangeCallbacks=[],e.isTransient=!1,e.transientChildren=[],e.template=_,e.triggerClearGraph=function(){},e.triggerOpenDrawer=function(){},e.triggerResetGraph=function(){},e.onLatexChange=function(e){i.each(this.__latexChangeCallbacks,function(t){t(e)})},e.init=function(e,i,r,s,o){n.init.call(this),this.$root=i||t("body"),
    this.setProperty("scrollbarWidth",0),this.setProperty("minWidth",356),this.toastView=r,this.graphSettings=s,this.evaluator=o,this.model=e,this.model.triggerItemInserted=this.onItemInserted.bind(this),this.model.triggerItemRemoved=this.onItemRemoved.bind(this),this.model.triggerItemMoved=this.onItemMoved.bind(this),this.model.triggerSetState=this.onSetState.bind(this),this.observe("itemFocused",this.renderItemFocused.bind(this)),this.observe("editListMode",this.renderEditListMode.bind(this)),this.graphSettings.observeAndSync("defaultState.listview",this.renderResetBtn.bind(this)),this.model.observe("selectedItem.listview",this.ensureActiveChildIsVisible.bind(this)),this.dragdrop_expressions=a(this),this.createAllItemViews(),this.__measureVisibleRequested=!1,this.__renderRequested=!1,this.__firstVisibleIndex=0,this.__lastVisibleIndex=1/0},e.destruct=function(){for(var e in this.__itemViews)this.__itemViews.hasOwnProperty(e)&&(this.__itemViews[e].unobserve(".listview"),this.__itemViews[e].remove());this.addExpressionView.remove(),t(document.documentElement).off("."+this.guid),this.graphSettings.unobserve(".listview"),this.model.unobserve(".listview")},e.getTemplateParams=function(){var e=this;return{t:function(t,i){return d.t(t,i,e.graphSettings.language)}}},e.tick=function(e){this.__measureVisibleRequested&&this._measureVisibleExpressions(),this.__renderRequested&&this._renderExpression(),this.__sliderBeingSlid&&this.__sliderBeingSlid.tick()},e.registerSliderBeingSlid=function(e){this.__sliderBeingSlid=e},e.unregisterSliderBeingSlid=function(e){this.__sliderBeingSlid===e&&(this.__sliderBeingSlid=void 0)},e.renderResetBtn=function(){this.$(".dcg-expression-top-bar").toggleClass("dcg-has-reset-state",!!this.graphSettings.defaultState)},e.computeTransient=function(){this.setProperty("transient",this.transientChildren.length>0)},e.padLastExpression=function(e){var t=this.$(".dcg-expressionitem.dcg-new-expression");t.css("margin-bottom",+e+"px")},e.unpadLastExpression=function(){var e=this.$(".dcg-expressionitem.dcg-new-expression");e.css("margin-bottom","0"),this.recalculateScrollbarWidth()},e.padLastExpressionUntilTapEnd=function(e){var i=this;this.padLastExpression(e),t(document).on("dcg-tap.animating-bottom",function(){0===i.$(".dcg-exp-options-menu").length&&(i.unpadLastExpression(),t(document).off("dcg-tap.animating-bottom"))})},e.minWidthHasBeenSet=!1,e.setMinWidth=function(e){if(this.$exps&&(e!==this.minWidth||!this.minWidthHasBeenSet)){this.minWidthHasBeenSet=!0,this.setProperty("minWidth",e);var t={minWidth:e};this.itemFocused||(t.maxWidth=e),this.$exppanelContainer.css(t)}},e.updateAllViewWidths=function(){i.each(this.__itemViews,function(e){e.setMinWidth()})},e.recalculateScrollbarWidth=function(){var e=this.$(".dcg-exppanel").width()-this.$(".dcg-expressionlist").width();e=Math.max(e,0),this.setProperty("scrollbarWidth",e)},e.updateWidth=function(){function e(e){var t=e.find(".dcg-main");if(t.length){var i=t.outerWidth()+t[0].offsetLeft;i>n&&(n=i)}}if(this.$exps){var i=this.$exppanelContainer,n=0;if(!this.calcIsNarrow&&this.graphSettings.config.graphpaper!==!1){var r=this.minWidth;this.$(".dcg-disable-horizontal-scroll-to-cursor").scrollLeft(0);var s=this.getSelectedView();s&&(this.itemFocused||s.model.isTable)&&e(s.$()),this.editListMode&&this.$(".dcg-expressiontable").each(function(){e(t(this))}),n<r&&(n=r),i.css("max-width",n),this.recalculateScrollbarWidth()}}},e.onItemInserted=function(e,t){if(this.$items){var i=this.createItemView(t);i&&(0===e?i.prependTo(this.$items):e===this.model.getItemCount()-1?i.appendTo(this.$items):i.insertAfter(this.$items.children(":nth-child("+e+")")),this.editListMode&&(i.$().css({transform:"scale(0,0)",opacity:0}),setTimeout(function(){i.$().css({transition:".2s",opacity:1,transform:""})},1),setTimeout(function(){i.$().css({transition:"none"})},300))),this.updateWidth(),this.ensureActiveChildIsVisible()}},e.onItemRemoved=function(e,t){var i=String(t.id);t.unobserve(".listview");var n=this.__itemViews[i];n&&(n.remove(),delete this.__itemViews[i]),this.updateWidth()},e.onItemMoved=function(e,t){var i=this.getItemView(this.model.getItemByIndex(t).id);if(i){var n=this.$items;if(0===t)n.prepend(i.$());else if(t===this.model.getItemCount()-1)n.append(i.$());else{var r=t+(t>e?1:0);i.$().insertAfter(n.children(":nth-child("+r+")"))}}},e.onSetState=function(e){for(var t in this.__itemViews)this.__itemViews.hasOwnProperty(t)&&(this.__itemViews[t].unobserve(".listview"),this.__itemViews[t].remove());this.__itemViews={},this.createAllItemViews(),this.appendAllItemViews()},e.renderItemFocused=function(){this.$root.toggleClass("dcg-ITEM-FOCUSED",!!this.itemFocused)},e.instantiateItemView=function(e){return e.isExpression?m(e,this):e.isText?v(e,this):e.isTable?y(e,this):e.isFolder?b(e,this):e.isImage?x(e,this):void 0},e.createItemView=function(e){var t=this.instantiateItemView(e),n=String(e.id);if(t){this.__itemViews[n]=t;var r=this;t.triggerDelete=function(){r.onDelete(t)},t.triggerEnterPressed=function(){r.onEnterPressed(t)},t.triggerUpPressed=function(){r.onUpPressed(t)},t.triggerDownPressed=function(){r.onDownPressed(t)},t.triggerBackspacePressed=function(){r.onBackspacePressed(t)},t.triggerDelPressed=function(){r.onDelPressed(t)},t.observe("transient",function(e,t){t.transient?r.transientChildren.push(t):r.transientChildren=i(r.transientChildren).without(t),r.computeTransient()})}return t},e.createAllItemViews=function(){for(var e=this.model.getItemCount(),t=0;t<e;t++){var i=this.model.getItemByIndex(t);this.createItemView(i)}},e.onLanguageChange=function(){this.rerender()},e.measureVisibleExpressions=function(){this.__measureVisibleRequested=!0},e._measureVisibleExpressions=function(){this.__measureVisibleRequested=!1,this.$(".dcg-expression-top-bar").toggleClass("dcg-expressions-scrolled",this.$exppanel.scrollTop()>0);var e=this.model.__items.some(function(e){return e.renderShell});if(e){var t=this.$exppanel.offset().top,i=this.$exppanel.height(),n=t+i,r=this.expressionAtPoint(5,t),s=this.expressionAbovePoint(5,n);this.__firstVisibleIndex=r?r.index:0,this.__lastVisibleIndex=s?s.index:1/0,this.renderExpression()}},e.triggerFolderOpened=function(){this.measureVisibleExpressions()},e.renderExpression=function(){this.__renderRequested=!0},e._renderExpression=function(){this.__renderRequested=!1;for(var e=this.__firstVisibleIndex,t=this.graphSettings.config.useShellsOffscreen?this.__lastVisibleIndex:1/0,i=this.model.getItemByIndex(e);i&&(!i.renderShell||i.collapsedOrSecret);){if(e++,e>t)return;i=this.model.getItemByIndex(e)}i&&(i.setProperty("renderShell",!1),this.renderExpression())},e.appendAllItemViews=function(){if(this.$items){for(var e=this.model.getItemCount(),t=0;t<e;t++){var i=this.model.getItemByIndex(t),n=this.getItemView(i.id);n.appendTo(this.$items)}this.updateWidth(),this.measureVisibleExpressions()}},e.getItemView=function(e){return this.__itemViews[String(e)]},e.removeExpressionSynchronously=function(e){this.model.undoRedo.oneTransaction(function(){if(this.model.removeItemAt(e.model.index),this.model.hasNoVisibleExpressions()){var t=g({},this.model);this.model.insertItemAt(this.model.getItemCount(),t)}}.bind(this))},e.onDelete=function(e){var t=.2;e.$().css({transition:t+"s",opacity:"0",transform:"scale(.1, .1)"}),setTimeout(function(){var t=e.model.index,i=e.isFocused(),n=this.model.getItemByIndex(this.findPrevSelectableIndex(t));this.removeExpressionSynchronously(e),i&&(n||(n=this.model.getFirstVisibleItem()),this.model.setSelected(n),this.getItemView(n.id).addFocus("end"))}.bind(this),1e3*t)},e.onUpPressed=function(e){this.inAudioTraceMode&&this.audiograph||0!==e.model.index&&(this.selectPrevExpression(e.model),this.getSelectedView().addFocus("end"))},e.onDownPressed=function(e){this.inAudioTraceMode&&this.audiograph||(this.selectNextExpression(e.model),this.getSelectedView().addFocus("start"))},e.onBackspacePressed=function(e){if(1!==this.model.getItemCount()||!e.model.isExpression){var t=e.model.isText,i=this.model.getItemByIndex(e.model.index+1);return!e.model.folder||i&&i.folder?(this.upwardDeleteExpression(e),t&&h.IS_IPAD&&h.IS_IN_IFRAME?void this.model.setSelected(null):void this.getSelectedView().addFocus("end")):void e.model.folder.removeItem(e.model)}},e.onDelPressed=function(e){1===this.model.getItemCount()&&e.model.isExpression||(this.downwardDeleteExpression(e),this.getSelectedView().addFocus("start"))},e.onEnterPressed=function(e){if(e.model.isText&&h.IS_IPAD&&h.IS_IN_IFRAME)return c(),void this.model.setSelected(null);var t=g({selected:!0},this.model),n=this,r=e.model.index+1;e.model.isFolder&&e.model.collapsed&&(r+=i(e.model.memberIds).keys().length),n.model.undoRedo.oneTransaction(function(){n.model.insertItemAt(r,t),e.model.isFolder&&!e.model.collapsed&&e.model.addItem(t),e.model.folder&&e.model.folder.addItem(t)}),this.getSelectedView().addFocus()},e.expressionsVisible=!0,e.hideExpressions=function(){this.model.setSelected(null),c(),this.setProperty("needsFakeKeypad",!1),this.setProperty("expressionsVisible",!1)},e.showExpressions=function(){this.setProperty("expressionsVisible",!0),c()},e.renderEditListMode=function(){var e=this.$root,i=this;this.editListMode?(e.addClass("dcg-EDIT-LIST-MODE"),this.model.setSelected(null),t(document).on("dcg-tapstart.edit-list-mode",function(e){0===t(e.target).closest(".dcg-exppanel").length&&0===t(e.target).closest(".dcg-options-menu").length&&0===t(e.target).closest(".dcg-expression-top-bar").length&&i.setProperty("editListMode",!1)})):(e.removeClass("dcg-EDIT-LIST-MODE"),t(document).off(".edit-list-mode"))},e.handleFocusChange=function(e){var i=t(e),n=0!==i.closest(".dcg-mq-math-mode").length,s=0!==i.closest(".dcg-mq-editable-field").length,o=0!==i.closest(".dcg-mq-math-mode:not(.dcg-mq-editable-field)").find(".dcg-mq-editable-field").length,a=0!==i.closest(".dcg-math-input").length,l=0!==i.closest(".dcg-expressiontext").length,c=0!==i.closest(".dcg-expressionfolder").length;!s&&n&&o&&(n=!1,s=!1,a=!1),!a&&(n||s||l||c)&&this.setProperty("editListMode",!1),this.setProperty("itemFocused",n||s),this.setProperty("needsFakeKeypad",n&&s);var u;if(s){var h=i.closest(".dcg-template-mathquill")[0];u=h?r(h)||void 0:void 0}this.setProperty("focusedMathQuill",u)},e.onFocusIn=function(e){this.expressionsVisible||this.showExpressions(),this.handleFocusChange(e.target),this.inAudioTraceMode&&this.audiograph&&this.audiograph.exitAudioTrace(),clearTimeout(this.fakeKeypadTimeout)},e.onFocusOut=function(){clearTimeout(this.fakeKeypadTimeout),this.fakeKeypadTimeout=setTimeout(function(){this.handleFocusChange(document.activeElement)}.bind(this),0)},e.offset=function(){return this.$exps.offset()},e.setBottom=function(e){if(this.$exps){var t=parseFloat(this.$exps.css("bottom").slice(0,-2));isFinite(t)||(t=0),this.$exps.css("bottom",e+"px"),0===e&&o.isTapActive()&&this.padLastExpressionUntilTapEnd(t),this.recalculateScrollbarWidth()}},e.didCreateElement=function(){var e=this,r=this.model;n.didCreateElement.call(this),this.$exps=this.$(".dcg-exppanel-outer"),this.addExpressionView=l(this,this.$root,this.graphSettings,this.toastView),this.addExpressionView.setPointTo(this.$(".dcg-action-add-expression .dcg-icon-caret-down")),this.addExpressionView.appendTo(this.$exps),this.addExpressionView.setupOpenButton(this.$(".dcg-action-add-expression"),"dcg-tap"),this.observe("scrollbarWidth minWidth",this.updateAllViewWidths.bind(this)),this.$exps.tipsy({fade:"fast",title:"tooltip",wait:500,delegate:".dcg-tooltip"}),this.$(".dcg-action-opendrawer").on("dcg-tap",function(){this.triggerOpenDrawer()}.bind(this)),this.$exppanelContainer=this.$(".dcg-exppanel-container"),this.$exppanel=this.$(".dcg-exppanel"),this.$items=this.$(".dcg-template-expressioneach"),this.appendAllItemViews();var s=i.debounce(this.measureVisibleExpressions.bind(this),200);this.$exppanel.on("scroll",s),this.$exppanel.on("dcg-tapstart",function(e){"mouse"!==e.device&&0===t(e.target).closest(".dcg-expressionitem").length&&c()}),this.$exppanel.on("keypress",this.ensureActiveChildIsVisible.bind(this)),this.$(".dcg-expression-top-bar").on("dcg-tapstart",function(e){e.wasHandled()||r.setSelected(null)}),this.$exps.on("dcg-tap",".dcg-action-clearall",function(){e.triggerClearGraph()}),this.$exps.on("dcg-tap",".dcg-action-reset",function(){e.triggerResetGraph(),e.setProperty("editListMode",!1)}),r.undoRedo.changesCallbacks.push(function(){e.$(".dcg-action-undo").toggleClass("dcg-enabled",r.undoRedo.canUndo()),e.$(".dcg-action-undo").attr("aria-disabled",!r.undoRedo.canUndo()),e.$(".dcg-action-undo").toggleClass("dcg-tooltip",r.undoRedo.canUndo()),e.$(".dcg-action-redo").toggleClass("dcg-enabled",r.undoRedo.canRedo()),e.$(".dcg-action-redo").attr("aria-disabled",!r.undoRedo.canRedo()),e.$(".dcg-action-redo").toggleClass("dcg-tooltip",r.undoRedo.canRedo())}),this.$exps.on("dcg-tap",".dcg-action-undo",function(){r.undoRedo.undo()}),this.$exps.on("dcg-tap",".dcg-action-redo",function(){r.undoRedo.redo()}),this.$exps.on("focusout",this.onFocusOut.bind(this)),this.$exps.on("focusin",this.onFocusIn.bind(this)),this.$(".dcg-action-toggle-edit").on("dcg-tap",function(){e.setProperty("editListMode",!e.editListMode)}),this.$(".dcg-action-hideexpressions").on("dcg-tap",this.hideExpressions.bind(this)),this.$(".dcg-action-showexpressions").on("dcg-tap",this.showExpressions.bind(this)),t(document.documentElement).on("keydown."+this.guid,this.handleKeyDown.bind(this)),this.renderItemFocused(),this.renderEditListMode(),this.newExpressionView=f(this),this.newExpressionView.replace(this.$(".template-newexpression")),this.$exps.on("render",function(t){e.updateWidth()}),this.model.observe("selectedItem",function(){e.updateWidth()}),this.observe("editListMode itemFocused",function(){e.updateWidth()}),this.$exps.on("focusin",function(){setTimeout(function(){e.updateWidth()},0)})},e.didInsertElement=function(){this.updateWidth(),this.$exppanelContainer.addClass("dcg-do-animate")},e.getFirstVisibleItem=function(){var e=this.$exppanel.offset().top,t=this.expressionAtPoint(0,e);return t?(this.getItemView(t.id).$().offset().top<e-2&&(t=this.model.getItemByIndex(t.index+1)),t):this.model.getItemByIndex(0)},e.appendBlankExpression=function(){this.newExpressionView.newMath()},e.ensureActiveChildIsVisible=function(){if(this.$exps&&this.$exps.is(":visible")){var e,i,n=t(document.activeElement);if(this.model.selectedItem?(e=this.getItemView(this.model.selectedItem.id),e&&(i=e.$())):n&&(e=n.closest(".dcg-expressionitem"),e.length&&(i=e[0])),i){var r=n.closest(".dcg-mq-editable-field");if(e.model&&r.length){var s=e.model.isTable?60:90;return p.scrollVisible(r,this.$exppanel,s),!0}return n.closest(".dcg-expressionitem").length?(p.scrollVisible(n,this.$exppanel,90),!0):(p.scrollVisible(i,this.$exppanel,90),!0)}}},e.handleKeyDown=function(e){if(!this.inAudioTraceMode&&!t.contains(document.body,document.activeElement)&&!t(e.target).closest(".dcg-exppanel").length&&t.contains(document.documentElement,e.target)){var i=this.getSelectedView();if(i&&i.isFocused()&&i.model.isTable)return void i.processMissedKeyEvent(e);var n=u.lookup(e);if(i)switch(n){case u.UP:e.preventDefault(),this.selectPrevExpression(i.model);break;case u.DOWN:e.preventDefault(),this.selectNextExpression(i.model,!0);break;case u.ESCAPE:e.preventDefault(),this.model.setSelected(null);break;case u.RIGHT:case u.TAB:e.preventDefault(),i&&(i.model.isTable?i.addFocus("cell",0,0):i.addFocus("start"));break;case u.LEFT:e.preventDefault(),i&&(i.model.isTable?i.addFocus("cell",0,i.model.columns.length-1):i.addFocus("end"));break;case u.BACKSPACE:e.preventDefault(),i&&this.upwardDeleteExpression(i);break;case u.DELETE:e.preventDefault(),i&&this.downwardDeleteExpression(i);break;case u.ENTER:e.preventDefault(),i&&this.onEnterPressed(i);break;default:if(e.metaKey||e.ctrlKey||n===u.SHIFT||n===u.SPACEBAR)return;i&&(i.model.isTable||i.addFocus("end"))}}},e.getSelectedView=function(){var e=this.model.getSelected();if(e){var t=this.getItemView(e.id);return t}return null},e.upwardDeleteExpression=function(e){var t=e.model.index,i=this.model.getItemByIndex(this.findPrevSelectableIndex(t));this.removeExpressionSynchronously(e),i||(i=this.model.getFirstVisibleItem()),this.model.setSelected(i)},e.findPrevSelectableIndex=function(e){var t;do e--,t=this.model.getItemByIndex(e);while(t&&this.model.itemIsHidden(t));return t?e:void 0},e.findNextSelectableIndex=function(e){var t;do e++,t=this.model.getItemByIndex(e);while(t&&this.model.itemIsHidden(t));return t?e:void 0},e.downwardDeleteExpression=function(e){var t=e.model.index,i=this.model.getItemByIndex(this.findNextSelectableIndex(t));this.removeExpressionSynchronously(e),i||(i=this.model.getLastVisibleItem()),this.model.setSelected(i)},e.selectPrevExpression=function(e){if(e){var t=e.index,i=this.model.getItemByIndex(this.findPrevSelectableIndex(t));i&&(i.setProperty("selected",!0),t===this.model.getItemCount()-1&&e.isEmpty()&&this.model.removeItemAt(t))}},e.selectNextExpression=function(e,t){if(e){var i=e.index,n=this.model.getItemByIndex(this.findNextSelectableIndex(i));if(n)n.setProperty("selected",!0);else if(!t){var r=g({selected:!0},this.model);this.model.insertItemAt(this.model.getItemCount(),r)}}},e._getVisibleViews=function(){for(var e=[],t=0;t<this.model.getItemCount();t++){var i=this.model.getItemByIndex(t),n=this.getItemView(i.id);n&&n.$().is(":visible")&&e.push(n)}return e},e.expressionAtPoint=function(e,t){for(var i=this._getVisibleViews(),n=0,r=i.length-1;n<=r;){var s=n+Math.floor((r-n)/2),o=i[s],a=o.getBounds();if(a.top>t)r=s-1;else{if(!(a.bottom<t))return o.model;n=s+1}}return null},e.expressionAbovePoint=function(e,t){for(var i=this._getVisibleViews(),n=0,r=i.length-1,s=null;n<=r;){var o=n+Math.floor((r-n)/2),a=i[o],l=a.getBounds();l.top>t?r=o-1:(n=o+1,s=a.model)}return s},e.onProjectorModeChange=function(){for(var e in this.__itemViews)this.__itemViews.hasOwnProperty(e)&&this.__itemViews[e].onProjectorModeChange()},e.addFocusForKeypad=function(){var e=this.model.getSelected();if(e&&e.isExpression)return void this.getItemView(e.id).addFocus();if(!(e&&e.isTable&&this.itemFocused)){for(var t=this.getFirstVisibleItem();t&&!t.isExpression;)t=this.model.getItemByIndex(t.index+1);return t?void this.getItemView(t.id).addFocus():void this.appendBlankExpression()}}});return w}),define("main/instancehotkeys",["require","jquery","pjs","lib/aria","i18n","keys"],function(e){var t=e("jquery"),i=e("pjs"),n=e("lib/aria"),r=e("i18n"),s=e("keys"),o=i(function(e){e.init=function(e,i,n,r){this.$root=e||t("body"),this.expressionsModel=i,this.expressionsView=n,this.calc=r,this.startListening()},e.t=function(e,t){return r.t(e,t,this.expressionsModel.graphSettings.language)},e.startListening=function(){this.isListening||(this.$root.on("keydown.dcg-instance-keyboard-listener",this.handleInstanceKeydown.bind(this)),this.isListening=!0)},e.stopListening=function(){this.isListening&&(this.$root.off("keydown.dcg-instance-keyboard-listener"),this.isListening=!1)},e.handleInstanceKeydown=function(e){if(s.isUndo(e))e.stopPropagation(),e.preventDefault(),this.calc.hasVisibleAndUndoableToast()?this.calc.toastUndo():this.expressionsModel.undoRedo.undo();else if(s.isRedo(e))e.stopPropagation(),e.preventDefault(),this.expressionsModel.undoRedo.redo();else if(e.ctrlKey&&(e.altKey||e.metaKey)&&!e.shiftKey){var t;if("E"===s.lookupChar(e)){e.preventDefault(),e.stopPropagation(),null===this.expressionsModel.getSelected()&&this.expressionsModel.setSelected(0);var i=this.expressionsView.getSelectedView();i?(n.alert(this.t("Expression list")),i.addFocus()):n.alert(this.t("Unable to focus expression list"))}else"X"===s.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),t=this.expressionsView.addExpressionView,t?(n.alert(this.t("Add expression")),t.newExpression()):n.alert(this.t("Unable to add expression"))):"O"===s.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),t=this.expressionsView.addExpressionView,t&&this.expressionsModel.graphSettings.config.notes?(n.alert(this.t("Add note")),t.newText(),this.focusLastExpression()):n.alert(this.t("Unable to add note"))):"F"===s.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),t=this.expressionsView.addExpressionView,t?(n.alert(this.t("Add folder")),t.newFolder()):n.alert(this.t("Unable to add folder"))):"I"===s.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),t=this.expressionsView.addExpressionView,t?(n.alert(this.t("Add image")),t.selectImage()):n.alert(this.t("Unable to add image"))):"T"===s.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),t=this.expressionsView.addExpressionView,t?(n.alert(this.t("Add table")),t.newTableFromTap(e)):n.alert(this.t("Unable to add table"))):"G"===s.lookupChar(e)?(e.preventDefault(),e.stopPropagation(),this.clickElement(this.$root.find(".dcg-action-settings"),this.t("Unable to activate graph settings"))):"P"===s.lookupChar(e)&&(e.preventDefault(),e.stopPropagation(),this.focusElement(this.$root.find(".dcg-movable-point:first:visible"),this.t("No movable points on screen")))}},e.focusLastExpression=function(){this.focusTimeout&&clearTimeout(this.focusTimeout),this.focusTimeout=setTimeout(function(){var e=this.expressionsModel.getItemByIndex(this.expressionsModel.getItemCount()-1),t=this.expressionsView.getItemView(e.id);t.addFocus(),this.focusTimeout=null}.bind(this),100)},e.clickElement=function(e,t){e.length?e.trigger("dcg-tap",["keyboard"]):t&&n.alert(t)},e.focusElement=function(e,t){e.length?e.focus():t&&n.alert(t)}});return o}),define("loadcss!keypad",function(){}),define("template!keypad",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<div class='dcg-keypad' role='complementary' aria-label='Keypad'>\n  <div class='dcg-keys-container dcg-retracted'>\n    <div class='dcg-keys-background dcg-do-not-blur'>\n      <div class='dcg-keys'>\n\n        <div class='dcg-functions-popover dcg-popover dcg-top'>\n          <div class='dcg-popover-interior'>\n            <div class='dcg-popover-header'>\n              <table><tr>\n              ",_.each(popups.functionsPopup,function(e,t){__p+='\n                <td>\n                  <span key="'+(null==(__t=e.tab.id)?"":_.escape(__t))+'" class="dcg-heading dcg-tappable dcg-btn-medium-gray'+(null==(__t="trig"==t?" dcg-selected":"")?"":_.escape(__t))+'">\n                    '+(null==(__t=e.tab.html)?"":__t)+"\n                  </span>\n                </td>\n              "}),__p+="\n              </tr></table>\n            </div>\n\n            ",_.each(popups.functionsPopup,function(e,t){__p+="\n              <table class='dcg-interior-buttons' section='"+(null==(__t=t)?"":_.escape(__t))+"'>\n                ","trig"==t&&(__p+="\n                  <tr class='dcg-section-headings'>\n                    <td>trig</td>\n                    <td>inverse</td>\n                    <td>hyperb</td>\n                  </tr>\n                "),__p+="\n                <tr>\n\n                ";var i=0;_.each(e.funcs,function(e){__p+="\n                  "+(null==(__t=i%3==0?"</tr><tr>":"")?"":__t)+"\n                  ",i++,__p+='\n                  <td>\n                    <span\n                      class="dcg-option dcg-tappable '+(null==(__t=e.aClass)?"":_.escape(__t))+" dcg-"+(null==(__t=e.id)?"":_.escape(__t))+'-key"\n                      key="'+(null==(__t=e.id)?"":_.escape(__t))+'"\n                    >\n                      '+(null==(__t=e.html)?"":__t)+"\n                    </span>\n                  </td>\n              "}),__p+="\n              </tr></table>\n            "}),__p+="\n          </div>\n          <div class='dcg-arrow'></div>\n        </div>\n\n        ",_.each(buttons,function(e,t){__p+='\n         <div class="dcg-'+(null==(__t=t)?"":_.escape(__t))+' dcg-main-keypad-section">\n           ',_.each(e,function(e){__p+='\n             <div class="dcg-row">\n               ',_.each(e.keys,function(e){__p+='<div\n                   class="dcg-cell '+(null==(__t=e.cellClass?e.cellClass:"")?"":_.escape(__t))+'"\n                 >\n                   ',e.html&&(__p+='\n                     <span\n                       role="button" class="'+(null==(__t=e.aClass)?"":_.escape(__t))+" dcg-"+(null==(__t=e.id)?"":_.escape(__t))+'-key"\n                       key="'+(null==(__t=e.id)?"":_.escape(__t))+'"\n                     >\n                       '+(null==(__t=e.html)?"":__t)+"\n                     </a>\n                   "),__p+="\n                 </div>"}),__p+="\n               <div style='clear:both'></div>\n             </div>\n           "}),__p+="\n         </div>\n        "}),__p+='\n        <div style=\'clear:both\'></div>\n      </div>\n\n      <div role="button" aria-label="'+(null==(__t=t("Hide Keypad"))?"":_.escape(__t))+"\" class='dcg-minimize-keypad dcg-tooltip' tooltip=\""+(null==(__t=t("Hide Keypad").split(" ").map(_.escape).join("&nbsp;"))?"":__t)+"\">\n        <i class='dcg-icon-keyboard'></i>\n        <i class='dcg-icon-caret-down'></i>\n      </div>\n    </div>\n  </div>\n\n  <div role=\"button\" aria-label=\""+(null==(__t=t("Show Keypad"))?"":_.escape(__t))+'" class="dcg-btn-flat-gray dcg-show-keypad dcg-do-not-blur dcg-tooltip" tooltip="'+(null==(__t=t("Show Keypad").split(" ").map(_.escape).join("&nbsp;"))?"":__t)+'">\n    <i class=\'dcg-icon-keyboard\'></i>\n    <i class="dcg-icon-caret-up dcg-do-not-blur"></i>\n  </div>\n</div>\n';return __p}}),define("text!data/keypad_keys.json",[],function(){return'{\n"trigFuncs":        ["sin","cos","tan","csc","sec","cot"],\n\n"oneArgFuncs":      ["ceil","floor","round","abs","sign","ln","log","exp", "total", "length", "mean", "median", "stdev", "stdevp", "var", "varp", "mad"],\n\n"twoArgFuncs":      ["min","max","lcm","gcd","mod", "nCr", "nPr", "cov", "corr", "quantile"],\n\n"tabs":             ["trig","stats", "misc"],\n\n"staticKeys": {\n  "unknown":          {"display":{"html":"?"},\n                      "action":{"cmd":"?"}},\n  "pi":               {"display":{"html":"π"},\n                      "action":{"cmd":"\\\\pi"}},\n  "tau":               {"display":{"html":"τ"},\n                      "action":{"cmd":"\\\\tau"}},\n  "leftparen":        {"display":{"html":"("},\n                      "action":{"cmd":"("}},\n  "rightparen":       {"display":{"html":")"},\n                      "action":{"cmd":")"}},\n  "sqrt":             {"display":{"html":"√"},\n                      "action":{"cmd":"\\\\sqrt"}},\n  "nthroot":         {"display":{"html":"n&radic;"},\n                      "action":{"custom": "nthroot"}},\n  "lt":               {"display":{"html":"&lt;"},\n                      "action":{"cmd":"<"}},\n  "gt":               {"display":{"html":"&gt;"},\n                      "action":{"cmd":">"}},\n  "le":               {"display":{"html":"≤"},\n                      "action":{"cmd":"\\\\le"}},\n  "ge":               {"display":{"html":"≥"},\n                      "action":{"cmd":"\\\\ge"}},\n\n  "squared":          {"display":{"aClass":"dcg-exponent", "html":"a^2"},\n                      "action":{"custom":"squared"}},\n\n  "exponent":         {"display":{"aClass":"dcg-exponent", "html":"a^b"},\n                      "action":{"cmd":"^"}},\n  "subscript":        {"display":{"html":"a_b"},\n                      "action":{"cmd":"_"}},\n  "fact":             {"display":{"html":"n!"},\n                      "action":{"cmd":"!"}},\n  "theta":            {"display":{"html":"θ"},\n                      "action":{"cmd":"\\\\theta"}},\n\n  "openbracket":        {"display":{"html":"{ <span class=\'dcg-ghost-bracket\'>}</span>", "noMQ":true},\n                      "action":{"cmd":"{"}},\n  "closebracket":        {"display":{"html":"<span class=\'dcg-ghost-bracket\'>{</span> }", "noMQ":true},\n                      "action":{"cmd":"}"}},\n  "opensquare":        {"display":{"html":"[ <span class=\'dcg-ghost-bracket\'>]</span>", "noMQ":true},\n                      "action":{"cmd":"["}},\n  "closesquare":       {"display":{"html":"<span class=\'dcg-ghost-bracket\'>[</span> ]", "noMQ":true},\n                      "action":{"cmd":"]"}},\n  "leftparenghost":   {"display":{"html":"( <span class=\'dcg-ghost-bracket\'>)</span>", "noMQ":true},\n                      "action":{"cmd":"("}},\n  "rightparenghost":   {"display":{"html":"<span class=\'dcg-ghost-bracket\'>(</span> )", "noMQ":true},\n                        "action":{"cmd":")"}},\n  "colon":            {"display":{"html":":"},\n                      "action":{"cmd":":"}},\n  "pipes":            {"display":{"html":"|a|"},\n                      "action":{"cmd":"|"}},\n  "comma":            {"display":{"html":","},\n                      "action":{"cmd":","}},\n  "commaghost":       {"display":{"html":",\\\\ \\\\textcolor{#B5B5B5}{\'}"},\n                      "action":{"cmd":","}},\n  "percent":          {"display":{"html":"%"},\n                      "action":{"cmd":"%"}},\n  "prime":            {"display":{"html":"\'"},\n                      "action":{"cmd":"\'"}},\n  "primeghost":       {"display":{"html":"\\\\textcolor{#B5B5B5}{,}\\\\ \'"},\n                      "action":{"cmd":"\'"}},\n  "times":            {"display":{"html":"×"},\n                      "action":{"cmd":"*"}},\n  "plus":             {"display":{"html":"+"},\n                      "action":{"cmd":"+"}},\n  "divide":           {"display":{"html":"÷"},\n                      "action":{"cmd":"/"}},\n  "minus":            {"display":{"html":"−"},\n                      "action":{"cmd":"-"}},\n  "equals":           {"display":{"html":"="},\n                      "action":{"cmd":"="}},\n  "twiddle":           {"display":{"html":"~"},\n                      "action":{"cmd":"~"}},\n  "decimal":          {"display":{"html":"."},\n                      "action":{"cmd":"."}},\n\n  "backspace":        {"display":{"aClass":"dcg-btn-medium-gray",\n                                  "html":"<i class=\\"dcg-icon-delete\\"></i>",\n                                "colspan": 1.5\n                               },\n                      "action":{"key":"Backspace"}},\n  "enter":            {"display":{"aClass":"dcg-btn-medium-gray",\n                                  "html":"<i class=\\"dcg-icon-arrow-enter\\"></i>",\n                                  "colspan": 2,\n                                  "noMQ":true\n                                },\n                      "action":{"cmd":"\\n",\n                                "custom": "enter"}},\n  "toggleLetters":    {"display":{"aClass":"dcg-btn-medium-gray",\n                                  "html":"A B C",\n                                  "colspan":2},\n                      "action":{"changeLayout": "letters"}},\n  "toggleNumbers":    {"display":{"aClass":"dcg-btn-medium-gray",\n                                "html":"1 2 3",\n                                "colspan":2\n                               },\n                      "action":{"changeLayout":"mainNumbers"}},\n\n  "popupFunctions":  {"display":{"aClass":"dcg-btn-medium-gray", "html":"func<span class=\'dcg-hide-on-narrow\'>tion</span>s", "colspan":2},\n                      "action":{"popup": "functions"}},\n\n  "blank":            {"display":{},\n                      "action":{}},\n\n  "halfBlank":        {"display":{"colspan":0.5},\n                      "action":{}},\n\n  "left":             {"display":{"html":"<i class=\\"dcg-icon-arrow-left\\"></i>"},\n                      "action":{"key":"Left"}},\n  "up":               {"display":{"html":"&uarr;"},\n                      "action":{"key":"Up"}},\n  "right":            {"display":{"html":"<i class=\\"dcg-icon-arrow-right\\"></i>"},\n                      "action":{"key":"Right"}},\n  "down":             {"display":{"html":"&darr;"},\n                      "action":{"key":"Down"}},\n\n\n  "toggleCapital":    {"display":{"aClass":"dcg-btn-medium-gray",\n                                  "html":"<i class=\\"dcg-icon-shift\\"></i>",\n                                  "colspan":1.5},\n                                  "action":{"changeLayout": "capitalLetters"}},\n  "toggleLowercase":    {"display":{"aClass":"dcg-btn-medium-gray dcg-active",\n                                  "html":"<i class=\\"dcg-icon-shift\\"></i>",\n                                  "colspan":1.5},\n                                  "action":{"changeLayout": "letters"}},\n  "loga":             {"display":{"html":"log_a"},\n                      "action":{"custom":"loga"}},\n  "ddx":              {"display":{"html":"d/dx"},\n                      "action":{"custom":"d/dx"}},\n  "sum":              {"display":{"html":"\\\\sum"},\n                      "action":{"cmd":"\\\\sum"}},\n  "prod":             {"display":{"html":"\\\\prod"},\n                      "action":{"cmd":"\\\\prod"}},\n  "integral":         {"display":{"html":"\\\\int"},\n                      "action":{"cmd":"\\\\int"}},\n  "highlightedX":     {"display":{"html":"x", "aClass":"dcg-highlighted"},\n                      "action":{"cmd":"x"}},\n  "highlightedY":     {"display":{"html":"y", "aClass": "dcg-highlighted"},\n                      "action":{"cmd":"y"}}\n  }\n}\n';
    }),define("main/keypad_keys",["require","jquery","underscore","i18n","mathquill","text!data/keypad_keys.json"],function(e){var t,i=e("jquery"),n=e("underscore"),r=e("i18n"),s=e("mathquill"),o=JSON.parse(e("text!data/keypad_keys.json")),a=o.staticKeys;r.t("functions"),r.t("A B C"),r.t("more"),r.t("enter"),n.each(o.tabs,function(e){a[e+"Tab"]={display:{html:e},action:{tab:e}}}),n.each(o.oneArgFuncs,function(e){a[e]={display:{html:'<var class="dcg-mq-operator-name">'+e+"</var>",aClass:"dcg-mq-math-mode",noMQ:!0},action:{func:e}}}),n.each(o.twoArgFuncs,function(e){a[e]={display:{html:'<var class="dcg-mq-operator-name">'+e+"</var>",aClass:"dcg-mq-math-mode",noMQ:!0},action:{func:e,args:2}}}),n.each(o.trigFuncs,function(e){n.each([e,e+"h"],function(e){a[e]={display:{html:'<var class="dcg-mq-operator-name">'+e+"</var>",aClass:"dcg-mq-math-mode",noMQ:!0},action:{func:e}}}),a["arc"+e]={display:{html:e+"^{-1}",aClass:"dcg-inverse-trig"},action:{custom:"inverse",fn:e}}});var l;for(t=0;t<26;t++)l=String.fromCharCode(65+t),a[l]={display:{html:l},action:{cmd:l}};for(t=0;t<26;t++)l=String.fromCharCode(97+t),a[l]={display:{html:l},action:{cmd:l}};for(t=0;t<10;t++){var c=String.fromCharCode(48+t);a[c]={display:{html:c},action:{cmd:c}}}var u=function(e,t){var n=e.display,r=e.action;if(n.id=t,"cellClass"in n||(n.cellClass=""),"aClass"in n||(n.aClass=""),n.colspan)switch(n.cellClass&&(n.cellClass+=" "),n.colspan){case.5:n.cellClass+="dcg-halfwide";break;case 2:n.cellClass+="dcg-twowide";break;case 1.5:n.cellClass+="dcg-onepointfivewide"}n.aClass.indexOf("dcg-btn-")===-1&&(n.aClass=n.aClass?n.aClass+" dcg-btn-light-gray":"dcg-btn-light-gray"),n.html&&(n.aClass=n.aClass?n.aClass+" dcg-key":"dcg-key",n.aClass+=" dcg-tappable"),r.tab||r.key||r.popup||r.changeLayout||n.noMQ||!n.html||(n.mathquill=!0,/^[π%]$/.test(n.html)&&(n.aClass+=" dcg-mq-nonSymbola"),/^([0-9?:,'~().=+\−τ√≤≥θ×÷π%]|&lt;|&gt;)$/.test(n.html)?n.html='<span aria-hidden="true">'+n.html+"</span>":/^[a-zA-Z]$/.test(n.html)?n.html='<var aria-hidden="true">'+n.html+"</var>":n.html=s.StaticMath(i("<span>"+n.html+"</span>")[0]).html(),n.aClass+=" dcg-mq-math-mode")};return n.each(a,u),a}),define("main/keypad_view",["require","loadcss!keypad","jquery","mathquill","underscore","main/cookie","template!keypad","underscore_view","pjs","i18n","tipsy","main/keypad_keys"],function(e){e("loadcss!keypad");var t=e("jquery"),i=e("mathquill"),n=e("underscore"),r=e("main/cookie"),s=e("template!keypad"),o=e("underscore_view"),a=e("pjs"),l=e("i18n");e("tipsy");var c=e("main/keypad_keys"),u=a(o,function(e,o){e.template=s,e.init=function(e){o.init.call(this),this.keys=c,this.graphSettings=e,this.config=this.graphSettings.config,this.setupKeypad(),this.setLayout("mainNumbers"),this.setProperty("functionsOpen",!1),this.setProperty("isOpen",!1),this.userMinimized=!1,this.editableViews=[]},e.getEditableViewThatNeedsKeypad=function(){for(var e=0;e<this.editableViews.length;e++)if(this.editableViews[e].needsFakeKeypad)return this.editableViews[e];return null},e.getActiveMathquill=function(){return i(t(document.activeElement).closest(".dcg-mq-editable-field")[0])},e.registerEditableView=function(e){this.editableViews.push(e),e.observe("needsFakeKeypad",this.onNeedsFakeKeypad.bind(this))},e.onNeedsFakeKeypad=function(){this.requestSetIsOpen(!!this.getEditableViewThatNeedsKeypad())},e.onLanguageChange=function(){this.rerender()},e.didCreateElement=function(){var e=this;e.setLayout(e.layout),e.$hideBtn=e.$(".dcg-minimize-keypad"),e.$showBtn=e.$(".dcg-show-keypad"),e.$funcPopover=e.$(".dcg-functions-popover"),e.$container=e.$(".dcg-keys-container"),e.$keys=e.$(".dcg-keys"),e.$funcBtn=e.$(".dcg-popupFunctions-key"),e.setTab("trig"),this.observeAndSync("isOpen",function(){e.$showBtn.toggle(!e.isOpen)}),this.observe("functionsOpen",this.renderFunctionsOpen.bind(this)),this.observe("graphpaperHeight",this.positionFunctionsPopup.bind(this)),this.$().tipsy({fade:"fast",title:"tooltip",wait:500,delegate:".dcg-tooltip",gravity:"s",offset:2}),e.$().on("dcg-tap",".dcg-tappable",function(i){var n=t(i.target).closest(".dcg-tappable");e.buttonClicked(n)}),e.$hideBtn.on("dcg-tap",function(){e.$hideBtn.attr("aria-hidden",!0),e.$showBtn.attr("aria-hidden",!1),e.userMinimized=!0,r.setCookie("keypadMinimized","true"),e._hideKeypad()}),e.$showBtn.on("dcg-tap",function(){if(e.$hideBtn.attr("aria-hidden",!1),e.$showBtn.attr("aria-hidden",!0),e.userMinimized=!1,r.setCookie("keypadMinimized","false"),e._showKeypad(),!e.getActiveMathquill())for(var t=0;t<e.editableViews.length;t++)e.editableViews[t].addFocusForKeypad&&e.editableViews[t].addFocusForKeypad()}),e.userMinimized="true"===r.getCookie("keypadMinimized")},e._hideKeypad=function(){clearTimeout(this.__showHideTimeout);var e=this;this.__showHideTimeout=setTimeout(function(){e.__showHideTimeout=null,e.setProperty("isOpen",!1),e.setProperty("functionsOpen",!1),e.$container.addClass("dcg-retracted").attr("aria-hidden",!0)})},e._showKeypad=function(){clearTimeout(this.__showHideTimeout);var e=this;this.__showHideTimeout=setTimeout(function(){e.__showHideTimeout=null,e.setLayout("mainNumbers"),e.setProperty("isOpen",!0),e.$container.removeClass("dcg-retracted").removeAttr("aria-hidden")})},e.requestSetIsOpen=function(e){this.userMinimized&&!this.isOpen||(e!==this.isOpen||this.__showHideTimeout)&&(e?this._showKeypad():this._hideKeypad())},e.getButton=function(e){return this.keys[e]||(e="unknown"),this.keys[e].display},e.buttonArray=function(e){var t=function(){return!0};return this.config.restrictedFunctions&&(t=function(e){return["csc","sec","cot","arccsc","arcsec","arccot","csch","sech","coth","arccsch","arcsech","arccoth","mad","cov"].indexOf(e)===-1}),n.map(n.filter(e.split(" "),t),this.getButton,this)},e.setupKeypad=function(){this.buttons={mainNumbersLeft:[{keys:this.buttonArray("highlightedX highlightedY squared exponent")},{keys:this.buttonArray("leftparen rightparen lt gt")},{keys:this.buttonArray("pipes comma le ge")},{keys:this.buttonArray("toggleLetters sqrt pi")}],numbersMiddle:[{keys:this.buttonArray("7 8 9 divide")},{keys:this.buttonArray("4 5 6 times")},{keys:this.buttonArray("1 2 3 minus")},{keys:this.buttonArray("0 decimal equals plus")}],numbersRight:[{keys:this.buttonArray("popupFunctions")},{keys:this.buttonArray("left right")},{keys:this.buttonArray("halfBlank backspace")},{keys:this.buttonArray("enter")}],letters:[{keys:this.buttonArray("q w e r t y u i o p")},{keys:this.buttonArray("a s d f g h j k l theta")},{keys:this.buttonArray("toggleCapital z x c v b n m backspace")},{keys:this.buttonArray("toggleNumbers subscript leftparenghost openbracket opensquare twiddle commaghost enter")}],capitalLetters:[{keys:this.buttonArray("Q W E R T Y U I O P")},{keys:this.buttonArray("A S D F G H J K L tau")},{keys:this.buttonArray("toggleLowercase Z X C V B N M backspace")},{keys:this.buttonArray("toggleNumbers exponent rightparenghost closebracket closesquare colon primeghost enter")}],noQwertyLetters:[{keys:this.buttonArray("a b c d e f g h i")},{keys:this.buttonArray("j k l m n o p q r")},{keys:this.buttonArray("s t u v w x y z backspace")},{keys:this.buttonArray("toggleNumbers subscript leftparenghost openbracket opensquare twiddle commaghost enter")}]},this.popups={functionsPopup:{trig:{tab:this.getButton("trigTab"),funcs:this.buttonArray("sin arcsin sinh cos arccos cosh tan arctan tanh csc arccsc csch sec arcsec sech cot arccot coth")},stats:{tab:this.getButton("statsTab"),funcs:this.buttonArray("total length mean median min max quantile stdev stdevp mad var varp cov corr nCr nPr fact twiddle")},misc:{tab:this.getButton("miscTab"),funcs:this.buttonArray("lcm gcd mod ceil floor round abs sign percent exp ln nthroot log loga ddx integral sum prod")}}}},e.getTemplateParams=function(){var e=this;return{buttons:this.buttons,popups:this.popups,t:function(t,i){return l.t(t,i,e.graphSettings.language)}}},e.height=function(){return this.isOpen?this.$container.height():0},e.setLayout=function(e){this.layout=e,this.$().removeClass("dcg-layout-letters dcg-layout-capitalLetters dcg-layout-mainNumbers dcg-layout-noQwertyLetters").addClass("dcg-layout-"+e)},e.setTab=function(e){var t=["trig","stats","misc"],i=this;n.each(t,function(e){i.$("[key="+e+"Tab]").removeClass("dcg-selected"),i.$("[section="+e+"]").attr("aria-hidden",!0).hide()}),this.$("[key="+e+"Tab]").addClass("dcg-selected"),this.$("[section="+e+"]").attr("aria-hidden",!1).show()},e.renderFunctionsOpen=function(){this.$funcBtn.toggleClass("dcg-active",this.functionsOpen).attr("aria-hidden",!this.functionsOpen),this.$funcPopover.toggle(this.functionsOpen).attr("aria-hidden",!this.functionsOpen),this.positionFunctionsPopup()},e.positionFunctionsPopup=function(){if(this.functionsOpen){var e=this.$funcPopover.find(".dcg-arrow");if(this.graphpaperHeight<525){this.$funcPopover.removeClass("dcg-top").addClass("dcg-left");var t=this.$container.outerHeight()-(this.$funcBtn.offset().top-this.$container.offset().top),i=t-this.$funcBtn.outerHeight()/2-2-10;e.css({left:"auto",bottom:i})}else this.$funcPopover.removeClass("dcg-left").addClass("dcg-top"),e.css({left:this.$funcPopover.width()-this.$funcBtn.width()/2,bottom:"auto"})}},e.buttonClicked=function(e){var i=this.$(e).attr("key"),n=this.keys[i].action;if(n.changeLayout)return this.setProperty("functionsOpen",!1),void(this.config.qwertyKeyboard||"letters"!=n.changeLayout?this.setLayout(n.changeLayout):this.setLayout("noQwertyLetters"));if(n.tab)return this.setTab(n.tab);if("functions"===n.popup)return this.setProperty("functionsOpen",!this.functionsOpen);this.setProperty("functionsOpen",!1);var r=this.getActiveMathquill();if(n.custom)switch(n.custom){case"enter":r.typedText("\n");break;case"loga":r.write("\\log_{}"),r.typedText("("),r.keystroke("Left"),r.keystroke("Down");break;case"nthroot":r.write("\\sqrt[]{}"),r.keystroke("Left"),r.keystroke("Left");break;case"squared":r.cmd("^"),r.cmd("2"),r.keystroke("Right");break;case"cubed":r.write("^{3}");break;case"inverse":r.write(n.fn),r.write("^{-1}"),r.typedText("(");break;case"d/dx":r.write("\\frac{d}{dx}")}else if(n.key)r.keystroke(n.key);else if(n.cmd)r.cmd(n.cmd);else if(n.func){var s="(";2===n.args&&(s="(,"),r.typedText(n.func+s),2===n.args&&r.keystroke("Left")}t(r.el()).trigger("render")}});return u}),define("migrations/0",["require","graphing/axisarrowmode"],function(e){function t(e){if(e.type){if(l.hasOwnProperty(e.type))return e.type;throw new Error("Invalid item type: '"+e.type+"'.")}return void 0!==e.text?"text":void 0!==e.columns||void 0!==e.headings?"table":"expression"}function i(e){return e.replace(/\\(total|length|mean|median|quantile|stdev|stddev|stdDev|stdevp|stddevp|stdDevP|var|variance|cov|corr|ceil|floor|round|abs|mod|lcm|mcm|mcd|nCr|nPr|signum|sign|arcsinh|arccosh|arctanh|arccsch|arcsech|arccoth|arccsc|arcsec|arccot)/g,"\\operatorname{$1}")}function n(e){var t={};for(var n in e)e.hasOwnProperty(n)&&("latex"===n?t[n]=i(e[n]):"values"===n?t[n]=e[n].map(i):t[n]=e[n]);return t}function r(e){var r,s=t(e),o={};switch(s){case"expression":for(r in e)e.hasOwnProperty(r)&&("latex"===r?o[r]=i(e[r]):o[r]=e[r]);return o.type=s,o;case"table":for(r in e)e.hasOwnProperty(r)&&("columns"===r?o[r]=e[r].map(n):o[r]=e[r]);return o.type=s,o;case"image":for(r in e)e.hasOwnProperty(r)&&("width"===r||"height"===r||"x"===r||"y"===r?o[r]=i(e[r]):o[r]=e[r]);return o.type=s,o;case"text":case"folder":for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);return o.type=s,o}}function s(e){var t={};for(var i in e)e.hasOwnProperty(i)&&"xAxisArrows"!==i&&"yAxisArrows"!==i&&(t[i]=e[i]);return t.xAxisArrowMode=c[e.xAxisArrows||"none"],t.yAxisArrowMode=c[e.yAxisArrows||"none"],t}function o(e){if(e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=s(e.graph),t.expressions={list:e.expressions.list.map(r)},t.version=0,t}var a=e("graphing/axisarrowmode"),l={expression:!0,table:!0,image:!0,folder:!0,text:!0},c={none:a.NONE,both:a.BOTH,positive:a.POSITIVE};return o}),define("migrations/1",["require"],function(e){function t(e){return e.replace(/\\(sech|csch)/g,"\\operatorname{$1}")}function i(e){var i={};for(var n in e)e.hasOwnProperty(n)&&("latex"===n?i[n]=t(e[n]):"values"===n?i[n]=e[n].map(t):i[n]=e[n]);return i}function n(e){var n,r=e.type,s={};switch(r){case"expression":for(n in e)e.hasOwnProperty(n)&&("latex"===n?s[n]=t(e[n]):s[n]=e[n]);return s;case"table":for(n in e)e.hasOwnProperty(n)&&("columns"===n?s[n]=e[n].map(i):s[n]=e[n]);return s;case"image":for(n in e)e.hasOwnProperty(n)&&("width"===n||"height"===n||"x"===n||"y"===n?s[n]=t(e[n]):s[n]=e[n]);return s;case"text":case"folder":for(n in e)e.hasOwnProperty(n)&&(s[n]=e[n]);return s;default:throw new Error("Unexpected expression type: "+r)}}function r(e){if(e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(n)},t.version=s,t}var s=1;return r}),define("migrations/2",["require","expressions/colors"],function(e){function t(e){switch(e){case a:return o.RED;case l:return o.BLUE;case c:return o.GREEN;case u:return o.PURPLE;case h:return o.ORANGE;case d:return o.BLACK;default:return e}}function i(e){var i={};for(var n in e)e.hasOwnProperty(n)&&("color"===n?i[n]=t(e[n]):i[n]=e[n]);return i}function n(e){var n,r=e.type,s={};switch(r){case"expression":for(n in e)e.hasOwnProperty(n)&&("color"===n?s[n]=t(e[n]):s[n]=e[n]);return s;case"table":for(n in e)e.hasOwnProperty(n)&&("columns"===n?s[n]=e[n].map(i):s[n]=e[n]);return s;case"image":case"text":case"folder":for(n in e)e.hasOwnProperty(n)&&(s[n]=e[n]);return s;default:throw new Error("Unexpected expression type: "+r)}}function r(e){if(e.version>1)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(n)},t.version=s,t}var s=2,o=e("expressions/colors"),a="#C0504D",l="#4F81BD",c="#9BBB59",u="#8064A2",h="#F79646",d="#000000";return r}),define("migrations/3",["require","lib/number-to-latex"],function(e){function t(e){var t,i=e.type,n={};switch(i){case"expression":for(t in e)e.hasOwnProperty(t)&&("sliderMax"===t||"sliderMin"===t||"sliderInterval"===t?n[t]=r(e[t]):"domain"===t?n[t]={max:r(e[t].max),min:r(e[t].min)}:n[t]=e[t]);return n.hasOwnProperty("sliderMin")&&void 0===n.sliderInterval&&(n.sliderInterval=""),n;case"image":case"table":case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n;default:throw new Error("Unexpected expression type: "+i)}}function i(e){if(e.version>2)throw new Error("Unexpected version: "+e.version);var i={};return i.graph=e.graph,i.expressions={list:e.expressions.list.map(t)},i.version=n,i}var n=3,r=e("lib/number-to-latex");return i}),define("migrations/4",["require","expressions/styles"],function(e){function t(e){switch(e){case a:return o.POINT;case l:return o.CROSS;case c:return o.OPEN;case u:return o.SOLID;case h:return o.DASHED;case d:return o.DOTTED;default:return e}}function i(e){var i={};for(var n in e)e.hasOwnProperty(n)&&("style"===n?i[n]=t(e[n]):i[n]=e[n]);return i}function n(e){var n,r=e.type,s={};switch(r){case"expression":for(n in e)e.hasOwnProperty(n)&&("style"===n?s[n]=t(e[n]):s[n]=e[n]);return s;case"table":for(n in e)e.hasOwnProperty(n)&&("columns"===n?s[n]=e[n].map(i):s[n]=e[n]);return s;case"image":case"text":case"folder":for(n in e)e.hasOwnProperty(n)&&(s[n]=e[n]);return s;default:throw new Error("Unexpected expression type: "+r)}}function r(e){if(3!==e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(n)},t.version=s,t}var s=4,o=e("expressions/styles"),a="point",l="cross",c="open",u="normal",h="dashed",d="dotted";return r}),define("migrations/5",["require","graphing/columnmode"],function(e){function t(e){var t,i={};for(var n in e)if(e.hasOwnProperty(n))switch(t=e[n],n){case"showAxes":i.showXAxis=t,i.showYAxis=t;break;case"showLabels":i.xAxisNumbers=t,i.yAxisNumbers=t,i.polarNumbers=t;break;case"labelXMode":i.xAxisStep="pi"===t?Math.PI:0;break;case"labelYMode":i.yAxisStep="pi"===t?Math.PI:0;break;default:i[n]=t}return i}function i(e){var t={};for(var i in e)e.hasOwnProperty(i)&&"showPoints"!==i&&"showLine"!==i&&(t[i]=e[i]);return void 0===e.showPoints&&void 0===e.showLine||(e.showPoints&&e.showLine?t.columnMode=s.POINTS_AND_LINES:e.showPoints?t.columnMode=s.POINTS:e.showLine?t.columnMode=s.LINES:(t.hidden=!0,t.columnMode=s.POINTS)),t}function n(e){var t,n=e.type,r={};switch(n){case"expression":void 0===e.hidden?e.hasOwnProperty("graphed")?r.hidden=!e.graphed:e.hasOwnProperty("userRequestedGraphing")?r.hidden="never"===e.userRequestedGraphing:r.hidden=!1:r.hidden=e.hidden;for(t in e)e.hasOwnProperty(t)&&"graphed"!==t&&"userRequestedGraphing"!==t&&"hidden"!==t&&"slider"!==t&&("color"!==t?"style"!==t?"sliderInterval"!==t?r[t]=e[t]:r.sliderInterval="undefined"===e.sliderInterval?"":e.sliderInterval:r.style="normal"===e.style?"SOLID":e.style:"object"==typeof e.color?r.color=e.color.value:r.color=e.color);return r;case"table":if(e.headings||e.columns){var s=e.headings?e.headings:e.columns;if(r.columns=s.map(i),e.rows)for(var o=0;o<r.columns.length;o++){var a=r.columns[o];a.values=[];for(var l=0;l<e.rows.length;l++)a.values.push(e.rows[l][o])}}for(t in e)e.hasOwnProperty(t)&&"rows"!==t&&"headings"!==t&&"columns"!==t&&(r[t]=e[t]);return r;case"image":case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r;default:throw new Error("Unexpected expression type: "+n)}}function r(e){if(4!==e.version)throw new Error("Unexpected version: "+e.version);var i={};return i.graph=t(e.graph),i.expressions={list:e.expressions.list.map(n)},i.version=o,i}var s=e("graphing/columnmode"),o=5;return r}),define("main/migrate_state",["require","console","migrations/0","migrations/1","migrations/2","migrations/3","migrations/4","migrations/5"],function(e){function t(e){if(e.version>r)return i.warn("Loading saved state with version "+e.version+" but last known version is "+r+". States saved in a newer version of the calculator may not load correctly in an older version of the calculator."),e;if(e.hasOwnProperty("version")&&!n[e.version])return i.warn("State has invalid version "+e.version+". If a version is present, it should be a non-negative integer less than or equal to "+r+"."),e;for(e.hasOwnProperty("version")||(e=n[0](e));e.version<r;)e=n[e.version+1](e);return e}var i=e("console"),n=[e("migrations/0"),e("migrations/1"),e("migrations/2"),e("migrations/3"),e("migrations/4"),e("migrations/5")],r=5;return{migrations:n,currentVersion:r,migrateToLatest:t}}),define("main/state_controller",["require","pjs","main/migrate_state","console"],function(e){var t=e("pjs"),i=e("main/migrate_state"),n=e("console"),r=t(function(e){var t={version:i.currentVersion,graph:{viewport:{xmin:-10,ymin:-13.25,xmax:10,ymax:13.25}},expressions:{list:[{id:"1",type:"expression"}]}};t.version!==i.currentVersion&&n.warn("Blank state version is "+t.version+", but latest migration version is "+i.currentVersion+". The blank state should be migrated to the latest version."),e.init=function(e,t,i,n){this.grapher=e,this.expressionsModel=t,this.graphSettings=i,this.evaluator=n},e.triggerSetState=function(){},e.getState=function(e){return e||(e={stripDefaults:!0}),{version:i.currentVersion,graph:this.grapher.getState(e),expressions:this.expressionsModel.getState(e)}},e.setState=function(e,n){n||(n={}),e||(e=t),"string"==typeof e&&(e=JSON.parse(e)),e&&(e=i.migrateToLatest(e));var r=this;"graph"in e&&r.grapher&&r.grapher.setState(e.graph),"expressions"in e&&(r.expressionsModel.setState(e.expressions,n),r.evaluator.markAsCompleteState()),this.triggerSetState()},e.setBlank=function(){this.setState(t)}});return r}),define("main/propagate_selection",["require"],function(e){function t(e,t,i){var n,r,s=function(){var o=e.getSelected();o!==r&&(r&&r.unobserve(".propagate_selection"),o&&(o.observe("selectedCell.propagate_selection",s),o.observe("selectedHiddenChild.propagate_selection",s)),r=o);var a=o?o.id:void 0;if(o&&o.isTable){var l=o.selectedCell;if(l){var c=o.columns[l.column];a=c?c.id:void 0}else a=void 0}if(o&&o.isFolder){var u=o.selectedHiddenChild;a=u?u.id:void 0}var h=a!==n;if(h){t.select(a);var d={};"undefined"!=typeof a&&(d[a]=!0),i.setIntersectIds(d),i.updateIntersections(a)}n=a};e.observe("selectedItem",s)}return t}),define("main/graph_change_monitor",["require","pjs","underscore_model"],function(e){var t=e("pjs"),i=e("underscore_model"),n=t(i,function(e,t){e.init=function(){t.init.call(this),this.observeEvent("notifyChange",function(){this.setProperty("hasUnsavedChanges",!0)}.bind(this)),this.hasUnsavedChanges=!1}});return n}),define("vendor/papaparse",["require","jquery"],function(e){"use strict";function t(e,t){var i=a(t);if("string"==typeof e){if(!i.download){var o=new s(i),l=o.parse(e);return l}var u=new n(i);u.stream(e)}else if(e instanceof File)if(i.step||i.chunk){var u=new r(i);u.stream(e)}else{var o=new s(i);reader=new FileReader,reader.onload=function(e){var t=new s(i);t.parse(e.target.result)},reader.onerror=function(){c(i.error)&&i.error(reader.error,e)},reader.readAsText(e,i.encoding)}}function i(e,t){function i(){"object"==typeof t&&("string"==typeof t.delimiter&&1==t.delimiter.length&&d.BAD_DELIMITERS.indexOf(t.delimiter)==-1&&(l=t.delimiter),("boolean"==typeof t.quotes||t.quotes instanceof Array)&&(a=t.quotes),"string"==typeof t.newline&&(c=t.newline))}function n(e){if("object"!=typeof e)return[];var t=[];for(var i in e)t.push(i);return t}function r(e,t){var i="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var n=e instanceof Array&&e.length>0,r=!(t[0]instanceof Array);if(n){for(var o=0;o<e.length;o++)o>0&&(i+=l),i+=s(e[o],o);t.length>0&&(i+=c)}for(var a=0;a<t.length;a++){for(var u=n?e.length:t[a].length,h=0;h<u;h++){h>0&&(i+=l);var d=n&&r?e[h]:h;i+=s(t[a][d],h)}a<t.length-1&&(i+=c)}return i}function s(e,t){if("undefined"==typeof e||null===e)return"";e=e.toString().replace(/"/g,'""');var i="boolean"==typeof a&&a||a instanceof Array&&a[t]||o(e,d.BAD_DELIMITERS)||e.indexOf(l)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1);return i?'"'+e+'"':e}function o(e,t){for(var i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return!0;return!1}var a=!1,l=",",c="\r\n";if(i(),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return r(null,e);if("object"==typeof e[0])return r(n(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:n(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),r(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function n(e){e=e||{},e.chunkSize||(e.chunkSize=d.RemoteChunkSize);var t,i,n=0,r=0,o="",a="",u=new s(l(e));this.stream=function(s){function l(){if(t=new XMLHttpRequest,t.onload=h,t.onerror=d,t.open("GET",s,!0),e.step){var i=n+e.chunkSize-1;r&&i>r&&(i=r),t.setRequestHeader("Range","bytes="+n+"-"+i)}t.send(),n+=e.chunkSize}function h(){if(4==t.readyState){if(t.status<200||t.status>=400)return void d();o+=a+t.responseText,a="";var r=!e.step||n>p(t);if(!r){var s=o.lastIndexOf("\n");if(s<0&&(s=o.lastIndexOf("\r")),!(s>-1))return void i();a=o.substring(s+1),o=o.substring(0,s)}var l=u.parse(o);o="",c(e.chunk)&&(e.chunk(l),l=void 0),r||l.meta.paused||i()}}function d(){c(e.error)&&e.error(t.statusText)}function p(e){var t=e.getResponseHeader("Content-Range");return parseInt(t.substr(t.lastIndexOf("/")+1))}(i=function(){l()})()}}function r(e){e=e||{},e.chunkSize||(e.chunkSize=d.LocalChunkSize);var t,i=0,n="",r="",o=new s(l(e)),a="function"==typeof FileReader;this.stream=function(s){function l(){i<s.size&&u()}function u(){var n=Math.min(i+e.chunkSize,s.size),r=t.readAsText(p.call(s,i,n),e.encoding);a||h({target:{result:r}})}function h(t){i+=e.chunkSize,n+=r+t.target.result,r="";var a=i>=s.size;if(!a){var u=n.lastIndexOf("\n");if(u<0&&(u=n.lastIndexOf("\r")),!(u>-1))return void l();r=n.substring(u+1),n=n.substring(0,u)}var h=o.parse(n);n="",c(e.chunk)&&(e.chunk(h,s),h=void 0),a||h.meta.paused||l()}function d(){c(e.error)&&e.error(t.error,s)}var p=s.slice||s.webkitSlice||s.mozSlice;a?(t=new FileReader,t.onload=h,t.onerror=d):t=new FileReaderSync,l()}}function s(e){function t(){return b&&f&&(u("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),f=!1),i()&&n(),r()}function i(){return e.header&&0==y.length}function n(){if(b){for(var e=0;i()&&e<b.data.length;e++)for(var t=0;t<b.data[e].length;t++)y.push(b.data[e][t]);b.data.splice(0,1)}}function r(){if(!b||!e.header&&!e.dynamicTyping)return b;for(var t=0;t<b.data.length;t++){for(var i={},n=0;n<b.data[t].length;n++){if(e.dynamicTyping){var r=b.data[t][n];"true"==r?b.data[t][n]=!0:"false"==r?b.data[t][n]=!1:b.data[t][n]=a(r)}e.header&&(n>=y.length?(i.__parsed_extra||(i.__parsed_extra=[]),i.__parsed_extra.push(b.data[t][n])):i[y[n]]=b.data[t][n])}e.header&&(b.data[t]=i,n>y.length?u("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+n,t):n<y.length&&u("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+n,t))}return e.header&&b.meta&&(b.meta.fields=y),b}function s(t){for(var i,n,r,s=[",","\t","|",";",d.RECORD_SEP,d.UNIT_SEP],a=0;a<s.length;a++){var l=s[a],c=0,u=0;r=void 0;for(var h=new o({delimiter:l,preview:10}).parse(t),p=0;p<h.data.length;p++){var f=h.data[p].length;u+=f,"undefined"!=typeof r?f>1&&(c+=Math.abs(f-r),r=f):r=f}u/=h.data.length,("undefined"==typeof n||c<n)&&u>1.99&&(n=c,i=l)}return e.delimiter=i,{successful:!!i,bestDelimiter:i}}function a(e){var t=g.test(e);return t?parseFloat(e):e}function u(e,t,i,n){b.errors.push({type:e,code:t,message:i,row:n})}var h,p,f,g=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,m=this,v=!1,y=[],b={data:[],errors:[],meta:{}};e=l(e),this.parse=function(n){if(f=!1,!e.delimiter){var r=s(n);r.successful?e.delimiter=r.bestDelimiter:(f=!0,e.delimiter=d.DefaultDelimiter),b.meta.delimiter=e.delimiter}if(c(e.step)){var a=e.step;e.step=function(e){b=e,i()?t():a(t(),m)}}return e.preview&&e.header&&e.preview++,h=n,p=new o(e),b=p.parse(h),t(),c(e.complete)&&!v&&e.complete(b),v?{meta:{paused:!0}}:b},this.pause=function(){v=!0,p.abort(),h=h.substr(p.getCharIndex())},this.resume=function(){v=!1,p=new o(e),p.parse(h),c(e.complete)&&!v&&e.complete(b)},this.abort=function(){p.abort(),c(e.complete)&&e.complete(b),h=""}}function o(e){function t(){for(;M<k.length&&!j&&!(P>0&&R>=P);)'"'==A?r():O?s():o(),i();return n()}function i(){M++,A=k[M]}function n(){if(j&&_("Abort","ParseAbort","Parsing was aborted by the user's step function"),O&&_("Quotes","MissingQuotes","Unescaped or mismatched quotes"),f(),!c(I))return E()}function r(){b()&&!y()?O=!O:(u(),O&&y()?M++:_("Quotes","UnexpectedQuotes","Unexpected quotes"))}function s(){(m(M)||v(M))&&L++,u()}function o(){A==T?h():m(M)?(p(),i()):v(M)?p():a()?l():u()}function a(){if(!C)return!1;var e=0==M||v(M-1)||m(M-2);return e&&k[M]===C}function l(){for(;!m(M)&&!v(M)&&M<k.length;)i()}function u(){D[N][F]+=A}function h(){D[N].push(""),F=D[N].length-1}function p(){f(),L++,R++,D.push([]),N=D.length-1,h()}function f(){g(),c(I)&&(D[N]&&I(E()),S())}function g(){1==D[N].length&&V.test(D[N][0])&&(e.keepEmptyRows?D[N].splice(0,1):D.splice(N,1),N=D.length-1)}function m(e){return e<k.length-1&&("\r"==k[e]&&"\n"==k[e+1]||"\n"==k[e]&&"\r"==k[e+1])}function v(e){return"\r"==k[e]||"\n"==k[e]}function y(){return!b()&&M<k.length-1&&'"'==k[M+1]}function b(){return!O&&x(M-1)||x(M+1)}function x(e){"number"!=typeof e&&(e=M);var t=k[e];return e<=-1||e>=k.length||t==T||"\r"==t||"\n"==t}function _(e,t,i){q.push({type:e,code:t,message:i,line:L,row:N,index:M})}function w(e){k=e,O=!1,M=0,R=0,L=1,S(),D=[[""]],A=k[M]}function S(){D=[],q=[],N=0,F=0}function E(){return{data:D,errors:q,meta:{lines:L,delimiter:T,aborted:j,truncated:P>0&&M<k.length}}}var k,T,C,I,P,A,M,O,L,D,q,N,F,R,V=/^\s*$/,j=!1;e=e||{},T=e.delimiter,C=e.comments,I=e.step,P=e.preview,("string"!=typeof T||1!=T.length||d.BAD_DELIMITERS.indexOf(T)>-1)&&(T=","),C===!0?C="#":("string"!=typeof C||1!=C.length||d.BAD_DELIMITERS.indexOf(C)>-1||C==T)&&(C=!1),this.parse=function(e){if("string"!=typeof e)throw"Input must be a string";return w(e),t()},this.abort=function(){j=!0},this.getCharIndex=function(){return M}}function a(e){"object"!=typeof e&&(e={});var t=l(e);return("string"!=typeof t.delimiter||1!=t.delimiter.length||d.BAD_DELIMITERS.indexOf(t.delimiter)>-1)&&(t.delimiter=h.delimiter),"boolean"!=typeof t.header&&(t.header=h.header),"boolean"!=typeof t.dynamicTyping&&(t.dynamicTyping=h.dynamicTyping),"number"!=typeof t.preview&&(t.preview=h.preview),"function"!=typeof t.step&&(t.step=h.step),"function"!=typeof t.complete&&(t.complete=h.complete),"function"!=typeof t.error&&(t.error=h.error),"string"!=typeof t.encoding&&(t.encoding=h.encoding),"boolean"!=typeof t.download&&(t.download=h.download),"boolean"!=typeof t.keepEmptyRows&&(t.keepEmptyRows=h.keepEmptyRows),t}function l(e){if("object"!=typeof e)return e;var t=e instanceof Array?[]:{};for(var i in e)t[i]=l(e[i]);return t}function c(e){return"function"==typeof e}var u=e("jquery"),h={delimiter:"",header:!1,dynamicTyping:!1,preview:0,step:void 0,encoding:"",comments:!1,complete:void 0,error:void 0,download:!1,chunk:void 0,keepEmptyRows:!1},d={};return d.parse=t,d.unparse=i,d.RECORD_SEP=String.fromCharCode(30),d.UNIT_SEP=String.fromCharCode(31),d.BYTE_ORDER_MARK="\ufeff",d.BAD_DELIMITERS=["\r","\n",'"',d.BYTE_ORDER_MARK],d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=o,d.ParserHandle=s,d.NetworkStreamer=n,d.FileStreamer=r,u.fn.parse=function(e){function t(){if(0!=s.length){var t=s[0];if(c(e.before)){var r=e.before(t.file,t.inputElem);if("object"==typeof r){if("abort"==r.action)return void i("AbortError",t.file,t.inputElem,r.reason);if("skip"==r.action)return void n();"object"==typeof r.config&&(t.instanceConfig=u.extend(t.instanceConfig,r.config))}else if("skip"==r)return void n()}var o=t.instanceConfig.complete;t.instanceConfig.complete=function(e){c(o)&&o(e,t.file,t.inputElem),n()},d.parse(t.file,t.instanceConfig)}}function i(t,i,n,r){c(e.error)&&e.error({name:t},i,n,r)}function n(){s.splice(0,1),t()}var r=e.config||{},s=[];return this.each(function(e){var t="INPUT"==u(this).prop("tagName").toUpperCase()&&"file"==u(this).attr("type").toLowerCase()&&window.FileReader;if(!t||!this.files||0==this.files.length)return!0;for(var i=0;i<this.files.length;i++)s.push({file:this.files[i],inputElem:this,instanceConfig:u.extend({},r)})}),t(),this},d}),define("main/data_helpers",["require","vendor/papaparse","underscore","i18n","analytics/bugsnag-stub"],function(e){var t=e("vendor/papaparse"),i=e("underscore"),n=e("i18n"),r=e("analytics/bugsnag-stub"),s=function(e){if(/^\s*$/.test(e))return null;var i,s,o,a=t.parse(e,{preview:50}),l=[];if(a.errors.length&&!a.data.length&&r.notify("PasteParseError","PapaParse.parse returned errors.",{input:e,output:a.errors}),!a.data.length||a.data.length<2)return null;var c=a.data[0].length;for(o=0;o<c;o++)l.push([]);for(s=0;s<a.data.length;s++)if(0!==s||!isNaN(parseFloat(a.data[s][0]))){if(a.data[s].length<2)return null;if(a.data[s][0]||a.data[s][1])for(o=0;o<c;o++){if(i=a.data[s][o].replace(/,/g,""),i&&isNaN(parseFloat(i)))return{error:n.t("Error: Row __rowNum__, Column __colNum__ isn't a number.",{rowNum:s+1,colNum:o+1})};l[o].push(i)}}return l[0].length<2?null:{data:l}},o=function(e,t,n){var r=i.map(e,function(e){return parseFloat(e)});r=i.filter(r,function(e){return isFinite(e)}),r.push(0);var s=i.max(r),o=i.min(r),a=Math.max(s,n)-Math.min(o,t),l=n,c=t;return s+.1*a>n&&(l=s+.2*a),o-.1*a<t&&(c=o-.2*a),[c,l]},a=function(e,t){var i=o(t[0],e.xmin,e.xmax),n=o(t[1],e.ymin,e.ymax);return{xmin:i[0],xmax:i[1],ymin:n[0],ymax:n[1]}};return{parse:s,computeNewViewport:a}}),define("main/paste_helper",["require","underscore_model","pjs","main/data_helpers","i18n","jquery"],function(e){
    var t=e("underscore_model"),i=e("pjs"),n=e("main/data_helpers"),r=e("i18n"),s=e("jquery"),o=i(t,function(e,t){e.init=function(e,i,n,r,s,o,a){t.init.call(this),this.listView=e,this.undoRedo=i,this.toast=n,this.getViewport=r,this.setViewport=s,this.stateController=o,this.config=a},e.t=function(e,t){return r.t(e,t,this.listView.graphSettings.language)},e.bindListenerTo=function(e){e.on("paste",function(e){if(this.config.pasteGraphLink||this.config.pasteTableData){var t=this.listView.model.selectedItem;if(!t||"text"!==t.type&&"folder"!==t.type){var i;if(window.clipboardData&&window.clipboardData.getData?i=window.clipboardData.getData("Text"):e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(i=e.originalEvent.clipboardData.getData("text/plain")),this.config.pasteGraphLink&&/^\s*https?:\/\/([a-zA-Z0-9]*\.)?desmos\.com(:[0-9]+)?\/calculator\/./.test(i)){e.stopPropagation(),e.preventDefault();var r=!1;this.toast(this.t("Importing graph..."),{hideAfter:0,style:"cover",onHide:function(){r=!0}});var o=this.stateController.getState(),a=this,l=function(){r||a.toast(a.t("Error importing graph. Check the URL?"),{style:"error",hideAfter:12e3})},c=function(e){r||(a.stateController.setState(e),a.toast(a.t("Graph imported!"),{undoCallback:function(){a.stateController.setState(o)}}))};return void s.getJSON(i).done(function(e){a.config.pasteGraphLinkCallback?a.config.pasteGraphLinkCallback(e.state,function(e,t){e||!t?l():c(t)}):c(e.state)}).fail(l)}if(this.config.pasteTableData){var u=n.parse(i);if(u){if(e.stopPropagation(),e.preventDefault(),u.error)return this.toast(u.error,{style:"error",hideAfter:12e3});this.createAndPopulateTable(u.data)}}}}}.bind(this))},e.createAndPopulateTable=function(e){this.listView.addExpressionView.newTable(e);var t=this,i=this.getViewport(),r=n.computeNewViewport(i,e);(r.xmax>i.xmax||r.xmin<i.xmin||r.ymax>i.ymax||r.ymin<i.ymin)&&(t.undoRedo.performAndAddTransaction({undo:function(){t.setViewport([i.xmin,i.xmax,i.ymin,i.ymax])},redo:function(){t.setViewport([r.xmin,r.xmax,r.ymin,r.ymax])}}),t.toast(t.t("We zoomed to fit your data."),{undoCallback:function(){t.undoRedo.undo()}}))}});return o}),define("template!pillboxes",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div\n  class="dcg-pillbox-container"\n  role="group"\n  aria-label="'+(null==(__t=t("Graph Settings Controls"))?"":_.escape(__t))+'"\n>\n  <div class="dcg-overgraph-pillbox-elements">\n    <div\n      class="dcg-btn-flat-gray dcg-settings-pillbox dcg-tooltip-e dcg-action-settings"\n      tooltip="'+(null==(__t=t("Graph Settings"))?"":_.escape(__t))+'"\n      role="button"\n      tabindex=0\n      aria-haspopup="true"\n      aria-expanded="false"\n      aria-label="'+(null==(__t=t("Graph Settings"))?"":_.escape(__t))+'"\n    >\n      <i class="dcg-icon-wrench" aria-hidden="true"></i>\n    </div>\n\n    <div class="dcg-zoom-container">\n      <div class="dcg-zoominout-pillbox dcg-btn-flat-gray dcg-btn-flat-gray-group">\n        <div\n          class="dcg-action-zoomin dcg-tooltip-e"\n          tooltip="'+(null==(__t=t("Zoom In"))?"":_.escape(__t))+'"\n          role="button"\n          tabindex=0\n          aria-label="'+(null==(__t=t("Zoom In"))?"":_.escape(__t))+'"\n        >\n          <i class="dcg-icon dcg-icon-plus" aria-hidden="true"></i>\n        </div>\n        <div\n          class="dcg-option dcg-action-zoomout dcg-tooltip-e"\n          tooltip="'+(null==(__t=t("Zoom Out"))?"":_.escape(__t))+'"\n          role="button"\n          tabindex=0\n          aria-label="'+(null==(__t=t("Zoom Out"))?"":_.escape(__t))+'"\n        >\n          <i class="dcg-icon dcg-icon-minus" aria-hidden="true"></i>\n        </div>\n      </div>\n      <div\n        class="dcg-btn-flat-gray dcg-option dcg-action-zoomrestore dcg-tooltip-e"\n        tooltip="'+(null==(__t=t("Default Zoom"))?"":_.escape(__t))+'"\n        role="button"\n        tabindex=0\n        aria-label="'+(null==(__t=t("Restore Default Zoom"))?"":_.escape(__t))+'"\n      >\n        <i class="dcg-icon dcg-icon-home" aria-hidden="true"></i>\n      </div>\n    </div>\n  </div>\n  ',__p+=brandingLink?'\n    <div class="dcg-graphpaper-branding">\n      <a href="'+(null==(__t=brandingLink)?"":_.escape(__t))+'" target="_blank">\n        <div class="dcg-powered-by" aria-label="'+(null==(__t=t("Edit graph on Desmos"))?"":_.escape(__t))+'">'+(null==(__t=t("edit graph on"))?"":_.escape(__t))+'</div>\n        <i class="dcg-icon-desmos"></i>\n      </a>\n    </div>\n  ':this.grapher.settings.config.editOnWeb?'\n    <div class="dcg-graphpaper-branding">\n      <span class="dcg-edit-branding">\n        <div class="dcg-powered-by" aria-label="'+(null==(__t=t("Edit graph on Desmos"))?"":_.escape(__t))+'">'+(null==(__t=t("edit graph on"))?"":_.escape(__t))+'</div>\n        <i class="dcg-icon-desmos"></i>\n      </span>\n    </div>\n  ':'\n    <div class="dcg-graphpaper-branding dcg-unclickable">\n      <div class="dcg-powered-by" aria-label="'+(null==(__t=t("powered by Desmos"))?"":_.escape(__t))+'">'+(null==(__t=t("powered by"))?"":_.escape(__t))+'</div>\n      <i class="dcg-icon-desmos"></i>\n    </div>\n  ',__p+="\n<div>\n";return __p}}),define("loadcss!settings",function(){}),define("template!settings",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="dcg-settings-container dcg-left dcg-popover dcg-constrained-height-popover">\n  <div class="dcg-popover-interior" role=\'complementary\' aria-label=\'Graph Settings\'>\n\n    <div\n      class="dcg-modern-btn dcg-action-projectormode"\n      role="button"\n      tabindex=0\n      aria-label="'+(null==(__t=t("Projector Mode"))?"":_.escape(__t))+'"\n    >\n      '+(null==(__t=t("Projector Mode"))?"":_.escape(__t))+'\n    </div>\n\n    <div class="dcg-top-checkboxes-container">\n      <span\n        role="checkbox"\n        aria-checked="false"\n        tabindex=0\n        class="dcg-checkbox dcg-minor-checkbox dcg-action-toggle-axis-numbers"\n        aria-label="'+(null==(__t=t("Axis Numbers"))?"":_.escape(__t))+'"\n      >\n        <span class="dcg-checkbox-box"><i class="dcg-icon-check"></i></span>\n        <span class="dcg-checkbox-label" aria-hidden="true">'+(null==(__t=t("Axis Numbers"))?"":_.escape(__t))+'</span>\n      </span>\n\n      <span\n        role="checkbox"\n        aria-checked="false"\n        tabindex=0\n        class="dcg-checkbox dcg-minor-checkbox dcg-action-toggle-minor-gridlines"\n        aria-label="'+(null==(__t=t("Minor Gridlines"))?"":_.escape(__t))+'"\n      >\n        <span class="dcg-checkbox-box"><i class="dcg-icon-check"></i></span>\n        <span class="dcg-checkbox-label" aria-hidden="true">'+(null==(__t=t("Minor Gridlines"))?"":_.escape(__t))+'</span>\n      </span>\n\n      <div role="button" tabindex=0 class="dcg-action-zoom-square dcg-btn-light-gray">\n        Zoom Square\n      </div>\n    </div>\n\n    <div class="dcg-checkbox-title">\n      <span\n        role="checkbox"\n        aria-checked="false"\n        tabindex=0\n        class="dcg-checkbox dcg-action-toggle-grid"\n        aria-label="'+(null==(__t=t("Grid"))?"":_.escape(__t))+'"\n      >\n        <span class="dcg-checkbox-box"><i class="dcg-icon-check"></i></span>\n        <span class="dcg-checkbox-label" aria-hidden="true">'+(null==(__t=t("Grid"))?"":_.escape(__t))+'</span>\n      </span>\n    </div>\n\n    <div class="dcg-icon-group dcg-grid-group">\n      <div\n        class="dcg-icon dcg-action-cartesian"\n        role="button"\n        tabindex=0\n        aria-label="'+(null==(__t=t("Cartesian Grid"))?"":_.escape(__t))+'"\n      ></div>\n      <div\n        class="dcg-icon dcg-action-polar"\n        role="button"\n        tabindex=0\n        aria-label="'+(null==(__t=t("Polar Grid"))?"":_.escape(__t))+'"\n      ></div>\n    </div>\n\n    <div class="dcg-checkbox-title">\n      <span\n        role="checkbox"\n        aria-checked="false"\n        tabindex=0\n        class="dcg-checkbox dcg-action-toggle-arrows"\n        aria-label="'+(null==(__t=t("Arrows"))?"":_.escape(__t))+'"\n      >\n        <span class="dcg-checkbox-box"><i class="dcg-icon-check"></i></span>\n        <span class="dcg-checkbox-label" aria-hidden="true">'+(null==(__t=t("Arrows"))?"":_.escape(__t))+'</span>\n      </span>\n    </div>\n\n    <div class="dcg-icon-group dcg-arrow-group">\n      <div role="button" tabindex=0 class="dcg-icon dcg-arrows" dcg-arrows="BOTH" aria-label="'+(null==(__t=t("Show Both"))?"":_.escape(__t))+'">\n        <i class="dcg-icon-arrows-two"></i>\n      </div>\n      <div role="button" tabindex=0 class="dcg-icon dcg-arrows" dcg-arrows="POSITIVE" aria-label="'+(null==(__t=t("Show Positive"))?"":_.escape(__t))+'">\n        <i class="dcg-icon-arrows-one"></i>\n      </div>\n    </div>\n\n    <div class="dcg-section-divider" aria-hidden="true"></div>\n\n    <div class="dcg-checkbox-title dcg-x-axis-title">\n      <span\n        role="checkbox"\n        aria-checked="false"\n        tabindex=0\n        class="dcg-checkbox dcg-action-toggle-x-axis"\n        aria-label="'+(null==(__t=t("X-Axis"))?"":_.escape(__t))+'"\n      >\n        <span class="dcg-checkbox-box"><i class="dcg-icon-check"></i></span>\n        <span class="dcg-checkbox-label" aria-hidden="true">'+(null==(__t=t("X-Axis"))?"":_.escape(__t))+'</span>\n      </span>\n      <input\n        class="dcg-axis-label dcg-x-axis-label"\n        placeholder="'+(null==(__t=t("add a label"))?"":_.escape(__t))+'"\n        aria-label="'+(null==(__t=t("add x-axis label"))?"":_.escape(__t))+'"\n      />\n    </div>\n\n    <div class="dcg-editable-mathquill-container dcg-x-axis-options">\n      <span class="dcg-math-field" data-dcg-limit="xmin"></span>\n      <span class="dcg-interval-interior">\\le x\\le </span>\n      <span class="dcg-math-field" data-dcg-limit="xmax"></span>\n\n      <span class="dcg-step-container">\n        <span class="dcg-step-label" aria-hidden="true">'+(null==(__t=t("Step:"))?"":_.escape(__t))+'</span>\n        <span class="dcg-math-field" data-dcg-limit="xstep"></span>\n      </span>\n    </div>\n\n    <div class="dcg-checkbox-title dcg-y-axis-title">\n      <span\n        role="checkbox"\n        aria-checked="false"\n        tabindex=0\n        class="dcg-checkbox dcg-action-toggle-y-axis"\n        aria-label="'+(null==(__t=t("Y-Axis"))?"":_.escape(__t))+'"\n      >\n        <span class="dcg-checkbox-box"><i class="dcg-icon-check"></i></span>\n        <span class="dcg-checkbox-label" aria-hidden="true">'+(null==(__t=t("Y-Axis"))?"":_.escape(__t))+'</span>\n      </span>\n      <input\n        class="dcg-axis-label dcg-y-axis-label"\n        placeholder="'+(null==(__t=t("add a label"))?"":_.escape(__t))+'"\n        aria-label="'+(null==(__t=t("add y-axis label"))?"":_.escape(__t))+'"\n      />\n    </div>\n\n    <div class="dcg-editable-mathquill-container dcg-y-axis-options">\n      <span class="dcg-math-field" data-dcg-limit="ymin"></span>\n      <span class="dcg-interval-interior">\\le y\\le </span>\n      <span class="dcg-math-field" data-dcg-limit="ymax"></span>\n\n       <span class="dcg-step-container">\n        <span class="dcg-step-label" aria-hidden="true">'+(null==(__t=t("Step:"))?"":_.escape(__t))+'</span>\n        <span class="dcg-math-field" data-dcg-limit="ystep"></span>\n      </span>\n    </div>\n\n    <div class="dcg-section-divider" aria-hidden="true"></div>\n\n    <div\n      class="dcg-radiangroup"\n      role="group"\n      aria-label="'+(null==(__t=t("Angle Settings"))?"":_.escape(__t))+'"\n    >\n      <div\n        class="dcg-action-radianmode dcg-modern-btn"\n        role="button"\n        tabindex=0\n        aria-label="'+(null==(__t=t("Radians"))?"":_.escape(__t))+'"\n      >\n        '+(null==(__t=t("Radians"))?"":_.escape(__t))+'\n      </div>\n      <div\n        class="dcg-action-degreemode dcg-modern-btn"\n        role="button"\n        tabindex=0\n        aria-label="'+(null==(__t=t("Degrees"))?"":_.escape(__t))+'"\n      >\n        '+(null==(__t=t("Degrees"))?"":_.escape(__t))+'\n      </div>\n    </div>\n\n    <div class="dcg-arrow"></div>\n  </div>\n</div>\n';return __p}}),function(e){e.extend(e,{placeholder:{browser_supported:function(){return void 0!==this._supported?this._supported:this._supported=!!("placeholder"in e('<input type="text">')[0])},shim:function(t){var i={color:"#888",cls:"placeholder",selector:"input[placeholder], textarea[placeholder]"};e.extend(i,t),this.browser_supported()||e(i.selector)._placeholder_shim(i)}}}),e.extend(e.fn,{_placeholder_shim:function(t){function i(t){var i=e(t).offsetParent().offset(),n=e(t).offset();return{top:n.top-i.top,left:n.left-i.left,width:e(t).width()}}return this.each(function(){var n=e(this);if(n.data("placeholder")){var r=n.data("placeholder");return r.css(i(n)),!0}var s={};n.is("textarea")||"auto"==n.css("height")||(s={lineHeight:n.css("height"),whiteSpace:"nowrap"});var o=e("<label />").text(n.attr("placeholder")).addClass(t.cls).css(e.extend({position:"absolute",display:"inline",float:"none",overflow:"hidden",textAlign:"left",color:t.color,cursor:"text",paddingTop:n.css("padding-top"),paddingLeft:n.css("padding-left"),paddingRight:n.css("padding-right"),paddingBottom:n.css("padding-bottom"),fontSize:n.css("font-size"),fontFamily:n.css("font-family"),fontStyle:n.css("font-style"),fontWeight:n.css("font-weight"),textTransform:n.css("text-transform"),backgroundColor:"transparent",zIndex:99},s)).css(i(this)).attr("for",this.id).data("target",n).click(function(){e(this).data("target").focus()}).insertBefore(this);n.data("placeholder",o).focus(function(){o.hide()}).blur(function(){o[n.val().length?"hide":"show"]()}).triggerHandler("blur"),e(window).resize(function(){var e=o.data("target");o.css(i(e))})})}})}(jQuery),define("vendor/jquery.html5-placeholder-shim",["jquery"],function(){});define("main/settings_view",["require","loadcss!settings","jquery","underscore","pjs","i18n","mathquill","main/popover_view","graphing/viewport","conditional_blur","lib/evaluate-single-expression","keys","graphing/label","template!settings","vendor/jquery.html5-placeholder-shim","scroll_helpers","graphing/axisarrowmode","lib/setup_mathquill_tap"],function(e){function t(e,t){var i=p.value(e,t),n="";if(i.mantissa)n=i.mantissa.split("×").join("\\cdot")+"^{"+i.superscript+"}";else{var r=i.string.split("/");n=2===r.length?"\\frac{"+r[0]+"}{"+r[1]+"}":i.string}return n}function i(e){return{xmin:t(e.xmin,e.xmax-e.xmin),xmax:t(e.xmax,e.xmax-e.xmin),ymin:t(e.ymin,e.ymax-e.ymin),ymax:t(e.ymax,e.ymax-e.ymin)}}e("loadcss!settings");var n=e("jquery"),r=e("underscore"),s=e("pjs"),o=e("i18n"),a=e("mathquill"),l=e("main/popover_view"),c=e("graphing/viewport"),u=e("conditional_blur"),h=e("lib/evaluate-single-expression"),d=e("keys"),p=e("graphing/label"),f=e("template!settings");e("vendor/jquery.html5-placeholder-shim");var g=e("scroll_helpers"),m=e("graphing/axisarrowmode"),v=e("lib/setup_mathquill_tap"),y=s(l,function(e,s){function l(e,t){if(e===t)return!0;var n=i(e),r=i(t);return n.xmin===r.xmin&&n.xmax===r.xmax&&n.ymin===r.ymin&&n.ymax===r.ymax}e.template=f,e.pointToSelector=".dcg-action-settings i",e.init=function(e){s.init.call(this),this.grapher=e,this.settings=this.grapher.settings,this.viewport=new c,this.__settingsObservers=[]},e.t=function(e,t){return o.t(e,t,this.settings.language)},e.getTemplateParams=function(){var e=this;return{t:function(t,i){return o.t(t,i,e.settings.language)}}},e.eventShouldClosePopover=function(e){return!this.eventIsWithinPopover(e)&&(!this.isMathquillFocused()||!n(e.target).closest(".dcg-keypad").length)},e.renderIsVisible=function(){s.renderIsVisible.call(this),this.isVisible&&n.placeholder&&n.placeholder&&n.placeholder.shim(),this.isVisible&&this.renderAllSettings()},e.setBottom=function(e){this.$().css("bottom",e)},e.didCreateElement=function(){s.didCreateElement.call(this);var e=this;this.$(".dcg-interval-interior").each(function(){var e=a.StaticMath(n("<span>"+n(this).text()+"</span>")[0]).html();n(this).html(e).addClass("dcg-mq-math-mode")});var t=this.mathFields={};this.$(".dcg-math-field").each(function(){var i=a.MathField(this),r=n(this).data("dcg-limit"),s="";switch(r){case"xmin":s=e.t("X Axis Minimum: ");break;case"xmax":s=e.t("X Axis Maximum: ");break;case"xstep":s=e.t("X Axis Step Size: ");break;case"ymin":s=e.t("Y Axis Minimum: ");break;case"ymax":s=e.t("Y Axis Maximum: ");break;case"ystep":s=e.t("Y Axis Step Size: ")}i.setAriaLabel(s),v(this,i),t[r]=i}).addClass("dcg-math-input").on("focusin",e.focusInMathquill.bind(e)).on("focusout",e.focusOutMathquill.bind(e)).on("render",e.handleMathquillInput.bind(e)).on("keydown",e.handleKeydown.bind(e)).on("enterPressed",u),this.$(".dcg-action-toggle-x-axis-steps").on("dcg-tap",function(){var t=e.settings.xAxisNumbers;e.settings.setProperty("xAxisNumbers",!t)}),this.$(".dcg-action-toggle-y-axis-steps").on("dcg-tap",function(){var t=e.settings.yAxisNumbers;e.settings.setProperty("yAxisNumbers",!t)}),this.$(".dcg-action-toggle-axis-numbers").on("dcg-tap",function(){var t=e.settings.xAxisNumbers;e.settings.setProperty("polarNumbers",!t),e.settings.setProperty("yAxisNumbers",!t),e.settings.setProperty("xAxisNumbers",!t)}),this.$(".dcg-action-toggle-minor-gridlines").on("dcg-tap",function(){var t=0===e.settings.xAxisMinorSubdivisions?1:0;e.settings.setProperty("yAxisMinorSubdivisions",t),e.settings.setProperty("xAxisMinorSubdivisions",t)}),this.$(".dcg-x-axis-label").on("change copy paste cut keypress keydown keyup",function(){e.settings.setProperty("xAxisLabel",n(this).val())}),this.$(".dcg-y-axis-label").on("change copy paste cut keypress keydown keyup",function(){e.settings.setProperty("yAxisLabel",n(this).val())}),this.$(".dcg-action-polar").on("dcg-tap",function(){e.settings.setProperty("polarMode",!0)}),this.$(".dcg-action-cartesian").on("dcg-tap",function(){e.settings.setProperty("polarMode",!1)}),this.$(".dcg-action-radianmode").on("dcg-tap",function(){e.settings.setProperty("degreeMode",!1)}),this.$(".dcg-action-degreemode").on("dcg-tap",function(){e.settings.setProperty("degreeMode",!0)}),this.$(".dcg-action-projectormode").on("dcg-tap",function(){e.settings.setProperty("projectorMode",!e.settings.projectorMode)}),this.$(".dcg-arrows").on("dcg-tap",function(){var t=e.$(this).attr("dcg-arrows");e.settings.setProperty("xAxisArrowMode",t),e.settings.setProperty("yAxisArrowMode",t)}),this.$(".dcg-action-toggle-grid").on("dcg-tap",function(){e.settings.showGrid&&e.settings.setProperty("polarMode",!1),e.settings.setProperty("showGrid",!e.settings.showGrid)}),this.$(".dcg-action-toggle-arrows").on("dcg-tap",function(){var t=e.settings.xAxisArrowMode===m.NONE?m.BOTH:m.NONE;e.settings.setProperty("xAxisArrowMode",t),e.settings.setProperty("yAxisArrowMode",t)}),this.$(".dcg-action-toggle-x-axis").on("dcg-tap",function(){e.settings.setProperty("showXAxis",!e.settings.showXAxis)}),this.$(".dcg-action-toggle-y-axis").on("dcg-tap",function(){e.settings.setProperty("showYAxis",!e.settings.showYAxis)}),this.$(".dcg-action-zoom-square").on("dcg-tap",function(){e.settings.setProperty("squareAxes",!0)}),this.addSettingsObserver("showXAxis",this.renderShowXAxis),this.addSettingsObserver("showYAxis",this.renderShowYAxis),this.addSettingsObserver("projectorMode",this.renderProjectorMode),this.addSettingsObserver("xAxisArrowMode",this.renderArrows),this.addSettingsObserver("xAxisNumbers",this.renderShowAxisNumbers),this.addSettingsObserver("showGrid polarMode xAxisMinorSubdivisions",this.renderMinorGridlines),this.addSettingsObserver("xAxisLabel showXAxis",this.renderXAxisLabel),this.addSettingsObserver("yAxisLabel showYAxis",this.renderYAxisLabel),this.addSettingsObserver("computedStepSizes xAxisStep",this.renderXStep),this.addSettingsObserver("computedStepSizes yAxisStep",this.renderYStep),this.addSettingsObserver("squareAxes",this.renderSquareAxes),this.addSettingsObserver("degreeMode",this.renderDegreeMode),this.addSettingsObserver("polarMode",this.renderPolarMode),this.addSettingsObserver("showGrid",this.renderShowGrid),this.renderAllSettings()},e.handleKeydown=function(e){var t=d.lookup(e);t===d.ESCAPE&&u()},e.handleMathquillInput=function(e){if(this.isVisible){var t,i=!!this.settings.degreeMode,s=h(this.mathFields.xmin.latex(),i),o=h(this.mathFields.xmax.latex(),i);t=""===this.mathFields.xstep.latex()?0:h(this.mathFields.xstep.latex(),i);var a,l=h(this.mathFields.ymin.latex(),i),u=h(this.mathFields.ymax.latex(),i);a=""===this.mathFields.ystep.latex()?0:h(this.mathFields.ystep.latex(),i);var d={},p=function(e){return isFinite(e)&&"number"==typeof e},f=new c(s,o,l,u);p(s)&&p(o)?(d.xmin=!f.isXValid(),d.xmax=d.xmin):(d.xmin=!p(s),d.xmax=!p(o)),p(l)&&p(u)?(d.ymin=!f.isYValid(),d.ymax=d.ymin):(d.ymin=!p(l),d.ymax=!p(u)),p(t)?(d.xstep=!1,this.settings.setProperty("xAxisStep",t)):d.xstep=!0,p(a)?(d.ystep=!1,this.settings.setProperty("yAxisStep",a)):d.ystep=!0,this.setViewport(f),r.each(this.mathFields,function(e,t){n(e.el()).toggleClass("dcg-invalid",d[t])}),this.grapher&&f.isValid()&&this.settings.setProperty("squareAxes",f.isSquare(this.grapher.getProjection().screen))}},e.updateNeedsFakeKeypad=function(){this.setProperty("needsFakeKeypad",this.isMathquillFocused())},e.focusInMathquill=function(e){var t=this.$(e.target).closest(".dcg-math-input");if(!t.hasClass("dcg-focus")){t.addClass("dcg-focus"),a(t[0]).select(),this.updateNeedsFakeKeypad();var i=this.$(".dcg-popover-interior");setTimeout(function(){g.scrollVisible(t,i,50)},0)}},e.focusOutMathquill=function(e){var t=this.$(e.target).closest(".dcg-mq-editable-field");clearTimeout(this.focusedOutRecentlyTimeout),this.focusedOutRecently=!0,this.focusedOutRecentlyTimeout=setTimeout(function(){this.focusedOutRecently=!1,this.updateMathquillInputs()}.bind(this)),t.removeClass("dcg-focus"),a(t[0]).clearSelection(),this.updateNeedsFakeKeypad()},e.addSettingsObserver=function(e,t){var i=this,n=function(){i.isVisible&&t.apply(i,arguments)};this.__settingsObservers.push(n),this.settings.observe(e,n)},e.renderAllSettings=function(){for(var e=0;e<this.__settingsObservers.length;e++)this.__settingsObservers[e]();this.updateMathquillInputs()},e.renderShowXAxis=function(){var e=this.settings.showXAxis;this.$(".dcg-action-toggle-x-axis .dcg-checkbox-box").toggleClass("dcg-checked",e),this.$(".dcg-action-toggle-x-axis").attr("aria-checked",!!e)},e.renderShowYAxis=function(){var e=this.settings.showYAxis;this.$(".dcg-action-toggle-y-axis .dcg-checkbox-box").toggleClass("dcg-checked",e),this.$(".dcg-action-toggle-y-axis").attr("aria-checked",!!e)},e.renderProjectorMode=function(){var e=this.settings.projectorMode;this.$(".dcg-action-projectormode").toggleClass("dcg-active",!!e).attr("aria-pressed",!!e)},e.renderArrows=function(){var e=this.settings.xAxisArrowMode;this.$(".dcg-arrows").removeClass("dcg-active").removeAttr("aria-pressed"),this.$(".dcg-arrows[dcg-arrows="+e+"]").addClass("dcg-active").attr("aria-pressed",!0),this.$(".dcg-action-toggle-arrows .dcg-checkbox-box").toggleClass("dcg-checked",e!==m.NONE),this.$(".dcg-action-toggle-arrows").attr("aria-checked",e!==m.NONE),this.$(".dcg-arrow-group").toggle(e!==m.NONE)},e.renderMinorGridlines=function(){var e=!!this.settings.showGrid&&!this.settings.polarMode;this.$(".dcg-action-toggle-minor-gridlines").toggleClass("dcg-hidden",!e);var t=0===this.settings.xAxisMinorSubdivisions;this.$(".dcg-action-toggle-minor-gridlines .dcg-checkbox-box").toggleClass("dcg-checked",t),this.$(".dcg-action-toggle-minor-gridlines").attr("aria-checked",!!t)},e.renderDegreeMode=function(){var e=this.settings.degreeMode;this.$(".dcg-action-radianmode").toggleClass("dcg-active",!e).attr("aria-pressed",!e),this.$(".dcg-action-degreemode").toggleClass("dcg-active",!!e).attr("aria-pressed",!!e)},e.renderSquareAxes=function(){var e=!this.settings.squareAxes;this.$(".dcg-action-zoom-square").toggle(e).attr("aria-pressed",e)},e.renderShowAxisNumbers=function(){var e=this.settings.xAxisNumbers;this.$(".dcg-action-toggle-axis-numbers .dcg-checkbox-box").toggleClass("dcg-checked",e),this.$(".dcg-action-toggle-axis-numbers").attr("aria-checked",e)},e.renderXAxisLabel=function(){var e=this.$(".dcg-x-axis-label"),t=this.settings.showXAxis;e.val()!==this.settings.xAxisLabel&&e.val(this.settings.xAxisLabel),t?e.prop("disabled",!1).removeAttr("aria-disabled"):e.prop("disabled",!0).attr("aria-disabled")},e.renderYAxisLabel=function(){var e=this.$(".dcg-y-axis-label"),t=this.settings.showYAxis;e.val()!==this.settings.yAxisLabel&&e.val(this.settings.yAxisLabel),t?e.prop("disabled",!1).removeAttr("aria-disabled"):e.prop("disabled",!0).attr("aria-disabled")},e.renderXStep=function(){var e=this.settings.xAxisStep,t=this.settings.computedStepSizes&&this.settings.computedStepSizes.majorStepX,i=!(!e||!t||e===t||e===Math.PI);n(this.mathFields.xstep.el()).toggleClass("dcg-outofbounds",i),this.updateMathquillInputs()},e.renderYStep=function(){var e=this.settings.yAxisStep,t=this.settings.computedStepSizes&&this.settings.computedStepSizes.majorStepY,i=!(!e||!t||e===t||e===Math.PI);n(this.mathFields.ystep.el()).toggleClass("dcg-outofbounds",i),this.updateMathquillInputs()},e.renderShowGrid=function(){var e=this.settings.showGrid;this.$(".dcg-action-toggle-grid .dcg-checkbox-box").toggleClass("dcg-checked",e),this.$(".dcg-action-toggle-grid").attr("aria-checked",e),this.$(".dcg-grid-group").toggle(e)},e.renderPolarMode=function(){this.$(".dcg-action-cartesian").toggleClass("dcg-active",!this.settings.polarMode).attr("aria-pressed",!this.settings.polarMode),this.$(".dcg-action-polar").toggleClass("dcg-active",!!this.settings.polarMode).attr("aria-pressed",!!this.settings.polarMode),this.$(".dcg-step-container").toggleClass("dcg-disabled-input",this.settings.polarMode)},e.isMathquillFocused=function(){return this.$(".dcg-mq-editable-field.dcg-focus").length>0},e.isXRangeFocused=function(){return this.$(".dcg-x-axis-options .dcg-focus").length>0},e.isYRangeFocused=function(){return this.$(".dcg-y-axis-options .dcg-focus").length>0},e.updateMathquillInputs=function(){function e(e){var t=n(e.el()).data("dcg-limit"),i=o[t];e.latex()!==i&&e.latex(i)}if(this.isVisible&&!this.focusedOutRecently&&this.mathFields){var s=this.viewport,o=i(s);this.settings.xAxisStep?o.xstep=t(this.settings.xAxisStep,s.xmax-s.xmin):o.xstep="",this.settings.yAxisStep?o.ystep=t(this.settings.yAxisStep,s.ymax-s.ymin):o.ystep="";var a=[];this.isXRangeFocused()===!1&&(a.push(this.mathFields.xmin),a.push(this.mathFields.xmax),a.push(this.mathFields.xstep)),this.isYRangeFocused()===!1&&(a.push(this.mathFields.ymin),a.push(this.mathFields.ymax),a.push(this.mathFields.ystep)),r.each(a,e);var l=this.settings.computedStepSizes;""===o.xstep&&l&&l.majorStepX&&(o.xstep=t(l.majorStepX,s.xmax-s.xmin)),""===o.ystep&&l&&l.majorStepY&&(o.ystep=t(l.majorStepY,s.ymax-s.ymin))}},e._setViewportWithoutUpdatingGrapher=function(e){if(l(e,this.viewport))return!1;if(!e.isValid())return!1;var t=this.grapher.getProjection().viewport;return t.ymax===e.ymax&&t.ymin===e.ymin||(this.settings.lastChangedAxis="y"),t.xmax===e.xmax&&t.xmin===e.xmin||(this.settings.lastChangedAxis="x"),this.viewport=e,this.updateMathquillInputs(),!0},e.setViewport=function(e){var t=this._setViewportWithoutUpdatingGrapher(e);t&&this.grapher.viewportController.setViewport(e)}});return y.formatLatex=t,y.formatViewport=i,y});define("loadcss!pillboxes",function(){}),define("main/pillbox_view",["require","pjs","underscore_view","template!pillboxes","main/settings_view","i18n","tipsy","loadcss!pillboxes"],function(e){var t=e("pjs"),i=e("underscore_view"),n=e("template!pillboxes"),r=e("main/settings_view"),s=e("i18n");e("tipsy"),e("loadcss!pillboxes");var o=t(i,function(e,t){e.init=function(e){t.init.call(this),this.template=n,this.viewportController=e,this.grapher=e.grapher,this.settingsView=r(e.grapher),this.settingsView.headerView=this},e.destruct=function(){this.settingsView.remove(),this.viewportController.grapher.settings.unobserve("."+this.guid)},e.getTemplateParams=function(){var e=this;return{t:function(t,i){return s.t(t,i,e.settingsView.settings.language)},brandingLink:window.iframeEmbedBrandingLink?window.iframeEmbedBrandingLink:""}},e.onLanguageChange=function(){this.rerender(),this.settingsView&&this.settingsView.rerender()},e.didCreateElement=function(){t.didCreateElement.call(this),this.settingsView.appendTo(this.$()),this.settingsView.setupOpenButton(this.$(".dcg-action-settings"),"dcg-tap"),this.$(".dcg-action-zoomin").on("dcg-tap",this.zoomIn.bind(this)),this.$(".dcg-action-zoomrestore").on("dcg-tap",this.zoomRestore.bind(this)),this.$(".dcg-action-zoomout").on("dcg-tap",this.zoomOut.bind(this)),this.$().tipsy({fade:"fast",title:"tooltip",wait:500,delegate:".dcg-tooltip-e",gravity:"e"}),this.viewportController.grapher.settings.observe("zoomedDefault."+this.guid,this.renderZoomDefault.bind(this))},e.popoverHeight=function(){return this.graphpaperHeight-12},e.didInsertElement=function(){this.renderZoomDefault()},e.renderZoomDefault=function(){var e=this.viewportController.grapher.settings.zoomedDefault;this.$(".dcg-action-zoomrestore").toggleClass("dcg-disabled",!!e).attr("aria-disabled",!!e)},e.zoomIn=function(){this.viewportController.zoom("in")},e.zoomRestore=function(){this.viewportController.zoom("default")},e.zoomOut=function(){this.viewportController.zoom("out")}});return o}),define("main/layout_controller",["require","console","pjs","jquery"],function(e){var t=e("console"),i=e("pjs"),n=e("jquery");return i(function(e){e.init=function(e,t,i){this.views=e,this.$root=t,this.currentScreen={},this.triggerGraphpaperRectChanged=null,this.isAnimating=!1,this.minExpressionWidth=290,this.$grapher=this.views.grapher.$,this.graphSettings=i,this.resize(),this.views.expressionsView&&this.views.expressionsView.observe("expressionsVisible",function(){this.views.expressionsView.expressionsVisible?this.$root.removeClass("dcg-fullscreen"):this.$root.addClass("dcg-fullscreen"),this.resize()}.bind(this)),this.views.keypadView&&this.views.keypadView.observe("isOpen",this.resize.bind(this))},e.keypadOpen=function(){return!!this.views.keypadView&&this.views.keypadView.isOpen},e.expressionsVisible=function(){return!!this.views.expressionsView&&this.views.expressionsView.expressionsVisible},e.didViewportChange=function(e){return e.width!==this.currentScreen.width||e.height!==this.currentScreen.height||this.keypadOpen()!==this.currentScreen.keypadOpen||this.expressionsVisible()!==this.currentScreen.expressionsVisible},e.getAppliedScaling=function(){var e=this.$root[0],t=e.getBoundingClientRect(),i=e.offsetWidth,n=e.offsetHeight,r=t.width/i,s=t.height/n;return isNaN(r)&&(r=1),isNaN(s)&&(s=1),{x:r,y:s}},e.resize=function(){if(!this.isAnimating&&this.triggerGraphpaperRectChanged){var e=this.$root[0].getBoundingClientRect(),t=this.views.grapher.appliedScaling=this.getAppliedScaling();if(this.didViewportChange(e)){this.currentScreen.width=e.width,this.currentScreen.height=e.height,this.currentScreen.expressionsVisible=this.expressionsVisible(),this.currentScreen.keypadOpen=this.keypadOpen(),this.views.keypadView&&this.$root.toggleClass("dcg-keypad-open",!!this.views.keypadView.isOpen),this.$root.toggleClass("dcg-narrow",this.isNarrow(e.width/t.x)),this.$root.toggleClass("dcg-short",this.isShort(e.height/t.y));var i=e.width/t.x,n=this.$grapher[0].getBoundingClientRect().height/t.y;if(0===n||0===i)return void this.views.grapher.setIsVisible(!1);var r=!this.expressionsVisible();if(this.views.keypadView&&this.views.keypadView.height){var s=this.views.keypadView.height();this.views.expressionsView.setBottom(s),this.views.pillboxView&&this.views.pillboxView.settingsView&&this.views.pillboxView.settingsView.setBottom(s)}this.views.expressionsView&&this.views.expressionsView.setProperty("calcIsNarrow",this.isNarrow(i));var o=this.isNarrow(i)?i:i<356/.45?Math.floor(.45*i):356;
    o<this.minExpressionWidth&&(o=this.minExpressionWidth),this.isNarrow(i)||(o=2*Math.floor(.5*o)),this.views.expressionsView&&this.views.expressionsView.setMinWidth(o),this.views.pillboxView&&this.views.pillboxView.setProperty("graphpaperHeight",n),this.views.keypadView&&this.views.keypadView.setProperty("graphpaperHeight",n);var a=this.isNarrow(i)||r?0:o;this.views.grapher.$.css({left:a+"px",transform:null}),this.views.grapher.setIsVisible(i-a>0&&n>0),this.views.grapher.updateScreenSize(i-a,n),this.views.expressionsView&&this.views.expressionsView.ensureActiveChildIsVisible();var l={top:0,bottom:n*t.y,left:a*t.x,right:i*t.x,height:n*t.y,width:(i-a)*t.x};this.triggerGraphpaperRectChanged(l)}}},e.animationIsRunning=function(){return 0!==this.runningAnimations},e.isNarrow=function(e){return e<450},e.isShort=function(e){return e<=480},e.animateSlidingInterior=function(){this.isAnimating||(this.isAnimating=!0,setTimeout(function(){this.isAnimating=!1,this.resize()}.bind(this),this.parseTransitionDuration(".dcg-sliding-interior")))},e.parseTransitionDuration=function(e){var i=n(e),r=i.css("transition-duration");return"s"!==r[r.length-1]?(t.warn("Unexpected transition-duration format. Expected a number followed by 's' but saw "+r),0):1e3*parseFloat(r.slice(0,-1))},e.defocusMobile=function(){var e=n(document.activeElement);0!==e.filter("input, textarea").length&&n("<input />").prependTo("body").focus().attr({readonly:"readonly",disabled:"true"}).blur().remove()}})}),define("loadcss!tour",function(){}),define("math/conics",["require","numeric","math/distance"],function(e){var t=e("numeric"),i=e("math/distance"),n={isLine:function(e,n,r,s,o,a){var l=t.svd([[e,n,1],[r,s,1],[o,a,1]]).S;return i.approx(l[l.length-1]/l[0],0)},isCircle:function(e,n,r,s,o,a,l,c){var u=t.svd([[e*e+n*n,e,n,1],[r*r+s*s,r,s,1],[o*o+a*a,o,a,1],[l*l+c*c,l,c,1]]).S;return i.approx(u[u.length-1]/u[0],0)},isConic:function(e,n,r,s,o,a,l,c,u,h,d,p){var f=t.svd([[e*e,n*n,2*e*n,e,n,1],[r*r,s*s,2*r*s,r,s,1],[o*o,a*a,2*o*a,o,a,1],[l*l,c*c,2*l*c,l,c,1],[u*u,h*h,2*u*h,u,h,1],[d*d,p*p,2*d*p,d,p,1]]).S;return i.approx(f[f.length-1]/f[0],0)},conicQuadraticParameters:function(e,i,n,r,s,o,a,l,c,u){return{a:t.det([[i*i,2*e*i,e,i,1],[r*r,2*n*r,n,r,1],[o*o,2*s*o,s,o,1],[l*l,2*a*l,a,l,1],[u*u,2*c*u,c,u,1]]),b:t.det([[e*e,i*i,e,i,1],[n*n,r*r,n,r,1],[s*s,o*o,s,o,1],[a*a,l*l,a,l,1],[c*c,u*u,c,u,1]]),c:-t.det([[e*e,2*e*i,e,i,1],[n*n,2*n*r,n,r,1],[s*s,2*s*o,s,o,1],[a*a,2*a*l,a,l,1],[c*c,2*c*u,c,u,1]])}},classifyConic:function(e,r,s,o,a,l,c,u,h,d,p,f){if(n.isLine(e,r,a,l,p,f))return"line";if(n.isCircle(e,r,s,o,h,d,p,f))return"circle";if(!n.isConic(e,r,s,o,a,l,c,u,h,d,p,f))return"none";var g=n.conicQuadraticParameters(e,r,s,o,a,l,c,u,h,d),m=t.svd([[g.a,g.b],[g.b,g.c]]).S;return i.approx(m[m.length-1]/m[0],0,20)?"parabola":g.b*g.b>g.a*g.c?"hyperbola":"ellipse"},classifyBranchConic:function(e){var t,i;if(1===e.length&&4===e[0].length)return"line";for(var r=0;r<e.length;r++){var s=e[r],o=s.length;if(o<12)return"unknown";try{i=n.classifyConic(s[0],s[1],s[2*Math.floor(1*o/12)],s[2*Math.floor(1*o/12)+1],s[2*Math.floor(2*o/12)],s[2*Math.floor(2*o/12)+1],s[2*Math.floor(3*o/12)],s[2*Math.floor(3*o/12)+1],s[2*Math.floor(4*o/12)],s[2*Math.floor(4*o/12)+1],s[o-2],s[o-1])}catch(e){return"unknown"}if("none"===i)return"none";if(t&&i!==t)return"none";t=i}return t}};return n}),define("predicates/common",["require","parser","math/conics"],function(e){var t=e("parser"),i=e("math/conics");return{FOCUSED_EXP:function(e,t){return e.selected&&e.isExpression},FOCUSED_OR_EMPTY_EXP:function(e,t){return!(!e.selected||!e.isExpression)||e.isExpression&&e.isEmpty()},COMPLEX_EXP:function(e,t){return e.isGraphable&&e.isExpression&&t&&t.branches[0]&&"line"!==i.classifyBranchConic(t.branches[0].segments)},TABLEABLE_EXP:function(e,t){return e.isGraphable&&e.isTableable},EXP:function(e,t){return e.isExpression},GRAPHABLE_EXP:function(e,t){return e.isGraphable},HAS_ERROR:function(e,t){return e.error&&!e.isEmpty()},DEPENDS_ON:function(e){return function(i,n){if(!i.latex)return!1;var r=t.parse(i.latex);return r.getDependencies().indexOf(e)>=0}},DEFINES:function(e){return function(i,n){if(!i.latex)return!1;var r=t.parse(i.latex);return r.getExports().indexOf(e)>=0}},HAS_N_DEPENDENCIES:function(e){return function(t,i){return t.isExpression&&t.formula&&t.formula.variables&&t.formula.variables.length>=e}},NONCONSTANT_LINE:function(e,t){return t&&"line"===i.classifyBranchConic(t.branches[0].segments)&&!isFinite(e.formula.constant_value)},RESTRICTED_LINE:function(e,t){return this.NONCONSTANT_LINE(e,t)&&this.RESTRICTED(e,t)},EXP_NOT_RESTRICTED_LINE:function(e,t){return this.EXP(e,t)&&!this.RESTRICTED_LINE(e,t)},PARABOLA:function(e,t){return t&&t.branches&&t.branches.some(function(e){return"parabola"===i.classifyBranchConic(e.segments)})},RESTRICTED:function(e,t){return!(!e||!e.latex)&&!!e.latex.match(/\\left\\{(.+)\\right\\}/)},SHIFTED_PARABOLA:function(e,t){if(!this.PARABOLA(e,t))return!1;var i=t.branches[0].compiled.fn;return 0!==i(0)||1!==i(1)},EVALUATION:function(e,t){return e.formula&&e.formula.is_evaluable&&isFinite(e.formula.constant_value)},HAS_DEPENDENT_Y:function(e,t){return"y"===e.formula.assignment},SLIDER:function(e,t){return!!e.slider&&!e.isGraphable},ANIMATING_SLIDER:function(e,t){return e.slider&&e.slider.isPlaying},SLID_SLIDER:function(e,t){return e.slider&&!e.isGraphable&&1!==e.slider.value},TABLE:function(e,t){return e.isTable},REGRESSION:function(e,t){return e.formula&&e.formula.regression},HAS_DATA_COLUMN:function(e,t){if(!this.TABLE(e,t))return!1;for(var i=1;i<e.columns.length;i++)if(e.columns[i].discrete)return!0;return!1},HAS_FUNCTION_COLUMN:function(e,t){if(!this.TABLE(e,t))return!1;for(var i=1;i<e.columns.length;i++)if(e.columns[i].discrete===!1)return!0;return!1}}}),define("tours/base_tour",["require","pjs","jquery","underscore","i18n","../predicates/common"],function(e){var t=e("pjs"),i=e("jquery"),n=e("underscore"),r=e("i18n"),s=e("../predicates/common");return t(function(e){e.init=function(e){this.Calc=e,this.expressionsView=this.Calc.expressions},e.t=function(e,t){return r.t(e,t,this.Calc.expressionsModel.graphSettings.language)},e.expressionsVisible=function(){return this.expressionsView.getProperty("expressionsVisible")},e.requireExpressionsVisible=function(){return{position:"e",content:this.t("Click to show the list of expressions."),sel:i(".dcg-action-showexpressions"),delayBeforeEnter:400,delayBeforeExit:400}},e.resourcesOpen=function(){return i("body").hasClass("resources-open")},e.requireResourcesNotOpen=function(){return{position:"e",content:this.t("Click to return to this graph."),sel:i(".dcg-action-opendrawer"),delayBeforeEnter:400,delayBeforeExit:400}},e.editListMode=function(){return this.expressionsView.getProperty("editListMode")},e.requireNotEditListMode=function(){return{position:"s",content:this.t("Click to return to your expressions."),sel:i(".dcg-action-toggle-edit")}},e.expressionCount=function(){return this.expressionsView.model.getItemsByIndexRange(0,1/0).length},e.getExpSketch=function(e){var t=this.Calc.grapher.graphSketches[e.id];if(!t||t.visible)return t},e.getAvailableExp=function(e){var t=this.getMatchingExp(s.FOCUSED_OR_EMPTY_EXP,e);return t?t.$():".dcg-new-math-div"},e.expList=function(){return this.Calc.expressionsView.$exppanel},e.expMatches=function(e,t){if(!e)return!1;if("function"==typeof t)return t.call(s,e,this.getExpSketch(e));for(var i=0;i<t.length;i++)if(!t[i].call(s,e,this.getExpSketch(e)))return!1;return!0},e.getMatchingExp=function(e,t){var i=this.expressionsView.model.getSelected(),r=n.map(n.filter(t,function(e){return!!e}),function(e){return e.model.id});if(this.expMatches(i,e)&&r.indexOf(i.id)===-1)return this.expressionsView.getItemView(i.id);var s=this.expressionsView.model.getItemsByIndexRange(0,1/0);s=n.filter(s,function(e){return!(e.folder&&e.folder.collapsed||r.indexOf(e.id)!==-1)});for(var o=0;o<s.length;o++)if(i=s[o],this.expMatches(i,e))return this.expressionsView.getItemView(i.id);return null},e.filterSelectedExp=function(e){var t=this.expressionsView.model.getSelected();return this.expMatches(t,e)?this.expressionsView.getItemView(t.id):null}})}),define("tours/mathart",["require","underscore","jquery","pjs","./base_tour","predicates/common"],function(e){var t=e("underscore"),i=e("jquery"),n=e("pjs"),r=e("./base_tour"),s=e("predicates/common");return{mathart_intro:n(r,function(e){e.restrictedLineTour=function(){if(this.resourcesOpen())return this.requireResourcesNotOpen();if(!this.expressionsVisible())return this.requireExpressionsVisible();var e=this.getMatchingExp(s.RESTRICTED_LINE),t=this.getMatchingExp(s.EXP_NOT_RESTRICTED_LINE);if(e)return t?(this.phaseOn++,this.update()):{position:"e",content:"<b>Brilliant!</b><br>Click here to create a new expression",sel:".dcg-new-math-div"};var i=this.getMatchingExp(s.EXP);if(i){var n=this.expMatches(i.model,s.NONCONSTANT_LINE),r=this.expMatches(i.model,s.HAS_ERROR);return r?{doNotUpdate:!0}:n?{position:"e",content:["<b>Awesome!</b><br>","Restrict the domain of this line by making it!<br>",'<span class="trip-math">y=2x\\left\\{1 < x < 2\\right\\}</span><br>',"<i>Hint: press the 'A B C' button on the keypad to find the { } buttons</i>"].join(""),sel:i.$()}:{position:"e",content:["<b>Let's get started!</b><br>",'Try graphing a straight line, like <span class="trip-math">y=2x</span>'].join(""),sel:i.$()}}return{position:"e",content:"Click here to make a new blank expression",sel:".dcg-new-math-div"}},e.restrictedParabolaTour=function(){if(this.resourcesOpen())return this.requireResourcesNotOpen();if(!this.expressionsVisible())return this.requireExpressionsVisible();var e=this.getMatchingExp([s.RESTRICTED,s.PARABOLA]);if(e)return this.phaseOn++,this.update();var t=this.getMatchingExp(s.EXP_NOT_RESTRICTED_LINE);if(t){var i=this.expMatches(t.model,[s.PARABOLA,s.HAS_DEPENDENT_Y]),n=this.expMatches(t.model,s.SHIFTED_PARABOLA),r=this.expMatches(t.model,s.PARABOLA),o=this.expMatches(t.model,s.HAS_ERROR);return o?{doNotUpdate:!0}:r?i?n?{position:"e",content:["<b>Nice!</b><br>Now let's restrict the range. Change this to:<br>",'<span class="trip-math">y=x^2-2\\left\\{y<4\\right\\}</span>'].join(""),sel:t.$()}:{position:"e",content:["<b>Move the parabola.</b><br>",'Change this equation to <span class="trip-math">y=x^2-2</span>'].join(""),sel:t.$()}:{position:"e",content:['<b>Don\'t forget the "y="!</b><br>','Try typing all of <span class="trip-math">y=x^2</span>'].join(""),sel:t.$()}:{position:"e",content:['Now graph: <span class="trip-math">y=x^2</span><br>',"<i>Hint: you can type y=x^2,"," or use the a<sup>2</sup> button on the keypad below</i>"].join(""),sel:t.$()}}return{position:"e",content:"Click here to make a new blank expression",sel:".dcg-new-math-div"}},e.colorWasChanged=!1,e.changeColorTour=function(){if(this.resourcesOpen())return this.requireResourcesNotOpen();if(!this.expressionsVisible())return this.requireExpressionsVisible();var e=this;if(t.each(this.expressionsView.model.getItemsByIndexRange(0,1/0),function(t){t.unobserve("color.tour"),t.observe("color.tour",function(){e.colorWasChanged=!0})}),this.colorWasChanged)return i(".dcg-options-menu").length?{position:"e",content:"... and click anywhere to close the color menu.",sel:".dcg-exppanel"}:{final:!0,position:"e",endingMsg:"Great job! Now to complete your mission: make a face. Good luck!",sel:".dcg-exppanel"};if(i(".dcg-options-menu").length)return{position:"e",content:"<b>Last step...</b><br>Change the color!",sel:".dcg-options-menu"};var n=this.getMatchingExp(s.GRAPHABLE_EXP),r=this.getMatchingExp(s.EXP);return n?{position:"e",content:"<b>Great!</b><br>Click and hold to open the secret drawing menu.",sel:n.iconView.$icon}:{position:"e",content:'<b>Oops...</b><br>Make this graphable by typing <span class="trip-math">y=x</span>',sel:r.$()}},e.phaseOn=0,e.phases=[e.restrictedLineTour,e.restrictedParabolaTour,e.changeColorTour],e.update=function(){return this.phases[this.phaseOn].call(this)}})}}),define("analytics/google_analytics",["require"],function(e){var t=!1;return{init:function(e){if(!t){window._gaq=window._gaq||[],_gaq.push(["_setAccount",e]),_gaq.push(["_trackPageview"]),t=!0;var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)}},send:function(e){t&&_gaq.push(e)}}}),define("tours/trip",["require","jquery","pjs","mathquill","scroll_helpers"],function(e){var t=e("jquery"),i=e("pjs"),n=e("mathquill"),r=e("scroll_helpers"),s=i({init:function(e){this.settings=e,this.__cachedStepName=null},ensureTripBlock:function(){if(!this.$tripBlock){var e=['<div class="trip-block">','<div class="trip-interior">','<a class="trip-close">&times;</a>','<div class="trip-content"></div>',"</div>",'<div class="trip-arrow"></div>',"</div>"].join(""),i=this,n=this.$tripBlock=t(e);n.css({top:"-100px"}),t("body").append(n),n.find(".trip-close").on("dcg-tap",function(e){e.preventDefault(),i.stop()}),this.bindKeyEvents()}},cleanup:function(){return this.unbindKeyEvents(),this.hideTripBlock(),!1},bindKeyEvents:function(){var e=this;t(document).on({"keydown.Trip":function(t){e.keyEvent.call(e,t)}})},unbindKeyEvents:function(){t(document).off("keydown.Trip")},keyEvent:function(e){27===e.which&&this.stop()},stop:function(){this.hideTripBlock(),this.settings.onTripStop(),this.__cachedContent=null,this.__cachedSel=null},showTripBlock:function(e){if(this.ensureTripBlock(),"string"==typeof e.sel&&(e.sel=t(e.sel)),e.sel=e.sel.filter(":visible"),e.content!==this.__cachedContent||e.sel[0]!==this.__cachedSel){this.__cachedContent=e.content,this.__cachedSel=e.sel[0],e.scrollContainer&&r.scrollVisible(e.sel,e.scrollContainer,0);var i=this.$tripBlock;i.find(".trip-content").html(e.content),i.toggleClass("trip-hidden",!!e.hidden);var s=e.sel,o=s.outerWidth(),a=s.outerHeight(),l=i.outerWidth(),c=i.outerHeight(),u=10,h=10;i.removeClass("trip-e trip-s trip-w trip-n");var d=0;switch(e.position){case"e":i.addClass("trip-e"),i.css({left:s.offset().left+o+h,top:s.offset().top-(c-a)/2});break;case"s":i.addClass("trip-s");var p=s.offset().left+(o-l)/2;i.css({left:p,top:s.offset().top+a+u}),p+l>t(window).width()-1&&(d=t(window).width()-1-p-l),p<1&&(d=1-p);break;case"w":i.addClass("trip-w"),i.css({left:s.offset().left-(h+l),top:s.offset().top-(c-a)/2});break;default:i.addClass("trip-n"),i.css({left:s.offset().left+(o-l)/2,top:s.offset().top-u-c})}i.find(".trip-interior").css("transform","translate("+d+"px, 0)"),i.css({display:"inline-block"}),i.find(".trip-math:not(.dcg-mq-math-mode)").each(function(){n.StaticMath(this)})}},fadeInTripBlock:function(){this.ensureTripBlock();var e=this.$tripBlock;setTimeout(function(){e.addClass("trip-is-loaded")},0)},hideTripBlock:function(){this.$tripBlock&&this.$tripBlock.removeClass("trip-is-loaded")}});return s}),define("tours/tour_manager",["require","pjs","analytics/google_analytics","./trip"],function(e){var t=e("pjs"),i=e("analytics/google_analytics"),n=e("./trip"),r=t(function(e,t){e.init=function(){this.tripManager=new n({onTripStop:this.stopTour.bind(this)}),this.currentStep=void 0,this.currentTour=void 0},e._tripLoop=function(){if(clearTimeout(this.__tripLoopTimeout),this.running){var e=this;e._advanceTrip(),e.__tripLoopTimeout=setTimeout(e._tripLoop.bind(e),200)}},e._advanceTrip=function(){var e=this.currentTour.update(),t=(new Date).getTime();if(e&&this.currentStep&&e.content!==this.currentStep.content){if(this.currentStep.delayBeforeExit){if(this.throttleTimer&&t-this.throttleTimer<this.currentStep.delayBeforeExit)return;if(!this.throttleTimer)return void(this.throttleTimer=t)}e.delayBeforeEnter&&(this.currentStep=e,this.throttleTimer=t)}if(!(e&&this.currentStep&&e.content===this.currentStep.content&&this.throttleTimer&&t-this.throttleTimer<this.currentStep.delayBeforeEnter)&&(this.throttleTimer=null,e&&!e.doNotUpdate)){if(this.currentStep=e,e.final)return this.finishTour(e,5),void i.send(["_trackEvent","Completed tour",e.endingMsg]);this.tripManager.showTripBlock(e)}},e.updateNow=e._advanceTrip,e.startTour=function(e){this.running||(this.currentTour=e,this.running=!0,this._tripLoop(),this.tripManager.fadeInTripBlock())},e.closingMsg="<b>__endingMessage__</b><br>This message will self-destruct in __seconds__...",e.finishTour=function(e,t){clearTimeout(this.__tripLoopTimeout),this.running=!1;var i=this;return t<0?void i.tripManager.stop():(e.endingMsg&&(e.content=i.closingMsg.replace("__endingMessage__",e.endingMsg).replace("__seconds__",t)),i.tripManager.showTripBlock(e),void setTimeout(function(){i.finishTour(e,t-1)},1e3))},e.stopTour=function(){this.running=!1,this.currentStep=void 0,this.currentTour=void 0}});return r}),define("template!toast",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="dcg-toast-container">\n  <div class="dcg-toast-cover"></div>\n  <span class="dcg-toast">\n    <i class="dcg-icon-error"></i>\n    <i class="dcg-icon-remove dcg-action-hide" tabindex=0 aria-label="Dismiss Notice"></i>\n    <span class="dcg-msg dcg-variable-msg"></span>\n    <a role="link" tabindex=0 class="dcg-undo dcg-action-toast-undo">'+(null==(__t=t("Undo"))?"":_.escape(__t))+'</a>\n    <a role="link" tabindex=0 class="dcg-learn-more-link" target="_blank">'+(null==(__t=t("Learn more"))?"":_.escape(__t))+"</a>\n  </span>\n</div>\n";return __p}}),define("loadcss!toast",function(){}),define("main/toast",["require","pjs","lib/aria","i18n","browser","underscore_view","template!toast","loadcss!toast"],function(e){var t=e("pjs"),i=e("lib/aria"),n=e("i18n"),r=e("browser"),s=e("underscore_view"),o=e("template!toast");e("loadcss!toast");var a=t(s,function(e,t){e.template=o,e.init=function(e,i){t.init.call(this),this.graphChangeMonitor=e,this.graphSettings=i,this.visible=!1,this.graphSettings.observe("language",this.rerender.bind(this))},e.getTemplateParams=function(){return{t:function(e,t){return n.t(e,t,this.graphSettings.language)}.bind(this)}},e.didCreateElement=function(){var e=this;e.graphChangeMonitor.observeEvent("notifyChange",function(){e.isVisible()&&e.hide()}),this.$(".dcg-action-toast-undo").on("dcg-tap",function(){e.undoCallback&&e.undoCallback(),e.hide()}),this.$().on("dcg-tap",".dcg-action-hide",function(){this.hide(),this.options.onHide&&this.options.onHide()}.bind(this)),this.$().on("dcg-tap",".dcg-learn-more-link",function(){return window.open(this.options.learnMoreLink)?(this.hide(),void(this.options.onLearnMore&&this.options.onLearnMore())):alert("Popup window blocked. Please allow popups from desmos.com.")}.bind(this)),this.$().toggle(!1)},e.show=function(e,t){t=t||{},this.options=t,clearTimeout(this.hideTimeout),this.$(".dcg-toast-container").hide(),this.$(".dcg-toast").toggleClass("dcg-show-undo",t.hasOwnProperty("undoCallback")),this.$(".dcg-toast-container").attr("style",t.style||null),this.$(".dcg-learn-more-link").toggle(t.hasOwnProperty("learnMoreLink")),this.$().fadeIn("fast"),t.hasOwnProperty("undoCallback")&&(e+=r.IS_APPLE?" Press CMD+Z to undo.":" Press CTRL+Z to undo."),t.hasOwnProperty("noAria")?this.$(".dcg-variable-msg").empty().text(e):i.addAria(this.$(".dcg-variable-msg")).empty().text(e),this.undoCallback=t.undoCallback,this.visible=!0;var n=t.hasOwnProperty("hideAfter")?t.hideAfter:6e3;if(n>0){var s=this;this.hideTimeout=setTimeout(function(){s.hide()},n)}},e.hide=function(){clearTimeout(this.hideTimeout),this.$().fadeOut("fast"),this.visible=!1},e.isVisible=function(){return this.visible}});return a}),define("undoredo",["require","underscore","pjs"],function(e){var t=e("underscore"),i=e("pjs"),n=i(function(e,i){e.init=function(){this.undos=[],this.redos=[],this.changesCallbacks=[],this.__batchingDepth=0,this.__silentDepth=0},e.clear=function(){this.undos.splice(0),this.redos.splice(0),this._triggerChange()},e.pushUndo=function(e){this.undos.push(e)},e.pushRedo=function(e){this.redos.push(e)},e.canUndo=function(){return this.undos.length>0},e.canRedo=function(){return this.redos.length>0},e.undo=function(){if(this.canUndo()){var e=this.undos.pop();this.silent(e.undo),this.pushRedo(e),this._triggerChange()}},e.redo=function(){if(this.canRedo()){var e=this.redos.pop();this.silent(e.redo),this.pushUndo(e),this._triggerChange()}},e.oneTransaction=function(e,t){0===this.__batchingDepth&&(this.__batchedTransaction=this._makeBatchedTransaction(t)),this.__batchingDepth++;try{e()}finally{this.__batchingDepth--}0===this.__batchingDepth&&(this.addTransaction(this.__batchedTransaction),this.__batchedTransaction=null)},e.performAndAddTransaction=function(e){this.silent(e.redo),this.addTransaction(e)},e.addTransaction=function(e){if(!this._isSilent()&&!this._foldTransaction(e))return this._isBatching()?void this.__batchedTransaction.__batched__.push(e):void this._commitTransaction(e)},e._foldTransaction=function(e){if(!e.foldType)return!1;var t=this.undos[this.undos.length-1];if(this._isBatching()){var i=this.__batchedTransaction.__batched__;t=i[i.length-1]}return!(!t||t.foldType!==e.foldType)&&(t.redo=e.redo,this._triggerChange(),!0)},e.silent=function(e){this.__silentDepth++;try{e()}finally{this.__silentDepth--}},e._isSilent=function(){return this.__silentDepth>0},e._makeBatchedTransaction=function(e){var t={foldType:e};return t.__batched__=[],t.undo=function(){for(var e=t.__batched__,i=e.length-1;i>=0;i--)e[i].undo()},t.redo=function(){for(var e=t.__batched__,i=0;i<e.length;i++)e[i].redo()},t},e._isBatching=function(){return this.__batchingDepth>0},e._commitTransaction=function(e){this.redos.splice(0),this.pushUndo(e),this._triggerChange()},e._triggerChange=function(){t.each(this.changesCallbacks,function(e){e()})}});return n}),define("ipad.scrollfix",["require","jquery"],function(e){var t=e("jquery"),i=0,n=1,r=2,s=!1,o=function(){a(document),s=!0},a=function(e){s||t(e).bind("touchstart",function(e){var s=t(e.target),o=i,a=null;if(!s.closest("[disablescroll]").length)for(;o===i&&s.length&&void 0!==s[0].tagName;){var l=s.css("overflow"),c=s.css("overflow-y");if("hidden"!==l&&"visible"!==l&&"hidden"!==c&&"hidden"!==c){var u=s.scrollTop();0!==u&&(o=r),s.scrollTop(u+1),s.scrollTop()!==u&&(o|=n,s.scrollTop(u))}s=s.parent()}if(o!==i){a=[];for(var h=e.originalEvent.touches,d=0;d<h.length;d++){var p={};for(var f in h[d])h[d].hasOwnProperty(f)&&(p[f]=h[d][f]);a.push(p)}}t(document).on("touchmove.scrollfix",function(e){if(a){var t=a[0],s=e.originalEvent.touches[0],l=s.screenY-t.screenY;l>0&&!(o&r)?o=i:l<0&&!(o&n)&&(o=i),l&&(a=null)}o===i&&e.preventDefault()}),t(document).on("touchend.scrollfix",function(){t(document).off(".scrollfix")})})};return{limitScrollOnElement:a,limitScrollOnDocument:o}}),define("loadcss!calculator_embed",function(){}),define("loadcss!inputs",function(){}),define("loadcss!dcg-normalize",function(){}),define("loadcss!projector_mode",function(){}),define("loadcss!smallscreen",function(){}),define("loadcss!desmos-icons",function(){}),define("main/calc_embed",["require","console","jquery","pjs","touchtracking","i18n","main/evaluator","graphing/grapher","graphing/audiograph","main/graph_settings","graphing/viewport","expressions/list_move_controller","expressions/list","expressions/list_view","main/instancehotkeys","main/keypad_view","main/state_controller","main/propagate_selection","main/graph_change_monitor","./paste_helper","main/pillbox_view","main/layout_controller","loadcss!tour","tours/mathart","tours/tour_manager","main/toast","undoredo","underscore_model","ipad.scrollfix","loadcss!calculator_embed","loadcss!inputs","loadcss!dcg-normalize","loadcss!projector_mode","loadcss!smallscreen","loadcss!desmos-icons"],function(e){var t=e("console"),i=e("jquery"),n=e("pjs"),r=e("touchtracking"),s=e("i18n"),o=e("main/evaluator"),a=e("graphing/grapher"),l=e("graphing/audiograph"),c=e("main/graph_settings"),u=e("graphing/viewport"),h=e("expressions/list_move_controller"),d=e("expressions/list"),p=e("expressions/list_view"),f=e("main/instancehotkeys"),g=e("main/keypad_view"),m=e("main/state_controller"),v=e("main/propagate_selection"),y=e("main/graph_change_monitor"),b=e("./paste_helper"),x=e("main/pillbox_view"),_=e("main/layout_controller");e("loadcss!tour");var w=e("tours/mathart"),S=e("tours/tour_manager"),E=e("main/toast"),k=e("undoredo"),T=e("underscore_model"),C=e("ipad.scrollfix");e("loadcss!calculator_embed"),e("loadcss!inputs"),e("loadcss!dcg-normalize"),e("loadcss!projector_mode"),e("loadcss!smallscreen"),e("loadcss!desmos-icons");var I=n(function(e){var n=0;e.init=function(e,I,P){function A(){var e;for(e in X){var t=X[e];z.updateSketch(e,t),G.onGraphComputed(e,t),j&&j.speakGraphingAlert(e)}for(e in Q)z.updateIntersections(e,Q[e]);X={},Q={}}this.__id=n++;var M=this.graphChangeMonitor=y(),O=function(){M.triggerEvent("notifyChange")},L=c();for(var D in P)L.config.setProperty(D,P[D]);L.config.keypad&&L.config.expressions&&!L.config.nativeOnscreenKeypad&&(window.overrideNativeOnscreenKeypad=!0);var q=["dcg-container"];L.config.settingsMenu||q.push("dcg-no-settings-menu"),L.config.expressionsTopbar||q.push("dcg-no-expression-topbar"),L.config.zoomButtons||q.push("dcg-no-zoom"),L.config.branding||q.push("dcg-no-branding"),L.config.links||q.push("dcg-no-hyperlinks"),L.config.border&&q.push("dcg-default-border"),L.config.invertedColors&&q.push("dcg-inverted-colors");var N=i('<div class="'+q.join(" ")+'" role="application">');this.embedElt=N[0],this.rootElt=e,r.monitor(N[0]);var F=i('<div class="dcg-grapher">');L.config.disableScrollFix||C.limitScrollOnElement(N);var R,V,j,$=k(),B=E(M,L),U=o(I,$),G=d($,L);L.config.expressions&&!L.config.expressionsCollapsed||N.addClass("dcg-fullscreen"),L.config.expressions&&(V=p(G,N,B,L,U)),F.appendTo(N),B.appendTo(N),L.config.keypad&&V&&(R=g(L),R.appendTo(N)),L.config.graphpaper||N.addClass("dcg-no-graphpaper"),N.appendTo(e);var z=new a(F,L,N,$,U);L.registerCallbacks(z,V,N,U,$);var H=function(e,t){return s.t(e,t,L.language)};this._openOnWeb=function(){var e=JSON.stringify(this.getState()),t=this.grapher.screenshot({width:100,height:100}),n=L.config.crossOriginSaveTest,r=n?"/":"https://www.desmos.com/",s=r+"api/v1/calculator/cross_origin_save",o=i('<input type="text" name="calc_state" />').val(e),a=i('<input type="text" name="thumb_data" />').val(t),l=i('<form target="_blank" method="POST" style="display:none;"></form>').attr("action",s).append(i('<input type="text" name="is_open_on_web" value="true" />')).append(i('<input type="text" name="my_graphs" value="false" />')).append(i('<input type="text" name="is_update" value="false" />')).append(o).append(a);N.append(l),l.submit().remove()},L.config.graphpaper&&(j=new l(z,G,V,B,U));var W=x(z.viewportController),Y=m(z,G,L,U);L.config.redrawSlowly||(z.redrawSlowly=z.redrawAllLayers),$.changesCallbacks.push(O),U.triggerStatusChange=function(e){G.onChange(e)};var X={},Q={};U.triggerGraphComputed=function(e,t){X[e]=t},U.triggerRender=function(){A(),z.poiController.handleTraceUpdate(),z.redrawAllLayers(),j&&j.recomputePoints()},U.triggerRenderSlowly=function(){A(),z.redrawSlowly()},U.triggerRemove=function(e){z.hide(e)},U.triggerUpdateIntersections=function(e,t){Object.keys(X).length?Q[e]=t:(z.updateIntersections(e,t),z.redrawAllLayers())},G.triggerAddExp=function(e){e&&(""===e.latex&&"table"!==this.type&&z.removeGraphSketch(e.id),U.addStatement(e))},G.triggerRemoveExp=function(e){U.removeStatement(e)},G.triggerRemoveExps=function(e){U.removeStatements(e)},G.observe("drawOrder",function(){z.setSketchOrder(G.getProperty("drawOrder"))}),V&&(V.triggerClearGraph=function(){var e=Y.getState();Y.setBlank(),G.setSelected(0),V.getSelectedView().addFocus();var t=function(){Y.setState(e)};B.show(H("Graph cleared."),{undoCallback:t}),G.triggerEvent("graphReset")},V.triggerResetGraph=function(){var e=Y.getState();Y.setState(L.defaultState);var t=function(){Y.setState(e)};B.show(H("Graph reset."),{undoCallback:t}),G.triggerEvent("graphReset")}),G.triggerAddImage=function(e){e.imageObj.width&&e.imageObj.height?z.addGraphImage(e):i(e.imageObj).on("load.calc_load",function(){z.addGraphImage(e),z.redrawAllLayers(),O()})},G.triggerRemoveImage=function(e){i(e.imageObj).off("load.calc_load"),z.removeGraphImage(e.id),z.redrawAllLayers()},G.triggerRedrawImages=function(){z.redrawAllLayers()},G.triggerImageError=function(e){G.removeItemById(e.id),B.show(H("Image could not be loaded."))},v(G,z,U),R&&V&&R.registerEditableView(V),R&&W&&W.settingsView&&R.registerEditableView(W.settingsView);var K=_({expressionsView:V,keypadView:R,pillboxView:W,grapher:z},N,L);z.poiController.triggerStartMovingPoint=function(e){h.onStartMovingPoint(G,e)},z.poiController.triggerMovePoint=function(e,t,i,n){h.onMovePoint(G,e,t,i,n)},z.poiController.triggerStopMovingPoint=function(e){h.onStopMovingPoint(G,e)},z.poiController.triggerSelectExpression=function(e){G.setSelected(G.getItemById(e))};var Z=T();Z.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=Z,K.triggerGraphpaperRectChanged=function(e){Z.setProperty("pixelCoordinates",{top:e.top,bottom:e.bottom,left:e.left,right:e.right,width:e.width,height:e.height}),z.triggerProjectionChanged()},z.triggerProjectionChanged=function(){var e=z.getProjection();z.settings.setProperty("zoomedDefault",z.viewportController.isZoomRestored()),z.syncSquareAxes(),U.setViewState({viewport:e.viewport.toObject(),screen:e.screen}),W.settingsView._setViewportWithoutUpdatingGrapher(e.viewport),Z.setProperty("mathCoordinates",{top:e.viewport.ymax,bottom:e.viewport.ymin,left:e.viewport.xmin,right:e.viewport.xmax,width:e.viewport.xmax-e.viewport.xmin,height:e.viewport.ymax-e.viewport.ymin})},z.triggerProjectionChanged(),Z.observe("mathCoordinates",O),V&&(V.appendTo(N),V.$(".dcg-expressions-branding .dcg-edit-branding").on("dcg-tap",this._openOnWeb.bind(this))),W.appendTo(N),z.addDomObstruction(W.$(".dcg-overgraph-pillbox-elements")[0]),z.addDomObstruction(W.$(".dcg-graphpaper-branding")[0]),W.$(".dcg-graphpaper-branding .dcg-edit-branding").on("dcg-tap",this._openOnWeb.bind(this)),i(window).on("dcg-tapstart.calculator-"+this.__id,function(e){var t=i(e.target);t.closest(N).length||t.hasClass("dcg-shell")||G.setSelected(null),e.wasHandled("do-not-clear-poi-labels")||z.poiController.clearOpenedPOI()}),this.graphChangeMonitor.observeEvent("notifyChange",function(){this.grapher&&this.grapher.markLabelsDirty()}.bind(this)),this.expressionsModel=G,V&&(this.expressions=V),this.audiograph=j,this.grapher=z,this.evaluator=U,this.stateController=Y,this.getState=Y.getState.bind(Y),this.expressionsView=V,this.pillboxView=W,this.layoutController=K,this.undoRedo=$,this.toastView=B;var J=this.toast=function(e,t){B.show(e,t)};this.hasVisibleAndUndoableToast=function(){return B.isVisible()&&B.undoCallback},this.toastUndo=function(){B.undoCallback(),B.hide()},this.setState=Y.setState.bind(Y),this.setBlank=function(e){Y.setBlank(e),W&&W.settingsView&&W.settingsView.setProperty("isVisible",!1),V&&V.setProperty("editListMode",!1)},this.clearHistory=$.clear.bind($),Y.triggerSetState=function(){M.setProperty("hasUnsavedChanges",!1)},this.tourManager=S({evaluator:U}),this.tourManager.TOURS=w;var ee=this.setViewport=function(e){z.viewportController.setViewport(new u(e[0],e[1],e[2],e[3]))};if(this.resize=function(){K.resize()},this.addFocus=function(){V&&(G.setSelected(0),V.getSelectedView().addFocus())},this.interceptTouch=function(){var e=F;V&&(e=e.add(V.$(".dcg-expression-top-bar"))),R&&(e=e.add(R.$())),e.on("touchstart",function(e){e.preventDefault()}),e.on("touchend",function(e){i(e.target).closest(".dcg-do-not-blur")||K.defocusMobile()})},this.setOptions=function(e){var i=!1;e.hasOwnProperty("solutions")&&(t.warn("Deprecated option: solutions. Use pointsOfInterest instead."),e.pointsOfInterest=e.solutions),e.hasOwnProperty("pointsOfInterest")&&L.config.setProperty("pointsOfInterest",e.pointsOfInterest),
    e.hasOwnProperty("settingsMenu")&&N.toggleClass("dcg-no-settings-menu",!e.settingsMenu),e.hasOwnProperty("border")&&N.toggleClass("dcg-default-border",!!e.border),e.hasOwnProperty("branding")&&N.toggleClass("dcg-no-branding",!e.branding),e.hasOwnProperty("expressionsTopbar")&&(N.toggleClass("dcg-no-expression-topbar",!e.expressionsTopbar),i=!0),e.hasOwnProperty("graphpaper")&&(N.toggleClass("dcg-no-graphpaper",!e.graphpaper),i=!0),e.hasOwnProperty("zoomButtons")&&N.toggleClass("dcg-no-zoom",!e.zoomButtons),e.hasOwnProperty("expressionsCollapsed")&&V&&(e.expressionsCollapsed?V.hideExpressions():V.showExpressions()),e.hasOwnProperty("keypad")&&t.warn("Bad option {keypad: "+e.keypad+"}. The keypad can only be added or removed at load time, not at runtime."),e.hasOwnProperty("expressions")&&t.warn("Bad option {expressions: "+e.expressions+"}. The expressions can only be added or removed at load time, not at runtime."),e.hasOwnProperty("lockViewport")&&L.config.setProperty("lockViewport",e.lockViewport),i&&K.resize()},this.expressionsView){var te=b(this.expressionsView,$,J,z.viewportController.getViewport.bind(z.viewportController),ee,this.stateController,L.config);te.bindListenerTo(this.expressionsView.$())}K.resize(),Y.setBlank();var ie=["degreeMode","invertedColors"],ne={};ie.forEach(function(e){void 0!==P[e]&&(ne[e]=P[e])}),L.setGraphSettings(ne),L.config.expressionsCollapsed&&this.setOptions({expressionsCollapsed:!0}),L.config.hasOwnProperty("pointsOfInterest")&&this.setOptions({pointsOfInterest:L.config.pointsOfInterest}),L.observe("language",function(){var e=Y.getState();V&&(V.onLanguageChange(),V.minWidthHasBeenSet=!1,V.setMinWidth(V.minWidth),te.bindListenerTo(V.$())),W&&W.onLanguageChange(),R&&R.onLanguageChange(),Y.setState(e),this.tourManager&&(this.tourManager.closingMsg=["<b>__endingMessage__</b><br>",H("This message will self-destruct in __seconds__...")].join(""))}.bind(this)),this.instanceHotkeys=new f(N,G,V,this)},e.destroy=function(){this.rootElt.contains(this.embedElt)&&this.rootElt.removeChild(this.embedElt),i(window).off(".calculator-"+this.__id),this.expressionsModel._removeAllItems(),this.evaluator&&this.evaluator.destroy(),this.toastView&&this.toastView.remove(),this.audiograph&&this.audiograph.remove(),this.grapher&&this.grapher.remove(),this.expressionsView&&this.expressionsView.remove(),this.pillboxView&&this.pillboxView.remove(),this.keypadView&&this.keypadView.remove(),this.instanceHotkeys&&this.instanceHotkeys.stopListening()},e.tick=function(e){this.expressionsModel.tick(e),this.evaluator.tick(e),this.expressionsView&&this.expressionsView.tick(e),this.grapher.tick(e)}});return I}),define("main/calc_headless",["require","pjs","main/evaluator","main/graph_settings","expressions/list","main/state_controller","undoredo","underscore_model"],function(e){var t=e("pjs"),i=e("main/evaluator"),n=e("main/graph_settings"),r=e("expressions/list"),s=e("main/state_controller"),o=e("undoredo"),a=e("underscore_model"),l=t(function(e){e.init=function(e,t){var l=n();for(var c in t)l.config.setProperty(c,t[c]);var u=o(),h=i(e,u),d=r(u,l),p=s(void 0,d,l,h);h.triggerStatusChange=function(e){d.onChange(e)},d.triggerAddExp=function(e){e&&h.addStatement(e)},d.triggerRemoveExp=function(e){h.removeStatement(e)},d.triggerRemoveExps=function(e){h.removeStatements(e)};var f=a();f.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=f,this.expressionsModel=d,this.evaluator=h,this.stateController=p,this.getState=p.getState.bind(p),this.undoRedo=u,this.setState=p.setState.bind(p),this.setBlank=p.setBlank.bind(p),this.clearHistory=u.clear.bind(u),this.setViewport=function(e){},this.resize=function(){},this.setOptions=function(e){},p.setBlank()},e.tick=function(e){this.evaluator.tick(e)}});return l}),define("expressions/helperexpression",["require","pjs","math/evaluationstate","./abstractitem"],function(e){var t=e("pjs"),i=e("math/evaluationstate"),n=e("./abstractitem"),r=t(n,function(e,t){e.isHelperExpression=!0,e.init=function(e,n){t.init.call(this,e,n),this.hidden=!0,this.formula=i.default(),this.observe("formula",this.onFormulaUpdate.bind(this)),this.observe("latex",this.onExpressionDidChange.bind(this))},e.onExpressionDidChange=function(){this.requestParse()},e.getParsableObject=function(){return{type:"statement",id:this.id,latex:this.latex,shouldGraph:!1,color:this.color}},e.requestParse=function(){this.list.triggerAddExp(this.getParsableObject())},e.requestUnparse=function(){this.list.triggerRemoveExp(this.id)},e.onAddedToList=function(){t.onAddedToList.call(this),this.requestParse()},e.onRemovedFromList=function(){t.onRemovedFromList.call(this),this.requestUnparse()},e.getState=function(){var e={id:this.id,latex:this.latex,color:this.color,hidden:!0};return e},e.onFormulaUpdate=function(){var e=this.formula;this.setProperty("error",e.error?e.error:"")},e.isEmpty=function(){var e=this.latex;return!e||""===e.split(" ").join("")}});return r}),define("main/raf-loop",["require","lib/animation-frame"],function(e){function t(e){function t(n){i.requestAnimationFrame(t),e(n)}i.requestAnimationFrame(t)}var i=e("lib/animation-frame");return t}),define("main/shared-clock-bus",["require","exports","main/raf-loop","underscore_model"],function(e,t,i,n){"use strict";function r(e){return a+=1,o.observeEvent("tick."+a,function(t,i){e(i)}),a}function s(e){o.unobserveEvent("tick."+e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n();i(function(e){o.triggerEvent("tick",e)});var a=0;t.subscribe=r,t.unsubscribe=s}),define("main/shared-worker-pool",["require","exports","worker/workerpool","lib/urlparser"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n.getParameter("nworkers"),s=4;r&&(s=parseInt(r,10)),t.default=new i(s)}),function(e){"use strict";var t=function(e,i,n){var r,s,o=document.createElement("img");if(o.onerror=i,o.onload=function(){!s||n&&n.noRevoke||t.revokeObjectURL(s),i&&i(t.scale(o,n))},t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e))r=s=t.createObjectURL(e),o._type=e.type;else{if("string"!=typeof e)return!1;r=e,n&&n.crossOrigin&&(o.crossOrigin=n.crossOrigin)}return r?(o.src=r,o):t.readFile(e,function(e){var t=e.target;t&&t.result?o.src=t.result:i&&i(e)})},i=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transformCoordinates=function(){},t.getTransformedOptions=function(e){return e},t.renderImageToCanvas=function(e,t,i,n,r,s,o,a,l,c){return e.getContext("2d").drawImage(t,i,n,r,s,o,a,l,c),e},t.hasCanvasOption=function(e){return e.canvas||e.crop},t.scale=function(e,i){i=i||{};var n,r,s,o,a,l,c,u,h,d=document.createElement("canvas"),p=e.getContext||t.hasCanvasOption(i)&&d.getContext,f=e.naturalWidth||e.width,g=e.naturalHeight||e.height,m=f,v=g,y=function(){var e=Math.max((s||m)/m,(o||v)/v);e>1&&(m=Math.ceil(m*e),v=Math.ceil(v*e))},b=function(){var e=Math.min((n||m)/m,(r||v)/v);e<1&&(m=Math.ceil(m*e),v=Math.ceil(v*e))};return p&&(i=t.getTransformedOptions(i),c=i.left||0,u=i.top||0,i.sourceWidth?(a=i.sourceWidth,void 0!==i.right&&void 0===i.left&&(c=f-a-i.right)):a=f-c-(i.right||0),i.sourceHeight?(l=i.sourceHeight,void 0!==i.bottom&&void 0===i.top&&(u=g-l-i.bottom)):l=g-u-(i.bottom||0),m=a,v=l),n=i.maxWidth,r=i.maxHeight,s=i.minWidth,o=i.minHeight,p&&n&&r&&i.crop?(m=n,v=r,h=a/l-n/r,h<0?(l=r*a/n,void 0===i.top&&void 0===i.bottom&&(u=(g-l)/2)):h>0&&(a=n*l/r,void 0===i.left&&void 0===i.right&&(c=(f-a)/2))):((i.contain||i.cover)&&(s=n=n||s,o=r=r||o),i.cover?(b(),y()):(y(),b())),p?(d.width=m,d.height=v,t.transformCoordinates(d,i),t.renderImageToCanvas(d,e,c,u,a,l,0,0,m,v)):(e.width=m,e.height=v,e)},t.createObjectURL=function(e){return!!i&&i.createObjectURL(e)},t.revokeObjectURL=function(e){return!!i&&i.revokeObjectURL(e)},t.readFile=function(e,t,i){if(window.FileReader){var n=new FileReader;if(n.onload=n.onerror=t,i=i||"readAsDataURL",n[i])return n[i](e),n}return!1},"function"==typeof define&&define.amd?define("vendor/load-image/load-image",[],function(){return t}):e.loadImage=t}(this),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-orientation",["./load-image"],e):e(window.loadImage)}(function(e){"use strict";var t=e.hasCanvasOption;e.hasCanvasOption=function(e){return t(e)||e.orientation},e.transformCoordinates=function(e,t){var i=e.getContext("2d"),n=e.width,r=e.height,s=t.orientation;if(s)switch(s>4&&(e.width=r,e.height=n),s){case 2:i.translate(n,0),i.scale(-1,1);break;case 3:i.translate(n,r),i.rotate(Math.PI);break;case 4:i.translate(0,r),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-r);break;case 7:i.rotate(.5*Math.PI),i.translate(n,-r),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-n,0)}},e.getTransformedOptions=function(e){if(!e.orientation||1===e.orientation)return e;var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);switch(e.orientation){case 2:i.left=e.right,i.right=e.left;break;case 3:i.left=e.right,i.top=e.bottom,i.right=e.left,i.bottom=e.top;break;case 4:i.top=e.bottom,i.bottom=e.top;break;case 5:i.left=e.top,i.top=e.left,i.right=e.bottom,i.bottom=e.right;break;case 6:i.left=e.top,i.top=e.right,i.right=e.bottom,i.bottom=e.left;break;case 7:i.left=e.bottom,i.top=e.right,i.right=e.top,i.bottom=e.left;break;case 8:i.left=e.bottom,i.top=e.left,i.right=e.top,i.bottom=e.right}return e.orientation>4&&(i.maxWidth=e.maxHeight,i.maxHeight=e.maxWidth,i.minWidth=e.minHeight,i.minHeight=e.minWidth,i.sourceWidth=e.sourceHeight,i.sourceHeight=e.sourceWidth),i}}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-meta",["./load-image"],e):e(window.loadImage)}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,i,n){n=n||{};var r=this,s=n.maxMetaDataSize||262144,o={},a=!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice);!a&&e.readFile(e.blobSlice.call(t,0,s),function(t){var s,a,l,c,u=t.target.result,h=new DataView(u),d=2,p=h.byteLength-4,f=d;if(65496===h.getUint16(0)){for(;d<p&&(s=h.getUint16(d),s>=65504&&s<=65519||65534===s);){if(a=h.getUint16(d+2)+2,d+a>h.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[s])for(c=0;c<l.length;c+=1)l[c].call(r,h,d,a,o,n);d+=a,f=d}!n.disableImageHead&&f>6&&(u.slice?o.imageHead=u.slice(0,f):o.imageHead=new Uint8Array(u).subarray(0,f))}else console.log("Invalid JPEG file: Missing JPEG marker.");i(o)},"readAsArrayBuffer")||i(o)}}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-ios",["./load-image"],e):e(window.loadImage)}(function(e){"use strict";if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var t=e.renderImageToCanvas;e.detectSubsampling=function(e){var t,i;return e.width*e.height>1048576&&(t=document.createElement("canvas"),t.width=t.height=1,i=t.getContext("2d"),i.drawImage(e,-e.width+1,0),0===i.getImageData(0,0,1,1).data[3])},e.detectVerticalSquash=function(e,t){var i,n,r,s,o,a=e.naturalHeight||e.height,l=document.createElement("canvas"),c=l.getContext("2d");for(t&&(a/=2),l.width=1,l.height=a,c.drawImage(e,0,0),i=c.getImageData(0,0,1,a).data,n=0,r=a,s=a;s>n;)o=i[4*(s-1)+3],0===o?r=s:n=s,s=r+n>>1;return s/a||1},e.renderImageToCanvas=function(i,n,r,s,o,a,l,c,u,h){if("image/jpeg"===n._type){var d,p,f,g,m=i.getContext("2d"),v=document.createElement("canvas"),y=1024,b=v.getContext("2d");if(v.width=y,v.height=y,m.save(),d=e.detectSubsampling(n),d&&(r/=2,s/=2,o/=2,a/=2),p=e.detectVerticalSquash(n,d),d||1!==p){for(s*=p,u=Math.ceil(y*u/o),h=Math.ceil(y*h/a/p),c=0,g=0;g<a;){for(l=0,f=0;f<o;)b.clearRect(0,0,y,y),b.drawImage(n,r,s,o,a,-f,-g,o,a),m.drawImage(v,0,0,y,y,l,c,u,h),f+=y,l+=u;g+=y,c+=h}return m.restore(),i}}return t(i,n,r,s,o,a,l,c,u,h)}}}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-exif",["./load-image","./load-image-meta"],e):e(window.loadImage)}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,i){var n,r,s;if(!i||t+i>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(n=[],r=0;r<i;r+=1)s=e.getUint8(t+r),n.push((s<16?"0":"")+s.toString(16));return"data:image/jpeg,%"+n.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,i){return e.getUint16(t,i)},size:2},4:{getValue:function(e,t,i){return e.getUint32(t,i)},size:4},5:{getValue:function(e,t,i){return e.getUint32(t,i)/e.getUint32(t+4,i)},size:8},9:{getValue:function(e,t,i){return e.getInt32(t,i)},size:4},10:{getValue:function(e,t,i){return e.getInt32(t,i)/e.getInt32(t+4,i)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,i,n,r,s,o){var a,l,c,u,h,d,p=e.exifTagTypes[r];if(!p)return void console.log("Invalid Exif data: Invalid tag type.");if(a=p.size*s,l=a>4?i+t.getUint32(n+8,o):n+8,l+a>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===s)return p.getValue(t,l,o);for(c=[],u=0;u<s;u+=1)c[u]=p.getValue(t,l+u*p.size,o);if(p.ascii){for(h="",u=0;u<c.length&&(d=c[u],"\0"!==d);u+=1)h+=d;return h}return c},e.parseExifTag=function(t,i,n,r,s){var o=t.getUint16(n,r);s.exif[o]=e.getExifValue(t,i,n,t.getUint16(n+2,r),t.getUint32(n+4,r),r)},e.parseExifTags=function(e,t,i,n,r){var s,o,a;if(i+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(s=e.getUint16(i,n),o=i+2+12*s,o+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(a=0;a<s;a+=1)this.parseExifTag(e,t,i+2+12*a,n,r);return e.getUint32(o,n)},e.parseExifData=function(t,i,n,r,s){if(!s.disableExif){var o,a,l,c=i+10;if(1165519206===t.getUint32(i+4)){if(c+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(i+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(c)){case 18761:o=!0;break;case 19789:o=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(c+2,o))return void console.log("Invalid Exif data: Missing TIFF marker.");a=t.getUint32(c+4,o),r.exif=new e.ExifMap,a=e.parseExifTags(t,c,c+a,o,r),a&&!s.disableExifThumbnail&&(l={exif:{}},a=e.parseExifTags(t,c,c+a,o,l),l.exif[513]&&(r.exif.Thumbnail=e.getExifThumbnail(t,c+l.exif[513],l.exif[514]))),r.exif[34665]&&!s.disableExifSub&&e.parseExifTags(t,c,c+r.exif[34665],o,r),r.exif[34853]&&!s.disableExifGps&&e.parseExifTags(t,c,c+r.exif[34853],o,r)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/load-image/load-image-exif-map",["./load-image","./load-image-exif"],e):e(window.loadImage)}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,i=e.tags,n=e.map;for(t in i)i.hasOwnProperty(t)&&(n[i[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,i={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e],t&&(i[t]=this.getText(t)));return i}}),define("loadImage",["require","vendor/load-image/load-image-orientation","vendor/load-image/load-image-meta","vendor/load-image/load-image-ios","vendor/load-image/load-image-exif","vendor/load-image/load-image-exif-map","vendor/load-image/load-image"],function(e){e("vendor/load-image/load-image-orientation"),e("vendor/load-image/load-image-meta"),e("vendor/load-image/load-image-ios"),e("vendor/load-image/load-image-exif"),e("vendor/load-image/load-image-exif-map");var t=e("vendor/load-image/load-image");return t}),define("expressions/image_file_to_data_url",["require","loadImage"],function(e){function t(e,t){for(var i,n=[.92,.86,.8,.7,.6,.5,.4,.3,.2,.1],r=0;r<n.length;r++)if(i=e.toDataURL("image/jpeg",n[r]),i.length<t)return i;return i}function i(e,t){for(var i,n=e.toDataURL().length,r=e.width,s=e.height,o=document.createElement("canvas"),a=0;a<2;a++){var l=Math.sqrt(t/n);r=Math.round(l*r),s=Math.round(l*s),o.height=s,o.width=r;var c=o.getContext("2d");if(c.drawImage(e,0,0,r,s),i=o.toDataURL(),n=i.length,n<t)return i}return i}function n(e,n){var s={orientation:!0,canvas:!0,maxWidth:1600,maxHeight:1600};r(e,function(r){if(!r.toDataURL)return void n(!0);var s,o=2e5;"image/jpeg"===e.type?s=t(r,o):(s=r.toDataURL(),s.length>o&&(s=s.length>.75*r.width*r.height?t(r,o):i(r,o))),n(null,s)},s)}var r=e("loadImage");return n}),define("lib/dom-change-detector",["require","exports","lib/animation-frame"],function(e,t,i){"use strict";function n(){a=!0,i.requestAnimationFrame(r)}function r(){t.testFixture.rafSPY&&t.testFixture.rafSPY(),a=!1;for(var e in o)o[e].detectAndEnqueueEvent(),a=!0;if(a){n();for(var e in o)o[e].dispatchQueuedEvent()}}Object.defineProperty(t,"__esModule",{value:!0});var s=1,o={},a=!1;t.testFixture={},t.checkAllWatchingDetectors=r;var l=function(){function e(e,t){this.elt=e,this.cb=t,this.destroyed=!1,this.id=s.toString(),s++}return e.prototype.stopWatching=function(){delete o[this.id]},e.prototype.startWatching=function(){this.checkForChanges(),o[this.id]=this,a||n()},e.prototype.detectAndEnqueueEvent=function(){if(!this.destroyed){var e=document.body.contains(this.elt);if(e){var t=this.elt.getBoundingClientRect();this.lastSize?t.width===this.lastSize.width&&t.height===this.lastSize.height||(this.lastSize.width=t.width,this.lastSize.height=t.height,this.queuedEvent={type:"resized",target:this.elt}):(this.lastSize={width:t.width,height:t.height},this.queuedEvent={type:"added",target:this.elt})}else this.lastSize&&(this.lastSize=void 0,this.queuedEvent={type:"removed",target:this.elt})}},e.prototype.dispatchQueuedEvent=function(){var e=this.queuedEvent;e&&(this.queuedEvent=void 0,this.cb(e))},e.prototype.checkForChanges=function(){this.detectAndEnqueueEvent(),this.dispatchQueuedEvent()},e.prototype.destroy=function(){this.stopWatching();for(var e in this)this.hasOwnProperty(e)&&delete this[e];this.destroyed=!0},e}();t.default=l}),define("graphing/compute-async-screenshot-bounds",["require","console"],function(e){function t(e){var t=e.mode,n=e.width,r=e.height,s=e.currentBounds,o=e.graphpaperAspectRatio,a=e.mathAspectRatio,l=e.mathBounds,c=n/r,u={x:s.left+s.width/2,y:s.bottom+s.height/2};if(void 0===l.left!=(void 0===l.right)||void 0===l.bottom!=(void 0===l.top))return i.warn('asyncScreenshot: cannot specify "left" bound without "right" or "bottom" bound without "top". Got: '+l),s;var h,d,p,f,g,m,v,y,b,x,_=void 0!==l.left&&void 0!==l.right,w=void 0!==l.bottom&&void 0!==l.top,S=_&&w;switch(t){case"stretch":return S?l:_?{left:l.left,right:l.right,bottom:s.bottom,top:s.top}:w?{left:s.left,right:s.right,bottom:l.bottom,top:l.top}:s;case"contain":return S?(f=l.right-l.left,g=l.top-l.bottom,m={x:l.left+f/2,y:l.bottom+g/2},p=f/g,c>p?(d=g/r,h=d*a,{left:m.x-h*n/2,right:m.x+h*n/2,bottom:l.bottom,top:l.top}):(h=f/n,d=h/a,{left:l.left,right:l.right,bottom:m.y-d*r/2,top:m.y+d*r/2})):_?(v=l.right-l.left,y=l.left+v/2,p=v/s.height,c>p?(d=s.height/r,h=d*a,{left:y-h*n/2,right:y+h*n/2,bottom:s.bottom,top:s.top}):(h=v/n,d=h/a,{left:l.left,right:l.right,bottom:u.y-d*r/2,top:u.y+d*r/2})):w?(b=l.top-l.bottom,x=l.bottom+b/2,p=s.width/b,c>p?(d=b/r,h=d*a,{left:u.x-h*n/2,right:u.x+h*n/2,bottom:l.bottom,top:l.top}):(h=s.width/n,d=h/a,{left:s.left,right:s.right,bottom:x-d*r/2,top:x+d*r/2})):c>o?(d=s.height/r,h=d*a,{left:u.x-h*n/2,right:u.x+h*n/2,bottom:s.bottom,top:s.top}):(h=s.width/n,d=h/a,{left:s.left,right:s.right,bottom:u.y-d*r/2,top:u.y+d*r/2});case"preserveX":return S?(f=l.right-l.left,g=l.top-l.bottom,m={x:l.left+f/2,y:l.bottom+g/2},p=f/g,h=f/n,d=h/a,{left:l.left,right:l.right,bottom:m.y-d*r/2,top:m.y+d*r/2}):w?(b=l.top-l.bottom,x=l.bottom+b/2,p=s.width/b,h=s.width/n,d=h/a,{left:s.left,right:s.right,bottom:x-d*r/2,top:x+d*r/2}):_?(v=l.right-l.left,h=v/n,d=h/a,{left:l.left,right:l.right,bottom:u.y-d*r/2,top:u.y+d*r/2}):(v=s.right-s.left,h=v/n,d=h/a,{left:s.left,right:s.right,bottom:u.y-d*r/2,top:u.y+d*r/2});case"preserveY":return S?(f=l.right-l.left,g=l.top-l.bottom,m={x:l.left+f/2,y:l.bottom+g/2},p=f/g,d=g/r,h=d*a,{left:m.x-h*n/2,right:m.x+h*n/2,bottom:l.bottom,top:l.top}):_?(v=l.right-l.left,y=l.left+v/2,p=v/s.height,d=s.height/r,h=d*a,{left:y-h*n/2,right:y+h*n/2,bottom:s.bottom,top:s.top}):w?(b=l.top-l.bottom,d=b/r,h=d*a,{left:u.x-h*n/2,right:u.x+h*n/2,bottom:l.bottom,top:l.top}):(b=s.top-s.bottom,d=b/r,h=d*a,{left:u.x-h*n/2,right:u.x+h*n/2,bottom:s.bottom,top:s.top});default:return s}}var i=e("console");return t}),define("expressions/sanitize_expression",["require"],function(e){function t(e,t){var i={};return e.forEach(function(e){t.hasOwnProperty(e)&&(i[e]=t[e])}),i}function i(e){return{min:e.domain.min,max:e.domain.max}}function n(e){return{min:e.sliderMin,max:e.sliderMax,step:e.sliderInterval}}function r(e){var i=t(l,e);return i.columns=e.columns.map(s),i}function s(e){var i=t(c,e);return e.values&&"function"==typeof e.values.slice&&(i.values=e.values.slice()),i}function o(e){if("table"===e.type)return r(e);var s=t(a,e);return e.hasOwnProperty("domain")&&(s.domain=i(e)),e.hasOwnProperty("sliderMin")&&(s.sliderBounds=n(e)),s}var a=["type","latex","color","style","hidden","secret","id","dragMode","label","showLabel"],l=["type","id"],c=["latex","color","hidden","columnMode","dragMode"];return o}),define("submodules/dcgview/src/attr-event-handler",[],function(){function e(e,t){if(null!==t&&void 0!==t){if("string"!=typeof e)throw new Error("Must pass a string for an EventHandler name");if("function"!=typeof t)throw new Error("Must pass a function for an EventHandler callback");return{bindings:{onMount:function(i){i[e.toLowerCase()]=t}}}}}return e}),define("submodules/dcgview/src/const",["require"],function(e){function t(e){var t=function(){return e};return t.isDCGViewConst=!0,t}function i(e){return!("function"!=typeof e||!e.isDCGViewConst)}return{isConst:i,makeConst:t}}),define("submodules/dcgview/src/attr",["require"],function(e){function t(e,t,i){void 0===i?e.removeAttribute(t):e.setAttribute(t,i+"")}return{update:t}}),define("submodules/dcgview/src/attr-generic",["require","./const","./attr"],function(e){function t(e,t){var r,s=t();return i.isConst(t)||(r={onUpdate:function(i){var r=t();r!==s&&(s=r,n.update(i,e,r))}}),{value:s,bindings:r}}var i=e("./const"),n=e("./attr");return t}),define("submodules/dcgview/src/is-event-handler",[],function(){function e(e){return"o"===e[0]&&"n"===e[1]&&e[2].toUpperCase()===e[2]}return e}),define("submodules/dcgview/src/custom-attributes",["require"],function(e){function t(e,t){r[e]=t}function i(e){return r.hasOwnProperty(e)}function n(e,t){var i=r[e];return i(t)}var r={};return{isCustomAttribute:i,add:t,parse:n}}),define("submodules/dcgview/src/bindings",["require"],function(e){function t(e,t,i){var n=e._bindings[t];n?n.push(i):e._bindings[t]=[i]}function i(e,t){var i=e._bindings[t];if(i)for(var n=i.length,r=0;r<n;r++)i[r]()}return{add:t,invoke:i}}),define("submodules/dcgview/src/bind-attrs",["require","./attr-event-handler","./attr-generic","./is-event-handler","./custom-attributes","./bindings"],function(e){function t(e,t,i){var n=i.bindings;if(n)for(var r in n){var s=n[r];r in c&&(s=s.bind(null,t)),l.add(e,r,s)}}function i(e,t){if("function"!=typeof t)throw new Error('The "'+e+'" attr must be a function. It is: '+JSON.stringify(t));return a.isCustomAttribute(e)?a.parse(e,t):o(e)?r(e,t):s(e,t)}function n(e,n,r){if(n)for(var s in n){var o=i(s,n[s]);if(o){var a=o.value;void 0!==a&&r.setAttribute(s,a),o.bindings&&t(e,r,o)}}}var r=e("./attr-event-handler"),s=e("./attr-generic"),o=e("./is-event-handler"),a=e("./custom-attributes"),l=e("./bindings"),c={onMount:!0,didMount:!0,willUnmount:!0,willUpdate:!0,onUpdate:!0,didUpdate:!0};return n}),define("submodules/dcgview/src/bind-text",["require","./bindings"],function(e){function t(){r=!0}function i(e,t,i){if("function"!=typeof i)throw new Error("bindText expects a function");var s=i();void 0!==s&&null!==s||(s="");var o=document.createTextNode(s);if(r){var a=document.createElement("span");a.appendChild(o),t.appendChild(a)}else t.appendChild(o);n.add(e,"onUpdate",function(){var e=i();void 0!==e&&null!==e||(e=""),s!==e&&(o.nodeValue=e,s=e)})}var n=e("./bindings"),r=!1;return{bindText:i,enableSpanWrapping:t}}),define("submodules/dcgview/src/warnings",["require"],function(e){function t(e){r.push(e)}function i(e){var t=r;r=[];for(var i=0;i<t.length;i++){var n=t[i];n!==e&&r.push(n)}}function n(e){try{throw new Error(e)}catch(e){console.warn(e);for(var t=0;t<r.length;t++)r[t](e)}}var r=[];return{warn:n,addWarningHandler:t,removeWarningHandler:i}}),define("submodules/dcgview/src/dcg-element",["require","./bind-attrs","./bind-text","./const","./warnings"],function(e){function t(e,t){var i=document.createTextNode(t);e.appendChild(i);
    }function i(e,t,i){this.tagName=e,this.attrs=t,this.children=i}var n=e("./bind-attrs"),r=e("./bind-text").bindText,s=e("./const"),o=e("./warnings");return i.prototype._isDCGElement=!0,i.prototype.renderToDocFrag=function(e,i){if(this._domNode)throw new Error("Cannot remount a DCGElement");var a=this.children,l=document.createElement(this.tagName);this._domNode=l,n(i,this.attrs,l),e.appendChild(l);for(var c=a.length,u=0;u<c;u++){var h=a[u];h._isDCGElement?h.renderToDocFrag(l,i):s.isConst(h)?t(l,h()):"function"==typeof h?r(i,l,h):(o.warn("Text should be a const or a getter: "+JSON.stringify(h)),t(l,h))}},i}),define("submodules/dcgview/src/create-element",["require","./dcg-element"],function(e){function t(e,i){if(null!==e&&void 0!==e)if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n],i);else i.push(e)}function i(e,i){for(var r=[],s=arguments.length-1,o=2;o<=s;o++)t(arguments[o],r);if("string"==typeof e)return new n(e,i,r);if(e&&e._isDCGViewClass)return new e(i,r);throw new Error("createElement expects a String or DCGViewClass")}var n=e("./dcg-element");return i}),define("submodules/dcgview/src/mounting",["require","./bindings"],function(e){function t(){for(var e=this._element;e._isDCGView;)e=e._element;return e._domNode}function i(e,t){if(t&&t._childViews.push(this),this.__generatedHTMLBefore)throw new Error("Cannot remount a DCGView");this.__generatedHTMLBefore=!0,this._element.renderToDocFrag(e,this)}function n(e,t,i){if(!e||!e._isDCGViewClass)throw new Error("Must pass a DCGView class to be mounted");if(!t||1!==t.nodeType)throw new Error("Must pass an HTMLElement for the node");if(t._mountedDCGView)throw new Error("This node is already mounted by a view");var n=new e(i),r=document.createDocumentFragment();return n.renderToDocFrag(r),t.innerHTML="",s(n),t._mountedDCGView=n,t.appendChild(r),o(n),a(n),n}function r(e){var t=e._mountedDCGView;if(!t)throw new Error("This node is not mounted by a DCGView");l(t),e.innerHTML="",delete e._mountedDCGView,c(t),u(t)}function s(e){e.willMount&&e.willMount(),d.invoke(e,"willMount"),e._childViews.forEach(s)}function o(e){e._isMounted=!0,e.onMount&&e.onMount(),d.invoke(e,"onMount"),e._childViews.forEach(o)}function a(e){e.didMount&&e.didMount(),d.invoke(e,"didMount"),e._childViews.forEach(a)}function l(e){e.willUnmount&&e.willUnmount(),d.invoke(e,"willUnmount"),e._childViews.forEach(l)}function c(e){e._isMounted=!1,e._childViews.forEach(c),d.invoke(e,"onUnmount"),e.onUnmount&&e.onUnmount()}function u(e){e._childViews.forEach(u),d.invoke(e,"didUnmount"),e.didUnmount&&e.didUnmount()}function h(e,t){var i=document.createDocumentFragment();return e.renderToDocFrag(i,t),i.firstChild}var d=e("./bindings");return{renderToDocFrag:i,findRootNode:t,createNodeForView:h,willMount:s,onMount:o,didMount:a,willUnmount:l,onUnmount:c,didUnmount:u,mountToNode:n,unmountFromNode:r}}),define("submodules/dcgview/src/update",["require","./bindings","./warnings"],function(e){function t(){if(!this._isMounted)return n.warn("Trying to update view that is not mounted. Ignoring update.");if(!this.shouldUpdate||this.shouldUpdate()){if(this.willUpdate&&this.willUpdate(),i.invoke(this,"willUpdate"),i.invoke(this,"onUpdate"),this.onUpdate&&this.onUpdate(),this.overrideChildUpdates)this.overrideChildUpdates();else for(var e=this._childViews,t=e.length,r=0;r<t;r++)e[r].update();i.invoke(this,"didUpdate"),this.didUpdate&&this.didUpdate()}}var i=e("./bindings"),n=e("./warnings");return{update:t}}),define("submodules/dcgview/src/spread",["require"],function(e){function t(e){var t=arguments.length;if(t<2)return e;for(var i=1;i<t;i++)for(var n=arguments[i],r=Object.keys(n),s=r.length,o=0;o<s;o++){var a=r[o];e[a]=n[a]}return e}return t}),define("submodules/dcgview/src/create-class",["require","./create-element","./mounting","./update","./const","./spread"],function(e){function t(e){if(!e)throw new Error("must pass a spec to DCGView.createClass");if("function"!=typeof e.template)throw new Error("must pass a template function to DCGView.createClass");var t=function(e,t){this._setupProps(e,t),this.init&&this.init(),this._callTemplate()};t.prototype._setupProps=function(e,t){if(this.p={},e){for(var i in e){var n=e[i];if("function"!=typeof n)throw new Error('The "'+i+'" prop must be a function. It is: '+JSON.stringify(n));Object.defineProperty(this.p,i,{get:n})}this.props=e}else this.props={};this.children=t,this._childViews=[],this._bindings={}},t.prototype._callTemplate=function(){if(this._element=this.template(),!this._element||!this._element._isDCGElement)throw new Error("template() must return a DCGElement")},t.prototype.bindFn=function(e){return e.bind(this)},t.prototype.findRootNode=n.findRootNode,t.prototype.renderToDocFrag=n.renderToDocFrag,t.prototype.const=s.makeConst,t.prototype.spread=o,t.prototype.createElement=i,t.prototype.update=r.update;for(var a in e)if(e.hasOwnProperty(a)){if(t.prototype.hasOwnProperty(a))throw new Error("Cannot override the "+a+"() method");t.prototype[a]=e[a]}return t._isDCGViewClass=!0,t.prototype._isDCGView=!0,t.prototype._isDCGElement=!0,t}var i=e("./create-element"),n=e("./mounting"),r=e("./update"),s=e("./const"),o=e("./spread");return t}),define("submodules/dcgview/src/attr-style",["require","./const","./attr"],function(e){function t(e){var t=e(),i=typeof t;if("string"===i)return t;if(!i||"object"!==i)throw new Error("Unsupported type returned from style getter: "+i);var n="";for(var r in t){var s=t[r];t.hasOwnProperty(r)&&null!==s&&void 0!==s&&(n?n+=";"+r+":"+s:n=r+":"+s)}return n}function i(e){var i,s=t(e);return n.isConst(e)||(i={onUpdate:function(i){var n=t(e);s!==n&&(r.update(i,"style",n),s=n)}}),{value:s,bindings:i}}var n=e("./const"),r=e("./attr");return i}),define("submodules/dcgview/src/attr-class",["require","./const"],function(e){function t(e){var t=e(),i=typeof t;if("string"===i)return t;if(!i||"object"!==i)throw new Error("Unsupported type returned from class getter: "+i);var n="";for(var r in t)if(t.hasOwnProperty(r)){var s=t[r];s&&(n?n+=" "+r:n=r)}return n}function i(e,t,i){for(var n=[],r=e.className.replace(s,"").split(o),a=t.replace(s,"").split(o),l={},c=a.length-1;c>=0;c--)l[a[c]]=!0;var u=r.length;for(c=0;c<u;c++){var h=r[c];l.hasOwnProperty(h)||n.push(h)}return i?n.length?i+" "+n.join(" "):i:n.join(" ")}function n(e){var n,s=t(e);return r.isConst(e)||(n={onUpdate:function(n){var r=t(e);s!==r&&(n.className===s?(n.className=r,s=r):(n.className=i(n,s,r),s=r))}}),{value:s,bindings:n}}var r=e("./const"),s=/^\s+|\s+$/g,o=/\s+/;return n}),define("submodules/dcgview/src/attr-lifecycle",["require","./const"],function(e){function t(e){return function(t){if("function"!=typeof t)throw new Error("The "+e+" attribute expects a function for the value");if(i.isConst(t))throw new Error("The "+e+" attribute does not expect a const for the value");var n={bindings:{}};return n.bindings[e]=t,n}}var i=e("./const");return t}),define("submodules/dcgview/src/longest-subsequence",["require"],function(e){return function(e){var t,i,n=e.length,r=new Array(n),s=new Array(n+1),o=0;for(i=0;i<n;i++){if(e[s[o]]<e[i])t=o+1;else{for(var a=1,l=o-1;a<=l;){var c=Math.ceil((a+l)/2);e[s[c]]<e[i]?a=c+1:l=c-1}t=a}r[i]=s[t-1],s[t]=i,t>o&&(o=t)}var u=new Array(o),h=s[o];for(i=o-1;i>=0;i--)u[i]=e[h],h=r[h];return u}}),define("submodules/dcgview/src/compute-key-mutations",["require","./longest-subsequence"],function(e){function t(e,t){var n,r,s={},o=[],a=[];for(n=0;n<t.length;n++)r=t[n],s[r]=n;for(n=0;n<e.length;n++)r=e[n],void 0===s[r]&&o.push(r);var l=[];for(n=0;n<e.length;n++){r=e[n];var c=s[r];void 0!==c&&l.push(c)}var u=i(l),h={};for(n=0;n<u.length;n++)r=t[u[n]],h[r]=!0;for(n=t.length-1;n>=0;n--)r=t[n],h[r]||a.push({key:r,beforeKey:t[n+1]});return{removes:o,inserts:a}}var i=e("./longest-subsequence");return t}),define("submodules/dcgview/src/for",["require","./create-class","./compute-key-mutations","./const","./mounting"],function(e){var t=e("./create-class"),i=e("./compute-key-mutations"),n=e("./const"),r=e("./mounting"),s=t({template:function(){return this.children[0]}}),o=t({_isDCGFor:!0,getKeys:function(){this._keyToItem={};var e=this.props.each();if(!Array.isArray(e))throw new Error("<For each={}> must return an array");var t=this.props.key?e.map(this.props.key):e.slice(0);if(!this._chosenKeyType&&t.length&&(this._chosenKeyType=typeof t[0],"string"!==this._chosenKeyType&&"number"!==this._chosenKeyType))throw new Error("The key: "+JSON.stringify(t[0])+" is not a string or number");for(var i=0;i<t.length;i++){var n=t[i];if(typeof n!==this._chosenKeyType)throw new Error("Keys must be the same type. "+JSON.stringify(n)+" is not a "+this._chosenKeyType);if(n in this._keyToItem)throw new Error("The key: "+JSON.stringify(n)+" is not unique");this._keyToItem[n]=e[i]}return t},createViewForKey:function(e){var t=this._keyToItem[e],i=this._viewFunction.call(this,t,e),n=i;return n._isDCGView||(n=this.createElement(s,null,i)),this._keyToView[e]=n,n},template:function(){if(this._keyToView={},"function"!=typeof this.props.each)throw new Error("<For each={}> must be a function");if(1!==this.children.length)throw new Error("<For> expects a single child. You passed "+this.children.length);var e=this.children[0];if(!e||!e._isDCGElement)throw new Error("<For> expects the root node to be a DCGElement. You passed "+JSON.stringify(e));if(e._isDCGView)throw new Error("<For> expects the root node to not be a DCGView. Pass in something like <div> or <span>");if(1!==e.children.length)throw new Error("<For> expects a root node with a single child. You passed "+e.children.length);if(this._viewFunction=e.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<For> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var t=JSON.stringify(this._viewFunction);throw new Error("<For> expects a function that constructs a DCGElement. You passed "+t)}if(n.isConst(this._viewFunction))throw new Error("<For> expects a function that constructs a DCGElement. You passed a constant");this._keys=this.getKeys();for(var i=[],r=0;r<this._keys.length;r++){var s=this._keys[r];i.push(this.createViewForKey(s))}return e.children=i,e},detachAllRemovedViews:function(){for(var e,t=this._childViews,i=0,n=t.length,r=0;r<n;r++)e=t[r],e._will_be_unmounted_?i++:t[r-i]=e;t.splice(n-i,i)},overrideChildUpdates:function(){var e=this._keys,t=this.getKeys();this._keys=t;var n,s,o,a,l,c,u=this.findRootNode(),h=i(e,t),d=[];for(n=h.removes.length-1;n>=0;n--)c=h.removes[n],d.push(this._keyToView[c]);for(d.forEach(r.willUnmount),n=0;n<h.removes.length;n++)c=h.removes[n],s=this._keyToView[c],delete this._keyToView[c],s._will_be_unmounted_=!0,u.removeChild(s.findRootNode());d.length>0&&this.detachAllRemovedViews(),d.forEach(r.onUnmount),d.forEach(r.didUnmount);var p=[];for(n=h.inserts.length-1;n>=0;n--)c=h.inserts[n].key,c in this._keyToView||(s=this.createViewForKey(c),p.push(s),r.createNodeForView(s,this));for(p.forEach(r.willMount),n=0;n<h.inserts.length;n++)l=h.inserts[n],o=this._keyToView[l.key].findRootNode(),a=void 0!==l.beforeKey?this._keyToView[l.beforeKey].findRootNode():null,u.insertBefore(o,a);p.forEach(r.onMount),p.forEach(r.didMount);var f=this._childViews,g=f.length-p.length;for(n=0;n<g;n++)f[n].update()}});return o}),define("submodules/dcgview/src/switch",["require","./create-class","./const","./mounting"],function(e){var t=e("./create-class"),i=e("./const"),n=e("./mounting"),r=t({template:function(){return this.children[0]}}),s=t({_isDCGSwitch:!0,updateKey:function(){this._key=this.props.key()},createView:function(){var e=this._viewFunction(this._key);return null!==e&&void 0!==e||(e=this.createElement("div",{style:this.const("display: none")})),this.createElement(r,null,e)},template:function(){if(this._key=void 0,"function"!=typeof this.props.key)throw new Error("<Switch key={}> must be a function");if(1!==this.children.length)throw new Error("<Switch> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var e=JSON.stringify(this._viewFunction);throw new Error("<Switch> expects a function that constructs a DCGElement. You passed "+e)}if(i.isConst(this._viewFunction))throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a constant");return this.updateKey(),this.createView()},overrideChildUpdates:function(){var e=this._key;this.updateKey();var t=this._key;if(e===t)this._element.update();else{var i=this.findRootNode(),r=document.createTextNode("");i.parentNode.insertBefore(r,i),n.willUnmount(this._element),this._childViews=[],i.parentNode.removeChild(i),n.onUnmount(this._element),n.didUnmount(this._element),this._element=this.createView();var s=n.createNodeForView(this._element,this);n.willMount(this._element),r.parentNode.insertBefore(s,r),r.parentNode.removeChild(r),n.onMount(this._element),n.didMount(this._element)}}});return s}),define("submodules/dcgview/src/if",["require","./create-class","./const","./switch"],function(e){var t=e("./create-class"),i=e("./const"),n=e("./switch"),r=t({_isDCGIf:!0,template:function(){if("function"!=typeof this.props.predicate)throw new Error("<If predicate={}> must be a function");if(1!==this.children.length)throw new Error("<If> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<If> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var e=JSON.stringify(this._viewFunction);throw new Error("<If> expects a function that constructs a DCGElement. You passed "+e)}if(i.isConst(this._viewFunction))throw new Error("<If> expects a function that constructs a DCGElement. You passed a constant");var t=function(){return!!this.props.predicate()}.bind(this),r=function(e){if(e)return this._viewFunction()}.bind(this);return this.createElement(n,{key:t},r)}});return r}),define("submodules/dcgview/src/textarea",["require","./create-class","./spread"],function(e){var t=e("./create-class"),i=e("./spread");return t({computeValue:function(){var e=this.props.value();return null===e||void 0===e?"":e+""},template:function(){if(!this.props.value)throw new Error('<Textarea> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Textarea> expects an "onInput={}" prop');var e=i({},this.props,{onInput:function(e){this.props.onInput(e.target.value),this.update()}.bind(this)});return delete e.value,this.createElement("textarea",e,this.const(this.computeValue()))},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeValue();this.rootDOM.value!==e&&(this.rootDOM.value=e)}})}),define("submodules/dcgview/src/input",["require","./create-class","./spread"],function(e){var t=e("./create-class"),i=e("./spread");return t({computeValue:function(){var e=this.props.value();return null===e||void 0===e?"":e+""},template:function(){if(!this.props.value)throw new Error('<Input> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Input> expects an "onInput={}" prop');var e=i({},this.props,{value:this.const(this.computeValue()),onInput:function(e){this.props.onInput(e.target.value),this.update()}.bind(this)});return this.createElement("input",e)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeValue();this.rootDOM.value!==e&&(this.rootDOM.value=e)}})}),define("submodules/dcgview/src/checkbox",["require","./create-class","./spread"],function(e){var t=e("./create-class"),i=e("./spread");return t({computeChecked:function(){return!!this.props.checked()},template:function(){if(!this.props.checked)throw new Error('<Checkbox> expects a "checked={}" prop');if(!this.props.onChange)throw new Error('<Checkbox> expects an "onChange={}" prop');var e=i({},this.props,{type:this.const("checkbox"),checked:this.const(this.computeChecked()?"checked":void 0),onChange:function(e){this.props.onChange(e.target.checked),this.update()}.bind(this)});return this.createElement("input",e)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeChecked();this.rootDOM.checked!==e&&(this.rootDOM.checked=e)}})}),define("submodules/dcgview/src/components",["require","./for","./switch","./if","./textarea","./input","./checkbox"],function(e){var t=e("./for"),i=e("./switch"),n=e("./if"),r=e("./textarea"),s=e("./input"),o=e("./checkbox");return{For:t,Switch:i,If:n,Textarea:r,Input:s,Checkbox:o}}),define("submodules/dcgview/src/class",["require","./create-class"],function(e){var t=e("./create-class");return t({template:function(){}})}),define("submodules/dcgview/src/dcg-view",["require","./create-element","./create-class","./mounting","./spread","./const","./custom-attributes","./attr-style","./attr-class","./attr-lifecycle","./components","./warnings","./bind-text","./class"],function(e){var t=e("./create-element"),i=e("./create-class"),n=e("./mounting"),r=e("./spread"),s=e("./const"),o=e("./custom-attributes"),a=e("./attr-style"),l=e("./attr-class"),c=e("./attr-lifecycle"),u=e("./components"),h=e("./warnings"),d=e("./bind-text").enableSpanWrapping,p=e("./class"),f={createElement:t,createClass:i,mountToNode:n.mountToNode,unmountFromNode:n.unmountFromNode,spread:r,const:s.makeConst,addCustomAttribute:o.add,Components:u,addWarningHandler:h.addWarningHandler,removeWarningHandler:h.removeWarningHandler,enableSpanWrapping:d,Class:p};return f.addCustomAttribute("style",a),f.addCustomAttribute("class",l),f.addCustomAttribute("willMount",c("willMount")),f.addCustomAttribute("onMount",c("onMount")),f.addCustomAttribute("didMount",c("didMount")),f.addCustomAttribute("willUnmount",c("willUnmount")),f.addCustomAttribute("onUnmount",c("onUnmount")),f.addCustomAttribute("didUnmount",c("didUnmount")),f.addCustomAttribute("willUpdate",c("willUpdate")),f.addCustomAttribute("onUpdate",c("onUpdate")),f.addCustomAttribute("didUpdate",c("didUpdate")),f}),define("submodules/dcgview/dcgview",["require","./src/dcg-view"],function(e){return e("./src/dcg-view")}),define("loadcss!dcgview-shim",function(){}),function(){define("dcgview",["require","jquery","submodules/dcgview/dcgview","loadcss!dcgview-shim"],function(e){var t,i,n;return t=e("jquery"),i=e("submodules/dcgview/dcgview"),e("loadcss!dcgview-shim"),i.addWarningHandler(function(e){return"undefined"!=typeof Bugsnag&&null!==Bugsnag?Bugsnag.notifyException(e,"DCGViewWarning"):void 0}),n=[],i.onUrlChange=function(e){return n.push(e)},i.addCustomAttribute("href",function(e){return{value:""+e(),bindings:{onMount:function(i){var r;if(!t(i).is("a")&&!t(i).is("use"))throw new Error("Cannot have an href on a non-link element.");return r=!1,t(i).on("dcg-tap",function(t){var i,s;if(!t.metaKey&&(r=!1,i=e(),s=_.any(n.map(function(e){return e(i,t)}))))return r=!0}),t(i).on("click",function(e){if(r)return r=!1,e.preventDefault()})}}}}),i.addCustomAttribute("onTap",function(e){return{value:"",bindings:{onMount:function(i){return t(i).on("dcg-tap",e)}}}}),i.addCustomAttribute("ignoreRealClick",function(e){return{bindings:{onMount:function(i){return t(i).on("click",function(t){if(e())return t.preventDefault()})}}}}),i.addCustomAttribute("onTapStart",function(e){return{bindings:{onMount:function(i){return t(i).on("dcg-tapstart",e)}}}}),i.addCustomAttribute("onTapMove",function(e){return{bindings:{onMount:function(i){return t(i).on("dcg-tapmove",e)}}}}),i.addCustomAttribute("onTapEnd",function(e){return{bindings:{onMount:function(i){return t(i).on("dcg-tapend",e)}}}}),i.addCustomAttribute("onLongHold",function(e){return{bindings:{onMount:function(i){return t(i).on("dcg-longhold",e)}}}}),i})}.call(this),define("api/abstract",["require","exports","underscore_model","ipad.scrollfix","touchtracking","lib/dom-change-detector"],function(e,t,i,n,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){if(this.rootElt=e,this.eventModel=new i,!e)throw new Error("must pass an HTMLElement to the API")}return e.prototype.setupDomChangeDetector=function(e){var t=this;this.autoSize=e,r.monitor(this.rootElt),n.limitScrollOnElement(this.rootElt),this.domChangeDetector=new s.default(this.rootElt,function(e){switch(e.type){case"added":t.view=t.onCreateView(),t.onResizeView();break;case"removed":t.onDestroyView(),t.view=void 0;break;case"resized":t.onResizeView()}}),this.autoSize!==!1?this.domChangeDetector.startWatching():this.domChangeDetector.checkForChanges()},e.prototype.detach=function(){console.warn(".detach() is deprecated. It should no longer be necessary")},e.prototype.destroy=function(){function e(e){console.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}this.view&&this.onDestroyView(),this.domChangeDetector.destroy();for(var t in this)"function"==typeof this[t]?this[t]=e.bind(this,t):this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}},e.prototype.resize=function(){this.domChangeDetector.checkForChanges()},e.prototype.updateView=function(){this.view&&document.body.contains(this.rootElt)&&this.view.update()},e.prototype.triggerEvent=function(e){this.eventModel.triggerEvent(e)},e.prototype.observeEvent=function(e,t){this.eventModel.observeEvent(e,t)},e.prototype.unobserveEvent=function(e){this.eventModel.unobserveEvent(e)},e}();t.default=o}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("flux",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Flux=e()}}(function(){return function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return r(i?i:e)},u,u.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){t.exports.Dispatcher=e("./lib/Dispatcher")},{"./lib/Dispatcher":2}],2:[function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=e("./invariant"),s="ID_",o=function(){function e(){n(this,e),this._lastID=1,this._callbacks={},this._isPending={},this._isHandled={},this._isDispatching=!1,this._pendingPayload=null}return e.prototype.register=function(e){var t=s+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){r(this._callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this._callbacks[e]},e.prototype.waitFor=function(e){r(this._isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var i=e[t];this._isPending[i]?r(this._isHandled[i],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",i):(r(this._callbacks[i],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",i),this._invokeCallback(i))}},e.prototype.dispatch=function(e){r(!this._isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){this._pendingPayload=null,this._isDispatching=!1},e}();t.exports=o},{"./invariant":3}],3:[function(e,t,i){var n=function(e,t,i,n,r,s,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[i,n,r,s,o,a],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};t.exports=n},{}]},{},[1])(1)}),define("immutable-store",["require","underscore","lib/deepCopy"],function(e){function t(e){return n.clone(e)}function i(e){this.setState(e)}var n=e("underscore"),r=e("lib/deepCopy").default;return i.prototype.setState=function(e){this.state=e},i.prototype.getState=function(){return this.state},i.prototype.set=function(e,i){if(1===arguments.length)return void(this.state=e);if("string"==typeof e)return this.state=t(this.state),void(this.state[e]=i);var n,r=e.length-2,s=e[r+1];this.state=n=t(this.state);for(var o=0;o<=r;o++){var a=e[o];n=n[a]=t(n[a])}n[s]=i},i.prototype.deepMutate=function(e,i){if(1===arguments.length)return i=e,this.state=r(this.state),void i(this.state);if("string"==typeof e)return this.state=t(this.state),this.state[e]=r(this.state[e]),void i(this.state[e]);for(var n=e.length-2,s=e[n+1],o=this.state=t(this.state),a=0;a<=n;a++){var l=e[a];o=o[l]=t(o[l])}o=o[s]=r(o[s]),i(o)},i.prototype.shallowMutate=function(e,i){if(1===arguments.length)return i=e,this.state=t(this.state),void i(this.state);if("string"==typeof e)return this.state=t(this.state),this.state[e]=t(this.state[e]),void i(this.state[e]);for(var n=e.length-1,r=this.state=t(this.state),s=0;s<=n;s++){var o=e[s];r=r[o]=t(r[o])}i(r)},i.areShallowEqual=function(e,t){},i.areDeepEqual=function(e,t){},{default:i}}),define("basic/model",["require","exports","undoredo","main/evaluator","tslib","immutable-store","main/shared-clock-bus"],function(e,t,i,n,r,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){var t=e.evaluationMode,i=e.functionDefinition,n=e.workerPool,r=e.braille,a=this;this._onlyLastExpressionIsEditable=!1,this._evaluations={},this._nextObjectId=0,this.store=new s.default({expressions:{1:{id:"1",latex:"",braille:"",type:"latex"}},order:["1"],settings:{degreeMode:!1},ui:{focus:void 0}}),this.evaluationMode=t,this.functionDefinition=i,this.workerPool=n,this.braille=r,this._setupEvaluator(),this.clear(),"neuteredScientific"===this.evaluationMode&&(this._onlyLastExpressionIsEditable=!0),this._sharedClockBusToken=o.subscribe(function(e){a._evaluator.tick(e)})}return e.prototype.destroy=function(){o.unsubscribe(this._sharedClockBusToken)},e.prototype.generateObjectId=function(){return(this._nextObjectId++).toString()},e.prototype.updateNextObjectId=function(){var e=this.store.getState().order;this._nextObjectId=0;for(var t=/^[0-9]+$/,i=0,n=e;i<n.length;i++){var r=n[i];if(t.test(r)){var s=parseInt(r,10);s>=this._nextObjectId&&(this._nextObjectId=s+1)}}},e.prototype.clearShouldDebounceUndoRedo=function(){this._shouldDebounceUndoRedo=!1},e.prototype.markShouldDebounceUndoRedo=function(){this._shouldDebounceUndoRedo=!0},e.prototype.getShouldDebounceUndoRedo=function(){return this._shouldDebounceUndoRedo},e.prototype.clearCachedBrailleValues=function(){for(var e=0,t=this.getExpressionOrder();e<t.length;e++){var i=t[e];this.store.set(["expressions",i,"braille"],"")}},e.prototype.getState=function(){return this.store.getState()},e.prototype.getPersistedState=function(){var e=this.getState(),t=e.expressions,i=e.order,n=e.settings;return{expressions:{list:i.map(function(e){var i=t[e];return{id:i.id,latex:i.latex}})},settings:n}},e.prototype.setState=function(e){this.store.set(e),this._updateIndexes(),this.updateNextObjectId()},e.prototype.setStateFromAPI=function(e){var t=[],i={};e.expressions.list.forEach(function(e){t.push(e.id),i[e.id]={id:e.id,latex:e.latex,braille:"",type:"latex"}}),this.setState({expressions:i,order:t,settings:e.settings,ui:{focus:void 0}})},e.prototype.canClear=function(){if(this.getNumberOfExpressions()>1)return!0;var e=this.getExpressionOrder()[0];return""!==this.getExpressionLatex(e)},e.prototype.clear=function(){this.setState({expressions:{1:{id:"1",type:"latex",latex:"",braille:""}},ui:{focus:void 0},order:["1"],settings:this.getState().settings})},e.prototype.getExpressionOrder=function(){return this.store.getState().order},e.prototype.getNumberOfExpressions=function(){return this.getExpressionOrder().length},e.prototype.getExpressionById=function(e){return this.getState().expressions[e]},e.prototype.getExpressionIndex=function(e){return this._indexes[e]},e.prototype._getExpressionByIndex=function(e){var t=this.getExpressionOrder()[e];return this.getExpressionById(t)},e.prototype._updateIndexes=function(){this._indexes={};for(var e=0,t=0,i=this.getExpressionOrder();t<i.length;t++){var n=i[t];this._indexes[n]=e,e+=1}this._evaluate()},e.prototype._usesAnsById=function(e){return this.getExpressionById(e).latex.indexOf("\\operatorname{ans}")!==-1},e.prototype._getPreviousExpById=function(e){var t=this.getExpressionIndex(e);return this._getExpressionByIndex(t-1)},e.prototype.createBlankAfterId=function(e){if(this.getExpressionById(e).latex){var t=this.getExpressionIndex(e),i=this.generateObjectId();this.store.shallowMutate("order",function(e){e.splice(t+1,0,i)}),this.store.shallowMutate("expressions",function(e){e[i]={id:i,latex:"",braille:"",type:"latex"}}),this._updateIndexes(),this.setFocusedById(i,!0)}},e.prototype.conditionallyCopyPrevious=function(e){var t=this._getPreviousExpById(e),i=this.getExpressionById(e);null!=t&&""===i.latex&&this._usesAnsById(t.id)&&this.setLatexById(e,t.latex)},e.prototype.backspaceAtFrontOfId=function(e){if(!this._onlyLastExpressionIsEditable){var t=this.getExpressionById(e);if(""===t.latex&&1!==this.getNumberOfExpressions()){var i=this.getExpressionIndex(e);this.store.shallowMutate("order",function(e){e.splice(i,1)}),this.store.shallowMutate("expressions",function(t){delete t[e]}),this._updateIndexes(),this._setFocusedByIndex(Math.max(i-1,0),!0)}}},e.prototype.setLatexById=function(e,t){this.store.set(["expressions",e,"latex"],t),this.store.set(["expressions",e,"braille"],""),this._evaluate()},e.prototype.setLatexAndBrailleById=function(e,t,i){this.store.set(["expressions",e,"latex"],t),this.store.set(["expressions",e,"braille"],i),this._evaluate()},e.prototype.setLatexOfFocusedExpression=function(e){var t=this.getFocusedExpressionId();t&&this.setLatexById(t,e)},e.prototype.isExpressionReadonly=function(e){var t=this.getNumberOfExpressions();if(this._onlyLastExpressionIsEditable){var i=this.getExpressionIndex(e);return i<t-1}return!1},e.prototype.isExpressionFocused=function(e){return this.getFocusedExpressionId()===e},e.prototype.getExpressionLatex=function(e){return this.getExpressionById(e).latex},e.prototype.getExpressionError=function(e){var t=this._evaluations[e];return t?t.error:""},e.prototype.getExpressionValue=function(e){var t=this._evaluations[e];if(t)return t.value},e.prototype.getExpressionAns=function(e){var t=this._evaluations[e];if(t)return t.ans},e.prototype.shouldShowEvaluationForExpression=function(e){var t=this._evaluations[e];return!!t&&t.showEvaluation},e.prototype._setFocusedByIndex=function(e,t){var i=this._getExpressionByIndex(e);if(!t||!this.isExpressionReadonly(i.id)){var n,s=r.__assign({},this.store.getState()),o=!1;t?(n={type:"latex-expression",id:i.id},o=!0):this.getFocusedExpressionId()===i.id?(n=void 0,o=!0):s.expressions[i.id]=r.__assign({},i,{braille:""}),o&&(s.ui={focus:n}),this.store.set(s)}},e.prototype.setFocusedById=function(e,t){var i=this.getExpressionIndex(e);this._setFocusedByIndex(i,t)},e.prototype.focusPrevById=function(e){var t=this.getExpressionIndex(e)-1;t>=0&&this._setFocusedByIndex(t,!0)},e.prototype.focusNextById=function(e){var t=this.getExpressionIndex(e)+1;t<this.getNumberOfExpressions()?this._setFocusedByIndex(t,!0):this.createAtEnd()},e.prototype.getFocusedExpression=function(){
    var e=this.getFocusedExpressionId();return e?this.getExpressionById(e):void 0},e.prototype.getFocusedExpressionId=function(){var e=this.getState().ui.focus;return e&&e.id},e.prototype.clearFocusedExpression=function(){var e=this.getFocusedExpression();e&&this.setLatexById(e.id,"")},e.prototype.shouldShowClear=function(){if(1===this.getNumberOfExpressions())return!1;var e=this.getFocusedExpression();return!!e&&!!e.latex},e.prototype.getLastExpression=function(){return this._getExpressionByIndex(this.getNumberOfExpressions()-1)},e.prototype.isLastExpressionEmpty=function(){return!!this.getLastExpression().latex},e.prototype.createAtEnd=function(){this.createBlankAfterId(this.getLastExpression().id)},e.prototype.focusLastExpression=function(){this._setFocusedByIndex(this.getNumberOfExpressions()-1,!0)},e.prototype.focusFirstExpression=function(){this._setFocusedByIndex(0,!0)},e.prototype.getDegreeMode=function(){return this.getState().settings.degreeMode},e.prototype.setDegreeMode=function(e){this.store.set(["settings","degreeMode"],!!e),this._evaluate()},e.prototype._cleanupLatex=function(e){return e=e.trim(),"="===e.substr(e.length-1)&&(e=e.substr(0,e.length-1)),e},e.prototype._evaluate=function(){var e=this;this.getExpressionOrder().forEach(function(t){return e._evaluator.addStatement({id:t,index:e.getExpressionIndex(t),latex:e._cleanupLatex(e.getExpressionLatex(t)),shouldGraph:!1,type:"statement"})}),this._evaluator.setDegreeMode(this.getDegreeMode()),this._evaluator.markAsCompleteState()},e.prototype._setupEvaluator=function(){var e=this;this._evaluator=n(this.workerPool,new i),this._evaluator.setEvaluationMode(this.evaluationMode),this._evaluator.setFunctionDefinition(this.functionDefinition),this._evaluator.triggerStatusChange=function(t){e._evaluations={};for(var i in t){var n=t[i],r=e.getExpressionById(i);r&&(e._evaluations[i]={value:n.constant_value,showEvaluation:!!n.is_evaluable,error:n.error,ans:void 0})}for(var s=void 0,o=0,a=e.getExpressionOrder();o<a.length;o++){var i=a[o],l=e._evaluations[i];s&&l&&(l.ans=s.value),s=l}"function"==typeof e.onEvaluationUpdate&&e.onEvaluationUpdate()}},e}();t.default=a}),define("lib/state-stack",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.clear()}return e.prototype.clear=function(){this._stack=[],this._stackPointer=-1},e.prototype.getState=function(){return this._stack[this._stackPointer]},e.prototype.addState=function(e){this.canRedo()&&this._stack.splice(this._stackPointer+1),this._stack.push(e),this._stackPointer=this._stack.length-1},e.prototype.replaceState=function(e){this.canRedo()&&this._stack.splice(this._stackPointer+1),0===this._stack.length?(this._stack.push(e),this._stackPointer=0):this._stack[this._stackPointer]=e},e.prototype.canUndo=function(){return this._stackPointer>0},e.prototype.canRedo=function(){return this._stackPointer<this._stack.length-1},e.prototype.undo=function(){this.canUndo()&&(this._stackPointer-=1)},e.prototype.redo=function(){this.canRedo()&&(this._stackPointer+=1)},e}();t.default=i}),define("keypad/mq-commands",["require","exports"],function(e,t){"use strict";function i(e,t){n[t](e)}Object.defineProperty(t,"__esModule",{value:!0});var n={loga:function(e){e.write("\\log_{}"),e.typedText("("),e.keystroke("Left"),e.keystroke("Down")},nthroot:function(e){e.write("\\sqrt[]{}"),e.keystroke("Left"),e.keystroke("Left")},ddx:function(e){e.write("\\frac{d}{dx}")},arcsin:function(e){e.write("sin^{-1}"),e.typedText("(")},arccos:function(e){e.write("cos^{-1}"),e.typedText("(")},arctan:function(e){e.write("tan^{-1}"),e.typedText("(")},"A^T":function(e){e.typedText("^T"),e.keystroke("Right")},"A^-1":function(e){e.typedText("^-1"),e.keystroke("Right")},"A^2":function(e){e.typedText("^2"),e.keystroke("Right")},"a^2":function(e){e.typedText("^2"),e.keystroke("Right")},"a^3":function(e){e.typedText("^3"),e.keystroke("Right")}};t.execute=i}),define("vendor/mathquill",["require","exports","toplevel/mathquill","mathquill"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MQ=i.getInterface(1).config(n)}),define("loadcss!dcgview-helpers/mathquill-view",function(){}),define("dcgview-helpers/mathquill-view",["require","exports","browser","lib/aria","keys","tslib","dcgview","vendor/mathquill","underscore","jquery","loadcss!./mathquill-view"],function(e,t,i,n,r,s,o,a,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.template=function(){var e=this;return o.createElement("div",{class:o.const("dcg-mq-container")},o.createElement("span",{class:o.const("dcg-mq-placeholder")},function(){return e.getPlaceholder()}),o.createElement("div",{didMount:function(t){return e.didMountMathquill(t)},willUnmount:function(){return e.willUnmountMathquill()}}))},t.prototype.getPlaceholder=function(){return this.props.placeholder?this.props.isFocused()?"":this.props.latex()?"":this.props.placeholder():""},t.prototype.didMountMathquill=function(e){var t=this,n=s.__assign({},this.props.config(),{handlers:{reflow:function(){t.props.onReflow&&t.props.onReflow()}},substituteKeyboardEvents:function(e,i){return a.MQ.saneKeyboardEvents(e,l.extend({},i,{cut:function(){i.cut(),t.props.onUserChangedLatex(t.mathField.latex())},copy:function(){i.copy()},paste:function(e){i.paste(e),t.props.onUserChangedLatex(t.mathField.latex())},typedText:function(e){t.props.onUserTypedText(e)},keystroke:function(e,i){"Backspace"===e&&i.preventDefault(),t.props.onUserPressedKey(e)}}))}});this.$mathField=c(e),this.mathField=a.MQ.MathField(e,n),e._mqMathFieldInstance=this.mathField,this.$mathField.on("focusin.view focusout.view",function(){return t.onFocusEvent()}),(i.IS_IOS||i.IS_ANDROID)&&(this.$mathField.find(".dcg-mathquill-input-span").off("keypress.globalConfig"),this.$mathField.on("keypress.view",function(e){return t.onKeypressEvent(e)})),this.hookupMQTapTouch(),this.updateMathquill()},t.prototype.willUnmountMathquill=function(){this.$mathField.off(".view")},t.prototype.didUpdate=function(){this.updateMathquill()},t.prototype.updateMathquill=function(){this.updateMathquillAria(),this.updateMathquillLatex(),this.updateMathquillFocused(),this.updateMathquillPostLabel()},t.prototype.onFocusEvent=function(){var e=this,t=this.isFocused();t&&this.props.selectOnFocus&&this.props.selectOnFocus()&&(this.mathField.select(),setTimeout(function(){e.isFocused()&&e.mathField.select()},0)),t!==this.shouldBeFocused()&&this.props.onFocusedChanged(t)},t.prototype.onKeypressEvent=function(e){e.stopPropagation(),e.preventDefault(),this.props.onUserTypedText(r.lookupChar(e))},t.prototype.hookupMQTapTouch=function(){var e=this;this.$mathField.on("dcg-tap.view",function(t){if("touch"===t.device){var i=t.originalEvent.changedTouches[0];e.mathField.clickAt(i.clientX,i.clientY,i.target),e.mathField.focus();var n=void 0;setTimeout(function(){n=Date.now()},0),e.mathField.ignoreNextMousedown(function(){return void 0===n||Date.now()-n<500})}})},t.prototype.updateMathquillAria=function(){var e=this.props.getAriaLabel();e!==this.mathField.getAriaLabel()&&this.mathField.setAriaLabel(e)},t.prototype.updateMathquillPostLabel=function(){var e=this,t=this.props.getAriaPostLabel();if(t!==this.mathField.getAriaPostLabel()&&this.mathField.setAriaPostLabel(t),this.cachedAriaAlert!==t){this.cachedAriaAlert=t,clearTimeout(this.ariaAlertTimeout);var i=this.props.hasError()?5e3:1e3;this.ariaAlertTimeout=setTimeout(function(){e.isFocused()&&n.alert(t)},i)}},t.prototype.updateMathquillLatex=function(){var e=this.props.latex();this.lastLatexProp!==e&&(this.lastLatexProp=e,this.mathField.latex()!==e&&this.mathField.latex(e))},t.prototype.updateMathquillFocused=function(){this.isFocused()!==this.shouldBeFocused()&&(this.shouldBeFocused()?this.mathField.focus():(this.mathField.clearSelection(),this.mathField.blur()))},t.prototype.isFocused=function(){return!!c(document.activeElement).closest(this.$mathField).length},t.prototype.shouldBeFocused=function(){return this.props.isFocused()},t.getFocusedMathquill=function(){var e=c(document.activeElement).closest(".dcg-mq-editable-field")[0];return e?e._mqMathFieldInstance:void 0},t}(o.Class);t.default=u}),define("basic/controller",["require","exports","main/cookie","tslib","flux","jquery","underscore","./model","lib/state-stack","keypad/mq-commands","i18n","dcgview-helpers/mathquill-view"],function(e,t,i,n,r,s,o,a,l,c,u,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e){var t=this;this.keyboardMode="main",this.fontSize=16,this.invertedColors=!1,this.language="en",this.brailleMode=i.getCookie("desmosBrailleMode")||"nemeth",this.stateStack=new l.default,this.dispatcher=new r.Dispatcher,this.t=function(e,i){return u.t(e,i,t.language)},this.dispatch=function(e){t.dispatcher.dispatch(e);for(var i;i=t._queuedCallbacks.shift();)i()},this._queuedCallbacks=[],this.stateStack=new l.default,this.dispatcher=new r.Dispatcher,this.options=e,this.model=new a.default({evaluationMode:this.options.evaluationMode,functionDefinition:this.options.functionDefinition,braille:this.options.braille,workerPool:this.options.workerPool}),this.model=this.model,this.model.setDegreeMode(e.degreeMode),this.invertedColors=e.invertedColors,this.model.onEvaluationUpdate=function(){return t.dispatch({type:"render"})},this.hookUpDispatcher(),this.dispatch({type:"render"})}return e.prototype.runAfterDispatch=function(e){this._queuedCallbacks.push(e)},e.prototype.enqueueEvent=function(e){var t=this;this.runAfterDispatch(function(){t.onEventEmitted&&t.onEventEmitted(e)})},e.prototype.getFunctionDefinition=function(){return this.options.functionDefinition},e.prototype.getBraille=function(){return this.options.braille},e.prototype.getBrailleMode=function(){return this.brailleMode},e.prototype.renderAsBraille=function(){return this.getBraille()&&"none"!==this.brailleMode},e.prototype.setBrailleMode=function(e){this.brailleMode=e,i.setCookie("desmosBrailleMode",e)},e.prototype.getRestrictedFunctions=function(){return this.options.restrictedFunctions},e.prototype.getNeuterScientific=function(){return"neuteredScientific"===this.options.evaluationMode},e.prototype.getKeyboardMode=function(){return this.keyboardMode},e.prototype.getFontSize=function(){return this.fontSize},e.prototype.getInvertedColors=function(){return this.invertedColors},e.prototype.getAdditionalFunctions=function(){return this.options.additionalFunctions},e.prototype.getTypingSlashWritesDivisionSymbol=function(){return this.options.typingSlashWritesDivisionSymbol},e.prototype.getTypingAsteriskWritesTimesSymbol=function(){return this.options.typingAsteriskWritesTimesSymbol},e.prototype.isScientificCalc=function(){var e=this.options.evaluationMode;return"scientific"===e||"neuteredScientific"===e},e.prototype.isFourFunctionCalc=function(){return"fourFunction"===this.options.evaluationMode},e.prototype.canUndo=function(){return this.stateStack.canUndo()},e.prototype.canRedo=function(){return this.stateStack.canRedo()},e.prototype.undo=function(e){if(this.canUndo()){this.stateStack.undo();var t=this.stateStack.getState();if(!e.restoreFocus){var i={focus:void 0};t=n.__assign({},t,{ui:i})}this.model.setState(t),this.enqueueEvent("change")}},e.prototype.redo=function(e){if(this.canRedo()){this.stateStack.redo();var t=this.stateStack.getState();if(!e.restoreFocus){var i={focus:void 0};t=n.__assign({},t,{ui:i})}this.model.setState(t),this.enqueueEvent("change")}},e.prototype.clearHistory=function(){this.stateStack.clear()},e.prototype.canBackspace=function(){var e=this.model.getFocusedExpression();return e&&(e.latex.length>0||this.model.getNumberOfExpressions()>1)},e.prototype.focusLastExpression=function(){this.model.focusLastExpression()},e.prototype.canClear=function(){return this.model.canClear()},e.prototype.shouldShowClear=function(){return this.model.shouldShowClear()},e.prototype.isLastExpressionEmpty=function(){return this.model.isLastExpressionEmpty()},e.prototype.createAtEnd=function(){this.model.createAtEnd()},e.prototype.clearFocusedExpression=function(){this.model.clearFocusedExpression()},e.prototype.setLatexById=function(e,t){this.model.setLatexById(e,t)},e.prototype.setLatexAndBrailleById=function(e,t,i){this.model.setLatexAndBrailleById(e,t,i)},e.prototype.setLatexOfFocusedExpression=function(e){this.model.setLatexOfFocusedExpression(e)},e.prototype.conditionallyCopyPrevious=function(e){this.model.conditionallyCopyPrevious(e)},e.prototype.createBlankAfterId=function(e){this.model.createBlankAfterId(e)},e.prototype.backspaceAtFrontOfId=function(e){this.model.backspaceAtFrontOfId(e)},e.prototype.areStatesDifferentEnoughForUndoRedo=function(e,t){var i={focus:void 0};return o.isEqual(n.__assign({},e,{ui:i}),n.__assign({},t,{ui:i}))},e.prototype.commitUndoRedoDebounced=function(){var e=this.model.getState(),t=this.stateStack.getState();if(!this.areStatesDifferentEnoughForUndoRedo(e,t)){var i=(new Date).getTime();i-this._lastDebouncedTime<1e3?this.stateStack.replaceState(e):this.stateStack.addState(e),this._lastDebouncedTime=i,this.enqueueEvent("change")}},e.prototype.commitUndoRedoSynchronously=function(){var e=this.model.getState(),t=this.stateStack.getState();this.areStatesDifferentEnoughForUndoRedo(e,t)||(this._lastDebouncedTime=0,this.stateStack.addState(e),this.enqueueEvent("change"))},e.prototype.updateKeyboardMode=function(e){this.keyboardMode=e},e.prototype.getFocusedMathquill=function(){if(this.model.getFocusedExpressionId())return h.default.getFocusedMathquill()},e.prototype.ensureMathquillIsFocusedAndReturnFocusedMathquill=function(){var e=this.getFocusedMathquill();return e?e:(this.isLastExpressionEmpty()?this.createAtEnd():this.focusLastExpression(),this.onEventEmitted&&this.onEventEmitted("render"),this.getFocusedMathquill())},e.prototype.typeIntoFocusedMathquill=function(e){var t=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();t&&(t.typedText(e),this.setLatexOfFocusedExpression(t.latex()),this.model.markShouldDebounceUndoRedo())},e.prototype.pressKeyInFocusedMathquill=function(e){var t=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();if(t)if("Up"===e||"Down"===e||"Left"===e||"Right"===e){var i=s(t.el()),n=i.find(".dcg-mq-selection"),r=1===n.length&&n.parent().parent()[0]===i[0]&&1===n.parent().children().length;if(("Up"===e||"Down"===e)&&r)return t.keystroke(e),void this.moveFocusInDirection(e);var o=i.find(".dcg-mq-cursor")[0];if(!o)return void t.keystroke(e);var a=o.previousSibling||o.parentElement;t.keystroke(e);var l=o.previousSibling||o.parentElement;a===l&&this.moveFocusInDirection(e)}else"Enter"===e?this.handleEnter():"Backspace"===e?this.attemptToMoveFocusWithBackspace()||(t.keystroke(e),this.setLatexOfFocusedExpression(t.latex())):"Delete"===e?(t.keystroke(e),this.setLatexOfFocusedExpression(t.latex())):(t.keystroke(e),this.setLatexOfFocusedExpression(t.latex()))},e.prototype.moveFocusInDirection=function(e){var t=this.model.getFocusedExpressionId();t&&("Up"===e?this.model.focusPrevById(t):"Down"===e&&this.model.focusNextById(t))},e.prototype.handleEnter=function(){var e=this.model.getFocusedExpressionId();e&&(this.conditionallyCopyPrevious(e),this.createBlankAfterId(e))},e.prototype.attemptToMoveFocusWithBackspace=function(){var e=this.model.getFocusedExpression();if(!e)return!1;var t=e.latex,i=e.id;return""===t&&(this.backspaceAtFrontOfId(i),!0)},e.prototype.executeCommandInFocusedMathquill=function(e){var t=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();t&&(c.execute(t,e),this.setLatexOfFocusedExpression(t.latex()))},e.prototype.hookUpDispatcher=function(){var e=this,t=this.getNeuterScientific();this.dispatcher.register(function(i){e.enqueueEvent("render");var n=!1;switch(i.type){case"keypad/shift":e.updateKeyboardMode("capitalQwerty"===e.keyboardMode?"qwerty":"capitalQwerty");break;case"undo":t||(e.undo({restoreFocus:"keyboard-shortcut"===i.source}),n=!0);break;case"redo":t||(e.redo({restoreFocus:"keyboard-shortcut"===i.source}),n=!0);break;case"clear-history":e.clearHistory();break;case"set-state-from-api":i.opts.allowUndo||e.clearHistory(),e.model.setStateFromAPI(i.state);break;case"main":e.updateKeyboardMode("main");break;case"ABC":e.options.qwertyKeyboard?e.updateKeyboardMode("qwerty"):e.updateKeyboardMode("letters");break;case"functions":e.updateKeyboardMode("functions");break;case"degrees":e.model.setDegreeMode(!e.model.getDegreeMode());break;case"update-degree-mode":e.model.setDegreeMode(!!i.mode);break;case"update-font-size":var r=i.size;if("number"!=typeof r&&(r=parseInt(r,10)),isNaN(r))return;e.fontSize=r;break;case"update-inverted-colors":e.invertedColors=!!i.mode;break;case"update-language":var s=i.language;"en"!==s&&Desmos.supportedLanguages.indexOf(s)===-1?console.warn("Translation for '"+s+"' isn't currently available. Using '"+e.language+"' instead."):e.language=s;break;case"set-blank":i.opts.allowUndo||e.clearHistory(),e.model.clear(),e.focusLastExpression();break;case"clear":e.model.clearFocusedExpression();break;case"set-braille-mode":e.model.clearCachedBrailleValues(),e.setBrailleMode(i.mode);break;case"update-latex":e.model.markShouldDebounceUndoRedo(),e.setLatexById(i.id,i.latex);break;case"update-latex-from-braille":e.model.markShouldDebounceUndoRedo(),e.setLatexAndBrailleById(i.id,i.latex,i.braille);break;case"focusin":e.model.setFocusedById(i.id,!0);break;case"focusout":e.model.setFocusedById(i.id,!1);break;case"focus-first-expression":e.model.focusFirstExpression();break;case"focus-prev-expression":e.moveFocusInDirection("Up");break;case"focus-next-expression":e.moveFocusInDirection("Down");break;case"insert-blank-expression":e.handleEnter();break;case"backspace-from-braille":e.attemptToMoveFocusWithBackspace();break;case"keypad/type-text":e.typeIntoFocusedMathquill(i.text);break;case"keypad/press-key":e.pressKeyInFocusedMathquill(i.key);break;case"keypad/custom-command":e.executeCommandInFocusedMathquill(i.command);break;case"render":break;default:var o=i;return o}n||(e.model.getShouldDebounceUndoRedo()?(e.commitUndoRedoDebounced(),e.model.clearShouldDebounceUndoRedo()):e.commitUndoRedoSynchronously())})},e}();t.default=d}),define("basic/dcgview-basic",["require","exports","tslib","dcgview"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller(),this.model=this.controller.model,this.dispatch=this.controller.dispatch,this.t=this.controller.t},t}(n.Class);t.DCGViewBasic=r}),define("keypad/dcgview-keypad",["require","exports","tslib","dcgview"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.init=function(){this.controller=this.props.controller()},t}(n.Class);t.default=r}),define("loadcss!keypad/control-bar",function(){}),define("keypad/control-bar",["require","exports","tslib","dcgview","./dcgview-keypad","loadcss!./control-bar"],function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-keypad-control-bar dcg-do-not-blur"),role:n.const("group"),"aria-label":function(){return e.controller.t("Control Bar")}},this.children)},t}(r.default);t.default=s}),define("loadcss!keypad/control-btn",function(){}),define("keypad/control-btn",["require","exports","tslib","dcgview","loadcss!./control-btn"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){var e=this;return n.createElement("div",{class:function(){return{"dcg-keypad-control-btn":!0,"dcg-disabled":e.isDisabled(),"dcg-selected":!e.isDisabled()&&e.isSelected(),"dcg-selectable-btn":!e.isDisabled()&&e.isSelectable()}},role:n.const("button"),"aria-disabled":function(){return e.isDisabled()||void 0},"aria-label":function(){return e.getAriaLabel()},"dcg-command":this.props.command,onTap:this.bindFn(this.handleTap),"aria-pressed":function(){return e.isDisabled()&&e.isSelected()},tabindex:this.bindFn(this.getTabIndex)},this.children)},t.prototype.getTabIndex=function(){return this.isDisabled()?void 0:this.props.ignoreInTabOrder&&this.props.ignoreInTabOrder()?-1:0},t.prototype.handleTap=function(e){this.isDisabled()||this.props.onTap(e)},t.prototype.getAriaLabel=function(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()},t.prototype.isDisabled=function(){return!!this.props.disabled&&this.props.disabled()},t.prototype.isSelected=function(){return!!this.props.selected&&this.props.selected()},t.prototype.isSelectable=function(){return!!this.props.selectable&&this.props.selectable()},t}(n.Class);t.default=r}),define("basic/keypad/fourfunction-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic"],function(e,t,i,n,r,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n.Components.If,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){var e=this,t=this.props.controller();return n.createElement(r.default,{controller:this.props.controller},n.createElement(s.default,{command:this.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.t("undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},n.createElement("i",{class:n.const("dcg-icon-undo")})),n.createElement(s.default,{command:this.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.t("redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},n.createElement("i",{class:n.const("dcg-icon-redo")})),n.createElement(a,{predicate:function(){return t.shouldShowClear()}},function(){return n.createElement(s.default,{command:e.const("clear"),ariaLabel:function(){return t.t("clear")},onTap:function(){return t.dispatch({type:"clear"})}},function(){return t.t("clear")})}),n.createElement(a,{predicate:function(){return!t.shouldShowClear()}},function(){return n.createElement(s.default,{command:e.const("clearall"),disabled:function(){return!t.canClear()},ariaLabel:function(){return t.t("clear all")},onTap:function(){return t.dispatch({type:"set-blank",opts:{allowUndo:!0}})}},function(){return t.t("clear all")})}),n.createElement(s.default,{command:this.const("backspace"),ariaLabel:function(){return t.t("backspace")},disabled:function(){return!t.canBackspace()},onTap:function(){return t.dispatch({type:"keypad/press-key",key:"Backspace"})}},n.createElement("i",{class:n.const("dcg-icon-delete")})))},t}(o.DCGViewBasic);t.default=l}),define("loadcss!keypad/control-toggle",function(){}),define("keypad/control-toggle",["require","exports","lib/aria","tslib","dcgview","./dcgview-keypad","loadcss!./control-toggle"],function(e,t,i,n,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:function(){return{"dcg-keypad-control-toggle":!0,"dcg-toggled":e.props.toggled()}},role:r.const("button"),tabindex:r.const("0"),"aria-label":this.bindFn(this.getAriaLabel),"aria-pressed":this.props.toggled,onTap:this.bindFn(this.handleTap)},r.createElement("div",{class:r.const("dcg-ctrl-toggle-option")},this.props.defaultOption),r.createElement("div",{class:r.const("dcg-ctrl-toggle-option")},this.props.toggledOption),r.createElement("div",{class:r.const("dcg-ctrl-toggle-cover")}))},t.prototype.getAriaLabel=function(){var e={toggled:this.props.toggledAriaLabel(),default:this.props.defaultAriaLabel()};return this.props.toggled()?this.controller.t("__toggled__ selected. Press Enter to switch to __default__.",e):this.controller.t("__default__ selected. Press Enter to switch to __toggled__.",e)},t.prototype.handleTap=function(){this.props.toggled()?i.alert(this.props.defaultAriaLabel()):i.alert(this.props.toggledAriaLabel()),this.props.onTap(this.props.command())},t}(s.default);t.default=o}),define("basic/keypad/scientific-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic","keypad/control-toggle"],function(e,t,i,n,r,s,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n.Components.If,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){var e=this,t=this.props.controller();return n.createElement(r.default,{controller:this.props.controller},n.createElement(s.default,{command:this.const("main"),selected:function(){return"main"===t.getKeyboardMode()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return t.dispatch({type:"main"})}},function(){return t.t("main")}),n.createElement(l,{predicate:function(){return!t.getNeuterScientific()}},function(){return n.createElement(s.default,{command:e.const("ABC"),selected:function(){return["qwerty","capitalQwerty","letters"].indexOf(t.getKeyboardMode())!==-1},ignoreInTabOrder:e.const(!0),selectable:e.const(!0),ariaLabel:function(){return t.t("A B C")},onTap:function(){return t.dispatch({type:"ABC"})}},function(){return t.t("abc")})}),n.createElement(s.default,{command:this.const("functions"),selected:function(){return["functions","restrictedFunctions"].indexOf(t.getKeyboardMode())!==-1},ariaLabel:function(){return t.t("Functions")},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return t.dispatch({type:"functions"})}},function(){return t.t("func")}),n.createElement(l,{predicate:function(){return t.getNeuterScientific()}},function(){return n.createElement("div",{class:n.const("dcg-spacer")})}),n.createElement(a.default,{command:this.const("degrees"),toggled:function(){return e.model.getDegreeMode()},defaultOption:function(){return t.t("rad")},toggledOption:function(){return t.t("deg")},defaultAriaLabel:function(){return t.t("Radians")},toggledAriaLabel:function(){return t.t("Degrees")},onTap:function(){return t.dispatch({type:"degrees"})},controller:this.props.controller}),n.createElement(l,{predicate:function(){return!t.getNeuterScientific()}},function(){return n.createElement(s.default,{command:e.const("undo"),disabled:function(){return!t.canUndo()},ariaLabel:function(){return t.t("Undo")},onTap:function(e){return t.dispatch({type:"undo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},n.createElement("i",{class:n.const("dcg-icon-undo")}))}),n.createElement(l,{predicate:function(){return!t.getNeuterScientific()}},function(){return n.createElement(s.default,{command:e.const("redo"),disabled:function(){return!t.canRedo()},ariaLabel:function(){return t.t("Redo")},onTap:function(e){return t.dispatch({type:"redo",source:"keyboard"===e.device?"button-keyboard":"button-tap"})}},n.createElement("i",{class:n.const("dcg-icon-redo")}))}),n.createElement(l,{predicate:function(){return t.shouldShowClear()}},function(){return n.createElement(s.default,{command:e.const("clear"),ariaLabel:function(){return t.t("clear")},onTap:function(){return t.dispatch({type:"clear"})}},function(){return t.t("clear")})}),n.createElement(l,{predicate:function(){return!t.shouldShowClear()}},function(){return n.createElement(s.default,{command:e.const("clearall"),disabled:function(){return!t.canClear()},ariaLabel:function(){return t.t("clear all")},onTap:function(){return t.dispatch({type:"set-blank",opts:{allowUndo:!0}})}},function(){return t.t("clear all")})}))},t}(o.DCGViewBasic);t.default=c}),define("loadcss!keypad/btn",function(){}),define("keypad/btn",["require","exports","tslib","dcgview","loadcss!./btn"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){var e=this;return n.createElement("div",{class:n.const("dcg-keypad-btn-container"),style:function(){return{"flex-grow":e.getColSpan()}}},n.createElement("a",{role:n.const("button"),class:function(){return{"dcg-keypad-btn":!0,"dcg-keypad-btn-dark":e.isDark(),"dcg-active":e.isActive()}},"dcg-command":this.props.command,"aria-label":this.bindFn(this.getAriaLabel),onTap:this.props.onTap},n.createElement("span",{class:n.const("dcg-keypad-btn-content")},this.children)))},t.prototype.isDark=function(){return!!this.props.dark&&this.props.dark()},t.prototype.isActive=function(){return!!this.props.active&&this.props.active()},t.prototype.getAriaLabel=function(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()},t.prototype.getColSpan=function(){return this.props.colspan?this.props.colspan():void 0},t}(n.Class);t.default=r}),define("dcgview-helpers/static-mathquill-view",["require","exports","tslib","dcgview","vendor/mathquill"],function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){var e=this;return n.createElement("div",{didMount:function(t){return e.didMountMathquill(t)}})},t.prototype.didMountMathquill=function(e){this.staticMath=r.MQ.StaticMath(e),this.updateMathquill()},t.prototype.didUpdate=function(){this.updateMathquill()},t.prototype.updateMathquill=function(){this.updateMathquillLatex()},t.prototype.updateMathquillLatex=function(){if(this.staticMath){var e=this.staticMath.latex(),t=this.props.latex();e!==t&&(this.staticMath.latex(t),this.props.onReflow&&this.props.onReflow())}},t}(n.Class);t.default=s}),define("keypad/keys",["require","exports","./btn","dcgview-helpers/static-mathquill-view","dcgview","i18n"],function(e,t,i,n,r,s){"use strict";function o(e){return function(t,s,o){return void 0===o&&(o=1),r.createElement(i.default,{command:r.const(e.command||t),ariaLabel:r.const(e.ariaLabel||t),colspan:r.const(o),onTap:function(){return s({type:"keypad/type-text",text:e.typedText||t})}},r.createElement(n.default,{latex:r.const(e.content||t)}))}}function a(e){return function(t,s,o){return void 0===o&&(o=1),r.createElement(i.default,{command:r.const(t),ariaLabel:r.const(e.ariaLabel||t),colspan:r.const(o),onTap:function(){return s({type:"keypad/type-text",text:t+"("})}},r.createElement(n.default,{latex:r.const(t)}))}}function l(e){return function(t,s,o){return void 0===o&&(o=1),r.createElement(i.default,{command:r.const(e.command),ariaLabel:r.const(e.ariaLabel||e.command),colspan:r.const(o),onTap:function(){s({type:"keypad/custom-command",command:e.command})}},r.createElement(n.default,{latex:r.const(e.content)}))}}function c(e,t,i){void 0===i&&(i=1);var n=e.dispatch;return u[t](t,n,i)}Object.defineProperty(t,"__esModule",{value:!0});var u={"(":o({content:"(",command:"leftparen",ariaLabel:s.t("Left Parenthesis")}),")":o({content:")",command:"rightparen",ariaLabel:s.t("Right Parenthesis")}),sqrt:o({content:"√",ariaLabel:s.t("Square Root")}),"/":o({content:"÷",typedText:"/",ariaLabel:s.t("Divide")}),"*":o({content:"×",typedText:"*",ariaLabel:s.t("Times")}),"-":o({content:"-",typedText:"-",ariaLabel:s.t("Minus")}),"+":o({content:"+",typedText:"+",ariaLabel:s.t("Plus")}),".":o({content:".",command:"decimal",ariaLabel:s.t("Decimal")}),ans:function(e,t,n){return void 0===n&&(n=1),r.createElement(i.default,{command:r.const(e),ariaLabel:r.const(s.t("Answer")),colspan:r.const(n),
    onTap:function(){return t({type:"keypad/type-text",text:e})}},r.const("ans"))},enter:function(e,t,n){return void 0===n&&(n=1),r.createElement(i.default,{command:r.const(e),dark:r.const(!0),ariaLabel:r.const(s.t("Enter")),colspan:r.const(n),onTap:function(){return t({type:"keypad/press-key",key:"Enter"})}},r.createElement("i",{class:r.const("dcg-icon-arrow-enter")}))},shift:function(e,t,n){return void 0===n&&(n=1),r.createElement(i.default,{command:r.const(e),active:r.const(!0),ariaLabel:r.const(s.t("Shift")),colspan:r.const(n),onTap:function(){return t({type:"keypad/shift"})}},r.createElement("i",{class:r.const("dcg-icon-shift")}))},backspace:function(e,t,n){return void 0===n&&(n=1),r.createElement(i.default,{command:r.const(e),ariaLabel:r.const(s.t("Backspace")),colspan:r.const(n),onTap:function(){return t({type:"keypad/press-key",key:"Backspace"})}},r.createElement("i",{class:r.const("dcg-icon-delete")}))},pi:o({content:"\\pi",ariaLabel:s.t("Pi")}),alpha:o({content:"\\alpha",ariaLabel:s.t("Alpha")}),beta:o({content:"\\beta",ariaLabel:s.t("Beta")}),"a^2":l({command:"a^2",content:"a^2",ariaLabel:s.t("Squared")}),"a^3":l({command:"a^3",content:"a^3",ariaLabel:s.t("Cubed")}),"a^b":o({content:"a^b",typedText:"^",ariaLabel:s.t("Superscript")}),"a/b":o({content:"\\frac{a}{b}",typedText:"/",ariaLabel:s.t("A over B")}),nthroot:l({command:"nthroot",content:"\\sqrt[n]{}",ariaLabel:s.t("Nth Root")}),sin:a({ariaLabel:s.t("Sine")}),cos:a({ariaLabel:s.t("Cosine")}),tan:a({ariaLabel:s.t("Tangent")}),"|a|":o({typedText:"|",ariaLabel:s.t("Absolute Value")}),ln:a({ariaLabel:s.t("Natural Log")}),log:a({ariaLabel:s.t("Log")}),quantile:a({ariaLabel:s.t("Quantile")}),var:a({}),nCr:a({}),sec:a({ariaLabel:s.t("Secant")}),csc:a({ariaLabel:s.t("Cosecant")}),cot:a({ariaLabel:s.t("Cotangent")}),loga:l({command:"loga",content:"log_a",ariaLabel:s.t("Log A")}),stdev:a({ariaLabel:s.t("Standard Deviation")}),mad:a({}),nPr:a({}),arcsin:l({command:"arcsin",content:"sin^{-1}",ariaLabel:s.t("Inverse Sine")}),arccos:l({command:"arccos",content:"cos^{-1}",ariaLabel:s.t("Inverse Cosine")}),arctan:l({command:"arctan",content:"tan^{-1}",ariaLabel:s.t("Inverse Tangent")}),mean:a({ariaLabel:s.t("Mean")}),stdevp:a({ariaLabel:s.t("Standard Deviation of Population")}),mod:a({}),"e^x":o({typedText:"e^",ariaLabel:s.t("Exponent")}),sum:o({content:"\\sum",ariaLabel:s.t("Sum")}),prod:o({content:"\\prod",ariaLabel:s.t("Product")}),floor:a({ariaLabel:s.t("Floor")}),round:a({ariaLabel:s.t("Round")}),abs:a({ariaLabel:s.t("Absolute Value")}),"!":o({content:"!",ariaLabel:s.t("Factorial")}),median:a({ariaLabel:s.t("Median")}),lcm:a({}),gcf:a({}),ddx:l({command:"ddx",content:"\\frac{d}{dx}"}),int:o({content:"\\int",ariaLabel:s.t("Integral")}),"%":o({content:"\\%",ariaLabel:s.t("Percent Of")}),exp:o({}),"A^-1":l({command:"A^-1",content:"A^{-1}",ariaLabel:s.t("Inverse")}),"A^T":l({command:"A^T",content:"A^T",ariaLabel:s.t("Transpose")}),"A^2":l({command:"A^2",content:"A^2",ariaLabel:s.t("Squared")}),det:a({ariaLabel:"Determinant"}),"A^n":o({content:"A^n",typedText:"^",ariaLabel:s.t("Exponent")}),a:o({}),b:o({}),c:o({}),d:o({}),e:o({}),f:o({}),g:o({}),h:o({}),i:o({}),j:o({}),k:o({}),l:o({}),m:o({}),n:o({}),o:o({}),p:o({}),q:o({}),r:o({}),s:o({}),t:o({}),u:o({}),v:o({}),w:o({}),x:o({}),y:o({}),z:o({}),A:o({}),B:o({}),C:o({}),D:o({}),E:o({}),F:o({}),G:o({}),H:o({}),I:o({}),J:o({}),K:o({}),L:o({}),M:o({}),N:o({}),O:o({}),P:o({}),Q:o({}),R:o({}),S:o({}),T:o({}),U:o({}),V:o({}),W:o({}),X:o({}),Y:o({}),Z:o({}),0:o({}),1:o({}),2:o({}),3:o({}),4:o({}),5:o({}),6:o({}),7:o({}),8:o({}),9:o({}),",":o({}),"=":o({}),"[":o({}),"]":o({}),'"':o({}),"'":o({})};t.view=c}),define("loadcss!keypad/keypad",function(){}),define("keypad/keypad",["require","exports","tslib","dcgview","loadcss!./keypad"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){var e=this.props.controller();return n.createElement("div",{role:n.const("group"),"aria-label":function(){return e.t("keypad")},class:n.const("dcg-basic-keypad dcg-do-not-blur")},this.children)},t}(n.Class);t.default=r}),define("loadcss!keypad/row",function(){}),define("keypad/row",["require","exports","tslib","dcgview","loadcss!./row"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){return n.createElement("div",{class:n.const("dcg-keypad-row")},this.children)},t}(n.Class);t.default=r}),define("basic/keypad/fourfunction-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,i,n,r,s,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){return n.createElement(o.default,{controller:this.props.controller},n.createElement(a.default,null,s.view(this,"(",this.parenColspan()),s.view(this,")",this.parenColspan()),this.makeAdditionalFunctionKey(0),this.makeAdditionalFunctionKey(1),s.view(this,"/")),n.createElement(a.default,null,s.view(this,"7"),s.view(this,"8"),s.view(this,"9"),s.view(this,"*")),n.createElement(a.default,null,s.view(this,"4"),s.view(this,"5"),s.view(this,"6"),s.view(this,"-")),n.createElement(a.default,null,s.view(this,"1"),s.view(this,"2"),s.view(this,"3"),s.view(this,"+")),n.createElement(a.default,null,s.view(this,"0"),s.view(this,"."),s.view(this,"ans"),s.view(this,"enter")))},t.prototype.parenColspan=function(){return this.controller.getAdditionalFunctions().length>1?.5:1},t.prototype.makeAdditionalFunctionKey=function(e){var t=this.controller.getAdditionalFunctions()[e];return"exponent"===t?s.view(this,"a^b"):"percent"===t?s.view(this,"%"):"sqrt"===t?s.view(this,"sqrt"):void 0},t}(r.DCGViewBasic);t.default=l}),define("basic/keypad/sci-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,i,n,r,s,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){return n.createElement(o.default,{controller:this.props.controller},n.createElement(a.default,null,s.view(this,"7"),s.view(this,"8"),s.view(this,"9"),s.view(this,"/"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),s.view(this,"a^2"),s.view(this,"a^b"),s.view(this,"a/b"),s.view(this,"backspace")),n.createElement(a.default,null,s.view(this,"4"),s.view(this,"5"),s.view(this,"6"),s.view(this,"*"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),s.view(this,"sqrt"),s.view(this,"nthroot"),s.view(this,"("),s.view(this,")")),n.createElement(a.default,null,s.view(this,"1"),s.view(this,"2"),s.view(this,"3"),s.view(this,"-"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),s.view(this,"sin"),s.view(this,"cos"),s.view(this,"tan"),s.view(this,"pi")),n.createElement(a.default,null,s.view(this,"0"),s.view(this,"."),s.view(this,"ans"),s.view(this,"+"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),s.view(this,"|a|"),s.view(this,"ln"),s.view(this,"%"),s.view(this,"enter")))},t}(r.DCGViewBasic);t.default=l}),define("basic/keypad/sci-qwerty-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,i,n,r,s,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){return n.createElement(o.default,{controller:this.props.controller},n.createElement(a.default,null,s.view(this,"q"),s.view(this,"w"),s.view(this,"e"),s.view(this,"r"),s.view(this,"t"),s.view(this,"y"),s.view(this,"u"),s.view(this,"i"),s.view(this,"o"),s.view(this,"p")),n.createElement(a.default,null,n.createElement("div",{class:n.const("dcg-half-width-placeholder")}),s.view(this,"a"),s.view(this,"s"),s.view(this,"d"),s.view(this,"f"),s.view(this,"g"),s.view(this,"h"),s.view(this,"j"),s.view(this,"k"),s.view(this,"l"),n.createElement("div",{class:n.const("dcg-half-width-placeholder")})),n.createElement(a.default,null,s.view(this,"shift"),s.view(this,"z"),s.view(this,"x"),s.view(this,"c"),s.view(this,"v"),s.view(this,"b"),s.view(this,"n"),s.view(this,"m"),s.view(this,","),s.view(this,"backspace")),n.createElement(a.default,null,s.view(this,"="),s.view(this,"("),s.view(this,")"),s.view(this,"["),s.view(this,"]"),s.view(this,"!"),s.view(this,"'"),s.view(this,"pi"),s.view(this,"enter")))},t}(r.DCGViewBasic);t.default=l}),define("basic/keypad/sci-letters-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,i,n,r,s,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){return n.createElement(o.default,{controller:this.props.controller},n.createElement(a.default,null,s.view(this,"a"),s.view(this,"b"),s.view(this,"c"),s.view(this,"d"),s.view(this,"e"),s.view(this,"f"),s.view(this,"g"),s.view(this,"h"),s.view(this,"backspace")),n.createElement(a.default,null,s.view(this,"i"),s.view(this,"j"),s.view(this,"k"),s.view(this,"l"),s.view(this,"m"),s.view(this,"n"),s.view(this,"o"),s.view(this,"p"),s.view(this,"q")),n.createElement(a.default,null,s.view(this,"r"),s.view(this,"s"),s.view(this,"t"),s.view(this,"u"),s.view(this,"v"),s.view(this,"w"),s.view(this,"x"),s.view(this,"y"),s.view(this,"z")),n.createElement(a.default,null,s.view(this,"="),s.view(this,"("),s.view(this,")"),s.view(this,"["),s.view(this,"]"),s.view(this,"!"),s.view(this,"'"),s.view(this,","),s.view(this,"enter")))},t}(r.DCGViewBasic);t.default=l}),define("basic/keypad/sci-capital-qwerty-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,i,n,r,s,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){return n.createElement(o.default,{controller:this.props.controller},n.createElement(a.default,null,s.view(this,"Q"),s.view(this,"W"),s.view(this,"E"),s.view(this,"R"),s.view(this,"T"),s.view(this,"Y"),s.view(this,"U"),s.view(this,"I"),s.view(this,"O"),s.view(this,"P")),n.createElement(a.default,null,n.createElement("div",{class:n.const("dcg-half-width-placeholder")}),s.view(this,"A"),s.view(this,"S"),s.view(this,"D"),s.view(this,"F"),s.view(this,"G"),s.view(this,"H"),s.view(this,"J"),s.view(this,"K"),s.view(this,"L"),n.createElement("div",{class:n.const("dcg-half-width-placeholder")})),n.createElement(a.default,null,s.view(this,"shift"),s.view(this,"Z"),s.view(this,"X"),s.view(this,"C"),s.view(this,"V"),s.view(this,"B"),s.view(this,"N"),s.view(this,"M"),s.view(this,","),s.view(this,"backspace")),n.createElement(a.default,null,s.view(this,"="),s.view(this,"("),s.view(this,")"),s.view(this,"["),s.view(this,"]"),s.view(this,"!"),s.view(this,"'"),s.view(this,"pi"),s.view(this,"enter")))},t}(r.DCGViewBasic);t.default=l}),define("basic/keypad/sci-functions-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,i,n,r,s,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){return n.createElement(o.default,{controller:this.props.controller},n.createElement(a.default,null,s.view(this,"sin"),s.view(this,"cos"),s.view(this,"tan"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),s.view(this,"ln"),s.view(this,"log"),s.view(this,"backspace")),n.createElement(a.default,null,s.view(this,"arcsin"),s.view(this,"arccos"),s.view(this,"arctan"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),s.view(this,"e^x"),s.view(this,"abs"),s.view(this,"round")),n.createElement(a.default,null,s.view(this,"mean"),s.view(this,"stdev"),s.view(this,"stdevp"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),s.view(this,"a^b"),s.view(this,"sqrt"),s.view(this,"nthroot")),n.createElement(a.default,null,s.view(this,"nPr"),s.view(this,"nCr"),s.view(this,"!"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),s.view(this,"e"),s.view(this,"pi"),s.view(this,"enter")))},t}(r.DCGViewBasic);t.default=l}),define("basic/keypad/simple-functions-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(e,t,i,n,r,s,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){return n.createElement(o.default,{controller:this.props.controller},n.createElement(a.default,null,s.view(this,"sin"),s.view(this,"cos"),s.view(this,"tan"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),s.view(this,"log"),s.view(this,"ln"),s.view(this,"backspace")),n.createElement(a.default,null,s.view(this,"arcsin"),s.view(this,"arccos"),s.view(this,"arctan"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),s.view(this,"a^2"),s.view(this,"a^3"),s.view(this,"a^b")),n.createElement(a.default,null,s.view(this,"sqrt"),s.view(this,"nthroot"),s.view(this,"exp"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),s.view(this,"a/b"),s.view(this,"|a|"),s.view(this,"!")),n.createElement(a.default,null,s.view(this,"+"),s.view(this,"-"),s.view(this,"*"),n.createElement("div",{class:n.const("dcg-partition-placeholder")}),s.view(this,"pi"),s.view(this,"e"),s.view(this,"enter")))},t}(r.DCGViewBasic);t.default=l}),define("basic/keypad/scientific-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","./sci-keypad","./sci-qwerty-keypad","./sci-letters-keypad","./sci-capital-qwerty-keypad","./sci-functions-keypad","./simple-functions-keypad"],function(e,t,i,n,r,s,o,a,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=n.Components.Switch,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){var e=this;return n.createElement(h,{key:function(){return e.controller.getKeyboardMode()}},function(t){switch(t){case"qwerty":return n.createElement(o.default,{controller:e.props.controller});case"letters":return n.createElement(a.default,{controller:e.props.controller});case"capitalQwerty":return n.createElement(l.default,{controller:e.props.controller});case"functions":return e.controller.getNeuterScientific()?n.createElement(u.default,{controller:e.props.controller}):n.createElement(c.default,{controller:e.props.controller});default:return n.createElement(s.default,{controller:e.props.controller})}})},t}(r.DCGViewBasic);t.default=d}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("abraham",[],t);else{var i=t();for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=26)}([function(e,t,i){function n(e,t){var i=r.map(e,t);return e.warnings&&(i.warnings=e.warnings),i}Object.defineProperty(t,"__esModule",{value:!0});var r=i(22);t.map=n},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function s(e){if(h===clearTimeout)return clearTimeout(e);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function o(){g&&p&&(g=!1,p.length?f=p.concat(f):m=-1,f.length&&a())}function a(){if(!g){var e=r(o);g=!0;for(var t=f.length;t;){for(p=f,f=[];++m<t;)p&&p[m].run();m=-1,t=f.length}p=null,g=!1,s(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,h,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(e){u=i}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(e){h=n}}();var p,f=[],g=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new l(e,t)),1!==f.length||g||r(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,i){function n(e){for(var t=!1,i=0,n="",r="",s=0,o=e;s<o.length;s++){var a=o[s];if("terminal"!==a.type||!/[A-Za-z]/.test(a.value))break;n+=a.value,i++}return r=n.replace(c,"\\operatorname{$1}"),t=i>0&&r!==n,{modified:t,terminalCount:i,value:r}}function r(e){return h.indexOf(e.toLowerCase())!==-1}function s(e){if(!Array.isArray(e))throw new Error("Operator names must be an array, got "+typeof e);for(var t=0,i=e;t<i.length;t++){var n=i[t];if("string"!=typeof n)throw new Error("Operator names must be strings, found "+typeof n)}h=e,a()}function o(){h=u,c=d}function a(){c=l(h)}function l(e){var t=e.sort(function(e,t){return e.length-t.length||e.localeCompare(t)}).join("|");return new RegExp("("+t+")","g")}Object.defineProperty(t,"__esModule",{value:!0});var c,u=["abs","arccosh","arccot","arccoth","arccsc","arccsch","arcsec","arcsech","arcsinh","arctanh","ceil","corr","cov","csch","distance","floor","gcf","lcm","length","mad","mcd","mcm","mean","median","midpoint","mod","nCr","nPr","quantile","round","sech","sign","signum","stddev","stddevp","stdDev","stdDevP","stdev","stdevp","total","var","variance","varp"],h=u,d=l(u);t.getAutoOperator=n,t.containsValue=r,t.setOperatorNames=s,t.resetOperatorNames=o},function(e,t,i){function n(e){if(!f.isSixDotCells(e))throw new Error("EncodingError: Expected input to be six-dot unicode braille characters.")}function r(e,i){return n(e),h.default(t.UnicodeBraille.toBrailleAscii(e),i)}function s(e,i){return i&&i.operatorNames?l.setOperatorNames(i.operatorNames):l.resetOperatorNames(),d.map(c.default(e),t.UnicodeBraille.coerceToSixDotCells)}function o(e,i){return n(e),p.default(t.UnicodeBraille.toBrailleAscii(e),i)}function a(e,i){return i&&i.operatorNames?l.setOperatorNames(i.operatorNames):l.resetOperatorNames(),d.map(u.default(e),t.UnicodeBraille.coerceToSixDotCells)}Object.defineProperty(t,"__esModule",{value:!0});var l=i(2),c=i(14),u=i(15),h=i(16),d=i(0),p=i(23),f=i(25);t.nemethToLatex=r,t.latexToNemeth=s,t.uebToLatex=o,t.latexToUeb=a,t.UnicodeBraille={coerceToSixDotCells:f.coerceToSixDotCells,toBrailleAscii:f.toBrailleAscii,toExpandedBrailleAscii:f.toExpandedBrailleAscii},t.version="1.0.2"},function(e,t){},function(e,t,i){(function(e){function i(e,t){for(var i=0,n=e.length-1;n>=0;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++)t(e[n],n,e)&&i.push(e[n]);return i}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(e){return r.exec(e).slice(1)};t.resolve=function(){for(var t="",r=!1,s=arguments.length-1;s>=-1&&!r;s--){var o=s>=0?arguments[s]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,r="/"===o.charAt(0))}return t=i(n(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=i(n(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,i){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var r=n(e.split("/")),s=n(i.split("/")),o=Math.min(r.length,s.length),a=o,l=0;l<o;l++)if(r[l]!==s[l]){a=l;break}for(var c=[],l=a;l<r.length;l++)c.push("..");return c=c.concat(s.slice(a)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=s(e),i=t[0],n=t[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},t.basename=function(e,t){var i=s(e)[2];return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){return s(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(t,i(1))},function(e,t,i){function n(e){if(!e.hash)throw e;return{_diagnostic:{expected:e.hash.expected,message:e.message,text:e.hash.text,token:e.hash.token},location:e.hash.loc}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,i){function n(e){return{type:"terminal",value:e}}function r(e){return{type:"command",value:e}}function s(e){return{type:"greek",value:e}}function o(e){return{subscript:e._,superscript:e["^"],type:"level"}}function a(e,t){var i=[],n=e.match(/'+/);if(null!==n)for(var s=n[0].length,o=0;o<s;o++)i.push(r("\\prime"));return h(i,t)}function l(e,t){return{type:"fraction",numerator:e,denominator:t}}function c(e,t){return{name:e,type:"typeform",value:t}}function u(e,t){return{type:"radical",index:t,radicand:e}}function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)}Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=n,t.command=r,t.greek=s,t.level=o,t.processPrimes=a,t.fraction=l,t.typeform=c,t.radical=u,t.group=h},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){(function(e,n){var r=function(){function e(){this.yy={}}var t=function(e,t,i,n){for(i=i||{},n=e.length;n--;i[e[n]]=t);return i},i=[1,11],n=[1,12],r=[1,13],s=[1,69],o=[1,70],a=[1,68],l=[1,38],c=[1,39],u=[1,58],h=[1,59],d=[1,60],p=[1,61],f=[1,62],g=[1,63],m=[1,64],v=[1,65],y=[1,66],b=[1,67],x=[1,40],_=[1,34],w=[1,35],S=[1,36],E=[1,37],k=[1,41],T=[1,42],C=[1,43],I=[1,44],P=[1,45],A=[1,46],M=[1,47],O=[1,48],L=[1,49],D=[1,50],q=[1,51],N=[1,52],F=[1,17],R=[1,53],V=[1,54],j=[1,55],$=[1,56],B=[1,57],U=[5,11,12,13,17,23,24],G=[5,10,11,12,13,14,16,17,19,20,22,23,24,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,81],z=[5,10,11,12,13,14,16,17,19,20,22,23,24,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,76,77,78,79,81],H=[1,75],W=[5,10,11,12,13,14,16,17,19,20,22,23,24,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81],Y={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,element:6,index_element:7,modified_expression:8,radical:9,OPEN_MODEXP:10,MODEXP_UNDER:11,MODEXP_OVER:12,CLOSE_MODEXP:13,RADICAL_INDEX:14,index_group:15,OPEN_RADICAL:16,CLOSE_RADICAL:17,level:18,LEVEL:19,BASELINE:20,frac:21,OPEN_FRAC:22,SLASH:23,CLOSE_FRAC:24,subscript_head:25,primes:26,number:27,atom:28,command:29,greek:30,letter:31,comma:32,period:33,space:34,operation:35,comparison:36,level_with_comparison:37,ellipsis:38,colon:39,infinity:40,integral:41,factorial:42,ampersand:43,question_mark:44,bracket:45,",":46,".":47,"[":48,"{":49,"(":50,"]":51,"}":52,")":53,LANGLE:54,RANGLE:55,PIPE:56,DOUBLE_PIPE:57,SPACE:58,COMMAND:59,GREEK:60,LETTER:61,CAPITAL_LETTER:62,"+":63,"-":64,CDOT:65,TIMES:66,"*":67,"/":68,DIV:69,PERCENT:70,COMPARISON:71,LEVEL_WITH_COMPARISON:72,ELLIPSIS:73,COLON:74,NUMBER:75,INFINITY:76,INTEGRAL:77,FACTORIAL:78,"&":79,PRIMES:80,"?":81,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"OPEN_MODEXP",11:"MODEXP_UNDER",12:"MODEXP_OVER",13:"CLOSE_MODEXP",14:"RADICAL_INDEX",16:"OPEN_RADICAL",17:"CLOSE_RADICAL",19:"LEVEL",20:"BASELINE",22:"OPEN_FRAC",23:"SLASH",24:"CLOSE_FRAC",46:",",47:".",48:"[",49:"{",50:"(",51:"]",52:"}",53:")",54:"LANGLE",55:"RANGLE",56:"PIPE",57:"DOUBLE_PIPE",58:"SPACE",59:"COMMAND",60:"GREEK",61:"LETTER",62:"CAPITAL_LETTER",63:"+",64:"-",65:"CDOT",66:"TIMES",67:"*",68:"/",69:"DIV",70:"PERCENT",71:"COMPARISON",72:"LEVEL_WITH_COMPARISON",73:"ELLIPSIS",74:"COLON",75:"NUMBER",76:"INFINITY",77:"INTEGRAL",78:"FACTORIAL",79:"&",80:"PRIMES",81:"?"},productions_:[0,[3,2],[3,1],[4,2],[4,1],[6,1],[6,1],[6,1],[8,7],[8,6],[8,5],[8,6],[8,5],[8,5],[8,4],[8,3],[8,2],[9,5],[9,4],[9,4],[9,3],[9,3],[9,2],[18,1],[18,1],[21,5],[21,4],[21,4],[21,3],[15,2],[15,1],[7,3],[7,2],[7,2],[7,2],[7,2],[7,1],[7,1],[7,1],[25,1],[25,1],[25,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[32,1],[33,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[34,1],[29,1],[30,1],[31,1],[31,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[36,1],[37,1],[38,1],[39,1],[27,1],[40,1],[41,1],[42,1],[43,1],[26,1],[44,1]],performAction:function(e,t,i,n,r,s,o){var a=s.length-1;switch(r){case 1:return s[a-1];case 2:return n.group();case 3:case 29:case 33:case 34:case 35:this.$=n.group(s[a-1],s[a]);break;case 4:case 30:this.$=n.group(s[a]);break;case 8:this.$=n.modified_expression(s[a-5],s[a-3],s[a-1]);break;case 9:this.$=n.modified_expression(s[a-4],s[a-2]);break;case 10:this.$=n.modified_expression(s[a-3],s[a-1]);break;case 11:this.$=n.modified_expression(s[a-4],n.group(),s[a-1]);break;case 12:this.$=n.modified_expression(s[a-3],n.group(),s[a-1]);break;case 13:this.$=n.modified_expression(s[a-3],n.group(),n.group());break;case 14:this.$=n.modified_expression(s[a-2],n.group());break;case 15:this.$=n.modified_expression(s[a-1]);break;case 16:this.$=n.modified_expression(n.group());break;case 17:this.$=n.radical(s[a-1],s[a-3]);break;case 18:this.$=n.radical(s[a-1],n.group());break;case 19:this.$=n.radical(n.group(),s[a-2]);break;case 20:this.$=n.radical(n.group(),n.group());break;case 21:this.$=n.radical(s[a-1]);break;case 22:this.$=n.radical(n.group());break;case 23:this.$=n.level(s[a]);break;case 24:this.$=n.baseline();break;case 25:this.$=n.fraction(s[a-3],s[a-1]);break;case 26:this.$=n.fraction(s[a-2],n.group());break;case 27:this.$=n.fraction(n.group(),s[a-1]);break;case 28:this.$=n.fraction(n.group(),n.group());break;case 31:this.$=n.group(n.simple_subscript(s[a-2],s[a]),s[a-1]);break;case 32:this.$=n.simple_subscript(s[a-1],s[a]);break;case 58:this.$=n.terminal(",");break;case 59:this.$=n.terminal(".");break;case 60:this.$=n.terminal("[");break;case 61:this.$=n.terminal("\\{");break;case 62:this.$=n.terminal("(");break;case 63:this.$=n.terminal("]");break;case 64:this.$=n.terminal("\\}");break;case 65:this.$=n.terminal(")");break;case 66:this.$=n.terminal("\\langle ");break;case 67:this.$=n.terminal("\\rangle ");break;case 68:this.$=n.terminal("|");break;case 69:this.$=n.terminal("\\|");break;case 70:this.$=n.terminal(" ");break;case 71:this.$=n.command(s[a].toLowerCase());break;case 72:this.$=n.terminal(n.greek(s[a]));break;case 73:this.$=n.terminal(s[a].toLowerCase());break;case 74:this.$=n.terminal(s[a].toUpperCase());break;case 75:this.$=n.terminal("+");break;case 76:this.$=n.terminal("-");break;case 77:this.$=n.terminal("\\cdot ");break;case 78:this.$=n.terminal("\\times ");break;case 79:this.$=n.terminal("*");break;case 80:this.$=n.terminal("/");break;case 81:this.$=n.terminal("\\div ");break;case 82:this.$=n.terminal("\\%");break;case 83:this.$=n.comparison(s[a].trim());break;case 84:this.$=n.level_with_comparison(s[a].trim());break;case 85:this.$=n.terminal("\\ldots ");break;case 86:this.$=n.terminal(":");break;case 87:this.$=n.terminal(s[a]);break;case 88:this.$=n.terminal("\\infty ");break;case 89:this.$=n.terminal("\\int ");break;case 90:this.$=n.terminal("!");break;case 91:this.$=n.terminal("\\&");break;case 92:this.$=n.primes(s[a]);break;case 93:this.$=n.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:i,14:n,16:r,18:33,19:s,20:o,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},{1:[3]},{5:[1,71]},{1:[2,2]},t(U,[2,4],{6:4,7:5,8:6,9:7,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,21:32,18:33,4:72,10:i,14:n,16:r,19:s,20:o,22:a,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B}),t(G,[2,5]),t(G,[2,6]),t(G,[2,7]),t(z,[2,36],{26:73,27:74,75:F,80:H}),t(G,[2,37],{26:76,80:H}),t(G,[2,38],{26:77,80:H}),{4:78,6:4,7:5,8:6,9:7,10:i,13:[1,79],14:n,16:r,18:33,19:s,20:o,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},{7:82,15:80,16:[1,81],18:33,19:s,20:o,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},{4:83,6:4,7:5,8:6,9:7,10:i,14:n,16:r,17:[1,84],18:33,19:s,20:o,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},t(W,[2,39]),t(W,[2,40]),t(W,[2,41]),t(W,[2,87]),t(W,[2,42]),t(W,[2,43]),t(W,[2,44]),t(W,[2,45]),t(W,[2,46]),t(W,[2,47]),t(W,[2,48]),t(W,[2,49]),t(W,[2,50]),t(W,[2,51]),t(W,[2,52]),t(W,[2,53]),t(W,[2,54]),t(W,[2,55]),t(W,[2,56]),t(W,[2,57]),t(W,[2,71]),t(W,[2,72]),t(W,[2,73]),t(W,[2,74]),t(W,[2,58]),t(W,[2,59]),t(W,[2,70]),t(W,[2,75]),t(W,[2,76]),t(W,[2,77]),t(W,[2,78]),t(W,[2,79]),t(W,[2,80]),t(W,[2,81]),t(W,[2,82]),t(W,[2,83]),t(W,[2,84]),t(W,[2,85]),t(W,[2,86]),t(W,[2,88]),t(W,[2,89]),t(W,[2,90]),t(W,[2,91]),t(W,[2,93]),t(W,[2,60]),t(W,[2,61]),t(W,[2,62]),t(W,[2,63]),t(W,[2,64]),t(W,[2,65]),t(W,[2,66]),t(W,[2,67]),t(W,[2,68]),t(W,[2,69]),{
    4:85,6:4,7:5,8:6,9:7,10:i,14:n,16:r,18:33,19:s,20:o,21:32,22:a,23:[1,86],25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},t(W,[2,23]),t(W,[2,24]),{1:[2,1]},t(U,[2,3]),t(z,[2,33],{27:87,75:F}),t(G,[2,32]),t(G,[2,92]),t(G,[2,34]),t(G,[2,35]),{11:[1,88],12:[1,89],13:[1,90]},t(G,[2,16]),{16:[1,91]},{4:92,6:4,7:5,8:6,9:7,10:i,14:n,16:r,17:[1,93],18:33,19:s,20:o,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},{7:82,15:94,16:[2,30],18:33,19:s,20:o,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},{17:[1,95]},t(G,[2,22]),{23:[1,96]},{4:97,6:4,7:5,8:6,9:7,10:i,14:n,16:r,18:33,19:s,20:o,21:32,22:a,24:[1,98],25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},t(G,[2,31]),{4:99,6:4,7:5,8:6,9:7,10:i,12:[1,100],13:[1,101],14:n,16:r,18:33,19:s,20:o,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},{4:102,6:4,7:5,8:6,9:7,10:i,14:n,16:r,18:33,19:s,20:o,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},t(G,[2,15]),{4:103,6:4,7:5,8:6,9:7,10:i,14:n,16:r,17:[1,104],18:33,19:s,20:o,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},{17:[1,105]},t(G,[2,20]),{16:[2,29]},t(G,[2,21]),{4:106,6:4,7:5,8:6,9:7,10:i,14:n,16:r,18:33,19:s,20:o,21:32,22:a,24:[1,107],25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},{24:[1,108]},t(W,[2,28]),{12:[1,109],13:[1,110]},{4:111,6:4,7:5,8:6,9:7,10:i,13:[1,112],14:n,16:r,18:33,19:s,20:o,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},t(G,[2,14]),{13:[1,113]},{17:[1,114]},t(G,[2,19]),t(G,[2,18]),{24:[1,115]},t(W,[2,26]),t(W,[2,27]),{4:116,6:4,7:5,8:6,9:7,10:i,13:[1,117],14:n,16:r,18:33,19:s,20:o,21:32,22:a,25:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:l,47:c,48:u,49:h,50:d,51:p,52:f,53:g,54:m,55:v,56:y,57:b,58:x,59:_,60:w,61:S,62:E,63:k,64:T,65:C,66:I,67:P,68:A,69:M,70:O,71:L,72:D,73:q,74:N,75:F,76:R,77:V,78:j,79:$,81:B},t(G,[2,10]),{13:[1,118]},t(G,[2,13]),t(G,[2,12]),t(G,[2,17]),t(W,[2,25]),{13:[1,119]},t(G,[2,9]),t(G,[2,11]),t(G,[2,8])],defaultActions:{3:[2,2],71:[2,1],94:[2,29]},parseError:function(e,t){function i(e,t){this.message=e,this.hash=t}if(!t.recoverable)throw i.prototype=Error,new i(e,t);this.trace(e)},parse:function(e){var t=this,i=[0],n=[null],r=[],s=this.table,o="",a=0,l=0,c=0,u=2,h=1,d=r.slice.call(arguments,1),p=Object.create(this.lexer),f={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(f.yy[g]=this.yy[g]);p.setInput(e,f.yy),f.yy.lexer=p,f.yy.parser=this,"undefined"==typeof p.yylloc&&(p.yylloc={});var m=p.yylloc;r.push(m);var v=p.options&&p.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,b,x,_,w,S,E,k,T,C=function(){var e;return e=p.lex()||h,"number"!=typeof e&&(e=t.symbols_[e]||e),e},I={};;){if(x=i[i.length-1],this.defaultActions[x]?_=this.defaultActions[x]:(null!==y&&"undefined"!=typeof y||(y=C()),_=s[x]&&s[x][y]),"undefined"==typeof _||!_.length||!_[0]){var P="";T=[];for(S in s[x])this.terminals_[S]&&S>u&&T.push("'"+this.terminals_[S]+"'");P=p.showPosition?"Parse error on line "+(a+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(a+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(P,{text:p.match,token:this.terminals_[y]||y,line:p.yylineno,loc:m,expected:T})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+y);switch(_[0]){case 1:i.push(y),n.push(p.yytext),r.push(p.yylloc),i.push(_[1]),y=null,b?(y=b,b=null):(l=p.yyleng,o=p.yytext,a=p.yylineno,m=p.yylloc,c>0&&c--);break;case 2:if(E=this.productions_[_[1]][1],I.$=n[n.length-E],I._$={first_line:r[r.length-(E||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(E||1)].first_column,last_column:r[r.length-1].last_column},v&&(I._$.range=[r[r.length-(E||1)].range[0],r[r.length-1].range[1]]),w=this.performAction.apply(I,[o,l,a,f.yy,_[1],n,r].concat(d)),"undefined"!=typeof w)return w;E&&(i=i.slice(0,-1*E*2),n=n.slice(0,-1*E),r=r.slice(0,-1*E)),i.push(this.productions_[_[1]][0]),n.push(I.$),r.push(I._$),k=s[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0}},X=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],i=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var s in r)this[s]=r[s];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i,n;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length;s++)if(i=this._input.match(this.rules[r[s]]),i&&(!t||i[0].length>t[0].length)){if(t=i,n=s,this.options.backtrack_lexer){if(e=this.test_match(i,r[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?(e=this.test_match(t,r[n]),e!==!1&&e):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,i,n){switch(i){case 0:return this.begin("modexp"),10;case 1:return 20;case 2:return this.begin("modexp"),10;case 3:return 11;case 4:return 12;case 5:return this.popState(),13;case 6:return 63;case 7:return 64;case 8:return 65;case 9:return 66;case 10:return 67;case 11:return 68;case 12:return 69;case 13:return 54;case 14:return 48;case 15:return 49;case 16:return 50;case 17:return 55;case 18:return 51;case 19:return 52;case 20:return 53;case 21:return 57;case 22:return 56;case 23:return 74;case 24:return 70;case 25:return 72;case 26:return 72;case 27:return 72;case 28:return 72;case 29:return 72;case 30:return 72;case 31:return 72;case 32:return 72;case 33:return 71;case 34:return 72;case 35:return 72;case 36:return 71;case 37:return 71;case 38:return 71;case 39:return 71;case 40:return 71;case 41:return 71;case 42:return 71;case 43:return 71;case 44:return 71;case 45:return 73;case 46:return 19;case 47:return 47;case 48:return 20;case 49:return 80;case 50:return 60;case 51:return 14;case 52:return this.begin("radical"),16;case 53:return this.popState(),17;case 54:return 17;case 55:return 77;case 56:return 79;case 57:return 78;case 58:return 59;case 59:return 59;case 60:return t.yytext=this.matches[1],75;case 61:return 22;case 62:return 23;case 63:return 24;case 64:return t.yytext=this.matches[1],62;case 65:return 61;case 66:return 76;case 67:return 81;case 68:return 46;case 69:return 47;case 70:return 58;case 71:return 5}},rules:[/^(?:"(?=[^>\]]+%))/,/^(?:")/,/^(?:"(?=[^>\]]+\]|[^>\]]+%))/,/^(?:%)/,/^(?:<)/,/^(?:\])/,/^(?:[+])/,/^(?:[-])/,/^(?:[*])/,/^(?:[@][*])/,/^(?:[@][\#])/,/^(?:[_][\/])/,/^(?:[.][\/])/,/^(?:[.][.][(])/,/^(?:[@][(])/,/^(?:[.][(])/,/^(?:[(])/,/^(?:[.][.][)])/,/^(?:[@][)])/,/^(?:[.][)])/,/^(?:[)])/,/^(?:[\\][\\])/,/^(?:[\\])/,/^(?:[_][3])/,/^(?:[@][0])/,/^(?:[ ][\^;]+[.]K[ ])/,/^(?:[\^;]+[=])/,/^(?:[ ][\^;]+[\/][.]K[ ])/,/^(?:[ ][\^;]+["]K[:][ ])/,/^(?:[ ][\^;]+[.]1[:][ ])/,/^(?:[ ][\^;]+["]K[ ])/,/^(?:[ ][\^;]+[.]1[ ])/,/^(?:[ ][\^;]+[\/][$][L][ ])/,/^(?:[ ][.]K[ ])/,/^(?:[ ][\^;]+[\/]?[$][L][ ])/,/^(?:[ ][\^;]+[$]P[ ])/,/^(?:[=])/,/^(?:[ ][\/][.]K[ ])/,/^(?:[ ]["]K[:][ ])/,/^(?:[ ][.]1[:][ ])/,/^(?:[ ]["]K[ ])/,/^(?:[ ][.]1[ ])/,/^(?:[@][:])/,/^(?:[ ][\/]?[$][L][ ])/,/^(?:[ ][$]P[ ])/,/^(?:[ ]?['][']['][ ]?)/,/^(?:[\^;]+)/,/^(?:[.]["])/,/^(?:["])/,/^(?:[']+)/,/^(?:[.][,]?[ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[.]*[<])/,/^(?:[.]*[>])/,/^(?:[.]*\])/,/^(?:[.]*\])/,/^(?:!)/,/^(?:[_]&)/,/^(?:&)/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:#?(\d*\.?\d+))/,/^(?:[,]*[?])/,/^(?:[,]*[\/])/,/^(?:[,]*#)/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,][=])/,/^(?:[_][8])/,/^(?:[,][ ]?)/,/^(?:[.])/,/^(?:[ ])/,/^(?:$)/],conditions:{radical:{rules:[0,1,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71],inclusive:!0},modexp:{rules:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71],inclusive:!0},INITIAL:{rules:[2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71],inclusive:!0}}};return e}();return Y.lexer=X,e.prototype=Y,Y.Parser=e,new e}();t.parser=r,t.Parser=r.Parser,t.parse=function(){return r.parse.apply(r,arguments)},t.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1));var r=i(4).readFileSync(i(5).normalize(n[1]),"utf8");return t.parser.parse(r)},"undefined"!=typeof n&&i.c[i.s]===n&&t.main(e.argv.slice(1))}).call(t,i(1),i(8)(e))},function(e,t,i){(function(e,n){var r=function(){function e(){this.yy={}}var t=function(e,t,i,n){for(i=i||{},n=e.length;n--;i[e[n]]=t);return i},i=[1,15],n=[1,16],r=[1,17],s=[1,36],o=[1,18],a=[1,37],l=[1,38],c=[1,14],u=[1,46],h=[1,47],d=[1,39],p=[1,40],f=[1,41],g=[1,56],m=[1,42],v=[1,43],y=[1,44],b=[1,45],x=[1,54],_=[1,55],w=[1,57],S=[1,58],E=[1,59],k=[1,60],T=[1,61],C=[1,62],I=[1,63],P=[1,64],A=[1,65],M=[1,66],O=[1,67],L=[1,68],D=[1,69],q=[1,70],N=[1,71],F=[1,72],R=[1,73],V=[1,74],j=[1,48],$=[1,49],B=[1,50],U=[1,51],G=[1,52],z=[1,75],H=[1,53],W=[5,14,18,19,29,52,53,54],Y=[5,10,13,14,15,18,19,29,52,53,54],X=[5,10,13,14,15,17,18,19,21,23,24,28,29,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86],Q=[1,83],K=[1,84],Z=[1,85],J=[10,13,15,17,21,23,24,28,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86],ee={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,expression_group:6,delimited_expression:7,level:8,radical:9,LEVEL:10,basic_token:11,bracketed_expression:12,RADICAL_WITH_INDEX:13,CLOSE_RADICAL:14,RADICAL:15,frac:16,OPEN_FRAC:17,OVER:18,CLOSE_FRAC:19,simple_frac:20,NUMBER:21,NUMBER_FRAC_DENOMINATOR:22,NUMBER_FRAC_NUMERATOR_BAD:23,NUMBER_FRAC_DENOMINATOR_BAD:24,atom:25,lbracket:26,rbracket:27,OPEN_GROUP:28,CLOSE_GROUP:29,command:30,greek:31,letter:32,comma:33,period:34,colon:35,infinity:36,integral:37,factorial:38,ampersand:39,question_mark:40,bracket:41,space:42,operation:43,comparison:44,ellipsis:45,primes:46,",":47,".":48,"[":49,"{":50,"(":51,"]":52,"}":53,")":54,SPACE:55,COMMAND:56,GREEK:57,CAPITAL_LETTER:58,LETTER:59,PIPE:60,DOUBLE_PIPE:61,"+":62,"-":63,CDOT:64,TIMES:65,"*":66,DIV:67,SLASH:68,PERCENT:69,"=":70,NEQ:71,"<":72,">":73,LEQ:74,GEQ:75,TILDE:76,PARALLEL:77,PERPENDICULAR:78,ELLIPSIS:79,COLON:80,INFINITY:81,INTEGRAL:82,FACTORIAL:83,"&":84,PRIMES:85,"?":86,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"LEVEL",13:"RADICAL_WITH_INDEX",14:"CLOSE_RADICAL",15:"RADICAL",17:"OPEN_FRAC",18:"OVER",19:"CLOSE_FRAC",21:"NUMBER",22:"NUMBER_FRAC_DENOMINATOR",23:"NUMBER_FRAC_NUMERATOR_BAD",24:"NUMBER_FRAC_DENOMINATOR_BAD",28:"OPEN_GROUP",29:"CLOSE_GROUP",47:",",48:".",49:"[",50:"{",51:"(",52:"]",53:"}",54:")",55:"SPACE",56:"COMMAND",57:"GREEK",58:"CAPITAL_LETTER",59:"LETTER",60:"PIPE",61:"DOUBLE_PIPE",62:"+",63:"-",64:"CDOT",65:"TIMES",66:"*",67:"DIV",68:"SLASH",69:"PERCENT",70:"=",71:"NEQ",72:"<",73:">",74:"LEQ",75:"GEQ",76:"TILDE",77:"PARALLEL",78:"PERPENDICULAR",79:"ELLIPSIS",80:"COLON",81:"INFINITY",82:"INTEGRAL",83:"FACTORIAL",84:"&",85:"PRIMES",86:"?"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[7,1],[7,1],[8,2],[8,2],[8,2],[9,4],[9,3],[9,3],[9,2],[9,4],[9,3],[9,2],[16,5],[16,4],[16,4],[16,3],[16,2],[20,2],[20,1],[20,1],[11,1],[11,1],[11,1],[6,2],[6,2],[6,1],[6,1],[12,3],[12,2],[12,3],[12,2],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[33,1],[34,1],[26,1],[26,1],[26,1],[27,1],[27,1],[27,1],[42,1],[30,1],[31,1],[32,1],[32,1],[41,1],[41,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[45,1],[35,1],[36,1],[37,1],[38,1],[39,1],[46,1],[40,1]],performAction:function(e,t,i,n,r,s,o){var a=s.length-1;switch(r){case 1:return s[a-1];case 2:return n.group();case 3:case 35:this.$=n.group(s[a-2],s[a-1],s[a]);break;case 4:case 6:case 31:case 32:case 36:this.$=n.group(s[a-1],s[a]);break;case 5:case 7:case 33:case 34:this.$=n.group(s[a]);break;case 10:case 11:case 12:this.$=n.basic_level(s[a-1],n.group(s[a]));break;case 13:case 17:this.$=n.radical(s[a-1],n.group(s[a-2]));break;case 14:case 15:this.$=n.radical(n.group(),n.group(s[a-1]));break;case 16:this.$=n.radical(n.group(),n.group());break;case 18:this.$=n.radical(s[a-1]);break;case 19:this.$=n.radical(n.group());break;case 20:this.$=n.fraction(s[a-3],s[a-1]);break;case 21:this.$=n.fraction(s[a-2],n.group());break;case 22:this.$=n.fraction(n.group(),s[a-1]);break;case 23:case 24:this.$=n.fraction(n.group(),n.group());break;case 25:this.$=n.fraction(n.group(n.terminal(n.to_number(s[a-1]))),n.group(n.terminal(n.to_number(s[a]))));break;case 26:this.$=n.fraction(n.group(n.terminal(n.to_number(s[a]))),n.group());break;case 27:this.$=n.fraction(n.group(),n.group(n.terminal(n.to_number(s[$01]))));break;case 37:this.$=n.group(s[a-1]);break;case 38:this.$=n.group();break;case 39:this.$=n.terminal(n.to_number(s[a]));break;case 57:this.$=n.terminal(",");break;case 58:this.$=n.terminal(".");break;case 59:this.$=n.terminal("[");break;case 60:this.$=n.terminal("\\{");break;case 61:this.$=n.terminal("(");break;case 62:this.$=n.terminal("]");break;case 63:this.$=n.terminal("\\}");break;case 64:this.$=n.terminal(")");break;case 65:this.$=n.terminal(" ");break;case 66:this.$=n.command("\\"+s[a].trim().toLowerCase());break;case 67:this.$=n.terminal(n.greek(s[a]));break;case 68:this.$=n.terminal(s[a].toUpperCase());break;case 69:this.$=n.terminal(s[a].toLowerCase());break;case 70:this.$=n.terminal("|");break;case 71:this.$=n.terminal("\\|");break;case 72:this.$=n.terminal("+");break;case 73:this.$=n.terminal("-");break;case 74:this.$=n.terminal("\\cdot ");break;case 75:this.$=n.terminal("\\times ");break;case 76:this.$=n.terminal("*");break;case 77:this.$=n.terminal("\\div ");break;case 78:this.$=n.terminal("/");break;case 79:this.$=n.terminal("\\%");break;case 80:this.$=n.terminal("=");break;case 81:this.$=n.terminal("\\neq ");break;case 82:this.$=n.terminal("<");break;case 83:this.$=n.terminal(">");break;case 84:this.$=n.terminal("\\leq ");break;case 85:this.$=n.terminal("\\geq ");break;case 86:this.$=n.terminal("\\sim ");break;case 87:this.$=n.terminal("\\parallel ");break;case 88:this.$=n.terminal("\\perp ");break;case 89:this.$=n.terminal("\\ldots ");break;case 90:this.$=n.terminal(":");break;case 91:this.$=n.terminal("\\infty ");break;case 92:this.$=n.terminal("\\int ");break;case 93:this.$=n.terminal("!");break;case 94:this.$=n.terminal("\\&");break;case 95:this.$=n.primes(s[a]);break;case 96:this.$=n.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:n,15:r,16:11,17:s,20:12,21:o,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H},{1:[3]},{5:[1,76]},{1:[2,2]},t(W,[2,5],{8:8,9:9,7:77,10:i,13:n,15:r}),t(W,[2,7],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:78,10:i,13:n,15:r,17:s,21:o,23:a,24:l,28:c,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H}),t(Y,[2,33],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:79,17:s,21:o,23:a,24:l,28:c,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H}),t(Y,[2,34],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:80,17:s,21:o,23:a,24:l,28:c,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H}),t(X,[2,8]),t(X,[2,9]),t(X,[2,28]),t(X,[2,29]),t(X,[2,30]),{4:81,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:n,15:r,16:11,17:s,20:12,21:o,23:a,24:l,25:10,26:13,27:82,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:h,49:d,50:p,51:f,52:Q,53:K,54:Z,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H},{4:86,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:n,15:r,16:11,17:s,20:12,21:o,23:a,24:l,25:10,26:13,28:c,29:[1,87],30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H},{9:90,11:88,12:89,13:n,15:r,16:11,17:s,20:12,21:o,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H},{11:91,12:92,14:[1,93],16:11,17:s,20:12,21:o,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H},{4:94,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:n,14:[1,95],15:r,16:11,17:s,20:12,21:o,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H},t(X,[2,39],{22:[1,96]}),t(X,[2,40]),t(X,[2,41]),t(X,[2,42]),t(X,[2,43]),t(X,[2,44]),t(X,[2,45]),t(X,[2,46]),t(X,[2,47]),t(X,[2,48]),t(X,[2,49]),t(X,[2,50]),t(X,[2,51]),t(X,[2,52]),t(X,[2,53]),t(X,[2,54]),t(X,[2,55]),t(X,[2,56]),{4:97,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:n,15:r,16:11,17:s,18:[1,98],19:[1,99],20:12,21:o,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H},t(X,[2,26]),t(X,[2,27]),t(J,[2,59]),t(J,[2,60]),t(J,[2,61]),t(X,[2,66]),t(X,[2,67]),t(X,[2,68]),t(X,[2,69]),t(X,[2,57]),t(X,[2,58]),t(X,[2,90]),t(X,[2,91]),t(X,[2,92]),t(X,[2,93]),t(X,[2,94]),t(X,[2,96]),t(X,[2,70]),t(X,[2,71]),t(X,[2,65]),t(X,[2,72]),t(X,[2,73]),t(X,[2,74]),t(X,[2,75]),t(X,[2,76]),t(X,[2,77]),t(X,[2,78]),t(X,[2,79]),t(X,[2,80]),t(X,[2,81]),t(X,[2,82]),t(X,[2,83]),t(X,[2,84]),t(X,[2,85]),t(X,[2,86]),t(X,[2,87]),t(X,[2,88]),t(X,[2,89]),t(X,[2,95]),{1:[2,1]},t(W,[2,4],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:100,10:i,13:n,15:r,17:s,21:o,23:a,24:l,28:c,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H}),t(W,[2,6]),t(Y,[2,31]),t(Y,[2,32]),{27:101,52:Q,53:K,54:Z},t(X,[2,36]),t(X,[2,62]),t(X,[2,63]),t(X,[2,64]),{29:[1,102]},t(X,[2,38]),t(X,[2,10]),t(X,[2,11]),t(X,[2,12]),{4:103,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:n,14:[1,104],15:r,16:11,17:s,20:12,21:o,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H},{4:106,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:n,14:[1,105],15:r,16:11,17:s,20:12,21:o,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H},t(X,[2,16]),{14:[1,107]},t(X,[2,19]),t(X,[2,25]),{18:[1,108]},{4:109,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:n,15:r,16:11,17:s,19:[1,110],20:12,21:o,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H},t(X,[2,24]),t(W,[2,3]),t(X,[2,35]),t(X,[2,37]),{14:[1,111]},t(X,[2,15]),t(X,[2,14]),{14:[1,112]},t(X,[2,18]),{4:113,6:4,7:5,8:8,9:9,10:i,11:6,12:7,13:n,15:r,16:11,17:s,19:[1,114],20:12,21:o,23:a,24:l,25:10,26:13,28:c,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:u,48:h,49:d,50:p,51:f,55:g,56:m,57:v,58:y,59:b,60:x,61:_,62:w,63:S,64:E,65:k,66:T,67:C,68:I,69:P,70:A,71:M,72:O,73:L,74:D,75:q,76:N,77:F,78:R,79:V,80:j,81:$,82:B,83:U,84:G,85:z,86:H},{19:[1,115]},t(X,[2,23]),t(X,[2,13]),t(X,[2,17]),{19:[1,116]},t(X,[2,21]),t(X,[2,22]),t(X,[2,20])],defaultActions:{3:[2,2],76:[2,1]},parseError:function(e,t){function i(e,t){this.message=e,this.hash=t}if(!t.recoverable)throw i.prototype=Error,new i(e,t);this.trace(e)},parse:function(e){var t=this,i=[0],n=[null],r=[],s=this.table,o="",a=0,l=0,c=0,u=2,h=1,d=r.slice.call(arguments,1),p=Object.create(this.lexer),f={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(f.yy[g]=this.yy[g]);p.setInput(e,f.yy),f.yy.lexer=p,f.yy.parser=this,"undefined"==typeof p.yylloc&&(p.yylloc={});var m=p.yylloc;r.push(m);var v=p.options&&p.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,b,x,_,w,S,E,k,T,C=function(){var e;return e=p.lex()||h,"number"!=typeof e&&(e=t.symbols_[e]||e),e},I={};;){if(x=i[i.length-1],this.defaultActions[x]?_=this.defaultActions[x]:(null!==y&&"undefined"!=typeof y||(y=C()),_=s[x]&&s[x][y]),"undefined"==typeof _||!_.length||!_[0]){var P="";T=[];for(S in s[x])this.terminals_[S]&&S>u&&T.push("'"+this.terminals_[S]+"'");P=p.showPosition?"Parse error on line "+(a+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(a+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(P,{text:p.match,token:this.terminals_[y]||y,line:p.yylineno,loc:m,expected:T})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+y);switch(_[0]){case 1:i.push(y),n.push(p.yytext),r.push(p.yylloc),i.push(_[1]),y=null,b?(y=b,b=null):(l=p.yyleng,o=p.yytext,a=p.yylineno,m=p.yylloc,c>0&&c--);break;case 2:if(E=this.productions_[_[1]][1],I.$=n[n.length-E],I._$={first_line:r[r.length-(E||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(E||1)].first_column,last_column:r[r.length-1].last_column},v&&(I._$.range=[r[r.length-(E||1)].range[0],r[r.length-1].range[1]]),w=this.performAction.apply(I,[o,l,a,f.yy,_[1],n,r].concat(d)),"undefined"!=typeof w)return w;E&&(i=i.slice(0,-1*E*2),n=n.slice(0,-1*E),r=r.slice(0,-1*E)),i.push(this.productions_[_[1]][0]),n.push(I.$),r.push(I._$),k=s[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0}},te=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,
    last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],i=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var s in r)this[s]=r[s];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i,n;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length;s++)if(i=this._input.match(this.rules[r[s]]),i&&(!t||i[0].length>t[0].length)){if(t=i,n=s,this.options.backtrack_lexer){if(e=this.test_match(i,r[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?(e=this.test_match(t,r[n]),e!==!1&&e):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,i,n){switch(i){case 0:return void this.begin("captext");case 1:return 58;case 2:return this.popState(),58;case 3:return 62;case 4:return 63;case 5:return 64;case 6:return 65;case 7:return 66;case 8:return 67;case 9:return 49;case 10:return 50;case 11:return 51;case 12:return 52;case 13:return 53;case 14:return 54;case 15:return 71;case 16:return 74;case 17:return 75;case 18:return 70;case 19:return 72;case 20:return 73;case 21:return 76;case 22:return 69;case 23:return 79;case 24:return 13;case 25:return 15;case 26:return 14;case 27:return 10;case 28:return 28;case 29:return 29;case 30:return 82;case 31:return 83;case 32:return 84;case 33:return 17;case 34:return 18;case 35:return 19;case 36:return 77;case 37:return 78;case 38:return 81;case 39:return t.yytext=this.matches[1],21;case 40:return t.yytext=this.matches[1],22;case 41:return t.yytext=this.matches[1],24;case 42:return 68;case 43:return 47;case 44:return 48;case 45:return 85;case 46:return 61;case 47:return 60;case 48:return 80;case 49:return 56;case 50:return 56;case 51:return 57;case 52:return t.yytext=this.matches[1],58;case 53:return 59;case 54:return;case 55:return 86;case 56:return;case 57:return 55;case 58:return 5}},rules:[/^(?:([,][,])(?=[A-Z]))/,/^(?:[A-Z](?=[A-Z]))/,/^(?:[A-Z])/,/^(?:["][6])/,/^(?:["][-])/,/^(?:["][4])/,/^(?:["][8])/,/^(?:["][9])/,/^(?:["][\/])/,/^(?:[.][<])/,/^(?:[_][<])/,/^(?:["][<])/,/^(?:[.][>])/,/^(?:[_][>])/,/^(?:["][>])/,/^(?:["][7][@][:])/,/^(?:[_][@][<])/,/^(?:[_][@][>])/,/^(?:["][7])/,/^(?:[@][<])/,/^(?:[@][>])/,/^(?:[@][9])/,/^(?:[.][0])/,/^(?:[4][4][4])/,/^(?:[%][9])/,/^(?:[%])/,/^(?:[\+])/,/^(?:[95]+)/,/^(?:[<])/,/^(?:[>])/,/^(?:!)/,/^(?:[6])/,/^(?:[@]&)/,/^(?:[(])/,/^(?:[.][\/])/,/^(?:[)])/,/^(?:#[L])/,/^(?:#-)/,/^(?:#=)/,/^(?:#([A-J4]+))/,/^(?:[\/]([A-J4]+))/,/^(?:[#][\/]([A-J4]+))/,/^(?:[_]?[\/])/,/^(?:[1])/,/^(?:[4])/,/^(?:[7]+)/,/^(?:[_][\\][_][\\])/,/^(?:[_][\\])/,/^(?:[3])/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:[,]?[.][ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,]['])/,/^(?:[8])/,/^(?:[;])/,/^(?:[ ])/,/^(?:$)/],conditions:{captext:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],inclusive:!0},INITIAL:{rules:[0,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],inclusive:!0}}};return e}();return ee.lexer=te,e.prototype=ee,ee.Parser=e,new e}();t.parser=r,t.Parser=r.Parser,t.parse=function(){return r.parse.apply(r,arguments)},t.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1));var r=i(4).readFileSync(i(5).normalize(n[1]),"utf8");return t.parser.parse(r)},"undefined"!=typeof n&&i.c[i.s]===n&&t.main(e.argv.slice(1))}).call(t,i(1),i(8)(e))},function(e,t,i){function n(e){for(var t=[],i=0;i<e.length;i++){var h=e[i];switch(h.type){case"command":var d=h.value.slice(1).trim();c.hasOwnProperty(h.value)?t.push(a.command(c[h.value])):o.containsValue(d)?t.push(a.typeform("operator_name",r(d))):u[h.value]||t.push(h);break;case"level":var p={subscript:h.subscript&&h.subscript.length>0?n(h.subscript):void 0,superscript:h.superscript&&h.superscript.length>0?n(h.superscript):void 0,type:h.type};(p.subscript||p.superscript)&&t.push(p);break;case"fraction":t.push({denominator:n(h.denominator),numerator:n(h.numerator),type:h.type});break;case"radical":t.push({index:h.index?n(h.index):void 0,radicand:n(h.radicand),type:h.type});break;case"terminal":s(e.slice(i))?(t.push({type:"command",value:"\\ldots"}),i+=2):t.push({type:h.type,value:l.hasOwnProperty(h.value)?l[h.value]:h.value});break;case"typeform":t.push(h);break;case"greek":t.push({type:h.type,value:l.hasOwnProperty(h.value)?l[h.value]:h.value});break;default:throw new Error("Unexpected item:\n"+JSON.stringify({group:e,item:h}))}}return t}function r(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i];t.push(a.terminal(r))}return t}function s(e){for(var t=0,i=0;i<Math.min(3,e.length);i++){var n=e[i];"terminal"===n.type&&"."===n.value&&t++}return 3===t}Object.defineProperty(t,"__esModule",{value:!0});var o=i(2),a=i(7),l={"~":"\\ "},c={"\\,":"\\ ","\\Vert":"\\|","\\ge":"\\geq","\\le":"\\leq","\\vert":"|"},u={"\\space":!0};t.default=n},function(e,t,i){function n(e){try{return{isError:!1,value:s.parser.parse(e)}}catch(e){return{isError:!0,error:r.default(e)}}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(6),s=i(13),o=i(7);s.parser.yy=o,t.default=n},function(e,t,i){(function(e,n){var r=function(){function e(){this.yy={}}var t=function(e,t,i,n){for(i=i||{},n=e.length;n--;i[e[n]]=t);return i},i=[1,13],n=[1,14],r=[1,15],s=[1,16],o=[1,17],a=[1,19],l=[1,18],c=[1,20],u=[1,21],h=[1,26],d=[1,28],p=[1,29],f=[1,30],g=[1,31],m=[1,27],v=[5,21,25,36],y=[5,19,21,22,23,24,25,26,30,31,32,33,34,35,36],b=[5,10,12,13,14,19,21,22,23,24,25,26,30,31,32,33,34,35,36],x=[5,10,19,21,22,23,24,25,26,30,31,32,33,34,35,36],_={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,level:6,expression:7,subscript:8,superscript:9,_:10,atom:11,"^":12,"PRIMES^":13,PRIMES:14,delimited_group:15,operator_name:16,frac:17,radical:18,LEFT:19,delimiter:20,RIGHT:21,FRAC:22,OPERATOR_NAME:23,RADICAL_OPTARG:24,CLOSE_OPTARG:25,RADICAL:26,curly_group:27,greek:28,command:29,SYMBOL:30,DELIMITER:31,DELIMITER_COMMAND:32,GREEK:33,COMMAND:34,"{":35,"}":36,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"_",12:"^",13:"PRIMES^",14:"PRIMES",19:"LEFT",21:"RIGHT",22:"FRAC",23:"OPERATOR_NAME",24:"RADICAL_OPTARG",25:"CLOSE_OPTARG",26:"RADICAL",30:"SYMBOL",31:"DELIMITER",32:"DELIMITER_COMMAND",33:"GREEK",34:"COMMAND",35:"{",36:"}"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[6,2],[6,2],[6,1],[6,1],[8,2],[9,2],[9,2],[9,1],[7,1],[7,1],[7,1],[7,1],[7,1],[15,5],[15,4],[17,3],[16,2],[18,4],[18,3],[18,2],[18,2],[11,1],[11,1],[11,1],[11,1],[11,1],[20,1],[20,1],[28,1],[29,1],[27,3],[27,2]],performAction:function(e,t,i,n,r,s,o){var a=s.length-1;switch(r){case 1:return s[a-1];case 2:return n.group();case 3:this.$=n.group(s[a-2],s[a-1],s[a]);break;case 4:case 6:this.$=n.group(s[a-1],s[a]);break;case 5:case 7:this.$=n.group(s[a]);break;case 8:this.$=n.level({_:n.group(s[a-1]),"^":n.group(s[a])});break;case 9:this.$=n.level({_:n.group(s[a]),"^":n.group(s[a-1])});break;case 10:this.$=n.level({"^":n.group(s[a])});break;case 11:this.$=n.level({_:n.group(s[a])});break;case 12:case 13:this.$=s[a];break;case 14:this.$=n.processPrimes(s[a-1],s[a]);break;case 15:this.$=n.processPrimes(s[a],n.group());break;case 21:this.$=n.group(s[a-3],s[a-2],s[a]);break;case 22:this.$=n.group(s[a-2],s[a]);break;case 23:this.$=n.fraction(n.group(s[a-1]),n.group(s[a]));break;case 24:this.$=n.typeform("operator_name",n.group(s[a]));break;case 25:this.$=n.radical(s[a],n.group(s[a-2]));break;case 26:this.$=n.radical(n.group(s[a]),n.group());break;case 27:case 28:this.$=n.radical(n.group(s[a]));break;case 33:case 34:this.$=n.terminal(s[a]);break;case 35:case 37:this.$=n.command(s[a]);break;case 36:this.$=n.greek(s[a]);break;case 38:this.$=s[a-1];break;case 39:this.$=n.group()}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:i,11:12,12:n,13:r,14:s,15:8,16:9,17:10,18:11,19:o,20:23,22:a,23:l,24:c,26:u,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m},{1:[3]},{5:[1,32]},{1:[2,2]},t(v,[2,5],{15:8,16:9,17:10,18:11,11:12,27:22,20:23,28:24,29:25,7:33,19:o,22:a,23:l,24:c,26:u,30:h,31:d,32:p,33:f,34:g,35:m}),t(v,[2,7],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,27:22,20:23,28:24,29:25,4:34,10:i,12:n,13:r,14:s,19:o,22:a,23:l,24:c,26:u,30:h,31:d,32:p,33:f,34:g,35:m}),t(y,[2,11],{9:35,12:n,13:r,14:s}),t(y,[2,10],{8:36,10:i}),t(b,[2,16]),t(b,[2,17]),t(b,[2,18]),t(b,[2,19]),t(b,[2,20]),{11:37,20:23,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m},{11:38,20:23,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m},{11:39,20:23,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m},t(x,[2,15]),{20:40,31:d,32:p},{11:41,20:23,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m},{11:42,20:23,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m},{4:43,6:4,7:5,8:6,9:7,10:i,11:12,12:n,13:r,14:s,15:8,16:9,17:10,18:11,19:o,20:23,22:a,23:l,24:c,25:[1,44],26:u,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m},{11:45,17:46,20:23,22:a,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m},t(b,[2,29]),t(b,[2,30]),t(b,[2,31]),t(b,[2,32]),t(b,[2,33]),{4:47,6:4,7:5,8:6,9:7,10:i,11:12,12:n,13:r,14:s,15:8,16:9,17:10,18:11,19:o,20:23,22:a,23:l,24:c,26:u,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m,36:[1,48]},t(b,[2,34]),t(b,[2,35]),t(b,[2,36]),t(b,[2,37]),{1:[2,1]},t(v,[2,4],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,27:22,20:23,28:24,29:25,4:49,10:i,12:n,13:r,14:s,19:o,22:a,23:l,24:c,26:u,30:h,31:d,32:p,33:f,34:g,35:m}),t(v,[2,6]),t(y,[2,8]),t(y,[2,9]),t([5,12,13,14,19,21,22,23,24,25,26,30,31,32,33,34,35,36],[2,12]),t(x,[2,13]),t(x,[2,14]),{4:50,6:4,7:5,8:6,9:7,10:i,11:12,12:n,13:r,14:s,15:8,16:9,17:10,18:11,19:o,20:23,21:[1,51],22:a,23:l,24:c,26:u,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m},t(b,[2,24]),{11:52,20:23,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m},{25:[1,53]},{11:54,20:23,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m},t(b,[2,27]),t(b,[2,28]),{36:[1,55]},t(b,[2,39]),t(v,[2,3]),{21:[1,56]},{20:57,31:d,32:p},t(b,[2,23]),{11:58,20:23,27:22,28:24,29:25,30:h,31:d,32:p,33:f,34:g,35:m},t(b,[2,26]),t(b,[2,38]),{20:59,31:d,32:p},t(b,[2,22]),t(b,[2,25]),t(b,[2,21])],defaultActions:{3:[2,2],32:[2,1]},parseError:function(e,t){function i(e,t){this.message=e,this.hash=t}if(!t.recoverable)throw i.prototype=Error,new i(e,t);this.trace(e)},parse:function(e){var t=this,i=[0],n=[null],r=[],s=this.table,o="",a=0,l=0,c=0,u=2,h=1,d=r.slice.call(arguments,1),p=Object.create(this.lexer),f={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(f.yy[g]=this.yy[g]);p.setInput(e,f.yy),f.yy.lexer=p,f.yy.parser=this,"undefined"==typeof p.yylloc&&(p.yylloc={});var m=p.yylloc;r.push(m);var v=p.options&&p.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,b,x,_,w,S,E,k,T,C=function(){var e;return e=p.lex()||h,"number"!=typeof e&&(e=t.symbols_[e]||e),e},I={};;){if(x=i[i.length-1],this.defaultActions[x]?_=this.defaultActions[x]:(null!==y&&"undefined"!=typeof y||(y=C()),_=s[x]&&s[x][y]),"undefined"==typeof _||!_.length||!_[0]){var P="";T=[];for(S in s[x])this.terminals_[S]&&S>u&&T.push("'"+this.terminals_[S]+"'");P=p.showPosition?"Parse error on line "+(a+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(a+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(P,{text:p.match,token:this.terminals_[y]||y,line:p.yylineno,loc:m,expected:T})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+y);switch(_[0]){case 1:i.push(y),n.push(p.yytext),r.push(p.yylloc),i.push(_[1]),y=null,b?(y=b,b=null):(l=p.yyleng,o=p.yytext,a=p.yylineno,m=p.yylloc,c>0&&c--);break;case 2:if(E=this.productions_[_[1]][1],I.$=n[n.length-E],I._$={first_line:r[r.length-(E||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(E||1)].first_column,last_column:r[r.length-1].last_column},v&&(I._$.range=[r[r.length-(E||1)].range[0],r[r.length-1].range[1]]),w=this.performAction.apply(I,[o,l,a,f.yy,_[1],n,r].concat(d)),"undefined"!=typeof w)return w;E&&(i=i.slice(0,-1*E*2),n=n.slice(0,-1*E),r=r.slice(0,-1*E)),i.push(this.productions_[_[1]][0]),n.push(I.$),r.push(I._$),k=s[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0}},w=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],i=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var s in r)this[s]=r[s];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i,n;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length;s++)if(i=this._input.match(this.rules[r[s]]),i&&(!t||i[0].length>t[0].length)){if(t=i,n=s,this.options.backtrack_lexer){if(e=this.test_match(i,r[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?(e=this.test_match(t,r[n]),e!==!1&&e):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,i,n){switch(i){case 0:break;case 1:return this.begin("optarg"),24;case 2:return this.popState(),25;case 3:return 23;case 4:return 26;case 5:return 22;case 6:return 13;case 7:return 14;case 8:return 12;case 9:return 10;case 10:return 19;case 11:return 21;case 12:return 32;case 13:return 31;case 14:return 35;case 15:return 36;case 16:return 30;case 17:return 30;case 18:return 30;case 19:return 33;case 20:return 33;case 21:return 34;case 22:return 30;case 23:return 5}},rules:[/^(?:\s+)/,/^(?:(\\sqrt)\s*\[)/,/^(?:\])/,/^(?:(\\operatorname))/,/^(?:(\\sqrt))/,/^(?:(\\frac))/,/^(?:'+\^)/,/^(?:'+)/,/^(?:\^)/,/^(?:[_])/,/^(?:(\\left))/,/^(?:(\\right))/,/^(?:(\\langle|\\rangle|\\vert|\\Vert))/,/^(?:\[|\]|\\\{|\\\}|\(|\)|\||\\\|)/,/^(?:\{)/,/^(?:\})/,/^(?:\\(infty))/,/^(?:\\(int))/,/^(?:!)/,/^(?:\\(alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|omicron|pi|rho|sigma|tau|xi|upsilon|phi|chi|psi|omega))/,/^(?:\\(Alpha|Beta|Gamma|Delta|Epsilon|Zeta|Eta|Theta|Iota|Kappa|Lambda|Mu|Nu|Omicron|Pi|Rho|Sigma|Tau|Xi|Upsilon|Phi|Chi|Psi|Omega))/,/^(?:\\[A-Za-z]+)/,/^(?:\\.|.)/,/^(?:$)/],conditions:{optarg:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],inclusive:!0},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],inclusive:!0}}};return e}();return _.lexer=w,e.prototype=_,_.Parser=e,new e}();t.parser=r,t.Parser=r.Parser,t.parse=function(){return r.parse.apply(r,arguments)},t.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1));var r=i(4).readFileSync(i(5).normalize(n[1]),"utf8");return t.parser.parse(r)},"undefined"!=typeof n&&i.c[i.s]===n&&t.main(e.argv.slice(1))}).call(t,i(1),i(8)(e))},function(e,t,i){function n(e){return E.map(S.default(e),function(e){return x(w.default(e))})}function r(e){return/^[a-z]$/.test(e.value)?e.value.toUpperCase():/^[A-Z]$/.test(e.value)?","+e.value:/^[0-9.]$/.test(e.value)?e.value:/^[+\-()]$/.test(e.value)?e.value:k.hasOwnProperty(e.value)?k[e.value]:"[terminal: "+e.value+"]"}function s(e){return T.hasOwnProperty(e.value)?T[e.value]:e.value.slice(1).toUpperCase()+" "}function o(e){return C.hasOwnProperty(e.value)?C[e.value]:e.value.slice(1).toUpperCase()+" "}function a(e){return"\\space"===e.value}function l(e,t){return e.isStartOfLine&&/^-?$/.test(t)||/\s-?$/.test(t)||e.wasFraction}function c(e){return"\\sum"===e.value||"\\prod"===e.value}function u(e,t){if(t>=e.length)return!1;var i=e[t];if("terminal"===i.type){if(/^[0-9]$/.test(i.value))return!0;if("."!==i.value)return!1;if(t+1>=e.length)return!1;if(i=e[t+1],"terminal"===i.type)return/^[0-9]$/.test(i.value)}return!1}function h(e,t){for(var i="",n=e.levelIndicator,g=0,v=!1,x=0;x<t.length;x++){u(t,x)&&(""===n&&/[A-Z]$/.test(i)?i+=m(n):l(e,i)&&(i+="#"));var _=t[x],w=x<t.length-1?t[x+1]:null;switch("level"!==_.type&&n!==e.levelIndicator&&(b(_)?n="":(e.wasModifiedExpression&&""===e.levelIndicator?e=y(e,{wasModifiedExpression:!1}):i+=m(e.levelIndicator),n=e.levelIndicator)),_.type){case"terminal":i+=!e.wasModifiedExpression&&""!==n&&b(_)?" "+m(n)+r(_).trim()+" ":r(_),"."===_.value&&w&&("terminal"===w.type&&/^[^_\d,]/.test(r(w))||"greek"===w.type)&&(i+='"'),e=y(e,{wasFraction:!1,wasRomanCommand:!1});break;case"command":if(!a(_)){var S=c(_);S&&(i+='"'),i+=!S&&""!==n&&b(_)?" "+m(n)+s(_).trim()+" ":s(_),e=y(e,{wasFraction:!1,wasModifiedExpression:S,wasRomanCommand:!0})}break;case"greek":i+=o(_),e=y(e,{wasFraction:!1});break;case"fraction":var E=d(e,_);i+=E.value,g=Math.max(g,E.fractionLevel),e=y(e,{wasFraction:!0,wasRomanCommand:!1});break;case"radical":var k=p(e,_);i+=k.value,g=Math.max(g,k.fractionLevel),e=y(e,{wasFraction:!1,wasRomanCommand:!1});break;case"level":!e.wasModifiedExpression&&e.wasRomanCommand?(v=/\s$/.test(i),v&&(i=i.replace(/\s$/,""))):v=!1;var T=i.length>0&&/[A-Za-z]/.test(i[i.length-1])===!0,C=f(e,T,v,_);i+=C.value,n=C.levelIndicator,e=y(e,{wasFraction:!1,wasRomanCommand:!1});break;case"typeform":i+=h(e,_.value).value+" ",e=y(e,{wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1})}}return{fractionLevel:g,levelIndicator:n,value:i}}function d(e,t){e=y(e,{isStartOfLine:!1});for(var i=h(e,t.numerator),n=h(e,t.denominator),r=Math.max(i.fractionLevel,n.fractionLevel),s="",o=0;o<r;o++)s+=",";var a=s+"?"+i.value;return i.levelIndicator!==e.levelIndicator&&(a+=m(e.levelIndicator)),/\.$/.test(i.value)&&(a+='"'),a+=s+"/"+n.value,n.levelIndicator!==e.levelIndicator&&(a+=m(e.levelIndicator)),/\.$/.test(n.value)&&(a+='"'),a+=s+"#",{fractionLevel:r+1,value:a}}function p(e,t){for(var i=e.radicalLevel,n="",r="",s=0;s<i;s++)r+=".";if(t.index){n+=r+"<";var o=h(y(e,{isStartOfLine:!1}),t.index);n+=o.value,/\.$/.test(o.value)&&(n+='"'),o.levelIndicator!==e.levelIndicator&&(n+=m(e.levelIndicator)),n+=">"}else n+=r+">";var a=h(y(e,{isStartOfLine:!1,radicalLevel:i+1}),t.radicand);return n+=a.value,/\.$/.test(a.value)&&(n+='"'),a.levelIndicator!==e.levelIndicator&&(n+=m(e.levelIndicator)),n+=r+"]",{fractionLevel:a.fractionLevel,value:n}}function f(e,t,i,n){var r=e.levelIndicator,s="",o=g(n.superscript);if(s+=o,n.subscript){e.wasModifiedExpression&&(s+="%"),r=e.levelIndicator+";";var a=h(y(e,{isStartOfLine:!1,levelIndicator:r}),n.subscript);t&&/^[0-9]*(\.|\,)?[0-9]+$/.test(a.value)&&r.length<=1?r=e.levelIndicator:!e.wasModifiedExpression&&n.subscript[0]&&"level"!==n.subscript[0].type&&(s+=m(r)),s+=a.value,/\.$/.test(a.value)&&(s+='"')}if(n.superscript){e.wasModifiedExpression&&(s+="<"),r=e.levelIndicator+"^";var l=h(y(e,{isStartOfLine:!1,levelIndicator:r}),n.superscript.slice(o.length));!e.wasModifiedExpression&&n.superscript[0]&&"level"!==n.superscript[0].type&&""!==l.value&&(s+=m(r)),s+=l.value,/\.$/.test(l.value)&&(s+='"')}return e.wasModifiedExpression?s+="]":e.wasRomanCommand&&i&&(s+=" ",r=r.slice(0,r.length-1)),{levelIndicator:r,value:s}}function g(e){var t="";if(e)for(var i=0,n=e;i<n.length;i++){var r=n[i];if("command"!==r.type||"\\prime"!==r.value)break;t+="'"}return t}function m(e){return e?e:'"'}function v(){return{isStartOfLine:!0,levelIndicator:"",radicalLevel:0,wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1}}function y(e,t){return _({},e,t)}function b(e){return("terminal"===e.type||"command"===e.type)&&/^<|>|\=|\\leq?|\\geq?|\\neq?$/.test(e.value)}function x(e){var t=v();return h(t,e).value}var _=this&&this.__assign||Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var w=i(11),S=i(12),E=i(0);t.default=n;var k={"!":"&","*":"@#",",":", ","/":"_/",":":"_3","<":' "K ',"=":" .K ",">":" .1 ","?":"_8","[":"@(","\\ ":" ","\\%":"@0","\\&":"_&","\\,":" ","\\infty":",=","\\int":"!","\\{":".(","\\|":"\\\\","\\}":".)","]":"@)","|":"\\"},T={"\\Vert":"\\\\","\\cdot":"*","\\div":"./","\\ge":" .1: ","\\geq":" .1: ","\\langle":"..(","\\ldots":" ''' ","\\le":' "K: ',"\\leq":' "K: ',"\\ne":" /.K ","\\neq":" /.K ","\\nparallel":" /$L ","\\parallel":" $L ","\\perp":" $P ","\\prime":"'","\\prod":".,P","\\rangle":"..)","\\sim":"@:","\\sum":".,S","\\times":"@*","\\vert":"\\"},C={"\\Alpha":".,A","\\Beta":".,B","\\Chi":".,&","\\Delta":".,D","\\Epsilon":".,E","\\Eta":".,:","\\Gamma":".,G","\\Iota":".,I","\\Kappa":".,K","\\Lambda":".,L","\\Mu":".,M","\\Nu":".,N","\\Omega":".,W","\\Omicron":".,O","\\Phi":".,F","\\Pi":".,P","\\Psi":".,Y","\\Rho":".,R","\\Sigma":".,S","\\Tau":".,T","\\Theta":".,?","\\Upsilon":".,U","\\Xi":".,X","\\Zeta":".,Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"}},function(e,t,i){function n(e){return k.map(E.default(e),function(e){return x(S.default(e))})}function r(e,t,i){var n="",r=t.value,s=i&&"terminal"===i.type?i.value:"";return h(r,e)&&(n+=";"),/^[\D]/.test(r)&&(e=b(e,{wasNumber:!1})),/^[a-z]$/.test(r)?e.capsLock?(e=b(e,{capsLock:!1}),n+=",'"+r.toUpperCase()):n+=r.toUpperCase():/^[A-Z]$/.test(r)?e.capsLock?n+=r:/[A-Z]/.test(s)?(e=b(e,{capsLock:!0}),n+=",,"+r):n+=","+r:(e=b(e,{capsLock:!1}),n+=/^[0-9.]$/.test(r)?c(r):T.hasOwnProperty(r)?T[r]:"[terminal: "+r+"]"),{value:n,ctx:e}}function s(e,t){var i;return i=C.hasOwnProperty(e.value)?C[e.value]:e.value.slice(1).toUpperCase()+" ",h(i,t)&&(i=";"+i),/^[\D]/.test(i)&&(t=b(t,{wasNumber:!1})),{value:i,ctx:t}}function o(e){return I.hasOwnProperty(e.value)?I[e.value]:e.value.slice(1).toUpperCase()+" "}function a(e){return"\\space"===e.value}function l(e,t){if(t<e.length){var i=e[t];if("terminal"===i.type){if(/^\d$/.test(i.value))return!0;if("."!==i.value)return!1;if(t+1>=e.length)return!1;if(i=e[t+1],"terminal"===i.type)return/^\d$/.test(i.value)}}return!1}function c(e){for(var t="",i="A".charCodeAt(0)-1,n=0,r=e;n<r.length;n++){var s=r[n];t+=","===s?"1":"."===s?"4":"0"===s?"J":String.fromCharCode(i+Number(s))}return t}function u(e,t){for(var i,n,c="",h=!0,p=0;p<t.length;p++){l(t,p)?(e=b(e,{wasNumber:!0}),h&&(c+="#",h=!1)):h=!0;var m=t[p];switch(m.type){case"terminal":var v=p<t.length-1?t[p+1]:void 0;i=r(e,m,v),e=i.ctx,c+=i.value," "===c[c.length-1]&&(h=!0);break;case"command":a(m)||(n=s(m,e),e=n.ctx,c+=n.value," "===c[c.length-1]&&(h=!0));break;case"greek":c+=o(m)," "===c[c.length-1]&&(h=!0);break;case"fraction":var y=d(e,m);c+=y.value,e=y.ctx,h=!1;break;case"radical":var x=f(e,m);c+=x.value,h=!0;break;case"level":var _=g(e,m);c+=_.value,e=_.ctx,h=!0;break;case"typeform":var w=u(e,m.value).value;c+=w,/(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?/.test(w)&&(c+=" ")}}return{ctx:e,value:c}}function h(e,t){return t.wasNumber&&/^[A-Ja-j]/.test(e)}function d(e,t){var i,n=u(e,t.numerator),r=u(e,t.denominator);return p(n.value)&&p(r.value)?(e=b(e,{wasNumber:!0}),i=n.value+"/"+r.value.slice(1)):(e=b(e,{wasNumber:!1}),i="("+n.value+"./"+r.value+")"),{ctx:e,value:i}}function p(e){return/^\#[A-J41]+$/.test(e)}function f(e,t){var i="%";if(t.index){var n=u(e,w.group(w.level({"^":t.index})));i+=n.value}var r=u(e,t.radicand);return i+=r.value+"+",{ctx:e,value:i}}function g(e,t){var i="",n=m(t.superscript);i+=n;var r;if(t.subscript){var s=u(e,t.subscript);r=v(t.subscript,s.value,0)?"<"+s.value+">":s.value,e=b(e,{wasNumber:s.ctx.wasNumber}),""!==r&&(i+="5"+r)}if(t.superscript){var o=u(e,t.superscript.slice(n.length));r=v(t.superscript,o.value,n.length)?"<"+o.value+">":o.value,e=b(e,{wasNumber:o.ctx.wasNumber}),""!==n&&""===r||(i+="9"+r)}return{ctx:e,value:i}}function m(e){var t="";if(e)for(var i=0,n=e;i<n.length;i++){var r=n[i];if("command"!==r.type||"\\prime"!==r.value)break;t+="7"}return t}function v(e,t,i){var n=(t.match(/\</g)||[]).length,r=/^["|\.|_]?\</.test(t),s=(t.match(/\>/g)||[]).length,o=/["|\.|_]?\>$/.test(t);return!p(t)&&e.length-i>1&&0===n&&0===s||n>0&&s>0&&(!r||!o)||n>1||s>1}function y(){return{capsLock:!1,wasNumber:!1}}function b(e,t){return _({},e,t)}function x(e){var t=y();return u(t,e).value}var _=this&&this.__assign||Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var w=i(7),S=i(11),E=i(12),k=i(0);t.default=n;var T={"!":"6","(":'"<',")":'">',"*":'"9',"+":'"6',",":"1","-":'"-',".":"4","/":"_/",":":"3","<":"@<","=":'"7',">":"@>","?":"8","[":".<","\\ ":" ","\\%":".0","\\&":"@&","\\,":" ","\\infty":"#=","\\int":"!","\\{":"_<","\\|":"_\\_\\","\\}":"_>","]":".>","|":"_\\"},C={"\\Vert":"_\\_\\",
    "\\cdot":'"4',"\\div":'"/',"\\ge":"_@>","\\geq":"_@>","\\langle":"@<","\\ldots":"444","\\le":"_@<","\\leq":"_@<","\\ne":'"7@:',"\\neq":'"7@:',"\\parallel":"#L","\\perp":"#-","\\prime":"7","\\prod":",.P","\\rangle":"@>","\\sim":"@9","\\sum":",.S","\\times":'"8',"\\vert":"_\\"},I={"\\Alpha":",.A","\\Beta":",.B","\\Chi":",.&","\\Delta":",.D","\\Epsilon":",.E","\\Eta":",.:","\\Gamma":",.G","\\Iota":",.I","\\Kappa":",.K","\\Lambda":",.L","\\Mu":",.M","\\Nu":",.N","\\Omega":",.W","\\Omicron":",.O","\\Phi":",.F","\\Pi":",.P","\\Psi":",.Y","\\Rho":",.R","\\Sigma":",.S","\\Tau":",.T","\\Theta":",.?","\\Upsilon":",.U","\\Xi":",.X","\\Zeta":",.Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"}},function(e,t,i){function n(e,t){for(var i="",s=t,o="",a=!1,u="",h="",p=r(e),f=0;f<e.length;f++){var v=e[f],y=f+1<e.length?e[f+1]:null;switch(v.type){case"terminal":var b=d.getAutoOperator(e.slice(f));""!==b.value?(i+=b.value,f+=b.terminalCount-1,a=a||b.modified):" "===v.value?(a?(o=u,i+=c(s,o),s=o):i+="\\ ",a=!1):(p[f]===g?i+="\\left":p[f]===m&&(i+="\\right"),i+=v.value);break;case"comparison":o="",i+=c(s,o),s=o,a=!1,i+=v.value;break;case"level_with_comparison":i+=c(s,v.level),s=v.level,a=!1,i+=v.value;break;case"command":var x=v.value.slice(1).trim();y&&"terminal"===y.type&&/[a-z]/.test(y.value)?(i+=x,a=!1):d.containsValue(x)?(i+="\\operatorname{"+x+"}",a=!0):(i+=v.value,a=!0),u=s;break;case"expression":i+=v.value;break;case"fraction":i+=l(v.numerator,v.denominator,s);break;case"modified_expression":i+=n(v.expression,s)+" ",v.under&&(i+="_{"+n(v.under,s)+"}"),v.over&&(i+="^{"+n(v.over,s)+"}");break;case"radical":i+="\\sqrt",v.index&&(i+="["+n(v.index,s)+"]"),i+="{"+n(v.value,s)+"}";break;case"simple_subscript":""===s?(i+=v.base.value+"_{"+v.subscript.value+"}","command"===v.base.type&&(a=!0,u=s)):i+=v.base.value+v.subscript.value;break;case"level":i+=c(s,v.value,h),s=v.value,"^"===v.value&&""!==h&&(h="");break;case"primes":y&&"level"===y.type&&";"===y.value?h=v.value:""!==s?(i+=Array(v.value.length+1).join("\\prime "),h=""):(i+=v.value,h="")}}return i+=c(s,t)+h,i.replace(/([^\\])( )$/,"$1")}function r(e){for(var t=[],i=[],n=0;n<e.length;n++){var r=e[n];if(s(r))t.push({direction:g,index:n}),i.push(v);else if(o(r)){for(;t.length&&t[t.length-1].direction===y;)t.pop();if(t.length){var l=t.pop();if(l){var c=l.index;i[c]=g,i.push(m)}}else i.push(v)}else if(a(r))if(t.length&&t[t.length-1].direction===y){var l=t.pop();if(l){var c=l.index;i[c]=g,i.push(m)}}else t.push({direction:y,index:n}),i.push(v);else i.push(v)}return i}function s(e){return"terminal"===e.type&&/^(\\langle |\[|\(|\\{)$/.test(e.value)}function o(e){return"terminal"===e.type&&/^(\\rangle |\]|\)|\\})$/.test(e.value)}function a(e){return"terminal"===e.type&&/^(\\\||\|)$/.test(e.value)}function l(e,t,i){return"\\frac{"+n(e,i)+"}{"+n(t,i)+"}"}function c(e,t,i){var n,r,s,o="",a=Math.max(e.length,t.length);for(n=0;n<a&&e[n]===t[n];n++);for(r=e.length-1;r>=n;r--)o+="}";for(s=n;s<t.length;s++)"^"===t[s]&&(i&&(o+=i),o+="^{"),";"===t[s]&&(o+="_{");return o}function u(e){return n(e,"")}function h(e,t){return t&&t.operatorNames?d.setOperatorNames(t.operatorNames):d.resetOperatorNames(),f.map(p.default(e,t),u)}Object.defineProperty(t,"__esModule",{value:!0});var d=i(2),p=i(18),f=i(0),g=1,m=-1,v=0,y=2;t.default=h},function(e,t,i){function n(e){return{type:"terminal",value:e}}function r(e){return{type:"command",value:"\\"+e.trim()+" "}}function s(e){var t=/[\^;]+/.exec(e),i=t?t.toString():"",n=e.slice(a.length);return{type:"level_with_comparison",level:i,value:v[n]}}function o(e){return{type:"comparison",value:v[e]}}function a(e){return{type:"level",value:e}}function l(){return a("")}function c(e){return{type:"primes",value:e}}function u(e,t){return{type:"fraction",numerator:e,denominator:t}}function h(e,t,i){return{type:"modified_expression",expression:e,under:t,over:i}}function d(e,t){return{type:"radical",value:e,index:t}}function p(e){return{type:"expression",value:e}}function f(e,t){return{type:"simple_subscript",base:e,subscript:t}}function g(e){if(y.hasOwnProperty(e))return y[e]+" ";throw new Error("Unknown Greek letter")}function m(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)}Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=n,t.command=r;var v={'"K':"<",'"K:':"\\leq ",$L:"\\parallel ",$P:"\\perp ",".1":">",".1:":"\\geq ",".K":"=","/$L":"\\nparallel ","/.K":"\\neq ","=":"=","@:":"\\sim "};t.level_with_comparison=s,t.comparison=o,t.level=a,t.baseline=l,t.primes=c,t.fraction=u,t.modified_expression=h,t.radical=d,t.expression=p,t.simple_subscript=f;var y={".&":"\\chi",".,&":"\\Chi",".,:":"\\Eta",".,?":"\\Theta",".,A":"\\Alpha",".,B":"\\Beta",".,D":"\\Delta",".,E":"\\Epsilon",".,F":"\\Phi",".,G":"\\Gamma",".,I":"\\Iota",".,K":"\\Kappa",".,L":"\\Lambda",".,M":"\\Mu",".,N":"\\Nu",".,O":"\\Omicron",".,P":"\\prod",".,R":"\\Rho",".,S":"\\sum",".,T":"\\Tau",".,U":"\\Upsilon",".,W":"\\Omega",".,X":"\\Xi",".,Y":"\\Psi",".,Z":"\\Zeta",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};t.greek=g,t.group=m},function(e,t,i){function n(e,t){t||(t={});var i=o.parser;t.strict?i.yy=a:(i.yy=r({warnings:[]},a),i.lexer=l.default);try{return{isError:!1,value:i.parse(e),warnings:i.yy.warnings||[]}}catch(e){return{error:s.default(e),isError:!0}}}var r=this&&this.__assign||Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),o=i(9),a=i(17),l=i(20);t.default=n},function(e,t,i){function n(e,t){t||(t={});var i=a.parser;t.strict?i.yy=l:(i.yy=r({warnings:[]},l),i.lexer=o.default);try{return{isError:!1,value:i.parse(e),warnings:i.yy.warnings||[]}}catch(e){return{error:s.default(e),isError:!0}}}var r=this&&this.__assign||Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),o=i(21),a=i(10),l=i(24);t.default=n},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=i(9),r=n.parser.lexer,s=Object.create(r);t.default=s;var o=n.parser.terminals_,a=n.parser.symbols_;s.setInput=function(e,t){this.delimiterStack=[],this.outputQueue=[],r.setInput.call(this,e,t)},s.lex=function(){var e=-1;if(this)if(this.outputQueue&&this.outputQueue.length)e=this.outputQueue.shift()||-1;else if(this.delimiterStack&&this.outputQueue&&this.pushCloseTokens&&this.pushOpenTokens&&this.addMissingToken){var t=r.lex.call(this),i=void 0,n=void 0,s=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(o[t]){case"OPEN_FRAC":case"OPEN_MODEXP":this.delimiterStack.push(t);break;case"RADICAL_INDEX":s===a.RADICAL_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(s)),this.delimiterStack.push(t);break;case"OPEN_RADICAL":s===a.RADICAL_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(t);break;case"SLASH":for(i=!1;this.delimiterStack.length;){if(n=this.delimiterStack.pop()||-1,n===a.OPEN_FRAC){i=!0;break}this.pushCloseTokens(n)}i||this.pushOpenTokens(t),this.delimiterStack.push(t);break;case"CLOSE_FRAC":for(i=!1;this.delimiterStack.length;){if(n=this.delimiterStack.pop()||-1,n===a.SLASH){i=!0;break}if(n===a.OPEN_FRAC){this.addMissingToken(a.SLASH),i=!0;break}this.pushCloseTokens(n)}i||this.pushOpenTokens(t);break;case"CLOSE_RADICAL":for(i=!1;this.delimiterStack.length;){if(n=this.delimiterStack.pop()||-1,n===a.OPEN_RADICAL){i=!0;break}if(n===a.RADICAL_INDEX){i=!0,this.addMissingToken(a.OPEN_RADICAL);break}this.pushCloseTokens(n)}i||this.pushOpenTokens(t);break;case"CLOSE_MODEXP":for(i=!1;this.delimiterStack.length;){if(n=this.delimiterStack.pop()||-1,n===a.OPEN_MODEXP){i=!0;break}this.pushCloseTokens(n)}i||this.pushOpenTokens(t);break;case"EOF":for(;this.delimiterStack.length;)n=this.delimiterStack.pop()||-1,this.pushCloseTokens(n)}this.outputQueue.push(t),e=this.outputQueue.shift()||-1}return e},s.addMissingToken=function(e){this&&this.outputQueue&&this.yy.warnings&&(this.outputQueue.push(e),this.yy.warnings.push({location:this.yylloc}))},s.pushCloseTokens=function(e){if(this&&this.delimiterStack&&this.outputQueue&&this.pushCloseTokens&&this.pushOpenTokens&&this.addMissingToken)switch(o[e]){case"OPEN_FRAC":this.addMissingToken(a.SLASH),this.addMissingToken(a.CLOSE_FRAC);break;case"SLASH":this.addMissingToken(a.CLOSE_FRAC);break;case"RADICAL_INDEX":this.addMissingToken(a.OPEN_RADICAL),this.addMissingToken(a.CLOSE_RADICAL);break;case"OPEN_RADICAL":this.addMissingToken(a.CLOSE_RADICAL);break;case"OPEN_MODEXP":this.addMissingToken(a.CLOSE_MODEXP)}},s.pushOpenTokens=function(e){if(this&&this.delimiterStack&&this.outputQueue&&this.pushCloseTokens&&this.pushOpenTokens&&this.addMissingToken)switch(o[e]){case"SLASH":this.addMissingToken(a.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(a.OPEN_FRAC),this.addMissingToken(a.SLASH);break;case"CLOSE_RADICAL":this.addMissingToken(a.OPEN_RADICAL);break;case"CLOSE_MODEXP":this.addMissingToken(a.OPEN_MODEXP)}}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=i(10),r=n.parser.lexer,s=Object.create(r);t.default=s;var o=n.parser.terminals_,a=n.parser.symbols_;s.setInput=function(e,t){this.delimiterStack=[],this.outputQueue=[],r.setInput.call(this,e,t)},s.lex=function(){var e=-1;if(this)if(this.outputQueue&&this.outputQueue.length)e=this.outputQueue.shift()||-1;else if(this.delimiterStack&&this.outputQueue&&this.pushCloseTokens&&this.pushOpenTokens&&this.addMissingToken){var t=r.lex.call(this),i=void 0,n=void 0,s=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(o[t]){case"OPEN_FRAC":this.delimiterStack.push(t);break;case"OPEN_GROUP":this.delimiterStack.push(t);break;case"RADICAL_WITH_INDEX":s===a.RADICAL_WITH_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(s)),this.delimiterStack.push(t);break;case"RADICAL":s===a.RADICAL_WITH_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(t);break;case"OVER":for(i=!1;this.delimiterStack.length;){if(n=this.delimiterStack.pop()||-1,n===a.OPEN_FRAC){i=!0;break}this.pushCloseTokens(n)}i||this.pushOpenTokens(t),this.delimiterStack.push(t);break;case"CLOSE_FRAC":for(i=!1;this.delimiterStack.length;){if(n=this.delimiterStack.pop()||-1,n===a.OVER){i=!0;break}if(n===a.OPEN_FRAC){this.outputQueue.push(a.OVER),i=!0;break}this.pushCloseTokens(n)}i||this.pushOpenTokens(t);break;case"CLOSE_GROUP":for(i=!1;this.delimiterStack.length;){if(n=this.delimiterStack.pop()||-1,n===a.OPEN_GROUP){i=!0;break}this.pushCloseTokens(n)}i||this.pushOpenTokens(t);break;case"CLOSE_RADICAL":for(i=!1;this.delimiterStack.length;){if(n=this.delimiterStack.pop()||-1,n===a.RADICAL||n===a.RADICAL_WITH_INDEX){i=!0;break}this.pushCloseTokens(n)}i||this.pushOpenTokens(t);break;case"EOF":for(;this.delimiterStack.length;)n=this.delimiterStack.pop()||-1,this.pushCloseTokens(n)}this.outputQueue.push(t),e=this.outputQueue.shift()||-1}return e},s.addMissingToken=function(e){this&&this.outputQueue&&this.yy&&this.yy.warnings&&(this.outputQueue.push(e),this.yy.warnings.push({location:this.yylloc}))},s.pushCloseTokens=function(e){if(this&&this.addMissingToken)switch(o[e]){case"OPEN_FRAC":this.addMissingToken(a.OVER),this.addMissingToken(a.CLOSE_FRAC);break;case"OVER":this.addMissingToken(a.CLOSE_FRAC);break;case"OPEN_GROUP":this.addMissingToken(a.CLOSE_GROUP);break;case"RADICAL_WITH_INDEX":case"RADICAL":this.addMissingToken(a.CLOSE_RADICAL)}},s.pushOpenTokens=function(e){if(this&&this.addMissingToken)switch(o[e]){case"OVER":this.addMissingToken(a.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(a.OPEN_FRAC),this.addMissingToken(a.OVER);break;case"CLOSE_GROUP":this.addMissingToken(a.OPEN_GROUP);break;case"CLOSE_RADICAL":this.addMissingToken(a.RADICAL)}}},function(e,t,i){function n(e){return e.isError}function r(e){return!e.isError}function s(e,t){return n(e)?e:{isError:!1,value:t(e.value)}}Object.defineProperty(t,"__esModule",{value:!0}),t.isErr=n,t.isOk=r,t.map=s},function(e,t,i){function n(e,t){for(var i="",s=!1,o="",a=r(e),h=0;h<e.length;h++){var p=e[h],f=h+1<e.length?e[h+1]:null;switch(p.type){case"terminal":var v=d.getAutoOperator(e.slice(h));""!==v.value?(i+=v.value,h+=v.terminalCount-1):" "!==p.value||s?(a[h]===g?i+="\\left":a[h]===m&&(i+="\\right"),i+=p.value):i+="\\ ",s=!1;break;case"command":var y=p.value.slice(1).trim();f&&"terminal"===f.type&&/[a-z]/.test(f.value)?(i+=y,s=!1):d.containsValue(y)?(i+="\\operatorname{"+y+"}",s=!0):(i+=p.value,s=!0);break;case"expression":i+=p.value;break;case"fraction":i+=l(p.numerator,p.denominator);break;case"radical":i+="\\sqrt",p.index&&(i+="["+n(p.index)+"]"),i+="{"+n(p.value)+"}";break;case"basic_level":i+=c(p.level,p.value,o),"9"===p.level&&(o="");break;case"bracketed_level":i+=u(p.level,p.lbrack,p.value,p.rbrack,o),"9"===p.level&&(o="");break;case"primes":!f||"basic_level"!==f.type&&"bracketed_level"!==f.type||"5"!==f.level?t&&""!==t?(i+=Array(p.value.length+1).join("\\prime "),o=""):(i+=p.value,o=""):o=p.value}}return i+=o,i.replace(/([^\\])( )$/,"$1")}function r(e){for(var t=[],i=[],n=0;n<e.length;n++){var r=e[n];if(s(r))t.push({direction:g,index:n}),i.push(v);else if(o(r)){for(;t.length&&t[t.length-1].direction===y;)t.pop();if(t.length){var l=t.pop();if(l){var c=l.index;i[c]=g,i.push(m)}}else i.push(v)}else if(a(r))if(t.length&&t[t.length-1].direction===y){var l=t.pop();if(l){var c=l.index;i[c]=g,i.push(m)}}else t.push({direction:y,index:n}),i.push(v);else i.push(v)}return i}function s(e){return"terminal"===e.type&&/^(\\langle |\[|\(|\\{)$/.test(e.value)}function o(e){return"terminal"===e.type&&/^(\\rangle |\]|\)|\\})$/.test(e.value)}function a(e){return"terminal"===e.type&&/^(\\\||\|)$/.test(e.value)}function l(e,t){return"\\frac{"+n(e)+"}{"+n(t)+"}"}function c(e,t,i){var r="",s="{"+n(t,e)+"}";return"9"===e?r+=i+"^"+s:"5"===e&&(r+="_"+s),r}function u(e,t,i,r,s){var o="",a="{"+t+n(i,e)+r+"}";return"9"===e?o+=s+"^"+a:"5"===e&&(o+="_"+a),o}function h(e,t){return t&&t.operatorNames?d.setOperatorNames(t.operatorNames):d.resetOperatorNames(),f.map(p.default(e,t),function(e){return b(e,"")})}Object.defineProperty(t,"__esModule",{value:!0});var d=i(2),p=i(19),f=i(0),g=1,m=-1,v=0,y=2,b=n;t.default=h},function(e,t,i){function n(e){return{type:"terminal",value:e}}function r(e){return{type:"command",value:e}}function s(e,t){return{type:"basic_level",level:e,value:t}}function o(e,t,i,n){return{type:"bracketed_level",level:e,lbrack:t,value:i,rbrack:n}}function a(e){var t=e.length>0?Array(e.length+1).join("'"):"";return{type:"primes",value:t}}function l(e,t){return{type:"fraction",numerator:e,denominator:t}}function c(e,t){return{type:"radical",value:e,index:t}}function u(e){return{type:"expression",value:e}}function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)}function d(e){if(f.hasOwnProperty(e))return f[e]+" ";throw new Error("Unknown Greek letter")}function p(e){for(var t="",i="A".charCodeAt(0)-1,n=0,r=e;n<r.length;n++){var s=r[n];t+="4"===s?".":"J"===s?"0":s.charCodeAt(0)-i}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=n,t.command=r,t.basic_level=s,t.bracketed_level=o,t.primes=a,t.fraction=l,t.radical=c,t.expression=u,t.group=h;var f={",.&":"\\Chi",",.:":"\\Eta",",.?":"\\Theta",",.A":"\\Alpha",",.B":"\\Beta",",.D":"\\Delta",",.E":"\\Epsilon",",.F":"\\Phi",",.G":"\\Gamma",",.I":"\\Iota",",.K":"\\Kappa",",.L":"\\Lambda",",.M":"\\Mu",",.N":"\\Nu",",.O":"\\Omicron",",.P":"\\prod",",.R":"\\Rho",",.S":"\\sum",",.T":"\\Tau",",.U":"\\Upsilon",",.W":"\\Omega",",.X":"\\Xi",",.Y":"\\Psi",",.Z":"\\Zeta",".&":"\\chi",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};t.greek=d,t.to_number=p},function(e,t,i){function n(e){return String.fromCharCode(p+e)}function r(e){return e.charCodeAt(0)-p}function s(e){return d[e]}function o(e){return d.indexOf(e)}function a(e){for(var t="",i=0,r=e;i<r.length;i++){var s=r[i];t+=n(o(s))}return t}function l(e){for(var t="",i=0,n=e;i<n.length;i++){var o=n[i];t+=s(r(o))}return t}function c(e){return l(e).replace(/[@-^]/g,function(e){return String.fromCharCode(e.charCodeAt(0)+32)})}function u(e){var t="";if(e)for(var i=0,n=e;i<n.length;i++){var r=n[i],s=r.charCodeAt(0);96<=s&&s<=127&&(s-=32,r=String.fromCharCode(s)),32<=s&&s<=95&&(r=a(r),s=r.charCodeAt(0)),10305<=s&&s<=10495&&(s=10240+(s-1024)%64,r=String.fromCharCode(s)),t+=10240<=s&&s<=10304?r:String.fromCharCode(10240)}return t}function h(e){for(var t=0;t<e.length;t++){var i=e.charCodeAt(t);if(i<10240||i>10304)return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0});var d=" A1B'K2L@CIF/MSP\"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=",p=10240;t.toBrailleAscii=l,t.toExpandedBrailleAscii=c,t.coerceToSixDotCells=u,t.isSixDotCells=h},function(e,t,i){i(3),e.exports=i(3)}])}),define("expressions/braille-input",["require","exports","tslib","dcgview","jquery"],function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n.Components.Input,o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){var e=this;return n.createElement(s,{class:this.const("dcg-braille-input"),onKeydown:this.props.onKeydown,onInput:this.bindFn(this.props.onInput),value:function(){return e.props.value()},"aria-label":function(){return e.props.ariaLabel()||""},didMount:this.bindFn(this.didMount),didUnmount:this.bindFn(this.props.didUnmount),readonly:function(){return e.props.readonly()?"readonly":void 0}})},t.prototype.didMount=function(e){var t=this;this.rootNode=e,r(this.rootNode).on("focus",function(){t.props.onFocusedChanged(!0)}).on("blur",function(){t.props.onFocusedChanged(!1)}),this.props.didMount(e)},t}(n.Class);t.default=o}),define("loadcss!Abraham",function(){}),define("loadcss!basic/expression-view",function(){}),define("basic/expression-view",["require","exports","graphing/label","keys","tslib","dcgview","i18n","jquery","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","./dcgview-basic","abraham","expressions/braille-input","loadcss!Abraham","loadcss!./expression-view"],function(e,t,i,n,r,s,o,a,l,c,u,h,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=s.Components,f=p.If,g=p.Input,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.getAriaLabel=function(){var e=this.getIndex()+1+"";return this.t("Expression __index__",{index:e})},t.prototype.didUpdate=function(){this.renderAnsValue(),this.controller.renderAsBraille()&&this.getIsFocused()&&this.focusBrailleInput()},t.prototype.didMountMQ=function(e){this.$mq=a(e)},t.prototype.getExp=function(){return this.model.getExpressionById(this.props.id())},t.prototype.getAns=function(){return this.model.getExpressionAns(this.props.id())},t.prototype.getLatex=function(){return this.getExp().latex},t.prototype.getValue=function(){return this.model.getExpressionValue(this.props.id())},t.prototype.getBraille=function(){var e=this.getExp().braille;if(""!==e)return e;var t=this.getBrailleValue(this.getLatex());return t.isError?"":h.UnicodeBraille.toExpandedBrailleAscii(t.value)},t.prototype.getBrailleValue=function(e){return"nemeth"===this.controller.getBrailleMode()?h.latexToNemeth(e):h.latexToUeb(e)},t.prototype.getLatexValue=function(e){return"nemeth"===this.controller.getBrailleMode()?h.nemethToLatex(e):h.uebToLatex(e)},t.prototype.getIndex=function(){return this.model.getExpressionIndex(this.props.id())},t.prototype.getReadonly=function(){return this.model.isExpressionReadonly(this.props.id())},t.prototype.getShowEvaluation=function(){return this.model.shouldShowEvaluationForExpression(this.props.id())},t.prototype.getError=function(){var e=this.model.getExpressionError(this.props.id());return e&&this.getLatex().length>0?this.t(o.unpack(e)):""},t.prototype.showError=function(){return!!this.getError()},t.prototype.getIsFocused=function(){return this.model.isExpressionFocused(this.props.id())},t.prototype.onFocusedChanged=function(e){this.getExp()&&(e?this.dispatch({type:"focusin",id:this.props.id()}):this.dispatch({type:"focusout",id:this.props.id()}))},t.prototype.onMQReflow=function(){this.renderedAnsData=void 0,this.renderAnsValue()},t.prototype.renderAnsValue=function(){if(this.$mq){var e=this.getAns();this.renderedAnsData&&this.renderedAnsData.value==e||(this.renderedAnsData={value:e},this.$mq.find(".dcg-mq-ans").each(function(t,n){var r=a(n);if(null!=e){var s=i.truncatedHTMLLabel(e,{digits:6,addEllipses:!0,bigCutoff:1e4});r.removeClass("dcg-invalid").html(s)}else r.addClass("dcg-invalid").html('<i class="dcg-icon-error"></i>')}))}},t.prototype.getEvaluationLatex=function(){var e=this.getValue(),t="="+i.truncatedLatexLabel(e,{digits:this.getEvaluationDigits(),bigCutoff:1e9});return t},t.prototype.getEvaluationBraille=function(){var e=this.getEvaluationLatex(),t=this.getBrailleValue(e);return t.isError?"":h.UnicodeBraille.toExpandedBrailleAscii(t.value)},t.prototype.didMountBrailleInput=function(e){this.brailleInputNode=e,this.focusBrailleInput()},t.prototype.didUnmountBrailleInput=function(){this.brailleInputNode=void 0},t.prototype.handleBrailleKeydown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){if(n.lookup(e)===n.UP)return this.forceModelFocus(),this.dispatch({type:"focus-prev-expression"}),!1;if(n.lookup(e)===n.DOWN)return this.forceModelFocus(),this.dispatch({type:"focus-next-expression"}),!1;if(n.lookup(e)===n.ENTER)return this.forceModelFocus(),this.dispatch({type:"insert-blank-expression"}),!1;if(n.lookup(e)===n.BACKSPACE&&document.activeElement===this.brailleInputNode&&""===this.getBraille())return this.dispatch({type:"backspace-from-braille"}),!1}return!0},t.prototype.forceModelFocus=function(){document.activeElement!==this.brailleInputNode&&this.onFocusedChanged(!0)},t.prototype.focusBrailleInput=function(){this.brailleInputNode&&document.activeElement!==this.brailleInputNode&&this.brailleInputNode.focus()},t.prototype.getPostLabel=function(){return this.showError()?this.getError():this.getShowEvaluation()?"equals "+i.value(this.getValue()).ariaString:""},t.prototype.onBrailleInput=function(e){var t=this.getLatexValue(h.UnicodeBraille.coerceToSixDotCells(e));this.dispatch({type:"update-latex-from-braille",latex:t.isError?"":t.value,braille:e,id:this.props.id()})},t.prototype.getIndexSubscript=function(){return"_{"+(this.getIndex()+1)+"}"},t.prototype.getEvaluationDigits=function(){return this.controller.isScientificCalc()?14:8},t.prototype.template=function(){var e=this;return s.createElement("div",{class:function(){return{"dcg-basic-expression":!0,"dcg-focused":e.getIsFocused(),"dcg-braille-io":e.controller.renderAsBraille()}}},s.createElement(f,{predicate:function(){return e.controller.renderAsBraille()}},function(){return s.createElement("div",{class:s.const("dcg-braille-input")},s.createElement(d.default,{ariaLabel:function(){var t=e.getBrailleValue("eq"+e.getIndexSubscript());return t.isError?"":h.UnicodeBraille.toExpandedBrailleAscii(t.value)},didMount:e.bindFn(e.didMountBrailleInput),didUnmount:e.bindFn(e.didUnmountBrailleInput),onFocusedChanged:e.bindFn(e.onFocusedChanged),onKeydown:e.bindFn(e.handleBrailleKeydown),onInput:e.bindFn(e.onBrailleInput),readonly:e.bindFn(e.getReadonly),value:function(){return e.getBraille()}}))}),s.createElement(f,{predicate:function(){return e.controller.renderAsBraille()}},function(){return s.createElement("div",{class:s.const("dcg-braille-evaluation-container")},s.createElement(f,{predicate:function(){return e.getShowEvaluation()}},function(){return s.createElement("div",{class:s.const("dcg-braille-evaluation")},s.createElement(g,{"aria-label":function(){var t=e.getBrailleValue("an"+e.getIndexSubscript());return t.isError?"":h.UnicodeBraille.toExpandedBrailleAscii(t.value)},readonly:e.const("true"),class:e.const("dcg-braille-evaluation-inner"),value:function(){return e.getEvaluationBraille()},onKeydown:e.bindFn(e.handleBrailleKeydown),onInput:function(){}}))}),s.createElement(f,{predicate:function(){return e.showError()}},function(){return s.createElement("div",{class:s.const("dcg-braille-error")},s.createElement("div",{class:s.const("dcg-basic-expression-error")},s.createElement("i",{class:s.const("dcg-icon-error")})),s.createElement(g,{"aria-label":function(){var t=e.getBrailleValue("er"+e.getIndexSubscript());return t.isError?"":h.UnicodeBraille.toExpandedBrailleAscii(t.value)},readonly:e.const("true"),class:e.const("dcg-braille-error-inner"),value:function(){return e.getError()},onKeydown:e.bindFn(e.handleBrailleKeydown),onInput:function(){}}))}))}),s.createElement(f,{predicate:function(){return e.controller.renderAsBraille()}},function(){return s.createElement("div",{class:s.const("dcg-exp-mathquill-container"),didMount:e.bindFn(e.didMountMQ)},s.createElement(l.default,{latex:function(){return e.getLatex()},onReflow:e.bindFn(e.onMQReflow)}))}),s.createElement(f,{predicate:function(){return e.getReadonly()&&!e.controller.renderAsBraille()}},function(){return s.createElement("div",{class:s.const("dcg-exp-mathquill-container dcg-readonly-exp"),didMount:e.bindFn(e.didMountMQ)},s.createElement(l.default,{latex:function(){return e.getLatex()},onReflow:e.bindFn(e.onMQReflow)}))}),s.createElement(f,{predicate:function(){return!e.getReadonly()&&!e.controller.renderAsBraille()}},function(){return s.createElement("div",{class:s.const("dcg-exp-mathquill-container"),didMount:e.bindFn(e.didMountMQ)},s.createElement(c.default,{latex:function(){return e.getLatex()},onReflow:e.bindFn(e.onMQReflow),isFocused:function(){return!e.controller.renderAsBraille()&&e.getIsFocused()},config:e.const({typingAsteriskWritesTimesSymbol:e.controller.getTypingAsteriskWritesTimesSymbol(),typingSlashWritesDivisionSymbol:e.controller.getTypingSlashWritesDivisionSymbol()}),getAriaLabel:function(){return e.getAriaLabel()},getAriaPostLabel:function(){return e.getPostLabel()},hasError:function(){return!1},onUserPressedKey:function(t){return e.dispatch({type:"keypad/press-key",key:t})},onUserTypedText:function(t){return e.dispatch({type:"keypad/type-text",text:t})},onUserChangedLatex:function(t){e.dispatch({type:"update-latex",id:e.props.id(),latex:t})},onFocusedChanged:e.bindFn(e.onFocusedChanged)}))}),s.createElement("div",{class:s.const("dcg-exp-output-container")},s.createElement(f,{predicate:function(){return e.showError()&&!e.controller.renderAsBraille()}},function(){return s.createElement("div",{class:s.const("dcg-basic-expression-error dcg-tooltip tipsy-sticky"),"tipsy-dir":s.const("ne"),tooltip:e.bindFn(e.getError)},s.createElement("i",{class:s.const("dcg-icon-error")}))}),s.createElement(f,{predicate:function(){return e.getShowEvaluation()}},function(){return s.createElement("div",{class:s.const("dcg-basic-expression-value")},s.createElement(l.default,{latex:function(){return e.getEvaluationLatex()}}))})))},t}(u.DCGViewBasic);t.default=m}),define("loadcss!basic/basic-list-view",function(){}),define("basic/basic-list-view",["require","exports","scroll_helpers","conditional_blur","tslib","dcgview","./dcgview-basic","./expression-view","jquery","loadcss!./basic-list-view","tipsy"],function(e,t,i,n,r,s,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=s.Components,u=c.For,h=c.If,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.didShowAnswerHint=!1,t.didHideAnswerHint=!1,t}return r.__extends(t,e),t.prototype.template=function(){var e=this;return s.createElement("div",{class:s.const("dcg-basic-list-container"),role:s.const("complementary"),"aria-label":function(){return e.controller.t("Expression List")},didMount:this.bindFn(this.didMountContainer)},s.createElement("div",{class:s.const("dcg-basic-list-placeholder"),didMount:this.bindFn(this.didMountPlaceholder)},s.createElement(h,{predicate:this.bindFn(this.showAnswerHint)},function(){return s.createElement("div",{class:s.const("dcg-answer-hint")},function(){return e.controller.t("Your answers show up on this side.")})})),s.createElement(u,{each:function(){return e.model.getExpressionOrder()}},s.createElement("div",{class:s.const("dcg-basic-list")},function(t){return s.createElement(a.default,{controller:e.props.controller,id:e.const(t)})})))},t.prototype.didMountPlaceholder=function(e){l(e).on("dcg-tap",n)},t.prototype.showAnswerHint=function(){if(this.didHideAnswerHint)return!1;var e=this.model.getExpressionOrder()[0];return!(!this.model.shouldShowEvaluationForExpression(e)&&!this.didShowAnswerHint)&&(this.didShowAnswerHint=!0,!(this.model.getNumberOfExpressions()>1||""===this.model.getExpressionLatex(e))||(this.didHideAnswerHint=!0,!1))},t.prototype.didUpdate=function(){if(this.$container){var e=this.$container.find(".dcg-focused");e.length>0&&i.scrollVisible(e,this.$container,50)}},t.prototype.didMountContainer=function(e){this.$container=l(e),this.$container.tipsy({fade:"fast",title:"tooltip",wait:500,gravity:"ne",delegate:".dcg-tooltip",sticky:!0})},t}(o.DCGViewBasic);t.default=d}),define("basic/braille-toggle",["require","exports","tslib","./dcgview-basic","dcgview"],function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.template=function(){var e=this;return r.createElement("div",{class:r.const("dcg-braille-toggle")},r.createElement("div",{class:r.const("dcg-buttons")},r.createElement("div",{role:r.const("button"),onTap:function(){return e.setBrailleMode("none")},class:function(){return{"dcg-toggle-button":!0,"dcg-selected":e.isLatex()}},"aria-pressed":function(){return e.isLatex()},tabindex:r.const(0)},r.const("Typeset")),r.createElement("div",{role:r.const("button"),onTap:function(){return e.setBrailleMode("nemeth")},class:function(){return{"dcg-toggle-button":!0,"dcg-selected":e.isNemeth()}},tabindex:r.const(0),"aria-pressed":function(){return e.isNemeth()}},r.const("Nemeth")),r.createElement("div",{role:r.const("button"),onTap:function(){return e.setBrailleMode("ueb")},class:function(){return{"dcg-toggle-button":!0,"dcg-selected":e.isUEB()}},tabindex:r.const(0),"aria-pressed":function(){return e.isUEB()}},r.const("UEB"))))},t.prototype.setBrailleMode=function(e){this.props.controller().dispatch({type:"set-braille-mode",mode:e})},t.prototype.isLatex=function(){return"none"===this.props.controller().getBrailleMode()},t.prototype.isNemeth=function(){return"nemeth"===this.props.controller().getBrailleMode()},t.prototype.isUEB=function(){return"ueb"===this.props.controller().getBrailleMode()},t}(n.DCGViewBasic);t.default=s}),define("lib/app-bridge",["require","jquery","underscore_model","browser","conditional_blur","pjs","console"],function(e){var t=e("jquery"),i=e("underscore_model"),n=e("browser"),r=e("conditional_blur"),s=null,o=null,a=e("pjs"),l=e("console"),c=!1;if(n.IS_IOS){var u=[],h=[],d=function(e){var t=h.length?h.pop():u.length;return u[t]=e,t},p=function(e){var t=u[e];return u[e]=null,h.push(e),t};s={},t(function(){var e=[];
    window.ObjC_callback=function(t){t.split(" ").forEach(function(t){s[t]=function(n,r){var s=r?d(r):-1;e.push("desmos:"+t+"/"+s+"/"+encodeURIComponent(n)),1===e.length&&i.attr("src",e[0])}}),this.ObjC_callback=function(t,n){try{t!==-1&&p(t)(n)}finally{e.shift(),e.length>0&&i.attr("src",e[0])}}};var i=t('<iframe id="objc-bridge" style="position:absolute; left: -1000px; z-index: -1" src="desmos:loaded"/>').appendTo(document.body)})}else n.IS_ANDROID?o=window.Android:c=!0;var f=a(i,function(e,i){e.init=function(){i.init.call(this),this.heartbeatTimeout=null,this.observeEvent("started resumed",function(e){this.gaEvent(e),this.incrementHeartbeat(0)}.bind(this))},e.heartbeat=function(e){clearTimeout(this.heartbeatTimeout),this.gaEvent("heartbeat-"+10*e),this.incrementHeartbeat(e)},e.incrementHeartbeat=function(e){clearTimeout(this.heartbeatTimeout),this.heartbeatTimeout=setTimeout(function(){this.heartbeat(e+1)}.bind(this),6e5)},e._started=function(e,t){this.appId=e,this.versionNumber=t,this.triggerEvent("started")},e._resumed=function(){this.triggerEvent("resumed")},e.ensureKeypadClosedAndReturnIfWasOpened=function(){return t(".dcg-keys-container.dcg-retracted").length>0?"false":(r(),"true")},e.onGoogleAuthResult=function(e){this.triggerEvent("onGoogleAuthResult",e)}}),g=["hideLoadingScreen","gaEvent","openGoogleLogin","logout","saveCookies","deleteCookies"],m=new f;return g.forEach(function(e){m[e]=function(){c||(o&&o[e]?o[e].apply(o,arguments):s&&s[e]?s[e].apply(s,arguments):l.log("call to missing method",e,arguments))}}),c||(window.AppBridge=m),m}),define("loadcss!basic/main",function(){}),define("basic/main",["require","exports","keys","browser","tslib","dcgview","./dcgview-basic","jquery","./keypad/fourfunction-control-bar","./keypad/scientific-control-bar","./keypad/fourfunction-keypad","./keypad/scientific-keypad","./basic-list-view","./braille-toggle","lib/app-bridge","loadcss!desmos-icons","loadcss!./main"],function(e,t,i,n,r,s,o,a,l,c,u,h,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=s.Components.If,g=0,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.template=function(){var e=this;return this.guid="basic_main_"+g++,this.showBetaWarning=!0,s.createElement("div",{class:s.const("dcg-calc-basic-main-wrapper"),didMount:this.bindFn(this.didMountRoot),didUnmount:this.bindFn(this.didUnmountRoot)},s.createElement("div",{role:s.const("application"),class:function(){return{"dcg-calc-basic-main":!0,"dcg-ipad":n.IS_IPAD}},style:function(){return{"font-size":e.controller.getFontSize()+"px",filter:e.controller.getInvertedColors()?"invert(100%)":"none"}}},s.createElement(f,{predicate:function(){return e.props.controller().getBraille()}},function(){return s.createElement("div",{class:s.const("braille-controls")},s.createElement(f,{predicate:function(){return e.showBetaWarning}},function(){return s.createElement("div",{class:s.const("dcg-beta-warning")},s.const("Braille Beta -"),s.createElement("a",{href:s.const("https://goo.gl/forms/wU2hhLm7yfvguiHQ2"),target:s.const("_blank")},s.const("Let us know what you think!")),s.createElement("i",{role:s.const("link"),tabindex:s.const(0),class:s.const("dcg-icon-remove"),onTap:function(){e.showBetaWarning=!1,e.update()},"aria-label":s.const("Dismiss beta message")}))}),s.createElement(p.default,{controller:e.props.controller}))}),s.createElement(d.default,{controller:this.props.controller}),s.createElement(f,{predicate:function(){return e.controller.isScientificCalc()}},function(){return s.createElement("div",null,s.createElement(c.default,{controller:e.props.controller}),s.createElement(f,{predicate:function(){return!e.controller.renderAsBraille()}},function(){return s.createElement(h.default,{controller:e.props.controller})}),s.createElement(f,{predicate:function(){return e.controller.renderAsBraille()}},function(){return s.createElement("div",{class:s.const("dcg-braille-io-keypad")},s.createElement("div",{class:s.const("dcg-braille-title")},s.const("Braille Mode Is On!")),s.createElement("div",null,s.const("Try hooking up a Refreshable Braille display, or just type with a keyboard.")))}))}),s.createElement(f,{predicate:function(){return e.controller.isFourFunctionCalc()}},function(){return s.createElement("div",null,s.createElement(l.default,{controller:e.props.controller}),s.createElement(f,{predicate:function(){return!e.controller.renderAsBraille()}},function(){return s.createElement(u.default,{controller:e.props.controller})}),s.createElement(f,{predicate:function(){return e.controller.renderAsBraille()}},function(){return s.createElement("div",{class:s.const("dcg-braille-io-keypad")},s.createElement("div",{class:s.const("dcg-braille-title")},s.const("Braille Mode Is On!")),s.createElement("div",null,s.const("Try hooking up a Refreshable Braille display, or just type with a keyboard.")))}))})))},t.prototype.didMountRoot=function(e){this.hookupKeyboardDocumentListeners()},t.prototype.didUnmountRoot=function(){this.removeAllDocumentListeners()},t.prototype.removeAllDocumentListeners=function(){a(document).off("."+this.guid)},t.prototype.hookupKeyboardDocumentListeners=function(){var e=this;a(document).on("keydown",function(t){return i.isUndo(t)?(e.dispatch({type:"undo",source:"keyboard-shortcut"}),!1):!i.isRedo(t)||(e.dispatch({type:"redo",source:"keyboard-shortcut"}),!1)})},t}(o.DCGViewBasic);t.default=m}),define("api/basic",["require","exports","tslib","dcgview","./abstract","main/shared-worker-pool","basic/controller","basic/main","lib/deepCopy"],function(e,t,i,n,r,s,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t){return e.call(this,t)||this}return i.__extends(t,e),t.prototype.init=function(e){var t=this,n=i.__assign({qwertyKeyboard:!0,degreeMode:!1,invertedColors:!1,functionDefinition:!0,autosize:!0,evaluationMode:"scientific",restrictedFunctions:!1,additionalFunctions:["sqrt"],braille:!1,typingSlashWritesDivisionSymbol:!1,typingAsteriskWritesTimesSymbol:!1},e);this.controller=new o.default({workerPool:s.default,evaluationMode:n.evaluationMode,braille:n.braille,restrictedFunctions:n.restrictedFunctions,degreeMode:n.degreeMode,invertedColors:n.invertedColors,functionDefinition:n.functionDefinition,qwertyKeyboard:n.qwertyKeyboard,additionalFunctions:n.additionalFunctions,typingSlashWritesDivisionSymbol:n.typingSlashWritesDivisionSymbol,typingAsteriskWritesTimesSymbol:n.typingAsteriskWritesTimesSymbol}),this.controller.onEventEmitted=function(e){"render"===e&&t.updateView(),t.triggerEvent(e)},this.setupDomChangeDetector(n.autosize)},t.prototype.onCreateView=function(){var e=n.mountToNode(a.default,this.rootElt,{controller:n.const(this.controller)});return e},t.prototype.setState=function(e,t){t||(t={}),this.controller.dispatch({type:"set-state-from-api",state:e,opts:{allowUndo:!!t.allowUndo}})},t.prototype.getState=function(){return l.default(this.controller.model.getPersistedState())},t.prototype.undo=function(){this.controller.dispatch({type:"undo",source:"api"})},t.prototype.redo=function(){this.controller.dispatch({type:"redo",source:"api"})},t.prototype.clearHistory=function(){this.controller.dispatch({type:"clear-history"})},t.prototype.setBlank=function(e){e||(e={}),this.controller.dispatch({type:"set-blank",opts:{allowUndo:!!e.allowUndo}})},t.prototype.updateSettings=function(e){if(null!=e)for(var t in e)switch(t){case"fontSize":var i=e[t];if(void 0===i)continue;this.controller.dispatch({type:"update-font-size",size:i});break;case"invertedColors":var n=e[t];if(void 0===n)continue;this.controller.dispatch({type:"update-inverted-colors",mode:n});break;case"degreeMode":var r=e[t];if(void 0===r)continue;this.controller.dispatch({type:"update-degree-mode",mode:r});break;case"language":var s=e[t];if(void 0===s)continue;this.controller.dispatch({type:"update-language",language:s})}},t.prototype.focusFirstExpression=function(){this.controller.dispatch({type:"focus-first-expression"})},t.prototype.onResizeView=function(){},t.prototype.onDestroyView=function(){n.unmountFromNode(this.rootElt)},t.prototype.destroy=function(){this.controller.model.destroy(),e.prototype.destroy.call(this)},t}(r.default);t.BasicCalculator=c}),define("api/fourfunction",["require","exports","tslib","./basic","lib/deepCopy"],function(e,t,i,n,r){"use strict";function s(e){if(e=r.default(e),e.hasOwnProperty("typingSlashWritesDivisionSymbol")||(e.typingSlashWritesDivisionSymbol=!0),e.hasOwnProperty("typingAsteriskWritesTimesSymbol")||(e.typingAsteriskWritesTimesSymbol=!0),e.exponentButtonForSquareRoot&&(console.warn("As of API version 1.0, the 'exponentButtonForSquareRoot' option is deprecated.Use 'additionalFunctions: \"exponent\"' instead."),e.additionalFunctions=["exponent"]),e.additionalFunctions){var t=e.additionalFunctions;"string"==typeof t&&(t=[t]),t.length>2&&(console.warn("additionalFunctions can only take up to 2 new functions. Using the first two."),t=t.slice(0,2));for(var i=0;i<t.length;i++)["sqrt","exponent","percent"].indexOf(t[i])===-1&&console.warn("Unrecognized value: '"+t[i]+"' for 'additionalFunction'. Valid values are 'sqrt', 'percent', or 'exponent'. Using default (\"sqrt\")");e.additionalFunctions=t}return e.additionalFunctions&&e.additionalFunctions.length||(e.additionalFunctions=["sqrt"]),e.evaluationMode="fourFunction",e}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(i,n){var r=e.call(this,i)||this;return r instanceof t?(r.init(s(n||{})),r):new t(i,n)}return i.__extends(t,e),t}(n.BasicCalculator);t.default=o}),define("api/scientific",["require","exports","tslib","./basic","lib/deepCopy"],function(e,t,i,n,r){"use strict";function s(e){return e=r.default(e),e.neuterScientific?e.evaluationMode="neuteredScientific":e.evaluationMode="scientific",delete e.neuterScientific,e}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(i,n){var r=e.call(this,i)||this;return r instanceof t?(r.init(s(n||{})),r):new t(i,n)}return i.__extends(t,e),t}(n.BasicCalculator);t.default=o}),define("api/calculator",["require","console","pjs","underscore","i18n","main/calc_embed","main/calc_headless","expressions/helperexpression","underscore_model","browser","mathquill","math/recttransformation","main/shared-clock-bus","main/shared-worker-pool","lib/number-to-latex","expressions/colors","expressions/styles","graphing/columnmode","graphing/dragmode","graphing/axisarrowmode","main/font_sizes","expressions/image_file_to_data_url","lib/dom-change-detector","graphing/compute-async-screenshot-bounds","expressions/sanitize_expression","./fourfunction","./scientific"],function(e){function t(e){var t={};e||(e={});var i=function(i,n){e.hasOwnProperty(i)?t[i]=e[i]:t[i]=n};return i("keypad",!0),i("disableScrollFix",!1),i("graphpaper",!0),i("settingsMenu",!0),i("expressionsTopbar",!0),i("branding",!0),i("links",!0),i("autosize",!0),i("zoomButtons",t.graphpaper),i("pointsOfInterest",!0),i("plotSingleVariableImplicitEquations",!0),i("expressionsCollapsed",!1),i("lockViewport",!1),i("administerSecretFolders",!1),i("useShellsOffscreen",h.IS_MOBILE),i("redrawSlowly",!1),i("onlyTraceSelected",!1),i("disableMouseInteractions",!1),i("trace",!0),i("folders",!0),i("images",t.graphpaper),i("expressions",!0),i("border",!0),i("nativeOnscreenKeypad",!1),i("qwertyKeyboard",!0),i("restrictedFunctions",!1),i("notes",!0),i("degreeMode",!1),i("functionDefinition",!0),i("pasteGraphLink",!1),i("pasteTableData",!0),i("plaidMode",!1),i("imageUploadCallback",S),i("pasteGraphLinkCallback",!1),i("editOnWeb",!1),i("invertedColors",!1),i("colors",{RED:v.RED,BLUE:v.BLUE,GREEN:v.GREEN,ORANGE:v.ORANGE,PURPLE:v.PURPLE,BLACK:v.BLACK}),i("crossOriginSaveTest",!1),e.hasOwnProperty("menus")&&(n.warn("As of API version 0.4, the 'menus' option is deprecated and has been split into 'settingsMenu' (boolean) and 'expressionsTopbar' (boolean)."),e.hasOwnProperty("settingsMenu")||(t.settingsMenu=!!e.menus),e.hasOwnProperty("expressionsTopbar")||(t.expressionsTopbar=!!e.menus)),e.hasOwnProperty("solutions")&&(n.warn("As of API v1.0, the 'solutions' option is deprecated and has been replaced with 'pointsOfInterest' (boolean)."),e.hasOwnProperty("pointsOfInterest")||(t.pointsOfInterest=!!e.solutions)),e.hasOwnProperty("singleVariableSolutions")&&n.warn("As of API v1.0, the 'singleVariableSolutions' has been removed. The calculator no longer displays solutions to single variable equations."),t.graphpaper||(t.expressionsCollapsed&&(t.expressionsCollapsed=!1,n.warn("Desmos API initialized with bad options. graphpaper: false and expressionsCollapsed: true are incompatible. Proceeding with expressionsCollapsed: false.")),t.zoomButtons&&(t.zoomButtons=!1,n.warn("Desmos API initialized with bad options. graphpaper: false and zoomButtons: true are incompatible. Proceeding with zoomButtons: false."))),t}function i(e,t){!window.Desmos.enabledFeatures||window.Desmos.enabledFeatures[e]?window.Desmos[e]=t:window.Desmos[e]=function(){throw new Error("The Desmos "+e+" is not enabled for this API key.")}}var n=e("console"),r=e("pjs"),s=e("underscore"),o=e("i18n"),a=e("main/calc_embed"),l=e("main/calc_headless"),c=e("expressions/helperexpression"),u=e("underscore_model"),h=e("browser"),d=e("mathquill"),p=e("math/recttransformation"),f=e("main/shared-clock-bus"),g=e("main/shared-worker-pool").default,m=e("lib/number-to-latex"),v=e("expressions/colors"),y=e("expressions/styles"),b=e("graphing/columnmode"),x=e("graphing/dragmode"),_=e("graphing/axisarrowmode"),w=e("main/font_sizes"),S=e("expressions/image_file_to_data_url"),E=e("lib/dom-change-detector").default,k=e("graphing/compute-async-screenshot-bounds"),T=e("expressions/sanitize_expression"),C=e("./fourfunction").default,I=e("./scientific").default,P=r(u,function(e,i,r){function l(e,t){var i={};return t.hasOwnProperty("x")&&(i.x=e.mapX(t.x)),t.hasOwnProperty("y")&&(i.y=e.mapY(t.y)),i}e.init=function(e,n,r){i.init.call(this);var s=t(n);this._calc=a(e,g,s),this._calc.interceptTouch(),this._calc.graphpaperBounds.observeAndSync("mathCoordinates",this._syncGraphpaperBounds.bind(this)),this._calc.graphpaperBounds.observeAndSync("pixelCoordinates",this._syncGraphpaperBounds.bind(this)),this._calc.expressionsModel.observeAndSync("expressionAnalysis",this._syncExpressionAnalysis.bind(this)),this._calc.expressionsView&&this._calc.expressionsView.observe("focusedMathQuill",function(){this.setProperty("focusedMathQuill",this._calc.expressionsView.focusedMathQuill)}.bind(this)),this.colors=this._calc.expressionsModel.colors,this._calc.expressionsModel.observe("selectedItem",function(){this.setProperty("isAnyExpressionSelected",void 0!==this._calc.expressionsModel.selectedItem&&null!==this._calc.expressionsModel.selectedItem)}.bind(this)),this._calc.expressionsModel.observeEvent("graphReset",function(){this.triggerEvent("graphReset")}.bind(this)),this._calc.graphChangeMonitor.observeEvent("notifyChange",function(){this.triggerEvent("change")}.bind(this)),this._initGraphSettings(),this._sharedClockBusToken=f.subscribe(function(e){this._calc.tick(e)}.bind(this)),this.domChangeDetector=new E(e,function(e){switch(e.type){case"added":this._calc.resize();break;case"removed":this._calc.resize();break;case"resized":this._calc.resize()}}.bind(this)),s.autosize?this.domChangeDetector.startWatching():this.domChangeDetector.checkForChanges(),"function"==typeof r&&r(this)},e.destroy=function(){function e(e){n.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}this._calc.destroy(),f.unsubscribe(this._sharedClockBusToken),this.domChangeDetector.destroy();for(var t in this)"function"==typeof this[t]?this[t]=e.bind(this,t):this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}},e._syncGraphpaperBounds=function(){this.setProperty("graphpaperBounds",{mathCoordinates:this._calc.graphpaperBounds.mathCoordinates,pixelCoordinates:this._calc.graphpaperBounds.pixelCoordinates})},e._syncExpressionAnalysis=function(){this.setProperty("expressionAnalysis",this._calc.expressionsModel.expressionAnalysis)};var h=["showGrid","showXAxis","showYAxis","xAxisStep","yAxisStep","xAxisMinorSubdivisions","yAxisMinorSubdivisions","xAxisArrowMode","yAxisArrowMode","xAxisLabel","yAxisLabel","xAxisNumbers","yAxisNumbers","polarMode","polarNumbers","degreeMode","projectorMode","fontSize","invertedColors","language"];e._initGraphSettings=function(){var e=u();this.settings=this.graphSettings=e,this.knownSettings=h;var t=this,i=function(i){t._calc.grapher.settings.observeAndSync(i,function(){e.setProperty(i,t._calc.grapher.settings[i])})};h.forEach(i)},e.updateSettings=function(e){this._calc.grapher.settings.setGraphSettings(e)},e.setGraphSettings=function(e){n.warn("As of API v0.8 the 'setGraphSettings' method is deprecated and has been renamed 'updateSettings.'"),this.updateSettings(e),this.setGraphSettings=this.updateSettings},e.fetchLanguage=function(e){return o.fetchLanguage(e)},e.setDefaultState=function(e){this._calc.grapher.settings.setProperty("defaultState",e)},e.mathToPixels=function(e){var t=p.fromRects(this.graphpaperBounds.mathCoordinates,this.graphpaperBounds.pixelCoordinates);return l(t,e)},e.pixelsToMath=function(e){var t=p.fromRects(this.graphpaperBounds.pixelCoordinates,this.graphpaperBounds.mathCoordinates);return l(t,e)};var d={};d.expression=function(e){var t={};return t.type="expression",e.hasOwnProperty("id")&&(t.id=e.id.toString()),e.hasOwnProperty("latex")&&(t.latex=e.latex.toString()),e.hasOwnProperty("color")&&(t.color=e.color.toString()),e.hasOwnProperty("style")&&(s.contains(s.values(y),e.style)?t.style=e.style:n.warn("Invalid style: '"+e.style+"'.")),e.hasOwnProperty("hidden")&&(t.hidden=!!e.hidden),e.hasOwnProperty("secret")&&(t.secret=!!e.secret),e.hasOwnProperty("sliderBounds")&&(t.sliderMin=m(e.sliderBounds.min),t.sliderMax=m(e.sliderBounds.max),t.sliderInterval=void 0===e.sliderBounds.step?"":m(e.sliderBounds.step)),e.hasOwnProperty("domain")&&(t.domain={min:m(e.domain.min),max:m(e.domain.max)}),e.hasOwnProperty("dragMode")&&(s.contains(s.values(x),e.dragMode)?t.dragMode=e.dragMode:n.warn("Invalid dragMode: '"+e.dragMode+"'.")),e.hasOwnProperty("label")&&(t.label=e.label.toString()),e.hasOwnProperty("showLabel")&&(t.showLabel=!!e.showLabel),t};var v=function(e){var t={};return e.hasOwnProperty("id")&&(t.id=e.id.toString()),e.hasOwnProperty("latex")&&(t.latex=e.latex.toString()),e.hasOwnProperty("color")&&(t.color=e.color.toString()),e.hasOwnProperty("hidden")&&(t.hidden=!!e.hidden),e.hasOwnProperty("values")&&(t.values=e.values.map(function(e){return e.toString()})),e.hasOwnProperty("columnMode")&&(e.columnMode===b.LINES&&e.hasOwnProperty("dragMode")&&e.dragMode!==x.NONE&&(n.warn("columnMode LINES is not compatible with a dragMode other than NONE. Proceeding with columnMode set to Desmos.ColumnModes.POINTS_AND_LINES."),e.columnMode=b.POINTS_AND_LINES),s.contains(s.values(b),e.columnMode)?t.columnMode=e.columnMode:n.warn("Invalid columnMode: '"+e.columnMode+"'.")),e.hasOwnProperty("dragMode")&&(s.contains(s.values(x),e.dragMode)?t.dragMode=e.dragMode===x.AUTO?x.NONE:e.dragMode:n.warn("Invalid dragMode: '"+e.dragMode+"'.")),t};d.table=function(e){var t={};return t.type="table",e.hasOwnProperty("id")&&(t.id=e.id.toString()),e.hasOwnProperty("columns")&&(t.columns=e.columns.map(v)),t},d.folder=function(e){var t={};return t.type="folder",e.hasOwnProperty("id")&&(t.id=e.id.toString()),e.hasOwnProperty("hidden")&&(t.hidden=!!e.hidden),t},d.image=function(e){var t={};return t.type="image",e.hasOwnProperty("id")&&(t.id=e.id.toString()),e.hasOwnProperty("hidden")&&(t.hidden=!!e.hidden),t},e.setExpression=function(e){var t,i=this._calc.expressionsModel,r=i.getItemById(e.id);if(r){if(e.type&&e.type!==r.type)return void n.warn("Cannot change type of expression from '"+r.type+"' to '"+e.type+"'.");if(!d.hasOwnProperty(r.type))return void n.warn("Cannot modify expressions of type: '"+e.type+"' through the API.");t=d[r.type](e),i.updateItemById(t.id,t)}else{if(e.type&&!d.hasOwnProperty(e.type))return void n.warn("Invalid expression type: '"+e.type+"'.");t=d[e.type||"expression"](e),i.addItem(i.fromState(t))}},e.setExpressions=function(e){e.forEach(this.setExpression.bind(this))},e.removeExpression=function(e){var t=this._calc.expressionsModel,i=e.id.toString();t.removeItemById(i)},e.removeExpressions=function(e){e.forEach(this.removeExpression.bind(this))},e.removeSelected=function(){this.isAnyExpressionSelected&&this._calc.expressionsModel.removeItemById(this._calc.expressionsModel.selectedItem.id)},e.setMathBounds=function(e){e&&e.left<e.right&&e.bottom<e.top?this._calc.setViewport([e.left,e.right,e.bottom,e.top]):n.warn("Invalid bounds argument. Expected a bounds object with bounds.bottom < bounds.top, and bounds.left < bounds.right. Got "+JSON.stringify(e))},e.setViewport=function(e){4==e.length&&e[1]>e[0]&&e[3]>e[2]?this._calc.setViewport(e):n.warn("Invalid viewport.  Expected [xmin, xmax, ymin, ymax].  Got "+e)},e.resize=function(){this.domChangeDetector.checkForChanges()},e.getState=function(){return this._calc.getState.apply(this._calc,arguments)},e.getExpressions=function(){var e=this.getState({stripDefaults:!1}).expressions.list;return e.map(T)},e.setBlank=function(e){e||(e={}),e.allowUndo||this.clearHistory(),this._calc.setBlank()},e.setState=function(e,t){t||(t={}),t.allowUndo||this.clearHistory(),this._calc.setState(e,t)},e.undo=function(){this._calc.undoRedo.undo()},e.redo=function(){this._calc.undoRedo.redo()},e.clearHistory=function(){this._calc.clearHistory()},e.screenshot=function(e){return this._calc.grapher.screenshot(e)},e._getMathAspectRatio=function(){var e=this.graphpaperBounds.mathCoordinates,t=this._calc.grapher.getProjection().pixelCoordinates,i=t.right-t.left,n=t.bottom-t.top,r=e.width/i,s=e.height/n;return r/s},e.isProjectionUniform=function(){return!!this._calc.grapher.getProjection().settings.squareAxes},e._parseAsyncScreenshotOpts=function(e){var t=e.mode||"contain",i=e.width||e.height||this.graphpaperBounds.pixelCoordinates.width,n=e.height||e.width||this.graphpaperBounds.pixelCoordinates.height,r=e.mathBounds||{},s=e.targetPixelRatio||1,o=e.preserveAxisNumbers,a=this._getMathAspectRatio(),l=this.graphpaperBounds.pixelCoordinates.width/this.graphpaperBounds.pixelCoordinates.height,c=k({mode:t,width:i,height:n,currentBounds:this.graphpaperBounds.mathCoordinates,graphpaperAspectRatio:l,mathAspectRatio:a,mathBounds:r});return{width:i,height:n,targetPixelRatio:s,preserveAxisNumbers:o,mathBounds:c}},e.asyncScreenshot=function(e,t){if(!arguments.length)return void n.warn("asyncScreenshot expects a callback");if(1===arguments.length){if("function"!=typeof e)return void n.warn("asyncScreenshot expects a callback");t=e,e={}}e||(e={}),e=this._parseAsyncScreenshotOpts(e),r._sharedScreenshotCalc||(r._sharedScreenshotCalc=P());var i=r._sharedScreenshotCalc;i.setState(this.getState()),i.setMathBounds(e.mathBounds);var s=i._calc.evaluator,o=this._calc.expressionsModel,a=function(){var n=i.screenshot({width:e.width,height:e.height,targetPixelRatio:e.targetPixelRatio});t(n)};o.allImagesLoaded?s.notifyWhenSynced(a):o.observe("allImagesLoaded",function(){o.allImagesLoaded&&(s.notifyWhenSynced(a),o.unobserve("allImagesLoaded"))})},e.setOptions=function(){return this._calc.setOptions.apply(this._calc,arguments)},e.focusFirstExpression=function(){var e=this._calc.expressionsModel,t=e.getItemByIndex(0),i=this._calc.expressions.getItemView(t.id);e.setSelected(0),i.addFocus("end")},e.HelperExpression=function(e){var t=u(),i=c(e,this._calc.expressionsModel);return this._calc.expressionsModel.addHelperItem(i),t.latex=i.latex,i.observe("formula",function(){var e=["numericValue","listValue"],n={};e.forEach(function(e){n[e]=t[e]});var r,o=i.formula;o.zero_values&&1===o.zero_values.length&&(r=o.zero_values[0].val),t.numericValue=s.isNumber(r)?r:NaN,t.listValue=s.isArray(r)?r.slice(0):void 0,e.forEach(function(e){s.isEqual(t[e],n[e])||t.notifyPropertyChange(e)})}),t}}),A=r(P,function(e,i,n){e.init=function(){this._calc=l(g,t({})),this._sharedClockBusToken=f.subscribe(function(e){this._calc.tick(e)}.bind(this))}});return window.Desmos=window.Desmos?window.Desmos:{},window.Desmos.Colors={RED:v.RED,BLUE:v.BLUE,GREEN:v.GREEN,ORANGE:v.ORANGE,PURPLE:v.PURPLE,BLACK:v.BLACK},window.Desmos.imageFileToDataURL=S,window.Desmos.Styles=y,window.Desmos.supportedLanguages=window.Desmos.locales?Object.keys(window.Desmos.locales):[],window.Desmos.ColumnModes=b,window.Desmos.DragModes=x,window.Desmos.AxisArrowModes=_,window.Desmos.FontSizes=w,window.Desmos.MathQuill=d,i("FourFunctionCalculator",C),i("ScientificCalculator",I),i("GraphingCalculator",P),window.Desmos.HeadlessGraphingCalculator=A,window.Desmos.Calculator=window.Desmos.GraphingCalculator,{Calculator:P,GraphingCalculator:P,FourFunctionCalculator:C,ScientificCalculator:I,HeadlessGraphingCalculator:A}});var Desmos=window.Desmos||{};Desmos.require=require,Desmos.requirejs=requirejs,require.isBrowser||injectWorkerDependencies(),define("toplevel/api",["require","api/calculator","jquery","underscore"],function(e){e("api/calculator"),Desmos.$=e("jquery"),Desmos._=e("underscore"),Desmos.$.noConflict(!0),Desmos._.noConflict()})}();;
      Desmos.require('toplevel/api');

      if (moduleWasDefined) window.module = oldModule;
      if (exportsWasDefined) window.exports = oldExports;
    })();



    </script>
</head>

<body>

    <div id="calculator" style="width: 100%; height: 100%;"></div>

    <script>
        var elt = document.getElementById('calculator');
        var calculator = Desmos.GraphingCalculator(elt);
        calculator.setExpression({id:'graph1', latex:'y=x^2'});
    </script>
    
</body>
</html>
